{"version":3,"file":"d3plus.full.js","sources":["package.js","../node_modules/d3-array/src/ascending.js","../node_modules/d3-array/src/bisector.js","../node_modules/d3-array/src/bisect.js","../node_modules/d3-array/src/number.js","../node_modules/d3-array/src/extent.js","../node_modules/d3-array/src/range.js","../node_modules/d3-array/src/ticks.js","../node_modules/d3-array/src/quantile.js","../node_modules/d3-array/src/max.js","../node_modules/d3-array/src/mean.js","../node_modules/d3-array/src/merge.js","../node_modules/d3-array/src/min.js","../node_modules/d3-array/src/sum.js","../node_modules/d3-time/src/interval.js","../node_modules/d3-time/src/millisecond.js","../node_modules/d3-time/src/duration.js","../node_modules/d3-time/src/second.js","../node_modules/d3-time/src/minute.js","../node_modules/d3-time/src/hour.js","../node_modules/d3-time/src/day.js","../node_modules/d3-time/src/week.js","../node_modules/d3-time/src/month.js","../node_modules/d3-time/src/year.js","../node_modules/d3-time/src/utcMinute.js","../node_modules/d3-time/src/utcHour.js","../node_modules/d3-time/src/utcDay.js","../node_modules/d3-time/src/utcWeek.js","../node_modules/d3-time/src/utcMonth.js","../node_modules/d3-time/src/utcYear.js","../node_modules/d3-time-format/src/locale.js","../node_modules/d3-time-format/src/defaultLocale.js","../node_modules/d3-time-format/src/isoFormat.js","../node_modules/d3-time-format/src/isoParse.js","../node_modules/d3-scale/src/init.js","../node_modules/d3-collection/src/map.js","../node_modules/d3-collection/src/nest.js","../node_modules/d3-collection/src/set.js","../node_modules/d3-collection/src/keys.js","../node_modules/d3-scale/src/array.js","../node_modules/d3-scale/src/ordinal.js","../node_modules/d3-scale/src/band.js","../node_modules/d3-color/src/define.js","../node_modules/d3-color/src/color.js","../node_modules/d3-interpolate/src/constant.js","../node_modules/d3-interpolate/src/color.js","../node_modules/d3-interpolate/src/rgb.js","../node_modules/d3-interpolate/src/array.js","../node_modules/d3-interpolate/src/date.js","../node_modules/d3-interpolate/src/number.js","../node_modules/d3-interpolate/src/object.js","../node_modules/d3-interpolate/src/string.js","../node_modules/d3-interpolate/src/value.js","../node_modules/d3-interpolate/src/round.js","../node_modules/d3-interpolate/src/transform/decompose.js","../node_modules/d3-interpolate/src/transform/parse.js","../node_modules/d3-interpolate/src/transform/index.js","../node_modules/d3-interpolate/src/zoom.js","../node_modules/d3-scale/src/constant.js","../node_modules/d3-scale/src/number.js","../node_modules/d3-scale/src/continuous.js","../node_modules/d3-format/src/formatDecimal.js","../node_modules/d3-format/src/exponent.js","../node_modules/d3-format/src/formatGroup.js","../node_modules/d3-format/src/formatNumerals.js","../node_modules/d3-format/src/formatSpecifier.js","../node_modules/d3-format/src/formatTrim.js","../node_modules/d3-format/src/formatPrefixAuto.js","../node_modules/d3-format/src/formatRounded.js","../node_modules/d3-format/src/formatTypes.js","../node_modules/d3-format/src/identity.js","../node_modules/d3-format/src/locale.js","../node_modules/d3-format/src/defaultLocale.js","../node_modules/d3-format/src/precisionFixed.js","../node_modules/d3-format/src/precisionPrefix.js","../node_modules/d3-format/src/precisionRound.js","../node_modules/d3-scale/src/tickFormat.js","../node_modules/d3-scale/src/linear.js","../node_modules/d3-scale/src/identity.js","../node_modules/d3-scale/src/nice.js","../node_modules/d3-scale/src/log.js","../node_modules/d3-scale/src/symlog.js","../node_modules/d3-scale/src/pow.js","../node_modules/d3-scale/src/quantile.js","../node_modules/d3-scale/src/quantize.js","../node_modules/d3-scale/src/threshold.js","../node_modules/d3-scale/src/time.js","../node_modules/d3-scale/src/utcTime.js","../node_modules/d3-scale/src/sequential.js","../node_modules/d3-scale/src/sequentialQuantile.js","../node_modules/d3-scale/src/diverging.js","../node_modules/d3-selection/src/namespaces.js","../node_modules/d3-selection/src/namespace.js","../node_modules/d3-selection/src/creator.js","../node_modules/d3-selection/src/selector.js","../node_modules/d3-selection/src/selection/select.js","../node_modules/d3-selection/src/selectorAll.js","../node_modules/d3-selection/src/selection/selectAll.js","../node_modules/d3-selection/src/matcher.js","../node_modules/d3-selection/src/selection/filter.js","../node_modules/d3-selection/src/selection/sparse.js","../node_modules/d3-selection/src/selection/enter.js","../node_modules/d3-selection/src/constant.js","../node_modules/d3-selection/src/selection/data.js","../node_modules/d3-selection/src/selection/exit.js","../node_modules/d3-selection/src/selection/join.js","../node_modules/d3-selection/src/selection/merge.js","../node_modules/d3-selection/src/selection/order.js","../node_modules/d3-selection/src/selection/sort.js","../node_modules/d3-selection/src/selection/call.js","../node_modules/d3-selection/src/selection/nodes.js","../node_modules/d3-selection/src/selection/node.js","../node_modules/d3-selection/src/selection/size.js","../node_modules/d3-selection/src/selection/empty.js","../node_modules/d3-selection/src/selection/each.js","../node_modules/d3-selection/src/selection/attr.js","../node_modules/d3-selection/src/window.js","../node_modules/d3-selection/src/selection/style.js","../node_modules/d3-selection/src/selection/property.js","../node_modules/d3-selection/src/selection/classed.js","../node_modules/d3-selection/src/selection/text.js","../node_modules/d3-selection/src/selection/html.js","../node_modules/d3-selection/src/selection/raise.js","../node_modules/d3-selection/src/selection/lower.js","../node_modules/d3-selection/src/selection/append.js","../node_modules/d3-selection/src/selection/insert.js","../node_modules/d3-selection/src/selection/remove.js","../node_modules/d3-selection/src/selection/clone.js","../node_modules/d3-selection/src/selection/datum.js","../node_modules/d3-selection/src/selection/on.js","../node_modules/d3-selection/src/selection/dispatch.js","../node_modules/d3-selection/src/selection/index.js","../node_modules/d3-selection/src/select.js","../node_modules/d3-selection/src/sourceEvent.js","../node_modules/d3-selection/src/point.js","../node_modules/d3-selection/src/mouse.js","../node_modules/d3-selection/src/selectAll.js","../node_modules/d3-selection/src/touch.js","../node_modules/d3-dispatch/src/dispatch.js","../node_modules/d3-timer/src/timer.js","../node_modules/d3-timer/src/timeout.js","../node_modules/d3-transition/src/transition/schedule.js","../node_modules/d3-transition/src/interrupt.js","../node_modules/d3-transition/src/selection/interrupt.js","../node_modules/d3-transition/src/transition/tween.js","../node_modules/d3-transition/src/transition/interpolate.js","../node_modules/d3-transition/src/transition/attr.js","../node_modules/d3-transition/src/transition/attrTween.js","../node_modules/d3-transition/src/transition/delay.js","../node_modules/d3-transition/src/transition/duration.js","../node_modules/d3-transition/src/transition/ease.js","../node_modules/d3-transition/src/transition/filter.js","../node_modules/d3-transition/src/transition/merge.js","../node_modules/d3-transition/src/transition/on.js","../node_modules/d3-transition/src/transition/remove.js","../node_modules/d3-transition/src/transition/select.js","../node_modules/d3-transition/src/transition/selectAll.js","../node_modules/d3-transition/src/transition/selection.js","../node_modules/d3-transition/src/transition/style.js","../node_modules/d3-transition/src/transition/styleTween.js","../node_modules/d3-transition/src/transition/text.js","../node_modules/d3-transition/src/transition/transition.js","../node_modules/d3-transition/src/transition/end.js","../node_modules/d3-transition/src/transition/index.js","../node_modules/d3-ease/src/cubic.js","../node_modules/d3-transition/src/selection/transition.js","../node_modules/d3-transition/src/selection/index.js","../node_modules/d3plus-common/es/src/accessor.js","../node_modules/d3plus-common/es/src/isObject.js","../node_modules/d3plus-common/es/src/assign.js","../node_modules/d3plus-common/es/src/attrize.js","../node_modules/d3plus-common/es/src/findLocale.js","../node_modules/d3plus-common/es/src/uuid.js","../node_modules/d3plus-common/es/src/RESET.js","../node_modules/d3plus-common/es/src/locales/es-ES.js","../node_modules/d3plus-common/es/src/locales/index.js","../node_modules/d3plus-common/es/src/BaseClass.js","../node_modules/d3plus-common/es/src/closest.js","../node_modules/d3plus-common/es/src/configPrep.js","../node_modules/d3plus-common/es/src/constant.js","../node_modules/d3plus-common/es/src/elem.js","../node_modules/d3plus-common/es/src/unique.js","../node_modules/d3plus-common/es/src/merge.js","../node_modules/d3plus-common/es/src/parseSides.js","../node_modules/d3plus-common/es/src/prefix.js","../node_modules/d3plus-common/es/src/stylize.js","../node_modules/d3plus-format/es/src/locale.js","../node_modules/d3plus-format/es/src/abbreviate.js","../node_modules/d3plus-shape/es/src/Image.js","../node_modules/d3plus-color/es/src/add.js","../node_modules/d3plus-color/es/src/defaults.js","../node_modules/d3plus-color/es/src/assign.js","../node_modules/d3plus-color/es/src/contrast.js","../node_modules/d3plus-color/es/src/legible.js","../node_modules/d3plus-color/es/src/lighter.js","../node_modules/d3plus-color/es/src/subtract.js","../node_modules/d3-path/src/path.js","../node_modules/d3-shape/src/constant.js","../node_modules/d3-shape/src/math.js","../node_modules/d3-shape/src/arc.js","../node_modules/d3-shape/src/curve/linear.js","../node_modules/d3-shape/src/point.js","../node_modules/d3-shape/src/line.js","../node_modules/d3-shape/src/area.js","../node_modules/d3-shape/src/descending.js","../node_modules/d3-shape/src/identity.js","../node_modules/d3-shape/src/pie.js","../node_modules/d3-shape/src/curve/radial.js","../node_modules/d3-shape/src/lineRadial.js","../node_modules/d3-shape/src/areaRadial.js","../node_modules/d3-shape/src/pointRadial.js","../node_modules/d3-shape/src/array.js","../node_modules/d3-shape/src/link/index.js","../node_modules/d3-shape/src/symbol/circle.js","../node_modules/d3-shape/src/symbol/cross.js","../node_modules/d3-shape/src/symbol/diamond.js","../node_modules/d3-shape/src/symbol/star.js","../node_modules/d3-shape/src/symbol/square.js","../node_modules/d3-shape/src/symbol/triangle.js","../node_modules/d3-shape/src/symbol/wye.js","../node_modules/d3-shape/src/symbol.js","../node_modules/d3-shape/src/noop.js","../node_modules/d3-shape/src/curve/basis.js","../node_modules/d3-shape/src/curve/basisClosed.js","../node_modules/d3-shape/src/curve/basisOpen.js","../node_modules/d3-shape/src/curve/bundle.js","../node_modules/d3-shape/src/curve/cardinal.js","../node_modules/d3-shape/src/curve/cardinalClosed.js","../node_modules/d3-shape/src/curve/cardinalOpen.js","../node_modules/d3-shape/src/curve/catmullRom.js","../node_modules/d3-shape/src/curve/catmullRomClosed.js","../node_modules/d3-shape/src/curve/catmullRomOpen.js","../node_modules/d3-shape/src/curve/linearClosed.js","../node_modules/d3-shape/src/curve/monotone.js","../node_modules/d3-shape/src/curve/natural.js","../node_modules/d3-shape/src/curve/step.js","../node_modules/d3-shape/src/offset/none.js","../node_modules/d3-shape/src/order/none.js","../node_modules/d3-shape/src/stack.js","../node_modules/d3-shape/src/offset/expand.js","../node_modules/d3-shape/src/offset/diverging.js","../node_modules/d3-shape/src/offset/silhouette.js","../node_modules/d3-shape/src/offset/wiggle.js","../node_modules/d3-shape/src/order/appearance.js","../node_modules/d3-shape/src/order/ascending.js","../node_modules/d3-shape/src/order/descending.js","../node_modules/d3-shape/src/order/insideOut.js","../node_modules/d3-shape/src/order/reverse.js","../node_modules/d3plus-text/es/src/textWidth.js","../node_modules/d3plus-text/es/src/trim.js","../node_modules/d3plus-text/es/src/fontExists.js","../node_modules/d3plus-text/es/src/rtl.js","../node_modules/d3plus-text/es/src/stringify.js","../node_modules/d3plus-text/es/src/strip.js","../node_modules/d3plus-text/es/src/combiningMarks.js","../node_modules/d3plus-text/es/src/textSplit.js","../node_modules/d3plus-text/es/src/textWrap.js","../node_modules/d3plus-text/es/src/TextBox.js","../node_modules/d3plus-text/es/src/titleCase.js","../node_modules/d3plus-shape/es/src/geom/pointDistanceSquared.js","../node_modules/d3plus-shape/es/src/geom/pointDistance.js","../node_modules/d3plus-shape/es/src/Shape/Shape.js","../node_modules/d3-interpolate-path/src/split.js","../node_modules/d3-interpolate-path/src/interpolatePath.js","../node_modules/d3-polygon/src/area.js","../node_modules/d3-polygon/src/centroid.js","../node_modules/d3-polygon/src/cross.js","../node_modules/d3-polygon/src/hull.js","../node_modules/d3-polygon/src/contains.js","../node_modules/d3plus-shape/es/src/geom/lineIntersection.js","../node_modules/d3plus-shape/es/src/geom/segmentBoxContains.js","../node_modules/d3plus-shape/es/src/geom/segmentsIntersect.js","../node_modules/d3plus-shape/es/src/geom/polygonInside.js","../node_modules/d3plus-shape/es/src/geom/polygonRayCast.js","../node_modules/d3plus-shape/es/src/geom/pointRotate.js","../node_modules/d3plus-shape/es/src/geom/polygonRotate.js","../node_modules/d3plus-shape/es/src/geom/simplify.js","../node_modules/d3plus-shape/es/src/geom/largestRect.js","../node_modules/d3plus-shape/es/src/Shape/Area.js","../node_modules/d3plus-shape/es/src/Shape/Bar.js","../node_modules/d3plus-shape/es/src/Shape/Circle.js","../node_modules/d3plus-shape/es/src/Shape/Rect.js","../node_modules/d3plus-shape/es/src/Shape/Line.js","../node_modules/d3plus-shape/es/src/Shape/Whisker.js","../node_modules/d3plus-shape/es/src/Shape/Box.js","../node_modules/d3plus-shape/es/src/geom/shapeEdgePoint.js","../node_modules/d3plus-shape/es/src/geom/path2polygon.js","../node_modules/d3plus-shape/es/src/Shape/Path.js","../node_modules/d3plus-axis/es/src/date.js","../node_modules/d3plus-axis/es/src/locale.js","../node_modules/d3plus-axis/es/src/Axis.js","../node_modules/d3plus-axis/es/src/AxisBottom.js","../node_modules/d3plus-axis/es/src/AxisLeft.js","../node_modules/d3plus-axis/es/src/AxisRight.js","../node_modules/d3plus-axis/es/src/AxisTop.js","../node_modules/d3-geo/src/adder.js","../node_modules/d3-geo/src/math.js","../node_modules/d3-geo/src/noop.js","../node_modules/d3-geo/src/stream.js","../node_modules/d3-geo/src/area.js","../node_modules/d3-geo/src/cartesian.js","../node_modules/d3-geo/src/bounds.js","../node_modules/d3-geo/src/centroid.js","../node_modules/d3-geo/src/constant.js","../node_modules/d3-geo/src/compose.js","../node_modules/d3-geo/src/rotation.js","../node_modules/d3-geo/src/circle.js","../node_modules/d3-geo/src/clip/buffer.js","../node_modules/d3-geo/src/pointEqual.js","../node_modules/d3-geo/src/clip/rejoin.js","../node_modules/d3-geo/src/polygonContains.js","../node_modules/d3-geo/src/clip/index.js","../node_modules/d3-geo/src/clip/antimeridian.js","../node_modules/d3-geo/src/clip/circle.js","../node_modules/d3-geo/src/clip/line.js","../node_modules/d3-geo/src/clip/rectangle.js","../node_modules/d3-geo/src/clip/extent.js","../node_modules/d3-geo/src/length.js","../node_modules/d3-geo/src/distance.js","../node_modules/d3-geo/src/contains.js","../node_modules/d3-geo/src/graticule.js","../node_modules/d3-geo/src/interpolate.js","../node_modules/d3-geo/src/identity.js","../node_modules/d3-geo/src/path/area.js","../node_modules/d3-geo/src/path/bounds.js","../node_modules/d3-geo/src/path/centroid.js","../node_modules/d3-geo/src/path/context.js","../node_modules/d3-geo/src/path/measure.js","../node_modules/d3-geo/src/path/string.js","../node_modules/d3-geo/src/path/index.js","../node_modules/d3-geo/src/transform.js","../node_modules/d3-geo/src/projection/fit.js","../node_modules/d3-geo/src/projection/resample.js","../node_modules/d3-geo/src/projection/index.js","../node_modules/d3-geo/src/projection/conic.js","../node_modules/d3-geo/src/projection/cylindricalEqualArea.js","../node_modules/d3-geo/src/projection/conicEqualArea.js","../node_modules/d3-geo/src/projection/albers.js","../node_modules/d3-geo/src/projection/albersUsa.js","../node_modules/d3-geo/src/projection/azimuthal.js","../node_modules/d3-geo/src/projection/azimuthalEqualArea.js","../node_modules/d3-geo/src/projection/azimuthalEquidistant.js","../node_modules/d3-geo/src/projection/mercator.js","../node_modules/d3-geo/src/projection/conicConformal.js","../node_modules/d3-geo/src/projection/equirectangular.js","../node_modules/d3-geo/src/projection/conicEquidistant.js","../node_modules/d3-geo/src/projection/equalEarth.js","../node_modules/d3-geo/src/projection/gnomonic.js","../node_modules/d3-geo/src/projection/identity.js","../node_modules/d3-geo/src/projection/naturalEarth1.js","../node_modules/d3-geo/src/projection/orthographic.js","../node_modules/d3-geo/src/projection/stereographic.js","../node_modules/d3-geo/src/projection/transverseMercator.js","../node_modules/d3-tile/src/tile.js","../node_modules/topojson-client/src/identity.js","../node_modules/topojson-client/src/transform.js","../node_modules/topojson-client/src/reverse.js","../node_modules/topojson-client/src/feature.js","../node_modules/d3plus-viz/es/src/data/fold.js","../node_modules/d3-request/src/request.js","../node_modules/d3-request/src/type.js","../node_modules/d3-request/src/json.js","../node_modules/d3-request/src/text.js","../node_modules/d3-dsv/src/dsv.js","../node_modules/d3-dsv/src/csv.js","../node_modules/d3-dsv/src/tsv.js","../node_modules/d3-request/src/dsv.js","../node_modules/d3-request/src/csv.js","../node_modules/d3-request/src/tsv.js","../node_modules/d3plus-viz/es/src/data/load.js","../node_modules/d3-drag/src/noevent.js","../node_modules/d3-drag/src/nodrag.js","../node_modules/d3-brush/src/constant.js","../node_modules/d3-brush/src/event.js","../node_modules/d3-brush/src/noevent.js","../node_modules/d3-brush/src/brush.js","../node_modules/d3-queue/src/array.js","../node_modules/d3-queue/src/queue.js","../node_modules/d3-zoom/src/constant.js","../node_modules/d3-zoom/src/event.js","../node_modules/d3-zoom/src/transform.js","../node_modules/d3-zoom/src/noevent.js","../node_modules/d3-zoom/src/zoom.js","../node_modules/lrucache/index.js","../node_modules/d3plus-form/es/src/Button.js","../node_modules/d3plus-form/es/src/Radio.js","../node_modules/d3plus-form/es/src/Select.js","../node_modules/d3plus-legend/es/src/ckmeans.js","../node_modules/d3plus-legend/es/src/Legend.js","../node_modules/d3plus-legend/es/src/ColorScale.js","../node_modules/d3plus-timeline/es/src/Timeline.js","../node_modules/popper.js/dist/esm/popper.js","../node_modules/d3plus-tooltip/es/src/Tooltip.js","../node_modules/d3plus-viz/es/src/Message.js","../node_modules/d3plus-viz/es/src/_drawBack.js","../node_modules/d3plus-viz/es/src/_drawColorScale.js","../node_modules/html2canvas/dist/html2canvas.js","../node_modules/rgbcolor/index.js","../node_modules/stackblur/index.js","../node_modules/xmldom/sax.js","../node_modules/xmldom/dom.js","../node_modules/xmldom/dom-parser.js","../node_modules/canvg-browser/index.js","../node_modules/d3plus-export/es/src/svgPresets.js","../node_modules/d3plus-export/es/src/htmlPresets.js","../node_modules/d3plus-export/es/src/dom2canvas.js","../node_modules/canvas-toBlob/canvas-toBlob.js","../node_modules/file-saver/FileSaver.js","../node_modules/d3plus-export/es/src/saveElement.js","../node_modules/d3plus-viz/es/src/_drawControls.js","../node_modules/d3plus-viz/es/src/_drawLegend.js","../node_modules/d3plus-viz/es/src/_drawTimeline.js","../node_modules/d3plus-viz/es/src/_drawTitle.js","../node_modules/d3plus-viz/es/src/_drawTotal.js","../node_modules/d3plus-viz/es/src/_getSize.js","../node_modules/d3plus-viz/es/src/_inViewport.js","../node_modules/d3plus-viz/es/src/on/click.shape.js","../node_modules/d3plus-viz/es/src/on/click.legend.js","../node_modules/d3plus-viz/es/src/on/mouseenter.js","../node_modules/d3plus-viz/es/src/on/mouseleave.js","../node_modules/d3plus-viz/es/src/on/mousemove.legend.js","../node_modules/d3plus-viz/es/src/on/mousemove.shape.js","../node_modules/d3plus-viz/es/src/on/touchstart.body.js","../node_modules/d3plus-viz/es/src/_zoomControls.js","../node_modules/d3plus-viz/es/src/Viz.js","../node_modules/d3plus-geomap/es/src/Geomap.js","../node_modules/d3plus-hierarchy/es/src/Pie.js","../node_modules/d3plus-hierarchy/es/src/Donut.js","../node_modules/d3-hierarchy/src/hierarchy/count.js","../node_modules/d3-hierarchy/src/hierarchy/each.js","../node_modules/d3-hierarchy/src/hierarchy/eachBefore.js","../node_modules/d3-hierarchy/src/hierarchy/eachAfter.js","../node_modules/d3-hierarchy/src/hierarchy/sum.js","../node_modules/d3-hierarchy/src/hierarchy/sort.js","../node_modules/d3-hierarchy/src/hierarchy/path.js","../node_modules/d3-hierarchy/src/hierarchy/ancestors.js","../node_modules/d3-hierarchy/src/hierarchy/descendants.js","../node_modules/d3-hierarchy/src/hierarchy/leaves.js","../node_modules/d3-hierarchy/src/hierarchy/links.js","../node_modules/d3-hierarchy/src/hierarchy/index.js","../node_modules/d3-hierarchy/src/array.js","../node_modules/d3-hierarchy/src/pack/enclose.js","../node_modules/d3-hierarchy/src/pack/siblings.js","../node_modules/d3-hierarchy/src/accessors.js","../node_modules/d3-hierarchy/src/constant.js","../node_modules/d3-hierarchy/src/pack/index.js","../node_modules/d3-hierarchy/src/treemap/round.js","../node_modules/d3-hierarchy/src/treemap/dice.js","../node_modules/d3-hierarchy/src/tree.js","../node_modules/d3-hierarchy/src/treemap/slice.js","../node_modules/d3-hierarchy/src/treemap/squarify.js","../node_modules/d3-hierarchy/src/treemap/index.js","../node_modules/d3plus-hierarchy/es/src/Pack.js","../node_modules/d3plus-hierarchy/es/src/nest.js","../node_modules/d3plus-hierarchy/es/src/Tree.js","../node_modules/d3plus-hierarchy/es/src/Treemap.js","../node_modules/d3-force/src/constant.js","../node_modules/d3-force/src/jiggle.js","../node_modules/d3-quadtree/src/add.js","../node_modules/d3-quadtree/src/cover.js","../node_modules/d3-quadtree/src/data.js","../node_modules/d3-quadtree/src/extent.js","../node_modules/d3-quadtree/src/quad.js","../node_modules/d3-quadtree/src/find.js","../node_modules/d3-quadtree/src/remove.js","../node_modules/d3-quadtree/src/root.js","../node_modules/d3-quadtree/src/size.js","../node_modules/d3-quadtree/src/visit.js","../node_modules/d3-quadtree/src/visitAfter.js","../node_modules/d3-quadtree/src/x.js","../node_modules/d3-quadtree/src/y.js","../node_modules/d3-quadtree/src/quadtree.js","../node_modules/d3-force/src/link.js","../node_modules/d3-force/src/simulation.js","../node_modules/d3-force/src/manyBody.js","../node_modules/d3plus-network/es/src/Network.js","../node_modules/d3plus-network/es/src/Rings.js","../node_modules/d3-sankey/src/align.js","../node_modules/d3-sankey/src/constant.js","../node_modules/d3-sankey/src/sankey.js","../node_modules/d3-sankey/src/sankeyLinkHorizontal.js","../node_modules/d3plus-network/es/src/Sankey.js","../node_modules/d3plus-plot/es/src/buffers/discreteBuffer.js","../node_modules/d3plus-plot/es/src/buffers/Bar.js","../node_modules/d3plus-plot/es/src/buffers/Box.js","../node_modules/d3plus-plot/es/src/buffers/Circle.js","../node_modules/d3plus-plot/es/src/buffers/Line.js","../node_modules/d3plus-plot/es/src/buffers/Rect.js","../node_modules/d3plus-plot/es/src/Plot.js","../node_modules/d3plus-plot/es/src/AreaPlot.js","../node_modules/d3plus-plot/es/src/BarChart.js","../node_modules/d3plus-plot/es/src/LinePlot.js","../node_modules/d3plus-plot/es/src/StackedArea.js","../node_modules/d3plus-priestley/es/src/Priestley.js"],"sourcesContent":["export var name = \"d3plus\";\nexport var version = \"2.0.0-alpha.22\";\nexport var description = \"Data visualization made easy. A javascript library that extends the popular D3.js to enable fast and beautiful visualizations.\";\nexport var main = \"build/d3plus.js\";\nexport var license = \"MIT\";\nexport var homepage = \"https://d3plus.org\";\nexport var repository = {\"type\":\"git\",\"url\":\"https://github.com/alexandersimoes/d3plus.git\"};\nexport var keywords = [\"charts\",\"d3\",\"d3plus\",\"data\",\"visualization\"];\nexport var author = {\"name\":\"Dave Landry\",\"email\":\"landry.dave@gmail.com\",\"url\":\"http://www.dave-landry.com\"};\nexport var dependencies = {\"d3plus-axis\":\"^0.4.11\",\"d3plus-color\":\"^0.6.6\",\"d3plus-common\":\"^0.6.51\",\"d3plus-geomap\":\"^0.6.4\",\"d3plus-hierarchy\":\"^0.8.7\",\"d3plus-legend\":\"^0.8.24\",\"d3plus-network\":\"^0.5.8\",\"d3plus-plot\":\"^0.8.14\",\"d3plus-priestley\":\"^0.3.4\",\"d3plus-shape\":\"^0.16.10\",\"d3plus-text\":\"^0.9.45\",\"d3plus-timeline\":\"^0.4.13\",\"d3plus-tooltip\":\"^0.3.10\",\"d3plus-viz\":\"^0.12.35\"};\nexport var bin = {\"d3plus-website\":\"bin/website.js\",\"d3plus-workshop\":\"bin/workshop.js\"};\nexport var scripts = {\"build\":\"npm run pretest && d3plus-build\",\"dev\":\"d3plus-dev\",\"env\":\"d3plus-env\",\"postpublish\":\"d3plus-website && d3plus-workshop\",\"prepublishOnly\":\"npm run build && npm run test\",\"pretest\":\"mkdir -p build && json2module package.json > build/package.js\",\"release\":\"npm publish --tag next\",\"test\":\"eslint --color index.js\"};\nexport var devDependencies = {\"d3plus-dev\":\"^0.7.2\",\"json2module\":\"0.0.3\"};\nexport var module = \"es/index\";\nexport var files = [\"bin\",\"build/d3plus.js\",\"build/d3plus.js.map\",\"build/d3plus.min.js\",\"es\"];\nexport var sideEffects = false;\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","export default function(x) {\n  return x === null ? NaN : +x;\n}\n","export default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      min,\n      max;\n\n  if (valueof == null) {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = values[i]) != null && value >= value) {\n        min = max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = values[i]) != null) {\n            if (min > value) min = value;\n            if (max < value) max = value;\n          }\n        }\n      }\n    }\n  }\n\n  else {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = valueof(values[i], i, values)) != null && value >= value) {\n        min = max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = valueof(values[i], i, values)) != null) {\n            if (min > value) min = value;\n            if (max < value) max = value;\n          }\n        }\n      }\n    }\n  }\n\n  return [min, max];\n}\n","export default function(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n    while (++i < n) ticks[i] = (start - i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","import number from \"./number\";\n\nexport default function(values, p, valueof) {\n  if (valueof == null) valueof = number;\n  if (!(n = values.length)) return;\n  if ((p = +p) <= 0 || n < 2) return +valueof(values[0], 0, values);\n  if (p >= 1) return +valueof(values[n - 1], n - 1, values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = +valueof(values[i0], i0, values),\n      value1 = +valueof(values[i0 + 1], i0 + 1, values);\n  return value0 + (value1 - value0) * (i - i0);\n}\n","export default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      max;\n\n  if (valueof == null) {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = values[i]) != null && value >= value) {\n        max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = values[i]) != null && value > max) {\n            max = value;\n          }\n        }\n      }\n    }\n  }\n\n  else {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = valueof(values[i], i, values)) != null && value >= value) {\n        max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = valueof(values[i], i, values)) != null && value > max) {\n            max = value;\n          }\n        }\n      }\n    }\n  }\n\n  return max;\n}\n","import number from \"./number\";\n\nexport default function(values, valueof) {\n  var n = values.length,\n      m = n,\n      i = -1,\n      value,\n      sum = 0;\n\n  if (valueof == null) {\n    while (++i < n) {\n      if (!isNaN(value = number(values[i]))) sum += value;\n      else --m;\n    }\n  }\n\n  else {\n    while (++i < n) {\n      if (!isNaN(value = number(valueof(values[i], i, values)))) sum += value;\n      else --m;\n    }\n  }\n\n  if (m) return sum / m;\n}\n","export default function(arrays) {\n  var n = arrays.length,\n      m,\n      i = -1,\n      j = 0,\n      merged,\n      array;\n\n  while (++i < n) j += arrays[i].length;\n  merged = new Array(j);\n\n  while (--n >= 0) {\n    array = arrays[n];\n    m = array.length;\n    while (--m >= 0) {\n      merged[--j] = array[m];\n    }\n  }\n\n  return merged;\n}\n","export default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      min;\n\n  if (valueof == null) {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = values[i]) != null && value >= value) {\n        min = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = values[i]) != null && min > value) {\n            min = value;\n          }\n        }\n      }\n    }\n  }\n\n  else {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = valueof(values[i], i, values)) != null && value >= value) {\n        min = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = valueof(values[i], i, values)) != null && min > value) {\n            min = value;\n          }\n        }\n      }\n    }\n  }\n\n  return min;\n}\n","export default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      sum = 0;\n\n  if (valueof == null) {\n    while (++i < n) {\n      if (value = +values[i]) sum += value; // Note: zero and null are equivalent.\n    }\n  }\n\n  else {\n    while (++i < n) {\n      if (value = +valueof(values[i], i, values)) sum += value;\n    }\n  }\n\n  return sum;\n}\n","var t0 = new Date,\n    t1 = new Date;\n\nexport default function newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = arguments.length === 0 ? new Date : new Date(+date)), date;\n  }\n\n  interval.floor = function(date) {\n    return floori(date = new Date(+date)), date;\n  };\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [], previous;\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n","import interval from \"./interval.js\";\n\nvar millisecond = interval(function() {\n  // noop\n}, function(date, step) {\n  date.setTime(+date + step);\n}, function(start, end) {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = function(k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return interval(function(date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function(date, step) {\n    date.setTime(+date + step * k);\n  }, function(start, end) {\n    return (end - start) / k;\n  });\n};\n\nexport default millisecond;\nexport var milliseconds = millisecond.range;\n","export var durationSecond = 1e3;\nexport var durationMinute = 6e4;\nexport var durationHour = 36e5;\nexport var durationDay = 864e5;\nexport var durationWeek = 6048e5;\n","import interval from \"./interval.js\";\nimport {durationSecond} from \"./duration.js\";\n\nvar second = interval(function(date) {\n  date.setTime(date - date.getMilliseconds());\n}, function(date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function(start, end) {\n  return (end - start) / durationSecond;\n}, function(date) {\n  return date.getUTCSeconds();\n});\n\nexport default second;\nexport var seconds = second.range;\n","import interval from \"./interval.js\";\nimport {durationMinute, durationSecond} from \"./duration.js\";\n\nvar minute = interval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getMinutes();\n});\n\nexport default minute;\nexport var minutes = minute.range;\n","import interval from \"./interval.js\";\nimport {durationHour, durationMinute, durationSecond} from \"./duration.js\";\n\nvar hour = interval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond - date.getMinutes() * durationMinute);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getHours();\n});\n\nexport default hour;\nexport var hours = hour.range;\n","import interval from \"./interval.js\";\nimport {durationDay, durationMinute} from \"./duration.js\";\n\nvar day = interval(function(date) {\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setDate(date.getDate() + step);\n}, function(start, end) {\n  return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay;\n}, function(date) {\n  return date.getDate() - 1;\n});\n\nexport default day;\nexport var days = day.range;\n","import interval from \"./interval.js\";\nimport {durationMinute, durationWeek} from \"./duration.js\";\n\nfunction weekday(i) {\n  return interval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport var sunday = weekday(0);\nexport var monday = weekday(1);\nexport var tuesday = weekday(2);\nexport var wednesday = weekday(3);\nexport var thursday = weekday(4);\nexport var friday = weekday(5);\nexport var saturday = weekday(6);\n\nexport var sundays = sunday.range;\nexport var mondays = monday.range;\nexport var tuesdays = tuesday.range;\nexport var wednesdays = wednesday.range;\nexport var thursdays = thursday.range;\nexport var fridays = friday.range;\nexport var saturdays = saturday.range;\n","import interval from \"./interval.js\";\n\nvar month = interval(function(date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function(start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function(date) {\n  return date.getMonth();\n});\n\nexport default month;\nexport var months = month.range;\n","import interval from \"./interval.js\";\n\nvar year = interval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport default year;\nexport var years = year.range;\n","import interval from \"./interval.js\";\nimport {durationMinute} from \"./duration.js\";\n\nvar utcMinute = interval(function(date) {\n  date.setUTCSeconds(0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getUTCMinutes();\n});\n\nexport default utcMinute;\nexport var utcMinutes = utcMinute.range;\n","import interval from \"./interval.js\";\nimport {durationHour} from \"./duration.js\";\n\nvar utcHour = interval(function(date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getUTCHours();\n});\n\nexport default utcHour;\nexport var utcHours = utcHour.range;\n","import interval from \"./interval.js\";\nimport {durationDay} from \"./duration.js\";\n\nvar utcDay = interval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nexport default utcDay;\nexport var utcDays = utcDay.range;\n","import interval from \"./interval.js\";\nimport {durationWeek} from \"./duration.js\";\n\nfunction utcWeekday(i) {\n  return interval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport var utcSunday = utcWeekday(0);\nexport var utcMonday = utcWeekday(1);\nexport var utcTuesday = utcWeekday(2);\nexport var utcWednesday = utcWeekday(3);\nexport var utcThursday = utcWeekday(4);\nexport var utcFriday = utcWeekday(5);\nexport var utcSaturday = utcWeekday(6);\n\nexport var utcSundays = utcSunday.range;\nexport var utcMondays = utcMonday.range;\nexport var utcTuesdays = utcTuesday.range;\nexport var utcWednesdays = utcWednesday.range;\nexport var utcThursdays = utcThursday.range;\nexport var utcFridays = utcFriday.range;\nexport var utcSaturdays = utcSaturday.range;\n","import interval from \"./interval.js\";\n\nvar utcMonth = interval(function(date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function(start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function(date) {\n  return date.getUTCMonth();\n});\n\nexport default utcMonth;\nexport var utcMonths = utcMonth.range;\n","import interval from \"./interval.js\";\n\nvar utcYear = interval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport default utcYear;\nexport var utcYears = utcYear.range;\n","import {\n  timeDay,\n  timeSunday,\n  timeMonday,\n  timeThursday,\n  timeYear,\n  utcDay,\n  utcSunday,\n  utcMonday,\n  utcThursday,\n  utcYear\n} from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newYear(y) {\n  return {y: y, m: 0, d: 1, H: 0, M: 0, S: 0, L: 0};\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, newDate) {\n    return function(string) {\n      var d = newYear(1900),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newYear(d.y)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = newDate(newYear(d.y)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newYear(d.y)).getUTCDay() : newDate(newYear(d.y)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return newDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", localDate);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier, utcDate);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  var map = {}, i = -1, n = names.length;\n  while (++i < n) map[names[i].toLowerCase()] = i;\n  return map;\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = (+n[0]) * 1000, i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d), d), p, 2);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d), d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d), d), p, 2);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d), d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n","import formatLocale from \"./locale\";\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n","import {utcFormat} from \"./defaultLocale\";\n\nexport var isoSpecifier = \"%Y-%m-%dT%H:%M:%S.%LZ\";\n\nfunction formatIsoNative(date) {\n  return date.toISOString();\n}\n\nvar formatIso = Date.prototype.toISOString\n    ? formatIsoNative\n    : utcFormat(isoSpecifier);\n\nexport default formatIso;\n","import {isoSpecifier} from \"./isoFormat\";\nimport {utcParse} from \"./defaultLocale\";\n\nfunction parseIsoNative(string) {\n  var date = new Date(string);\n  return isNaN(date) ? null : date;\n}\n\nvar parseIso = +new Date(\"2000-01-01T00:00:00.000Z\")\n    ? parseIsoNative\n    : utcParse(isoSpecifier);\n\nexport default parseIso;\n","export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.interpolator(domain); break;\n    default: this.interpolator(interpolator).domain(domain); break;\n  }\n  return this;\n}\n","export var prefix = \"$\";\n\nfunction Map() {}\n\nMap.prototype = map.prototype = {\n  constructor: Map,\n  has: function(key) {\n    return (prefix + key) in this;\n  },\n  get: function(key) {\n    return this[prefix + key];\n  },\n  set: function(key, value) {\n    this[prefix + key] = value;\n    return this;\n  },\n  remove: function(key) {\n    var property = prefix + key;\n    return property in this && delete this[property];\n  },\n  clear: function() {\n    for (var property in this) if (property[0] === prefix) delete this[property];\n  },\n  keys: function() {\n    var keys = [];\n    for (var property in this) if (property[0] === prefix) keys.push(property.slice(1));\n    return keys;\n  },\n  values: function() {\n    var values = [];\n    for (var property in this) if (property[0] === prefix) values.push(this[property]);\n    return values;\n  },\n  entries: function() {\n    var entries = [];\n    for (var property in this) if (property[0] === prefix) entries.push({key: property.slice(1), value: this[property]});\n    return entries;\n  },\n  size: function() {\n    var size = 0;\n    for (var property in this) if (property[0] === prefix) ++size;\n    return size;\n  },\n  empty: function() {\n    for (var property in this) if (property[0] === prefix) return false;\n    return true;\n  },\n  each: function(f) {\n    for (var property in this) if (property[0] === prefix) f(this[property], property.slice(1), this);\n  }\n};\n\nfunction map(object, f) {\n  var map = new Map;\n\n  // Copy constructor.\n  if (object instanceof Map) object.each(function(value, key) { map.set(key, value); });\n\n  // Index array by numeric index or specified key function.\n  else if (Array.isArray(object)) {\n    var i = -1,\n        n = object.length,\n        o;\n\n    if (f == null) while (++i < n) map.set(i, object[i]);\n    else while (++i < n) map.set(f(o = object[i], i, object), o);\n  }\n\n  // Convert object to map.\n  else if (object) for (var key in object) map.set(key, object[key]);\n\n  return map;\n}\n\nexport default map;\n","import map from \"./map\";\n\nexport default function() {\n  var keys = [],\n      sortKeys = [],\n      sortValues,\n      rollup,\n      nest;\n\n  function apply(array, depth, createResult, setResult) {\n    if (depth >= keys.length) {\n      if (sortValues != null) array.sort(sortValues);\n      return rollup != null ? rollup(array) : array;\n    }\n\n    var i = -1,\n        n = array.length,\n        key = keys[depth++],\n        keyValue,\n        value,\n        valuesByKey = map(),\n        values,\n        result = createResult();\n\n    while (++i < n) {\n      if (values = valuesByKey.get(keyValue = key(value = array[i]) + \"\")) {\n        values.push(value);\n      } else {\n        valuesByKey.set(keyValue, [value]);\n      }\n    }\n\n    valuesByKey.each(function(values, key) {\n      setResult(result, key, apply(values, depth, createResult, setResult));\n    });\n\n    return result;\n  }\n\n  function entries(map, depth) {\n    if (++depth > keys.length) return map;\n    var array, sortKey = sortKeys[depth - 1];\n    if (rollup != null && depth >= keys.length) array = map.entries();\n    else array = [], map.each(function(v, k) { array.push({key: k, values: entries(v, depth)}); });\n    return sortKey != null ? array.sort(function(a, b) { return sortKey(a.key, b.key); }) : array;\n  }\n\n  return nest = {\n    object: function(array) { return apply(array, 0, createObject, setObject); },\n    map: function(array) { return apply(array, 0, createMap, setMap); },\n    entries: function(array) { return entries(apply(array, 0, createMap, setMap), 0); },\n    key: function(d) { keys.push(d); return nest; },\n    sortKeys: function(order) { sortKeys[keys.length - 1] = order; return nest; },\n    sortValues: function(order) { sortValues = order; return nest; },\n    rollup: function(f) { rollup = f; return nest; }\n  };\n}\n\nfunction createObject() {\n  return {};\n}\n\nfunction setObject(object, key, value) {\n  object[key] = value;\n}\n\nfunction createMap() {\n  return map();\n}\n\nfunction setMap(map, key, value) {\n  map.set(key, value);\n}\n","import {default as map, prefix} from \"./map\";\n\nfunction Set() {}\n\nvar proto = map.prototype;\n\nSet.prototype = set.prototype = {\n  constructor: Set,\n  has: proto.has,\n  add: function(value) {\n    value += \"\";\n    this[prefix + value] = value;\n    return this;\n  },\n  remove: proto.remove,\n  clear: proto.clear,\n  values: proto.keys,\n  size: proto.size,\n  empty: proto.empty,\n  each: proto.each\n};\n\nfunction set(object, f) {\n  var set = new Set;\n\n  // Copy constructor.\n  if (object instanceof Set) object.each(function(value) { set.add(value); });\n\n  // Otherwise, assume it’s an array.\n  else if (object) {\n    var i = -1, n = object.length;\n    if (f == null) while (++i < n) set.add(object[i]);\n    else while (++i < n) set.add(f(object[i], i, object));\n  }\n\n  return set;\n}\n\nexport default set;\n","export default function(map) {\n  var keys = [];\n  for (var key in map) keys.push(key);\n  return keys;\n}\n","var array = Array.prototype;\n\nexport var map = array.map;\nexport var slice = array.slice;\n","import {map} from \"d3-collection\";\nimport {slice} from \"./array\";\nimport {initRange} from \"./init\";\n\nexport var implicit = {name: \"implicit\"};\n\nexport default function ordinal() {\n  var index = map(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    var key = d + \"\", i = index.get(key);\n    if (!i) {\n      if (unknown !== implicit) return unknown;\n      index.set(key, i = domain.push(d));\n    }\n    return range[(i - 1) % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = map();\n    var i = -1, n = _.length, d, key;\n    while (++i < n) if (!index.has(key = (d = _[i]) + \"\")) index.set(key, domain.push(d));\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n","import {range as sequence} from \"d3-array\";\nimport {initRange} from \"./init\";\nimport ordinal from \"./ordinal\";\n\nexport default function band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      range = [0, 1],\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = range[1] < range[0],\n        start = range[reverse - 0],\n        stop = range[1 - reverse];\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = [+_[0], +_[1]], rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = [+_[0], +_[1]], round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, _), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = +_, rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band(domain(), range)\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  return initRange.apply(rescale(), arguments);\n}\n\nfunction pointish(scale) {\n  var copy = scale.copy;\n\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n\n  scale.copy = function() {\n    return pointish(copy());\n  };\n\n  return scale;\n}\n\nexport function point() {\n  return pointish(band.apply(null, arguments).paddingInner(1));\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? new Rgb(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? new Rgb((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import constant from \"./constant\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis\";\nimport basisClosed from \"./basisClosed\";\nimport nogamma, {gamma} from \"./color\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import value from \"./value\";\n\nexport default function(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b -= a, function(t) {\n    return d.setTime(a + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return a + b * t;\n  };\n}\n","import value from \"./value\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb\";\nimport array from \"./array\";\nimport date from \"./date\";\nimport number from \"./number\";\nimport object from \"./object\";\nimport string from \"./string\";\nimport constant from \"./constant\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : Array.isArray(b) ? array\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export default function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return Math.round(a + b * t);\n  };\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import decompose, {identity} from \"./decompose\";\n\nvar cssNode,\n    cssRoot,\n    cssView,\n    svgNode;\n\nexport function parseCss(value) {\n  if (value === \"none\") return identity;\n  if (!cssNode) cssNode = document.createElement(\"DIV\"), cssRoot = document.documentElement, cssView = document.defaultView;\n  cssNode.style.transform = value;\n  value = cssView.getComputedStyle(cssRoot.appendChild(cssNode), null).getPropertyValue(\"transform\");\n  cssRoot.removeChild(cssNode);\n  value = value.slice(7, -1).split(\",\");\n  return decompose(+value[0], +value[1], +value[2], +value[3], +value[4], +value[5]);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","import number from \"../number\";\nimport {parseCss, parseSvg} from \"./parse\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","var rho = Math.SQRT2,\n    rho2 = 2,\n    rho4 = 4,\n    epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\n// p0 = [ux0, uy0, w0]\n// p1 = [ux1, uy1, w1]\nexport default function(p0, p1) {\n  var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n      ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n      dx = ux1 - ux0,\n      dy = uy1 - uy0,\n      d2 = dx * dx + dy * dy,\n      i,\n      S;\n\n  // Special case for u0 ≅ u1.\n  if (d2 < epsilon2) {\n    S = Math.log(w1 / w0) / rho;\n    i = function(t) {\n      return [\n        ux0 + t * dx,\n        uy0 + t * dy,\n        w0 * Math.exp(rho * t * S)\n      ];\n    }\n  }\n\n  // General case.\n  else {\n    var d1 = Math.sqrt(d2),\n        b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n        b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n        r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n        r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n    S = (r1 - r0) / rho;\n    i = function(t) {\n      var s = t * S,\n          coshr0 = cosh(r0),\n          u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n      return [\n        ux0 + u * dx,\n        uy0 + u * dy,\n        w0 * coshr0 / cosh(rho * s + r0)\n      ];\n    }\n  }\n\n  i.duration = S * 1000;\n\n  return i;\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateNumber, interpolateRound} from \"d3-interpolate\";\nimport {map, slice} from \"./array\";\nimport constant from \"./constant\";\nimport number from \"./number\";\n\nvar unit = [0, 1];\n\nexport function identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(domain) {\n  var a = domain[0], b = domain[domain.length - 1], t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport function transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    piecewise = Math.min(domain.length, range.length) > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = map.call(_, number), clamp === identity || (clamp = clamper(domain)), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = slice.call(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? clamper(domain) : identity, scale) : clamp !== identity;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nexport default function continuous(transform, untransform) {\n  return transformer()(transform, untransform);\n}\n","// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimal(1.23) returns [\"123\", 0].\nexport default function(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, ±Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import formatDecimal from \"./formatDecimal.js\";\n\nexport default function(x) {\n  return x = formatDecimal(Math.abs(x)), x ? x[1] : NaN;\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nexport function FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (i0 > 0) { if (!+s[i]) break out; i0 = 0; } break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","import formatDecimal from \"./formatDecimal.js\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimal(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","import formatDecimal from \"./formatDecimal.js\";\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatPrefixAuto from \"./formatPrefixAuto.js\";\nimport formatRounded from \"./formatRounded.js\";\n\nexport default {\n  \"%\": function(x, p) { return (x * 100).toFixed(p); },\n  \"b\": function(x) { return Math.round(x).toString(2); },\n  \"c\": function(x) { return x + \"\"; },\n  \"d\": function(x) { return Math.round(x).toString(10); },\n  \"e\": function(x, p) { return x.toExponential(p); },\n  \"f\": function(x, p) { return x.toFixed(p); },\n  \"g\": function(x, p) { return x.toPrecision(p); },\n  \"o\": function(x) { return Math.round(x).toString(8); },\n  \"p\": function(x, p) { return formatRounded(x * 100, p); },\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": function(x) { return Math.round(x).toString(16).toUpperCase(); },\n  \"x\": function(x) { return Math.round(x).toString(16); }\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent.js\";\nimport formatGroup from \"./formatGroup.js\";\nimport formatNumerals from \"./formatNumerals.js\";\nimport formatSpecifier from \"./formatSpecifier.js\";\nimport formatTrim from \"./formatTrim.js\";\nimport formatTypes from \"./formatTypes.js\";\nimport {prefixExponent} from \"./formatPrefixAuto.js\";\nimport identity from \"./identity.js\";\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"µ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"-\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Perform the initial formatting.\n        var valueNegative = value < 0;\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero during formatting, treat as positive.\n        if (valueNegative && +value === 0) valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer “value” part that can be\n        // grouped, and fractional or exponential “suffix” part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  decimal: \".\",\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"],\n  minus: \"-\"\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport continuous, {copy, identity} from \"./continuous\";\nimport {initRange} from \"./init\";\nimport tickFormat from \"./tickFormat\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain(),\n        i0 = 0,\n        i1 = d.length - 1,\n        start = d[i0],\n        stop = d[i1],\n        step;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n\n    step = tickIncrement(start, stop, count);\n\n    if (step > 0) {\n      start = Math.floor(start / step) * step;\n      stop = Math.ceil(stop / step) * step;\n      step = tickIncrement(start, stop, count);\n    } else if (step < 0) {\n      start = Math.ceil(start * step) / step;\n      stop = Math.floor(stop * step) / step;\n      step = tickIncrement(start, stop, count);\n    }\n\n    if (step > 0) {\n      d[i0] = Math.floor(start / step) * step;\n      d[i1] = Math.ceil(stop / step) * step;\n      domain(d);\n    } else if (step < 0) {\n      d[i0] = Math.ceil(start * step) / step;\n      d[i1] = Math.floor(stop * step) / step;\n      domain(d);\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous(identity, identity);\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n","import {map} from \"./array\";\nimport {linearish} from \"./linear\";\nimport number from \"./number\";\n\nexport default function identity(domain) {\n  var unknown;\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : x;\n  }\n\n  scale.invert = scale;\n\n  scale.domain = scale.range = function(_) {\n    return arguments.length ? (domain = map.call(_, number), scale) : domain.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return identity(domain).unknown(unknown);\n  };\n\n  domain = arguments.length ? map.call(domain, number) : [0, 1];\n\n  return linearish(scale);\n}\n","export default function(domain, interval) {\n  domain = domain.slice();\n\n  var i0 = 0,\n      i1 = domain.length - 1,\n      x0 = domain[i0],\n      x1 = domain[i1],\n      t;\n\n  if (x1 < x0) {\n    t = i0, i0 = i1, i1 = t;\n    t = x0, x0 = x1, x1 = t;\n  }\n\n  domain[i0] = interval.floor(x0);\n  domain[i1] = interval.ceil(x1);\n  return domain;\n}\n","import {ticks} from \"d3-array\";\nimport {format} from \"d3-format\";\nimport nice from \"./nice\";\nimport {copy, transformer} from \"./continuous\";\nimport {initRange} from \"./init\";\n\nfunction transformLog(x) {\n  return Math.log(x);\n}\n\nfunction transformExp(x) {\n  return Math.exp(x);\n}\n\nfunction transformLogn(x) {\n  return -Math.log(-x);\n}\n\nfunction transformExpn(x) {\n  return -Math.exp(-x);\n}\n\nfunction pow10(x) {\n  return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\n}\n\nfunction powp(base) {\n  return base === 10 ? pow10\n      : base === Math.E ? Math.exp\n      : function(x) { return Math.pow(base, x); };\n}\n\nfunction logp(base) {\n  return base === Math.E ? Math.log\n      : base === 10 && Math.log10\n      || base === 2 && Math.log2\n      || (base = Math.log(base), function(x) { return Math.log(x) / base; });\n}\n\nfunction reflect(f) {\n  return function(x) {\n    return -f(-x);\n  };\n}\n\nexport function loggish(transform) {\n  var scale = transform(transformLog, transformExp),\n      domain = scale.domain,\n      base = 10,\n      logs,\n      pows;\n\n  function rescale() {\n    logs = logp(base), pows = powp(base);\n    if (domain()[0] < 0) {\n      logs = reflect(logs), pows = reflect(pows);\n      transform(transformLogn, transformExpn);\n    } else {\n      transform(transformLog, transformExp);\n    }\n    return scale;\n  }\n\n  scale.base = function(_) {\n    return arguments.length ? (base = +_, rescale()) : base;\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.ticks = function(count) {\n    var d = domain(),\n        u = d[0],\n        v = d[d.length - 1],\n        r;\n\n    if (r = v < u) i = u, u = v, v = i;\n\n    var i = logs(u),\n        j = logs(v),\n        p,\n        k,\n        t,\n        n = count == null ? 10 : +count,\n        z = [];\n\n    if (!(base % 1) && j - i < n) {\n      i = Math.round(i) - 1, j = Math.round(j) + 1;\n      if (u > 0) for (; i < j; ++i) {\n        for (k = 1, p = pows(i); k < base; ++k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      } else for (; i < j; ++i) {\n        for (k = base - 1, p = pows(i); k >= 1; --k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      }\n    } else {\n      z = ticks(i, j, Math.min(j - i, n)).map(pows);\n    }\n\n    return r ? z.reverse() : z;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    if (specifier == null) specifier = base === 10 ? \".0e\" : \",\";\n    if (typeof specifier !== \"function\") specifier = format(specifier);\n    if (count === Infinity) return specifier;\n    if (count == null) count = 10;\n    var k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\n    return function(d) {\n      var i = d / pows(Math.round(logs(d)));\n      if (i * base < base - 0.5) i *= base;\n      return i <= k ? specifier(d) : \"\";\n    };\n  };\n\n  scale.nice = function() {\n    return domain(nice(domain(), {\n      floor: function(x) { return pows(Math.floor(logs(x))); },\n      ceil: function(x) { return pows(Math.ceil(logs(x))); }\n    }));\n  };\n\n  return scale;\n}\n\nexport default function log() {\n  var scale = loggish(transformer()).domain([1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, log()).base(scale.base());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n","import {linearish} from \"./linear\";\nimport {copy, transformer} from \"./continuous\";\nimport {initRange} from \"./init\";\n\nfunction transformSymlog(c) {\n  return function(x) {\n    return Math.sign(x) * Math.log1p(Math.abs(x / c));\n  };\n}\n\nfunction transformSymexp(c) {\n  return function(x) {\n    return Math.sign(x) * Math.expm1(Math.abs(x)) * c;\n  };\n}\n\nexport function symlogish(transform) {\n  var c = 1, scale = transform(transformSymlog(c), transformSymexp(c));\n\n  scale.constant = function(_) {\n    return arguments.length ? transform(transformSymlog(c = +_), transformSymexp(c)) : c;\n  };\n\n  return linearish(scale);\n}\n\nexport default function symlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, symlog()).constant(scale.constant());\n  };\n\n  return initRange.apply(scale, arguments);\n}\n","import {linearish} from \"./linear\";\nimport {copy, identity, transformer} from \"./continuous\";\nimport {initRange} from \"./init\";\n\nfunction transformPow(exponent) {\n  return function(x) {\n    return x < 0 ? -Math.pow(-x, exponent) : Math.pow(x, exponent);\n  };\n}\n\nfunction transformSqrt(x) {\n  return x < 0 ? -Math.sqrt(-x) : Math.sqrt(x);\n}\n\nfunction transformSquare(x) {\n  return x < 0 ? -x * x : x * x;\n}\n\nexport function powish(transform) {\n  var scale = transform(identity, identity),\n      exponent = 1;\n\n  function rescale() {\n    return exponent === 1 ? transform(identity, identity)\n        : exponent === 0.5 ? transform(transformSqrt, transformSquare)\n        : transform(transformPow(exponent), transformPow(1 / exponent));\n  }\n\n  scale.exponent = function(_) {\n    return arguments.length ? (exponent = +_, rescale()) : exponent;\n  };\n\n  return linearish(scale);\n}\n\nexport default function pow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, pow()).exponent(scale.exponent());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n\nexport function sqrt() {\n  return pow.apply(null, arguments).exponent(0.5);\n}\n","import {ascending, bisect, quantile as threshold} from \"d3-array\";\nimport {slice} from \"./array\";\nimport {initRange} from \"./init\";\n\nexport default function quantile() {\n  var domain = [],\n      range = [],\n      thresholds = [],\n      unknown;\n\n  function rescale() {\n    var i = 0, n = Math.max(1, range.length);\n    thresholds = new Array(n - 1);\n    while (++i < n) thresholds[i - 1] = threshold(domain, i / n);\n    return scale;\n  }\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : range[bisect(thresholds, x)];\n  }\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN] : [\n      i > 0 ? thresholds[i - 1] : domain[0],\n      i < thresholds.length ? thresholds[i] : domain[domain.length - 1]\n    ];\n  };\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [];\n    for (var i = 0, n = _.length, d; i < n; ++i) if (d = _[i], d != null && !isNaN(d = +d)) domain.push(d);\n    domain.sort(ascending);\n    return rescale();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), rescale()) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.quantiles = function() {\n    return thresholds.slice();\n  };\n\n  scale.copy = function() {\n    return quantile()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(scale, arguments);\n}\n","import {bisect} from \"d3-array\";\nimport {slice} from \"./array\";\nimport {linearish} from \"./linear\";\nimport {initRange} from \"./init\";\n\nexport default function quantize() {\n  var x0 = 0,\n      x1 = 1,\n      n = 1,\n      domain = [0.5],\n      range = [0, 1],\n      unknown;\n\n  function scale(x) {\n    return x <= x ? range[bisect(domain, x, 0, n)] : unknown;\n  }\n\n  function rescale() {\n    var i = -1;\n    domain = new Array(n);\n    while (++i < n) domain[i] = ((i + 1) * x1 - (i - n) * x0) / (n + 1);\n    return scale;\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (x0 = +_[0], x1 = +_[1], rescale()) : [x0, x1];\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (n = (range = slice.call(_)).length - 1, rescale()) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN]\n        : i < 1 ? [x0, domain[0]]\n        : i >= n ? [domain[n - 1], x1]\n        : [domain[i - 1], domain[i]];\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : scale;\n  };\n\n  scale.thresholds = function() {\n    return domain.slice();\n  };\n\n  scale.copy = function() {\n    return quantize()\n        .domain([x0, x1])\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(linearish(scale), arguments);\n}\n","import {bisect} from \"d3-array\";\nimport {slice} from \"./array\";\nimport {initRange} from \"./init\";\n\nexport default function threshold() {\n  var domain = [0.5],\n      range = [0, 1],\n      unknown,\n      n = 1;\n\n  function scale(x) {\n    return x <= x ? range[bisect(domain, x, 0, n)] : unknown;\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = slice.call(_), n = Math.min(domain.length, range.length - 1), scale) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), n = Math.min(domain.length, range.length - 1), scale) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return [domain[i - 1], domain[i]];\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return threshold()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(scale, arguments);\n}\n","import {bisector, tickStep} from \"d3-array\";\nimport {timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeMillisecond} from \"d3-time\";\nimport {timeFormat} from \"d3-time-format\";\nimport {map} from \"./array\";\nimport continuous, {copy, identity} from \"./continuous\";\nimport {initRange} from \"./init\";\nimport nice from \"./nice\";\n\nvar durationSecond = 1000,\n    durationMinute = durationSecond * 60,\n    durationHour = durationMinute * 60,\n    durationDay = durationHour * 24,\n    durationWeek = durationDay * 7,\n    durationMonth = durationDay * 30,\n    durationYear = durationDay * 365;\n\nfunction date(t) {\n  return new Date(t);\n}\n\nfunction number(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nexport function calendar(year, month, week, day, hour, minute, second, millisecond, format) {\n  var scale = continuous(identity, identity),\n      invert = scale.invert,\n      domain = scale.domain;\n\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n\n  var tickIntervals = [\n    [second,  1,      durationSecond],\n    [second,  5,  5 * durationSecond],\n    [second, 15, 15 * durationSecond],\n    [second, 30, 30 * durationSecond],\n    [minute,  1,      durationMinute],\n    [minute,  5,  5 * durationMinute],\n    [minute, 15, 15 * durationMinute],\n    [minute, 30, 30 * durationMinute],\n    [  hour,  1,      durationHour  ],\n    [  hour,  3,  3 * durationHour  ],\n    [  hour,  6,  6 * durationHour  ],\n    [  hour, 12, 12 * durationHour  ],\n    [   day,  1,      durationDay   ],\n    [   day,  2,  2 * durationDay   ],\n    [  week,  1,      durationWeek  ],\n    [ month,  1,      durationMonth ],\n    [ month,  3,  3 * durationMonth ],\n    [  year,  1,      durationYear  ]\n  ];\n\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond\n        : minute(date) < date ? formatSecond\n        : hour(date) < date ? formatMinute\n        : day(date) < date ? formatHour\n        : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n        : year(date) < date ? formatMonth\n        : formatYear)(date);\n  }\n\n  function tickInterval(interval, start, stop, step) {\n    if (interval == null) interval = 10;\n\n    // If a desired tick count is specified, pick a reasonable tick interval\n    // based on the extent of the domain and a rough estimate of tick size.\n    // Otherwise, assume interval is already a time interval and use it.\n    if (typeof interval === \"number\") {\n      var target = Math.abs(stop - start) / interval,\n          i = bisector(function(i) { return i[2]; }).right(tickIntervals, target);\n      if (i === tickIntervals.length) {\n        step = tickStep(start / durationYear, stop / durationYear, interval);\n        interval = year;\n      } else if (i) {\n        i = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n        step = i[1];\n        interval = i[0];\n      } else {\n        step = Math.max(tickStep(start, stop, interval), 1);\n        interval = millisecond;\n      }\n    }\n\n    return step == null ? interval : interval.every(step);\n  }\n\n  scale.invert = function(y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? domain(map.call(_, number)) : domain().map(date);\n  };\n\n  scale.ticks = function(interval, step) {\n    var d = domain(),\n        t0 = d[0],\n        t1 = d[d.length - 1],\n        r = t1 < t0,\n        t;\n    if (r) t = t0, t0 = t1, t1 = t;\n    t = tickInterval(interval, t0, t1, step);\n    t = t ? t.range(t0, t1 + 1) : []; // inclusive stop\n    return r ? t.reverse() : t;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function(interval, step) {\n    var d = domain();\n    return (interval = tickInterval(interval, d[0], d[d.length - 1], step))\n        ? domain(nice(d, interval))\n        : scale;\n  };\n\n  scale.copy = function() {\n    return copy(scale, calendar(year, month, week, day, hour, minute, second, millisecond, format));\n  };\n\n  return scale;\n}\n\nexport default function() {\n  return initRange.apply(calendar(timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeMillisecond, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]), arguments);\n}\n","import {calendar} from \"./time\";\nimport {utcFormat} from \"d3-time-format\";\nimport {utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcMillisecond} from \"d3-time\";\nimport {initRange} from \"./init\";\n\nexport default function() {\n  return initRange.apply(calendar(utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcMillisecond, utcFormat).domain([Date.UTC(2000, 0, 1), Date.UTC(2000, 0, 2)]), arguments);\n}\n","import {identity} from \"./continuous\";\nimport {initInterpolator} from \"./init\";\nimport {linearish} from \"./linear\";\nimport {loggish} from \"./log\";\nimport {symlogish} from \"./symlog\";\nimport {powish} from \"./pow\";\n\nfunction transformer() {\n  var x0 = 0,\n      x1 = 1,\n      t0,\n      t1,\n      k10,\n      transform,\n      interpolator = identity,\n      clamp = false,\n      unknown;\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : interpolator(k10 === 0 ? 0.5 : (x = (transform(x) - t0) * k10, clamp ? Math.max(0, Math.min(1, x)) : x));\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (t0 = transform(x0 = +_[0]), t1 = transform(x1 = +_[1]), k10 = t0 === t1 ? 0 : 1 / (t1 - t0), scale) : [x0, x1];\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, scale) : clamp;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t) {\n    transform = t, t0 = t(x0), t1 = t(x1), k10 = t0 === t1 ? 0 : 1 / (t1 - t0);\n    return scale;\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .interpolator(source.interpolator())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport default function sequential() {\n  var scale = linearish(transformer()(identity));\n\n  scale.copy = function() {\n    return copy(scale, sequential());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialLog() {\n  var scale = loggish(transformer()).domain([1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, sequentialLog()).base(scale.base());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialSymlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, sequentialSymlog()).constant(scale.constant());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialPow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, sequentialPow()).exponent(scale.exponent());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialSqrt() {\n  return sequentialPow.apply(null, arguments).exponent(0.5);\n}\n","import {ascending, bisect} from \"d3-array\";\nimport {identity} from \"./continuous\";\nimport {initInterpolator} from \"./init\";\n\nexport default function sequentialQuantile() {\n  var domain = [],\n      interpolator = identity;\n\n  function scale(x) {\n    if (!isNaN(x = +x)) return interpolator((bisect(domain, x) - 1) / (domain.length - 1));\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [];\n    for (var i = 0, n = _.length, d; i < n; ++i) if (d = _[i], d != null && !isNaN(d = +d)) domain.push(d);\n    domain.sort(ascending);\n    return scale;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  scale.copy = function() {\n    return sequentialQuantile(interpolator).domain(domain);\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n","import {identity} from \"./continuous\";\nimport {initInterpolator} from \"./init\";\nimport {linearish} from \"./linear\";\nimport {loggish} from \"./log\";\nimport {copy} from \"./sequential\";\nimport {symlogish} from \"./symlog\";\nimport {powish} from \"./pow\";\n\nfunction transformer() {\n  var x0 = 0,\n      x1 = 0.5,\n      x2 = 1,\n      t0,\n      t1,\n      t2,\n      k10,\n      k21,\n      interpolator = identity,\n      transform,\n      clamp = false,\n      unknown;\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : (x = 0.5 + ((x = +transform(x)) - t1) * (x < t1 ? k10 : k21), interpolator(clamp ? Math.max(0, Math.min(1, x)) : x));\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (t0 = transform(x0 = +_[0]), t1 = transform(x1 = +_[1]), t2 = transform(x2 = +_[2]), k10 = t0 === t1 ? 0 : 0.5 / (t1 - t0), k21 = t1 === t2 ? 0 : 0.5 / (t2 - t1), scale) : [x0, x1, x2];\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, scale) : clamp;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t) {\n    transform = t, t0 = t(x0), t1 = t(x1), t2 = t(x2), k10 = t0 === t1 ? 0 : 0.5 / (t1 - t0), k21 = t1 === t2 ? 0 : 0.5 / (t2 - t1);\n    return scale;\n  };\n}\n\nexport default function diverging() {\n  var scale = linearish(transformer()(identity));\n\n  scale.copy = function() {\n    return copy(scale, diverging());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingLog() {\n  var scale = loggish(transformer()).domain([0.1, 1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, divergingLog()).base(scale.base());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingSymlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, divergingSymlog()).constant(scale.constant());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingPow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, divergingPow()).exponent(scale.exponent());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingSqrt() {\n  return divergingPow.apply(null, arguments).exponent(0.5);\n}\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n}\n","import namespace from \"./namespace\";\nimport {xhtml} from \"./namespaces\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","import {Selection} from \"./index\";\nimport selector from \"../selector\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","import {Selection} from \"./index\";\nimport selectorAll from \"../selectorAll\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n","import {Selection} from \"./index\";\nimport matcher from \"../matcher\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {Selection} from \"./index\";\nimport {EnterNode} from \"./enter\";\nimport constant from \"../constant\";\n\nvar keyPrefix = \"$\"; // Protect against keys like “__proto__”.\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don’t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = {},\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n      if (keyValue in nodeByKeyValue) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue[keyValue] = node;\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = keyPrefix + key.call(parent, data[i], i, data);\n    if (node = nodeByKeyValue[keyValue]) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue[keyValue] = null;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nexport default function(value, key) {\n  if (!value) {\n    data = new Array(this.size()), j = -1;\n    this.each(function(d) { data[++j] = d; });\n    return data;\n  }\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = value.call(parent, parent && parent.__data__, j, parents),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  enter = typeof onenter === \"function\" ? onenter(enter) : enter.append(onenter + \"\");\n  if (onupdate != null) update = onupdate(update);\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(selection) {\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","import {Selection} from \"./index\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  var nodes = new Array(this.size()), i = -1;\n  this.each(function() { nodes[++i] = this; });\n  return nodes;\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  var size = 0;\n  this.each(function() { ++size; });\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import namespace from \"../namespace\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import creator from \"../creator\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","import creator from \"../creator\";\nimport selector from \"../selector\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  return this.parentNode.insertBefore(this.cloneNode(false), this.nextSibling);\n}\n\nfunction selection_cloneDeep() {\n  return this.parentNode.insertBefore(this.cloneNode(true), this.nextSibling);\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","var filterEvents = {};\n\nexport var event = null;\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!(\"onmouseenter\" in element)) {\n    filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n  }\n}\n\nfunction filterContextListener(listener, index, group) {\n  listener = contextListener(listener, index, group);\n  return function(event) {\n    var related = event.relatedTarget;\n    if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n      listener.call(this, event);\n    }\n  };\n}\n\nfunction contextListener(listener, index, group) {\n  return function(event1) {\n    var event0 = event; // Events can be reentrant (e.g., focus).\n    event = event1;\n    try {\n      listener.call(this, this.__data__, index, group);\n    } finally {\n      event = event0;\n    }\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, capture) {\n  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n  return function(d, i, group) {\n    var on = this.__on, o, listener = wrap(value, i, group);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n        this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, capture);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, capture) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  if (capture == null) capture = false;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n  return this;\n}\n\nexport function customEvent(event1, listener, that, args) {\n  var event0 = event;\n  event1.sourceEvent = event;\n  event = event1;\n  try {\n    return listener.apply(that, args);\n  } finally {\n    event = event0;\n  }\n}\n","import defaultView from \"../window\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select\";\nimport selection_selectAll from \"./selectAll\";\nimport selection_filter from \"./filter\";\nimport selection_data from \"./data\";\nimport selection_enter from \"./enter\";\nimport selection_exit from \"./exit\";\nimport selection_join from \"./join\";\nimport selection_merge from \"./merge\";\nimport selection_order from \"./order\";\nimport selection_sort from \"./sort\";\nimport selection_call from \"./call\";\nimport selection_nodes from \"./nodes\";\nimport selection_node from \"./node\";\nimport selection_size from \"./size\";\nimport selection_empty from \"./empty\";\nimport selection_each from \"./each\";\nimport selection_attr from \"./attr\";\nimport selection_style from \"./style\";\nimport selection_property from \"./property\";\nimport selection_classed from \"./classed\";\nimport selection_text from \"./text\";\nimport selection_html from \"./html\";\nimport selection_raise from \"./raise\";\nimport selection_lower from \"./lower\";\nimport selection_append from \"./append\";\nimport selection_insert from \"./insert\";\nimport selection_remove from \"./remove\";\nimport selection_clone from \"./clone\";\nimport selection_datum from \"./datum\";\nimport selection_on from \"./on\";\nimport selection_dispatch from \"./dispatch\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n};\n\nexport default selection;\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","import {event} from \"./selection/on\";\n\nexport default function() {\n  var current = event, source;\n  while (source = current.sourceEvent) current = source;\n  return current;\n}\n","export default function(node, event) {\n  var svg = node.ownerSVGElement || node;\n\n  if (svg.createSVGPoint) {\n    var point = svg.createSVGPoint();\n    point.x = event.clientX, point.y = event.clientY;\n    point = point.matrixTransform(node.getScreenCTM().inverse());\n    return [point.x, point.y];\n  }\n\n  var rect = node.getBoundingClientRect();\n  return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node) {\n  var event = sourceEvent();\n  if (event.changedTouches) event = event.changedTouches[0];\n  return point(node, event);\n}\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([document.querySelectorAll(selector)], [document.documentElement])\n      : new Selection([selector == null ? [] : selector], root);\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node, touches, identifier) {\n  if (arguments.length < 3) identifier = touches, touches = sourceEvent().changedTouches;\n\n  for (var i = 0, n = touches ? touches.length : 0, touch; i < n; ++i) {\n    if ((touch = touches[i]).identifier === identifier) {\n      return point(node, touch);\n    }\n  }\n\n  return null;\n}\n","var noop = {value: function() {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend we’ve set an alarm, if we haven’t already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {Timer} from \"./timer\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(function(elapsed) {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","import interrupt from \"../interrupt\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","import {get, set} from \"./schedule\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween\";\nimport interpolate from \"./interpolate\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i(t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i(t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {get, init} from \"./schedule\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {get, set} from \"./schedule\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {get, set, init} from \"./schedule\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index\";\nimport schedule, {get} from \"./schedule\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index\";\nimport schedule, {get} from \"./schedule\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule\";\nimport {tweenValue} from \"./tween\";\nimport interpolate from \"./interpolate\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n","function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i(t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","import {tweenValue} from \"./tween\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","import {Transition, newId} from \"./index\";\nimport schedule, {get} from \"./schedule\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {set} from \"./schedule\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and we’re done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n  });\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr\";\nimport transition_attrTween from \"./attrTween\";\nimport transition_delay from \"./delay\";\nimport transition_duration from \"./duration\";\nimport transition_ease from \"./ease\";\nimport transition_filter from \"./filter\";\nimport transition_merge from \"./merge\";\nimport transition_on from \"./on\";\nimport transition_remove from \"./remove\";\nimport transition_select from \"./select\";\nimport transition_selectAll from \"./selectAll\";\nimport transition_selection from \"./selection\";\nimport transition_style from \"./style\";\nimport transition_styleTween from \"./styleTween\";\nimport transition_text from \"./text\";\nimport transition_transition from \"./transition\";\nimport transition_tween from \"./tween\";\nimport transition_end from \"./end\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  end: transition_end\n};\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","import {Transition, newId} from \"../transition/index\";\nimport schedule from \"../transition/schedule\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      return defaultTiming.time = now(), defaultTiming;\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt\";\nimport selection_transition from \"./transition\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","/**\n    @function accessor\n    @desc Wraps an object key in a simple accessor function.\n    @param {String} key The key to be returned from each Object passed to the function.\n    @param {*} [def] A default value to be returned if the key is not present.\n    @example <caption>this</caption>\naccessor(\"id\");\n    @example <caption>returns this</caption>\nfunction(d) {\n  return d[\"id\"];\n}\n*/\nexport default function (key, def) {\n  if (def === void 0) return function (d) {\n    return d[key];\n  };\n  return function (d) {\n    return d[key] === void 0 ? def : d[key];\n  };\n}","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/**\n    @function isObject\n    @desc Detects if a variable is a javascript Object.\n    @param {*} item\n*/\nexport default function (item) {\n  return item && _typeof(item) === \"object\" && (typeof window === \"undefined\" || item !== window && item !== window.document && !(item instanceof Element)) && !Array.isArray(item) ? true : false;\n}","import { default as isObject } from \"./isObject\";\n/**\n    @function validObject\n    @desc Determines if the object passed is the document or window.\n    @param {Object} obj\n    @private\n*/\n\nfunction validObject(obj) {\n  if (typeof window === \"undefined\") return true;else return obj !== window && obj !== document;\n}\n/**\n    @function assign\n    @desc A deeply recursive version of `Object.assign`.\n    @param {...Object} objects\n    @example <caption>this</caption>\nassign({id: \"foo\", deep: {group: \"A\"}}, {id: \"bar\", deep: {value: 20}}));\n    @example <caption>returns this</caption>\n{id: \"bar\", deep: {group: \"A\", value: 20}}\n*/\n\n\nfunction assign() {\n  var _arguments = arguments;\n  var target = arguments.length <= 0 ? undefined : arguments[0];\n\n  var _loop = function _loop(i) {\n    var source = i < 0 || _arguments.length <= i ? undefined : _arguments[i];\n    Object.keys(source).forEach(function (prop) {\n      var value = source[prop];\n\n      if (isObject(value) && validObject(value)) {\n        if (target.hasOwnProperty(prop) && isObject(target[prop])) target[prop] = assign({}, target[prop], value);else target[prop] = assign({}, value);\n      } else if (Array.isArray(value)) target[prop] = value.slice();else target[prop] = value;\n    });\n  };\n\n  for (var i = 1; i < arguments.length; i++) {\n    _loop(i);\n  }\n\n  return target;\n}\n\nexport default assign;","/**\n    @function attrize\n    @desc Applies each key/value in an object as an attr.\n    @param {D3selection} elem The D3 element to apply the styles to.\n    @param {Object} attrs An object of key/value attr pairs.\n*/\nexport default function (e) {\n  var a = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  for (var k in a) {\n    if ({}.hasOwnProperty.call(a, k)) e.attr(k, a[k]);\n  }\n}","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport lcid from \"windows-locale\";\nimport iso from \"iso639-codes\";\nvar locales = [];\nvar isoKeys = Object.keys(iso);\nObject.keys(lcid).map(function (id) {\n  var locale = lcid[id];\n  var isoLanguage = isoKeys.find(function (name) {\n    return name.toLowerCase() === locale.language.toLowerCase();\n  });\n\n  if (locale.location && isoLanguage) {\n    var _locales$push;\n\n    locales.push((_locales$push = {}, _defineProperty(_locales$push, \"name\", locale.language), _defineProperty(_locales$push, \"location\", locale.location), _defineProperty(_locales$push, \"tag\", locale.tag), _defineProperty(_locales$push, \"lcid\", locale.id), _defineProperty(_locales$push, \"iso639-2\", iso[isoLanguage][\"iso639-2\"]), _defineProperty(_locales$push, \"iso639-1\", iso[isoLanguage][\"iso639-1\"]), _locales$push));\n  }\n});\nvar defaultLocales = {\n  ar: \"ar-SA\",\n  ca: \"ca-ES\",\n  da: \"da-DK\",\n  en: \"en-US\",\n  ko: \"ko-KR\",\n  pa: \"pa-IN\",\n  pt: \"pt-BR\",\n  sv: \"sv-SE\"\n};\n/**\n * Converts a 2-digit language into a full language-LOCATION locale.\n * @param {String} locale\n */\n\nexport default function (locale) {\n  if (typeof locale !== \"string\" || locale.length === 5) return locale;\n  if (defaultLocales[locale]) return defaultLocales[locale];\n  var list = locales.filter(function (d) {\n    return d[\"iso639-1\"] === locale;\n  });\n  if (!list.length) return locale;else if (list.length === 1) return list[0].tag;else if (list.find(function (d) {\n    return d.tag === \"\".concat(locale, \"-\").concat(locale.toUpperCase());\n  })) return \"\".concat(locale, \"-\").concat(locale.toUpperCase());else return list[0].tag;\n}","/**\n    @function s\n    @desc Returns 4 random characters, used for constructing unique identifiers.\n    @private\n*/\nfunction s() {\n  return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n}\n/**\n    @function uuid\n    @summary Returns a unique identifier.\n*/\n\n\nexport default function () {\n  return \"\".concat(s()).concat(s(), \"-\").concat(s(), \"-\").concat(s(), \"-\").concat(s(), \"-\").concat(s()).concat(s()).concat(s());\n}","/**\n    @constant RESET\n    @desc String constant used to reset an individual config property.\n*/\nexport default \"D3PLUS-COMMON-RESET\";","export default {\n  \"and\": \"y\",\n  \"Back\": \"Atrás\",\n  \"Click to Expand\": \"Clic para Ampliar\",\n  \"Click to Hide\": \"Clic para Ocultar\",\n  \"Click to Highlight\": \"Clic para Resaltar\",\n  \"Click to Reset\": \"Clic para Restablecer\",\n  \"Download\": \"Descargar\",\n  \"Loading Visualization\": \"Cargando Visualización\",\n  \"No Data Available\": \"Datos No Disponibles\",\n  \"Powered by D3plus\": \"Funciona con D3plus\",\n  \"Share\": \"Porcentaje\",\n  \"Shift+Click to Hide\": \"Mayús+Clic para Ocultar\",\n  \"Total\": \"Total\",\n  \"Values\": \"Valores\"\n};","import esES from \"./es-ES\";\nexport default {\n  \"es-ES\": esES\n};","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport assign from \"./assign\";\nimport findLocale from \"./findLocale\";\nimport isObject from \"./isObject\";\nimport uuid from \"./uuid\";\nimport RESET from \"./RESET\";\nimport dictionaries from \"./locales/index\";\n/**\n    @desc Recursive function that resets nested Object configs.\n    @param {Object} obj\n    @param {Object} defaults\n    @private\n*/\n\nfunction nestedReset(obj, defaults) {\n  if (isObject(obj)) {\n    for (var nestedKey in obj) {\n      if ({}.hasOwnProperty.call(obj, nestedKey) && !nestedKey.startsWith(\"_\")) {\n        var defaultValue = defaults && isObject(defaults) ? defaults[nestedKey] : undefined;\n\n        if (obj[nestedKey] === RESET) {\n          obj[nestedKey] = defaultValue;\n        } else if (isObject(obj[nestedKey])) {\n          nestedReset(obj[nestedKey], defaultValue);\n        }\n      }\n    }\n  }\n}\n/**\n    @class BaseClass\n    @summary An abstract class that contains some global methods and functionality.\n*/\n\n\nvar BaseClass =\n/*#__PURE__*/\nfunction () {\n  /**\n      @memberof BaseClass\n      @desc Invoked when creating a new class instance, and sets any default parameters.\n      @private\n  */\n  function BaseClass() {\n    var _this = this;\n\n    _classCallCheck(this, BaseClass);\n\n    this._locale = \"en-US\";\n    this._on = {};\n\n    this._translate = function (d) {\n      var locale = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _this._locale;\n      var dictionary = dictionaries[locale];\n      return dictionary && dictionary[d] ? dictionary[d] : d;\n    };\n\n    this._uuid = uuid();\n  }\n  /**\n      @memberof BaseClass\n      @desc If *value* is specified, sets the methods that correspond to the key/value pairs and returns this class. If *value* is not specified, returns the current configuration.\n      @param {Object} [*value*]\n      @chainable\n  */\n\n\n  _createClass(BaseClass, [{\n    key: \"config\",\n    value: function config(_) {\n      if (!this._configDefault) {\n        var config = {};\n\n        for (var k in this.__proto__) {\n          if (k.indexOf(\"_\") !== 0 && ![\"config\", \"constructor\", \"render\"].includes(k)) {\n            var v = this[k]();\n            config[k] = isObject(v) ? assign({}, v) : v;\n          }\n        }\n\n        this._configDefault = config;\n      }\n\n      if (arguments.length) {\n        for (var _k in _) {\n          if ({}.hasOwnProperty.call(_, _k) && _k in this) {\n            var _v = _[_k];\n\n            if (_v === RESET) {\n              if (_k === \"on\") this._on = this._configDefault[_k];else this[_k](this._configDefault[_k]);\n            } else {\n              nestedReset(_v, this._configDefault[_k]);\n\n              this[_k](_v);\n            }\n          }\n        }\n\n        return this;\n      } else {\n        var _config = {};\n\n        for (var _k2 in this.__proto__) {\n          if (_k2.indexOf(\"_\") !== 0 && ![\"config\", \"constructor\", \"render\"].includes(_k2)) _config[_k2] = this[_k2]();\n        }\n\n        return _config;\n      }\n    }\n    /**\n        @memberof BaseClass\n        @desc Sets the locale used for all text and number formatting. This method supports the locales defined in [d3plus-format](https://github.com/d3plus/d3plus-format/blob/master/src/locale.js). The locale can be defined as a complex Object (like in d3plus-format), a locale code (like \"en-US\"), or a 2-digit language code (like \"en\"). If a 2-digit code is provided, the \"findLocale\" function is used to identify the most approximate locale from d3plus-format.\n        @param {Object|String} [*value* = \"en-US\"]\n        @chainable\n        @example\n        {\n          separator: \"\",\n          suffixes: [\"y\", \"z\", \"a\", \"f\", \"p\", \"n\", \"µ\", \"m\", \"\", \"k\", \"M\", \"B\", \"t\", \"q\", \"Q\", \"Z\", \"Y\"],\n          grouping: [3],\n          delimiters: {\n            thousands: \",\",\n            decimal: \".\"\n          },\n          currency: [\"$\", \"\"]\n        }\n    */\n\n  }, {\n    key: \"locale\",\n    value: function locale(_) {\n      return arguments.length ? (this._locale = findLocale(_), this) : this._locale;\n    }\n    /**\n        @memberof BaseClass\n        @desc Adds or removes a *listener* to each object for the specified event *typenames*. If a *listener* is not specified, returns the currently assigned listener for the specified event *typename*. Mirrors the core [d3-selection](https://github.com/d3/d3-selection#selection_on) behavior.\n        @param {String} [*typenames*]\n        @param {Function} [*listener*]\n        @chainable\n        @example <caption>By default, listeners apply globally to all objects, however, passing a namespace with the class name gives control over specific elements:</caption>\n    new Plot\n    .on(\"click.Shape\", function(d) {\n      console.log(\"data for shape clicked:\", d);\n    })\n    .on(\"click.Legend\", function(d) {\n      console.log(\"data for legend clicked:\", d);\n    })\n    */\n\n  }, {\n    key: \"on\",\n    value: function on(_, f) {\n      return arguments.length === 2 ? (this._on[_] = f, this) : arguments.length ? typeof _ === \"string\" ? this._on[_] : (this._on = Object.assign({}, this._on, _), this) : this._on;\n    }\n    /**\n        @memberof BaseClass\n        @desc Defines how informational text strings should be displayed. By default, this function will try to find the string in question (which is the first argument provided to this function) inside of an internally managed translation Object. If you'd like to override to use custom text, simply pass this method your own custom formatting function.\n        @param {Function} [*value*]\n        @chainable\n        @example <caption>For example, if we wanted to only change the string \"Back\" and allow all other string to return in English:</caption>\n    .translate(function(d) {\n    return d === \"Back\" ? \"Get outta here\" : d;\n    })\n    */\n\n  }, {\n    key: \"translate\",\n    value: function translate(_) {\n      return arguments.length ? (this._translate = _, this) : this._translate;\n    }\n  }]);\n\n  return BaseClass;\n}();\n\nexport { BaseClass as default };","/**\n    @function closest\n    @desc Finds the closest numeric value in an array.\n    @param {Number} n The number value to use when searching the array.\n    @param {Array} arr The array of values to test against.\n*/\nexport default function (n) {\n  var arr = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  if (!arr || !(arr instanceof Array) || !arr.length) return undefined;\n  return arr.reduce(function (prev, curr) {\n    return Math.abs(curr - n) < Math.abs(prev - n) ? curr : prev;\n  });\n}","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/**\n    @function configPrep\n    @desc Preps a config object for d3plus data, and optionally bubbles up a specific nested type. When using this function, you must bind a d3plus class' `this` context.\n    @param {Object} [config = this._shapeConfig] The configuration object to parse.\n    @param {String} [type = \"shape\"] The event classifier to user for \"on\" events. For example, the default event type of \"shape\" will apply all events in the \"on\" config object with that key, like \"click.shape\" and \"mouseleave.shape\", in addition to any gloval events like \"click\" and \"mouseleave\".\n    @param {String} [nest] An optional nested key to bubble up to the parent config level.\n*/\nexport default function configPrep() {\n  var _this = this;\n\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this._shapeConfig;\n  var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"shape\";\n  var nest = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var newConfig = {\n    duration: this._duration,\n    on: {}\n  };\n\n  var wrapFunction = function wrapFunction(func) {\n    return function (d, i, s) {\n      var parent;\n\n      while (d.__d3plus__) {\n        if (parent) d.__d3plusParent__ = parent;\n        parent = d;\n        i = d.i;\n        d = d.data || d.feature;\n      }\n\n      return func.bind(_this)(d, i, s || parent);\n    };\n  };\n\n  var parseEvents = function parseEvents(newObj, on) {\n    for (var event in on) {\n      if ({}.hasOwnProperty.call(on, event) && !event.includes(\".\") || event.includes(\".\".concat(type))) {\n        newObj.on[event] = wrapFunction(on[event]);\n      }\n    }\n  };\n\n  var arrayEval = function arrayEval(arr) {\n    return arr.map(function (d) {\n      if (d instanceof Array) return arrayEval(d);else if (_typeof(d) === \"object\") return keyEval({}, d);else if (typeof d === \"function\") return wrapFunction(d);else return d;\n    });\n  };\n\n  var keyEval = function keyEval(newObj, obj) {\n    for (var key in obj) {\n      if ({}.hasOwnProperty.call(obj, key)) {\n        if (key === \"on\") parseEvents(newObj, obj[key]);else if (typeof obj[key] === \"function\") {\n          newObj[key] = wrapFunction(obj[key]);\n        } else if (obj[key] instanceof Array) {\n          newObj[key] = arrayEval(obj[key]);\n        } else if (_typeof(obj[key]) === \"object\") {\n          newObj[key] = {\n            on: {}\n          };\n          keyEval(newObj[key], obj[key]);\n        } else newObj[key] = obj[key];\n      }\n    }\n  };\n\n  keyEval(newConfig, config);\n  if (this._on) parseEvents(newConfig, this._on);\n\n  if (nest && config[nest]) {\n    keyEval(newConfig, config[nest]);\n    if (config[nest].on) parseEvents(newConfig, config[nest].on);\n  }\n\n  return newConfig;\n}","/**\n    @function constant\n    @desc Wraps non-function variables in a simple return function.\n    @param {Array|Number|Object|String} value The value to be returned from the function.\n    @example <caption>this</caption>\nconstant(42);\n    @example <caption>returns this</caption>\nfunction() {\n  return 42;\n}\n*/\nexport default function (value) {\n  return function constant() {\n    return value;\n  };\n}","import { select } from \"d3-selection\";\nimport { transition } from \"d3-transition\";\nimport { default as attrize } from \"./attrize\";\n/**\n    @function elem\n    @desc Manages the enter/update/exit pattern for a single DOM element.\n    @param {String} selector A D3 selector, which must include the tagname and a class and/or ID.\n    @param {Object} params Additional parameters.\n    @param {Boolean} [params.condition = true] Whether or not the element should be rendered (or removed).\n    @param {Object} [params.enter = {}] A collection of key/value pairs that map to attributes to be given on enter.\n    @param {Object} [params.exit = {}] A collection of key/value pairs that map to attributes to be given on exit.\n    @param {D3Selection} [params.parent = d3.select(\"body\")] The parent element for this new element to be appended to.\n    @param {D3Transition} [params.transition = d3.transition().duration(0)] The transition to use when animated the different life cycle stages.\n    @param {Object} [params.update = {}] A collection of key/value pairs that map to attributes to be given on update.\n*/\n\nexport default function (selector, p) {\n  // overrides default params\n  p = Object.assign({}, {\n    condition: true,\n    enter: {},\n    exit: {},\n    parent: select(\"body\"),\n    transition: transition().duration(0),\n    update: {}\n  }, p);\n  var className = /\\.([^#]+)/g.exec(selector),\n      id = /#([^\\.]+)/g.exec(selector),\n      tag = /^([^.^#]+)/g.exec(selector)[1];\n  var elem = p.parent.selectAll(selector.includes(\":\") ? selector.split(\":\")[1] : selector).data(p.condition ? [null] : []);\n  var enter = elem.enter().append(tag).call(attrize, p.enter);\n  if (id) enter.attr(\"id\", id[1]);\n  if (className) enter.attr(\"class\", className[1]);\n  elem.exit().transition(p.transition).call(attrize, p.exit).remove();\n  var update = enter.merge(elem);\n  update.transition(p.transition).call(attrize, p.update);\n  return update;\n}","/**\n    @function unique\n    @desc ES5 implementation to reduce an Array of values to unique instances.\n    @param {Array} objects The Array of objects to be filtered.\n    @example <caption>this</caption>\nunique([\"apple\", \"banana\", \"apple\"]);\n    @example <caption>returns this</caption>\n[\"apple\", \"banana\"]\n*/\nexport default function (arr) {\n  return arr.filter(function (k, i, a) {\n    return a.indexOf(k) === i;\n  });\n}","import { merge, sum } from \"d3-array\";\nimport { keys } from \"d3-collection\";\nimport unique from \"./unique\";\n/**\n    @function merge\n    @desc Combines an Array of Objects together and returns a new Object.\n    @param {Array} objects The Array of objects to be merged together.\n    @param {Object} aggs An object containing specific aggregation methods (functions) for each key type. By default, numbers are summed and strings are returned as an array of unique values.\n    @example <caption>this</caption>\nmerge([\n  {id: \"foo\", group: \"A\", value: 10, links: [1, 2]},\n  {id: \"bar\", group: \"A\", value: 20, links: [1, 3]}\n]);\n    @example <caption>returns this</caption>\n{id: [\"bar\", \"foo\"], group: \"A\", value: 30, links: [1, 2, 3]}\n*/\n\nfunction objectMerge(objects) {\n  var aggs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var availableKeys = unique(merge(objects.map(function (o) {\n    return keys(o);\n  }))),\n      newObject = {};\n  availableKeys.forEach(function (k) {\n    var values = objects.map(function (o) {\n      return o[k];\n    });\n    var value;\n    if (aggs[k]) value = aggs[k](values);else {\n      var types = values.map(function (v) {\n        return v || v === false ? v.constructor : v;\n      }).filter(function (v) {\n        return v !== void 0;\n      });\n      if (!types.length) value = undefined;else if (types.indexOf(Array) >= 0) {\n        value = merge(values.map(function (v) {\n          return v instanceof Array ? v : [v];\n        }));\n        value = unique(value);\n        if (value.length === 1) value = value[0];\n      } else if (types.indexOf(String) >= 0) {\n        value = unique(values);\n        if (value.length === 1) value = value[0];\n      } else if (types.indexOf(Number) >= 0) value = sum(values);else if (types.indexOf(Object) >= 0) {\n        value = unique(values.filter(function (v) {\n          return v;\n        }));\n        if (value.length === 1) value = value[0];else value = objectMerge(value);\n      } else {\n        value = unique(values.filter(function (v) {\n          return v !== void 0;\n        }));\n        if (value.length === 1) value = value[0];\n      }\n    }\n    newObject[k] = value;\n  });\n  return newObject;\n}\n\nexport default objectMerge;","/**\n @function parseSides\n @desc Converts a string of directional CSS shorthand values into an object with the values expanded.\n @param {String|Number} sides The CSS shorthand string to expand.\n */\nexport default function (sides) {\n  var values;\n  if (typeof sides === \"number\") values = [sides];else values = sides.split(/\\s+/);\n  if (values.length === 1) values = [values[0], values[0], values[0], values[0]];else if (values.length === 2) values = values.concat(values);else if (values.length === 3) values.push(values[1]);\n  return [\"top\", \"right\", \"bottom\", \"left\"].reduce(function (acc, direction, i) {\n    var value = parseFloat(values[i]);\n    acc[direction] = value || 0;\n    return acc;\n  }, {});\n}","/**\n    @function prefix\n    @desc Returns the appropriate CSS vendor prefix, given the current browser.\n*/\nexport default function () {\n  if (\"-webkit-transform\" in document.body.style) return \"-webkit-\";else if (\"-moz-transform\" in document.body.style) return \"-moz-\";else if (\"-ms-transform\" in document.body.style) return \"-ms-\";else if (\"-o-transform\" in document.body.style) return \"-o-\";else return \"\";\n}","/**\n    @function stylize\n    @desc Applies each key/value in an object as a style.\n    @param {D3selection} elem The D3 element to apply the styles to.\n    @param {Object} styles An object of key/value style pairs.\n*/\nexport default function (e) {\n  var s = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  for (var k in s) {\n    if ({}.hasOwnProperty.call(s, k)) e.style(k, s[k]);\n  }\n}","/**\n    @namespace {Object} formatLocale\n    @desc A set of default locale formatters used when assigning suffixes and currency in numbers.\n      *\n      * | Name | Default | Description |\n      * |---|---|---|\n      * | separator | \"\" | Separation between the number with the suffix. |\n      * | suffixes | [] | List of suffixes used to format numbers. |\n      * | grouping | [3] | The array of group sizes, |\n      * | delimiters | {thousands: \",\", decimal: \".\"} | Decimal and group separators. |\n      * | currency | [\"$\", \"\"] | The currency prefix and suffix. |\n*/\nexport default {\n  \"en-GB\": {\n    separator: \"\",\n    suffixes: [\"y\", \"z\", \"a\", \"f\", \"p\", \"n\", \"µ\", \"m\", \"\", \"k\", \"M\", \"B\", \"t\", \"q\", \"Q\", \"Z\", \"Y\"],\n    grouping: [3],\n    delimiters: {\n      thousands: \",\",\n      decimal: \".\"\n    },\n    currency: [\"£\", \"\"]\n  },\n  \"en-US\": {\n    separator: \"\",\n    suffixes: [\"y\", \"z\", \"a\", \"f\", \"p\", \"n\", \"µ\", \"m\", \"\", \"k\", \"M\", \"B\", \"t\", \"q\", \"Q\", \"Z\", \"Y\"],\n    grouping: [3],\n    delimiters: {\n      thousands: \",\",\n      decimal: \".\"\n    },\n    currency: [\"$\", \"\"]\n  },\n  \"es-CL\": {\n    separator: \"\",\n    suffixes: [\"y\", \"z\", \"a\", \"f\", \"p\", \"n\", \"µ\", \"m\", \"\", \"k\", \"M\", \"MM\", \"B\", \"T\", \"Q\", \"Z\", \"Y\"],\n    grouping: [3],\n    delimiters: {\n      thousands: \".\",\n      decimal: \",\"\n    },\n    currency: [\"$\", \"\"]\n  },\n  \"es-MX\": {\n    separator: \"\",\n    suffixes: [\"y\", \"z\", \"a\", \"f\", \"p\", \"n\", \"µ\", \"m\", \"\", \"k\", \"M\", \"MM\", \"B\", \"T\", \"Q\", \"Z\", \"Y\"],\n    grouping: [3],\n    delimiters: {\n      thousands: \",\",\n      decimal: \".\"\n    },\n    currency: [\"$\", \"\"]\n  },\n  \"es-ES\": {\n    separator: \"\",\n    suffixes: [\"y\", \"z\", \"a\", \"f\", \"p\", \"n\", \"µ\", \"m\", \"\", \"k\", \"mm\", \"b\", \"t\", \"q\", \"Q\", \"Z\", \"Y\"],\n    grouping: [3],\n    delimiters: {\n      thousands: \".\",\n      decimal: \",\"\n    },\n    currency: [\"€\", \"\"]\n  },\n  \"et-EE\": {\n    separator: \" \",\n    suffixes: [\"y\", \"z\", \"a\", \"f\", \"p\", \"n\", \"µ\", \"m\", \"\", \"tuhat\", \"miljonit\", \"miljardit\", \"triljonit\", \"q\", \"Q\", \"Z\", \"Y\"],\n    grouping: [3],\n    delimiters: {\n      thousands: \" \",\n      decimal: \",\"\n    },\n    currency: [\"\", \"eurot\"]\n  },\n  \"fr-FR\": {\n    suffixes: [\"y\", \"z\", \"a\", \"f\", \"p\", \"n\", \"µ\", \"m\", \"\", \"k\", \"m\", \"b\", \"t\", \"q\", \"Q\", \"Z\", \"Y\"],\n    grouping: [3],\n    delimiters: {\n      thousands: \" \",\n      decimal: \",\"\n    },\n    currency: [\"€\", \"\"]\n  }\n};","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport { formatLocale } from \"d3-format\";\nimport defaultLocale from \"./locale\";\n\nvar round = function round(x, n) {\n  return parseFloat(Math.round(x * Math.pow(10, n)) / Math.pow(10, n)).toFixed(n);\n};\n/**\n * @private\n*/\n\n\nfunction formatSuffix(value, precision, suffixes) {\n  var i = 0;\n\n  if (value) {\n    if (value < 0) value *= -1;\n    i = 1 + Math.floor(1e-12 + Math.log(value) / Math.LN10);\n    i = Math.max(-24, Math.min(24, Math.floor((i - 1) / 3) * 3));\n  }\n\n  var d = suffixes[8 + i / 3];\n  return {\n    number: round(d.scale(value), precision),\n    symbol: d.symbol\n  };\n}\n/**\n * @private\n*/\n\n\nfunction parseSuffixes(d, i) {\n  var k = Math.pow(10, Math.abs(8 - i) * 3);\n  return {\n    scale: i > 8 ? function (d) {\n      return d / k;\n    } : function (d) {\n      return d * k;\n    },\n    symbol: d\n  };\n}\n/**\n    @function formatAbbreviate\n    @desc Formats a number to an appropriate number of decimal places and rounding, adding suffixes if applicable (ie. `1200000` to `\"1.2M\"`).\n    @param {Number|String} n The number to be formatted.\n    @param {Object|String} locale The locale config to be used. If *value* is an object, the function will format the numbers according the object. The object must include `suffixes`, `delimiter` and `currency` properties.\n    @returns {String}\n*/\n\n\nexport default function (n) {\n  var locale = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"en-US\";\n  var precision = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n  if (isFinite(n)) n *= 1;else return \"N/A\";\n  var negative = n < 0;\n  var length = n.toString().split(\".\")[0].replace(\"-\", \"\").length,\n      localeConfig = _typeof(locale) === \"object\" ? locale : defaultLocale[locale] || defaultLocale[\"en-US\"],\n      suffixes = localeConfig.suffixes.map(parseSuffixes);\n  var decimal = localeConfig.delimiters.decimal || \".\",\n      separator = localeConfig.separator || \"\",\n      thousands = localeConfig.delimiters.thousands || \",\";\n  var d3plusFormatLocale = formatLocale({\n    currency: localeConfig.currency || [\"$\", \"\"],\n    decimal: decimal,\n    grouping: localeConfig.grouping || [3],\n    thousands: thousands\n  });\n  var val;\n  if (precision) val = d3plusFormatLocale.format(precision)(n);else if (n === 0) val = \"0\";else if (length >= 3) {\n    var f = formatSuffix(d3plusFormatLocale.format(\".3r\")(n), 2, suffixes);\n    var num = parseFloat(f.number).toString().replace(\".\", decimal);\n    var _char = f.symbol;\n    val = \"\".concat(num).concat(separator).concat(_char);\n  } else if (length === 3) val = d3plusFormatLocale.format(\",f\")(n);else if (n < 1 && n > -1) val = d3plusFormatLocale.format(\".2g\")(n);else val = d3plusFormatLocale.format(\".3g\")(n);\n  return \"\".concat(negative && val.charAt(0) !== \"-\" ? \"-\" : \"\").concat(val).replace(/(\\.[1-9]*)[0]*$/g, \"$1\") // removes any trailing zeros\n  .replace(/[.]$/g, \"\"); // removes any trailing decimal point\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { select as _select } from \"d3-selection\";\nimport { transition } from \"d3-transition\";\nimport { accessor, constant } from \"d3plus-common\";\n/**\n    @class Image\n    @desc Creates SVG images based on an array of data.\n    @example <caption>a sample row of data</caption>\nvar data = {\"url\": \"file.png\", \"width\": \"100\", \"height\": \"50\"};\n@example <caption>passed to the generator</caption>\nnew Image().data([data]).render();\n@example <caption>creates the following</caption>\n<image class=\"d3plus-Image\" opacity=\"1\" href=\"file.png\" width=\"100\" height=\"50\" x=\"0\" y=\"0\"></image>\n@example <caption>this is shorthand for the following</caption>\nimage().data([data])();\n@example <caption>which also allows a post-draw callback function</caption>\nimage().data([data])(function() { alert(\"draw complete!\"); })\n*/\n\nvar Image =\n/*#__PURE__*/\nfunction () {\n  /**\n      @memberof Image\n      @desc Invoked when creating a new class instance, and sets any default parameters.\n      @private\n  */\n  function Image() {\n    _classCallCheck(this, Image);\n\n    this._duration = 600;\n    this._height = accessor(\"height\");\n    this._id = accessor(\"id\");\n    this._pointerEvents = constant(\"auto\");\n    this._select;\n    this._url = accessor(\"url\");\n    this._width = accessor(\"width\");\n    this._x = accessor(\"x\", 0);\n    this._y = accessor(\"y\", 0);\n  }\n  /**\n      @memberof Image\n      @desc Renders the current Image to the page. If a *callback* is specified, it will be called once the images are done drawing.\n      @param {Function} [*callback*]\n      @chainable\n  */\n\n\n  _createClass(Image, [{\n    key: \"render\",\n    value: function render(callback) {\n      var _this = this;\n\n      if (this._select === void 0) this.select(_select(\"body\").append(\"svg\").style(\"width\", \"\".concat(window.innerWidth, \"px\")).style(\"height\", \"\".concat(window.innerHeight, \"px\")).style(\"display\", \"block\").node());\n\n      var images = this._select.selectAll(\".d3plus-Image\").data(this._data, this._id);\n\n      var enter = images.enter().append(\"image\").attr(\"class\", \"d3plus-Image\").attr(\"opacity\", 0).attr(\"width\", 0).attr(\"height\", 0).attr(\"x\", function (d, i) {\n        return _this._x(d, i) + _this._width(d, i) / 2;\n      }).attr(\"y\", function (d, i) {\n        return _this._y(d, i) + _this._height(d, i) / 2;\n      });\n      var t = transition().duration(this._duration),\n          that = this,\n          update = enter.merge(images);\n      update.attr(\"xlink:href\", this._url).style(\"pointer-events\", this._pointerEvents).transition(t).attr(\"opacity\", 1).attr(\"width\", function (d, i) {\n        return _this._width(d, i);\n      }).attr(\"height\", function (d, i) {\n        return _this._height(d, i);\n      }).attr(\"x\", function (d, i) {\n        return _this._x(d, i);\n      }).attr(\"y\", function (d, i) {\n        return _this._y(d, i);\n      }).each(function (d, i) {\n        var image = _select(this),\n            link = that._url(d, i);\n\n        var fullAddress = link.indexOf(\"http://\") === 0 || link.indexOf(\"https://\") === 0;\n\n        if (!fullAddress || link.indexOf(window.location.hostname) === 0) {\n          var img = new Image();\n          img.src = link;\n          img.crossOrigin = \"Anonymous\";\n\n          img.onload = function () {\n            var canvas = document.createElement(\"canvas\");\n            canvas.width = this.width;\n            canvas.height = this.height;\n            var context = canvas.getContext(\"2d\");\n            context.drawImage(this, 0, 0);\n            image.attr(\"xlink:href\", canvas.toDataURL(\"image/png\"));\n          };\n        }\n      });\n      images.exit().transition(t).attr(\"width\", function (d, i) {\n        return _this._width(d, i);\n      }).attr(\"height\", function (d, i) {\n        return _this._height(d, i);\n      }).attr(\"x\", function (d, i) {\n        return _this._x(d, i);\n      }).attr(\"y\", function (d, i) {\n        return _this._y(d, i);\n      }).attr(\"opacity\", 0).remove();\n      if (callback) setTimeout(callback, this._duration + 100);\n      return this;\n    }\n    /**\n        @memberof Image\n        @desc If *data* is specified, sets the data array to the specified array and returns the current class instance. If *data* is not specified, returns the current data array. An <image> tag will be drawn for each object in the array.\n        @param {Array} [*data* = []]\n        @chainable\n    */\n\n  }, {\n    key: \"data\",\n    value: function data(_) {\n      return arguments.length ? (this._data = _, this) : this._data;\n    }\n    /**\n        @memberof Image\n        @desc If *ms* is specified, sets the animation duration to the specified number and returns the current class instance. If *ms* is not specified, returns the current animation duration.\n        @param {Number} [*ms* = 600]\n        @chainable\n    */\n\n  }, {\n    key: \"duration\",\n    value: function duration(_) {\n      return arguments.length ? (this._duration = _, this) : this._duration;\n    }\n    /**\n        @memberof Image\n        @desc If *value* is specified, sets the height accessor to the specified function or number and returns the current class instance.\n        @param {Function|Number} [*value*]\n        @chainable\n        @example\n    function(d) {\n    return d.height;\n    }\n    */\n\n  }, {\n    key: \"height\",\n    value: function height(_) {\n      return arguments.length ? (this._height = typeof _ === \"function\" ? _ : constant(_), this) : this._height;\n    }\n    /**\n        @memberof Image\n        @desc If *value* is specified, sets the id accessor to the specified function and returns the current class instance.\n        @param {Function} [*value*]\n        @chainable\n        @example\n    function(d) {\n    return d.id;\n    }\n    */\n\n  }, {\n    key: \"id\",\n    value: function id(_) {\n      return arguments.length ? (this._id = _, this) : this._id;\n    }\n    /**\n        @memberof Image\n        @desc If *value* is specified, sets the pointer-events accessor to the specified function or string and returns the current class instance.\n        @param {Function|String} [*value* = \"auto\"]\n        @chainable\n    */\n\n  }, {\n    key: \"pointerEvents\",\n    value: function pointerEvents(_) {\n      return arguments.length ? (this._pointerEvents = typeof _ === \"function\" ? _ : constant(_), this) : this._pointerEvents;\n    }\n    /**\n        @memberof Image\n        @desc If *selector* is specified, sets the SVG container element to the specified d3 selector or DOM element and returns the current class instance. If *selector* is not specified, returns the current SVG container element.\n        @param {String|HTMLElement} [*selector* = d3.select(\"body\").append(\"svg\")]\n        @chainable\n    */\n\n  }, {\n    key: \"select\",\n    value: function select(_) {\n      return arguments.length ? (this._select = _select(_), this) : this._select;\n    }\n    /**\n        @memberof Image\n        @desc If *value* is specified, sets the URL accessor to the specified function and returns the current class instance.\n        @param {Function} [*value*]\n        @chainable\n        @example\n    function(d) {\n    return d.url;\n    }\n    */\n\n  }, {\n    key: \"url\",\n    value: function url(_) {\n      return arguments.length ? (this._url = _, this) : this._url;\n    }\n    /**\n        @memberof Image\n        @desc If *value* is specified, sets the width accessor to the specified function or number and returns the current class instance.\n        @param {Function|Number} [*value*]\n        @chainable\n        @example\n    function(d) {\n    return d.width;\n    }\n    */\n\n  }, {\n    key: \"width\",\n    value: function width(_) {\n      return arguments.length ? (this._width = typeof _ === \"function\" ? _ : constant(_), this) : this._width;\n    }\n    /**\n        @memberof Image\n        @desc If *value* is specified, sets the x accessor to the specified function or number and returns the current class instance.\n        @param {Function|Number} [*value*]\n        @chainable\n        @example\n    function(d) {\n    return d.x || 0;\n    }\n    */\n\n  }, {\n    key: \"x\",\n    value: function x(_) {\n      return arguments.length ? (this._x = typeof _ === \"function\" ? _ : constant(_), this) : this._x;\n    }\n    /**\n        @memberof Image\n        @desc If *value* is specified, sets the y accessor to the specified function or number and returns the current class instance.\n        @param {Function|Number} [*value*]\n        @chainable\n        @example\n    function(d) {\n    return d.y || 0;\n    }\n    */\n\n  }, {\n    key: \"y\",\n    value: function y(_) {\n      return arguments.length ? (this._y = typeof _ === \"function\" ? _ : constant(_), this) : this._y;\n    }\n  }]);\n\n  return Image;\n}();\n\nexport { Image as default };","import { hsl } from \"d3-color\";\n/**\n    @function colorAdd\n    @desc Adds two colors together.\n    @param {String} c1 The first color, a valid CSS color string.\n    @param {String} c2 The second color, also a valid CSS color string.\n    @param {String} [o1 = 1] Value from 0 to 1 of the first color's opacity.\n    @param {String} [o2 = 1] Value from 0 to 1 of the first color's opacity.\n    @returns {String}\n*/\n\nexport default function (c1, c2) {\n  var o1 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n  var o2 = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\n  c1 = hsl(c1);\n  c2 = hsl(c2);\n  var d = Math.abs(c2.h * o2 - c1.h * o1);\n  if (d > 180) d -= 360;\n  var h = (Math.min(c1.h, c2.h) + d / 2) % 360;\n  var l = c1.l + (c2.l * o2 - c1.l * o1) / 2,\n      s = c1.s + (c2.s * o2 - c1.s * o1) / 2; // a = o1 + (o2 - o1) / 2;\n\n  if (h < 0) h += 360;\n  return hsl(\"hsl(\".concat(h, \",\").concat(s * 100, \"%,\").concat(l * 100, \"%)\")).toString(); // return hsl(`hsl(${h},${s * 100}%,${l * 100}%,${a})`).toString();\n}","import { scaleOrdinal } from \"d3-scale\";\n/**\n    @namespace {Object} colorDefaults\n    @desc A set of default color values used when assigning colors based on data.\n      *\n      * | Name | Default | Description |\n      * |---|---|---|\n      * | dark | #444444 | Used in the [contrast](#contrast) function when the color given is very light. |\n      * | light | #f7f7f7 | Used in the [contrast](#contrast) function when the color given is very dark. |\n      * | missing | #cccccc | Used in the [assign](#assign) function when the value passed is `null` or `undefined`. |\n      * | off | #b22200 | Used in the [assign](#assign) function when the value passed is `false`. |\n      * | on | #224f20 | Used in the [assign](#assign) function when the value passed is `true`. |\n      * | scale | #b22200, #eace3f, #282f6b, #b35c1e, #224f20, #5f487c, #759143, #419391, #993c88, #e89c89, #ffee8d, #afd5e8, #f7ba77, #a5c697, #c5b5e5, #d1d392, #bbefd0, #e099cf | An ordinal scale used in the [assign](#assign) function for non-valid color strings and numbers. |\n*/\n\nvar defaults = {\n  dark: \"#444444\",\n  light: \"#f7f7f7\",\n  missing: \"#cccccc\",\n  off: \"#b22200\",\n  on: \"#224f20\",\n  scale: scaleOrdinal().range([\"#b22200\", \"#282f6b\", \"#eace3f\", \"#b35c1e\", \"#224f20\", \"#5f487c\", \"#759143\", \"#419391\", \"#993c88\", \"#e89c89\", \"#ffee8d\", \"#afd5e8\", \"#f7ba77\", \"#a5c697\", \"#c5b5e5\", \"#d1d392\", \"#bbefd0\", \"#e099cf\"])\n};\n/**\n    Returns a color based on a key, whether it is present in a user supplied object or in the default object.\n    @returns {String}\n    @private\n*/\n\nexport function getColor(k) {\n  var u = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return k in u ? u[k] : k in defaults ? defaults[k] : defaults.missing;\n}\nexport default defaults;","import { color } from \"d3-color\";\nimport { getColor } from \"./defaults\";\n/**\n    @function colorAssign\n    @desc Assigns a color to a value using a predefined set of defaults.\n    @param {String} c A valid CSS color string.\n    @param {Object} [u = defaults] An object containing overrides of the default colors.\n    @returns {String}\n*/\n\nexport default function (c) {\n  var u = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  // If the value is null or undefined, set to grey.\n  if ([null, void 0].indexOf(c) >= 0) return getColor(\"missing\", u); // Else if the value is true, set to green.\n  else if (c === true) return getColor(\"on\", u); // Else if the value is false, set to red.\n    else if (c === false) return getColor(\"off\", u);\n  var p = color(c); // If the value is not a valid color string, use the color scale.\n\n  if (!p) return getColor(\"scale\", u)(c);\n  return c.toString();\n}","import { getColor } from \"./defaults\";\nimport { rgb } from \"d3-color\";\n/**\n    @function colorContrast\n    @desc A set of default color values used when assigning colors based on data.\n    @param {String} c A valid CSS color string.\n    @param {Object} [u = defaults] An object containing overrides of the default colors.\n    @returns {String}\n*/\n\nexport default function (c) {\n  var u = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  c = rgb(c);\n  var yiq = (c.r * 299 + c.g * 587 + c.b * 114) / 1000;\n  return yiq >= 128 ? getColor(\"dark\", u) : getColor(\"light\", u);\n}","import { hsl } from \"d3-color\";\n/**\n    @function colorLegible\n    @desc Darkens a color so that it will appear legible on a white background.\n    @param {String} c A valid CSS color string.\n    @returns {String}\n*/\n\nexport default function (c) {\n  c = hsl(c);\n\n  if (c.l > 0.45) {\n    if (c.s > 0.8) c.s = 0.8;\n    c.l = 0.45;\n  }\n\n  return c.toString();\n}","import { hsl } from \"d3-color\";\n/**\n    @function colorLighter\n    @desc Similar to d3.color.brighter, except that this also reduces saturation so that colors don't appear neon.\n    @param {String} c A valid CSS color string.\n    @param {String} [i = 0.5] A value from 0 to 1 dictating the strength of the function.\n    @returns {String}\n*/\n\nexport default function (c) {\n  var i = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0.5;\n  c = hsl(c);\n  i *= 1 - c.l;\n  c.l += i;\n  c.s -= i;\n  return c.toString();\n}","import { hsl } from \"d3-color\";\n/**\n    @function colorSubtract\n    @desc Subtracts one color from another.\n    @param {String} c1 The base color, a valid CSS color string.\n    @param {String} c2 The color to remove from the base color, also a valid CSS color string.\n    @param {String} [o1 = 1] Value from 0 to 1 of the first color's opacity.\n    @param {String} [o2 = 1] Value from 0 to 1 of the first color's opacity.\n    @returns {String}\n*/\n\nexport default function (c1, c2) {\n  var o1 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n  var o2 = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\n  c1 = hsl(c1);\n  c2 = hsl(c2);\n  var d = c2.h * o2 - c1.h * o1;\n  if (Math.abs(d) > 180) d -= 360;\n  var h = (c1.h - d) % 360;\n  var l = c1.l - (c2.l * o2 - c1.l * o1) / 2,\n      s = c1.s - (c2.s * o2 - c1.s * o1) / 2; // a = o1 - (o2 - o1) / 2;\n\n  if (h < 0) h += 360;\n  return hsl(\"hsl(\".concat(h, \",\").concat(s * 100, \"%,\").concat(l * 100, \"%)\")).toString(); // return hsl(`hsl(${h},${s * 100}%,${l * 100}%,${a})`).toString();\n}","var pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? We’re done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","export var abs = Math.abs;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var max = Math.max;\nexport var min = Math.min;\nexport var sin = Math.sin;\nexport var sqrt = Math.sqrt;\n\nexport var epsilon = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var tau = 2 * pi;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant\";\nimport {abs, acos, asin, atan2, cos, epsilon, halfPi, max, min, pi, sin, sqrt, tau} from \"./math\";\n\nfunction arcInnerRadius(d) {\n  return d.innerRadius;\n}\n\nfunction arcOuterRadius(d) {\n  return d.outerRadius;\n}\n\nfunction arcStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction arcEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction arcPadAngle(d) {\n  return d && d.padAngle; // Note: optional!\n}\n\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var x10 = x1 - x0, y10 = y1 - y0,\n      x32 = x3 - x2, y32 = y3 - y2,\n      t = y32 * x10 - x32 * y10;\n  if (t * t < epsilon) return;\n  t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / t;\n  return [x0 + t * x10, y0 + t * y10];\n}\n\n// Compute perpendicular offset line of length rc.\n// http://mathworld.wolfram.com/Circle-LineIntersection.html\nfunction cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n  var x01 = x0 - x1,\n      y01 = y0 - y1,\n      lo = (cw ? rc : -rc) / sqrt(x01 * x01 + y01 * y01),\n      ox = lo * y01,\n      oy = -lo * x01,\n      x11 = x0 + ox,\n      y11 = y0 + oy,\n      x10 = x1 + ox,\n      y10 = y1 + oy,\n      x00 = (x11 + x10) / 2,\n      y00 = (y11 + y10) / 2,\n      dx = x10 - x11,\n      dy = y10 - y11,\n      d2 = dx * dx + dy * dy,\n      r = r1 - rc,\n      D = x11 * y10 - x10 * y11,\n      d = (dy < 0 ? -1 : 1) * sqrt(max(0, r * r * d2 - D * D)),\n      cx0 = (D * dy - dx * d) / d2,\n      cy0 = (-D * dx - dy * d) / d2,\n      cx1 = (D * dy + dx * d) / d2,\n      cy1 = (-D * dx + dy * d) / d2,\n      dx0 = cx0 - x00,\n      dy0 = cy0 - y00,\n      dx1 = cx1 - x00,\n      dy1 = cy1 - y00;\n\n  // Pick the closer of the two intersection points.\n  // TODO Is there a faster way to determine which intersection to use?\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n\n  return {\n    cx: cx0,\n    cy: cy0,\n    x01: -ox,\n    y01: -oy,\n    x11: cx0 * (r1 / r - 1),\n    y11: cy0 * (r1 / r - 1)\n  };\n}\n\nexport default function() {\n  var innerRadius = arcInnerRadius,\n      outerRadius = arcOuterRadius,\n      cornerRadius = constant(0),\n      padRadius = null,\n      startAngle = arcStartAngle,\n      endAngle = arcEndAngle,\n      padAngle = arcPadAngle,\n      context = null;\n\n  function arc() {\n    var buffer,\n        r,\n        r0 = +innerRadius.apply(this, arguments),\n        r1 = +outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) - halfPi,\n        a1 = endAngle.apply(this, arguments) - halfPi,\n        da = abs(a1 - a0),\n        cw = a1 > a0;\n\n    if (!context) context = buffer = path();\n\n    // Ensure that the outer radius is always larger than the inner radius.\n    if (r1 < r0) r = r1, r1 = r0, r0 = r;\n\n    // Is it a point?\n    if (!(r1 > epsilon)) context.moveTo(0, 0);\n\n    // Or is it a circle or annulus?\n    else if (da > tau - epsilon) {\n      context.moveTo(r1 * cos(a0), r1 * sin(a0));\n      context.arc(0, 0, r1, a0, a1, !cw);\n      if (r0 > epsilon) {\n        context.moveTo(r0 * cos(a1), r0 * sin(a1));\n        context.arc(0, 0, r0, a1, a0, cw);\n      }\n    }\n\n    // Or is it a circular or annular sector?\n    else {\n      var a01 = a0,\n          a11 = a1,\n          a00 = a0,\n          a10 = a1,\n          da0 = da,\n          da1 = da,\n          ap = padAngle.apply(this, arguments) / 2,\n          rp = (ap > epsilon) && (padRadius ? +padRadius.apply(this, arguments) : sqrt(r0 * r0 + r1 * r1)),\n          rc = min(abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n          rc0 = rc,\n          rc1 = rc,\n          t0,\n          t1;\n\n      // Apply padding? Note that since r1 ≥ r0, da1 ≥ da0.\n      if (rp > epsilon) {\n        var p0 = asin(rp / r0 * sin(ap)),\n            p1 = asin(rp / r1 * sin(ap));\n        if ((da0 -= p0 * 2) > epsilon) p0 *= (cw ? 1 : -1), a00 += p0, a10 -= p0;\n        else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n        if ((da1 -= p1 * 2) > epsilon) p1 *= (cw ? 1 : -1), a01 += p1, a11 -= p1;\n        else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n      }\n\n      var x01 = r1 * cos(a01),\n          y01 = r1 * sin(a01),\n          x10 = r0 * cos(a10),\n          y10 = r0 * sin(a10);\n\n      // Apply rounded corners?\n      if (rc > epsilon) {\n        var x11 = r1 * cos(a11),\n            y11 = r1 * sin(a11),\n            x00 = r0 * cos(a00),\n            y00 = r0 * sin(a00),\n            oc;\n\n        // Restrict the corner radius according to the sector angle.\n        if (da < pi && (oc = intersect(x01, y01, x00, y00, x11, y11, x10, y10))) {\n          var ax = x01 - oc[0],\n              ay = y01 - oc[1],\n              bx = x11 - oc[0],\n              by = y11 - oc[1],\n              kc = 1 / sin(acos((ax * bx + ay * by) / (sqrt(ax * ax + ay * ay) * sqrt(bx * bx + by * by))) / 2),\n              lc = sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n          rc0 = min(rc, (r0 - lc) / (kc - 1));\n          rc1 = min(rc, (r1 - lc) / (kc + 1));\n        }\n      }\n\n      // Is the sector collapsed to a line?\n      if (!(da1 > epsilon)) context.moveTo(x01, y01);\n\n      // Does the sector’s outer ring have rounded corners?\n      else if (rc1 > epsilon) {\n        t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n        t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n\n        context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r1, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n          context.arc(t1.cx, t1.cy, rc1, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the outer ring just a circular arc?\n      else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);\n\n      // Is there no inner ring, and it’s a circular sector?\n      // Or perhaps it’s an annular sector collapsed due to padding?\n      if (!(r0 > epsilon) || !(da0 > epsilon)) context.lineTo(x10, y10);\n\n      // Does the sector’s inner ring (or point) have rounded corners?\n      else if (rc0 > epsilon) {\n        t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n        t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n\n        context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r0, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n          context.arc(t1.cx, t1.cy, rc0, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the inner ring just a circular arc?\n      else context.arc(0, 0, r0, a10, a00, cw);\n    }\n\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  arc.centroid = function() {\n    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n        a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi / 2;\n    return [cos(a) * r, sin(a) * r];\n  };\n\n  arc.innerRadius = function(_) {\n    return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : innerRadius;\n  };\n\n  arc.outerRadius = function(_) {\n    return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : outerRadius;\n  };\n\n  arc.cornerRadius = function(_) {\n    return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : cornerRadius;\n  };\n\n  arc.padRadius = function(_) {\n    return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), arc) : padRadius;\n  };\n\n  arc.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : startAngle;\n  };\n\n  arc.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : endAngle;\n  };\n\n  arc.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : padAngle;\n  };\n\n  arc.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), arc) : context;\n  };\n\n  return arc;\n}\n","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant\";\nimport curveLinear from \"./curve/linear\";\nimport {x as pointX, y as pointY} from \"./point\";\n\nexport default function() {\n  var x = pointX,\n      y = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function line(data) {\n    var i,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant\";\nimport curveLinear from \"./curve/linear\";\nimport line from \"./line\";\nimport {x as pointX, y as pointY} from \"./point\";\n\nexport default function() {\n  var x0 = pointX,\n      x1 = null,\n      y0 = constant(0),\n      y1 = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n","export default function(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n","export default function(d) {\n  return d;\n}\n","import constant from \"./constant\";\nimport descending from \"./descending\";\nimport identity from \"./identity\";\nimport {tau} from \"./math\";\n\nexport default function() {\n  var value = identity,\n      sortValues = descending,\n      sort = null,\n      startAngle = constant(0),\n      endAngle = constant(tau),\n      padAngle = constant(0);\n\n  function pie(data) {\n    var i,\n        n = data.length,\n        j,\n        k,\n        sum = 0,\n        index = new Array(n),\n        arcs = new Array(n),\n        a0 = +startAngle.apply(this, arguments),\n        da = Math.min(tau, Math.max(-tau, endAngle.apply(this, arguments) - a0)),\n        a1,\n        p = Math.min(Math.abs(da) / n, padAngle.apply(this, arguments)),\n        pa = p * (da < 0 ? -1 : 1),\n        v;\n\n    for (i = 0; i < n; ++i) {\n      if ((v = arcs[index[i] = i] = +value(data[i], i, data)) > 0) {\n        sum += v;\n      }\n    }\n\n    // Optionally sort the arcs by previously-computed values or by data.\n    if (sortValues != null) index.sort(function(i, j) { return sortValues(arcs[i], arcs[j]); });\n    else if (sort != null) index.sort(function(i, j) { return sort(data[i], data[j]); });\n\n    // Compute the arcs! They are stored in the original data's order.\n    for (i = 0, k = sum ? (da - n * pa) / sum : 0; i < n; ++i, a0 = a1) {\n      j = index[i], v = arcs[j], a1 = a0 + (v > 0 ? v * k : 0) + pa, arcs[j] = {\n        data: data[j],\n        index: i,\n        value: v,\n        startAngle: a0,\n        endAngle: a1,\n        padAngle: p\n      };\n    }\n\n    return arcs;\n  }\n\n  pie.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), pie) : value;\n  };\n\n  pie.sortValues = function(_) {\n    return arguments.length ? (sortValues = _, sort = null, pie) : sortValues;\n  };\n\n  pie.sort = function(_) {\n    return arguments.length ? (sort = _, sortValues = null, pie) : sort;\n  };\n\n  pie.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : startAngle;\n  };\n\n  pie.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : endAngle;\n  };\n\n  pie.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : padAngle;\n  };\n\n  return pie;\n}\n","import curveLinear from \"./linear\";\n\nexport var curveRadialLinear = curveRadial(curveLinear);\n\nfunction Radial(curve) {\n  this._curve = curve;\n}\n\nRadial.prototype = {\n  areaStart: function() {\n    this._curve.areaStart();\n  },\n  areaEnd: function() {\n    this._curve.areaEnd();\n  },\n  lineStart: function() {\n    this._curve.lineStart();\n  },\n  lineEnd: function() {\n    this._curve.lineEnd();\n  },\n  point: function(a, r) {\n    this._curve.point(r * Math.sin(a), r * -Math.cos(a));\n  }\n};\n\nexport default function curveRadial(curve) {\n\n  function radial(context) {\n    return new Radial(curve(context));\n  }\n\n  radial._curve = curve;\n\n  return radial;\n}\n","import curveRadial, {curveRadialLinear} from \"./curve/radial\";\nimport line from \"./line\";\n\nexport function lineRadial(l) {\n  var c = l.curve;\n\n  l.angle = l.x, delete l.x;\n  l.radius = l.y, delete l.y;\n\n  l.curve = function(_) {\n    return arguments.length ? c(curveRadial(_)) : c()._curve;\n  };\n\n  return l;\n}\n\nexport default function() {\n  return lineRadial(line().curve(curveRadialLinear));\n}\n","import curveRadial, {curveRadialLinear} from \"./curve/radial\";\nimport area from \"./area\";\nimport {lineRadial} from \"./lineRadial\"\n\nexport default function() {\n  var a = area().curve(curveRadialLinear),\n      c = a.curve,\n      x0 = a.lineX0,\n      x1 = a.lineX1,\n      y0 = a.lineY0,\n      y1 = a.lineY1;\n\n  a.angle = a.x, delete a.x;\n  a.startAngle = a.x0, delete a.x0;\n  a.endAngle = a.x1, delete a.x1;\n  a.radius = a.y, delete a.y;\n  a.innerRadius = a.y0, delete a.y0;\n  a.outerRadius = a.y1, delete a.y1;\n  a.lineStartAngle = function() { return lineRadial(x0()); }, delete a.lineX0;\n  a.lineEndAngle = function() { return lineRadial(x1()); }, delete a.lineX1;\n  a.lineInnerRadius = function() { return lineRadial(y0()); }, delete a.lineY0;\n  a.lineOuterRadius = function() { return lineRadial(y1()); }, delete a.lineY1;\n\n  a.curve = function(_) {\n    return arguments.length ? c(curveRadial(_)) : c()._curve;\n  };\n\n  return a;\n}\n","export default function(x, y) {\n  return [(y = +y) * Math.cos(x -= Math.PI / 2), y * Math.sin(x)];\n}\n","export var slice = Array.prototype.slice;\n","import {path} from \"d3-path\";\nimport {slice} from \"../array\";\nimport constant from \"../constant\";\nimport {x as pointX, y as pointY} from \"../point\";\nimport pointRadial from \"../pointRadial\";\n\nfunction linkSource(d) {\n  return d.source;\n}\n\nfunction linkTarget(d) {\n  return d.target;\n}\n\nfunction link(curve) {\n  var source = linkSource,\n      target = linkTarget,\n      x = pointX,\n      y = pointY,\n      context = null;\n\n  function link() {\n    var buffer, argv = slice.call(arguments), s = source.apply(this, argv), t = target.apply(this, argv);\n    if (!context) context = buffer = path();\n    curve(context, +x.apply(this, (argv[0] = s, argv)), +y.apply(this, argv), +x.apply(this, (argv[0] = t, argv)), +y.apply(this, argv));\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  link.source = function(_) {\n    return arguments.length ? (source = _, link) : source;\n  };\n\n  link.target = function(_) {\n    return arguments.length ? (target = _, link) : target;\n  };\n\n  link.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), link) : x;\n  };\n\n  link.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), link) : y;\n  };\n\n  link.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), link) : context;\n  };\n\n  return link;\n}\n\nfunction curveHorizontal(context, x0, y0, x1, y1) {\n  context.moveTo(x0, y0);\n  context.bezierCurveTo(x0 = (x0 + x1) / 2, y0, x0, y1, x1, y1);\n}\n\nfunction curveVertical(context, x0, y0, x1, y1) {\n  context.moveTo(x0, y0);\n  context.bezierCurveTo(x0, y0 = (y0 + y1) / 2, x1, y0, x1, y1);\n}\n\nfunction curveRadial(context, x0, y0, x1, y1) {\n  var p0 = pointRadial(x0, y0),\n      p1 = pointRadial(x0, y0 = (y0 + y1) / 2),\n      p2 = pointRadial(x1, y0),\n      p3 = pointRadial(x1, y1);\n  context.moveTo(p0[0], p0[1]);\n  context.bezierCurveTo(p1[0], p1[1], p2[0], p2[1], p3[0], p3[1]);\n}\n\nexport function linkHorizontal() {\n  return link(curveHorizontal);\n}\n\nexport function linkVertical() {\n  return link(curveVertical);\n}\n\nexport function linkRadial() {\n  var l = link(curveRadial);\n  l.angle = l.x, delete l.x;\n  l.radius = l.y, delete l.y;\n  return l;\n}\n","import {pi, tau} from \"../math\";\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / pi);\n    context.moveTo(r, 0);\n    context.arc(0, 0, r, 0, tau);\n  }\n};\n","export default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / 5) / 2;\n    context.moveTo(-3 * r, -r);\n    context.lineTo(-r, -r);\n    context.lineTo(-r, -3 * r);\n    context.lineTo(r, -3 * r);\n    context.lineTo(r, -r);\n    context.lineTo(3 * r, -r);\n    context.lineTo(3 * r, r);\n    context.lineTo(r, r);\n    context.lineTo(r, 3 * r);\n    context.lineTo(-r, 3 * r);\n    context.lineTo(-r, r);\n    context.lineTo(-3 * r, r);\n    context.closePath();\n  }\n};\n","var tan30 = Math.sqrt(1 / 3),\n    tan30_2 = tan30 * 2;\n\nexport default {\n  draw: function(context, size) {\n    var y = Math.sqrt(size / tan30_2),\n        x = y * tan30;\n    context.moveTo(0, -y);\n    context.lineTo(x, 0);\n    context.lineTo(0, y);\n    context.lineTo(-x, 0);\n    context.closePath();\n  }\n};\n","import {pi, tau} from \"../math\";\n\nvar ka = 0.89081309152928522810,\n    kr = Math.sin(pi / 10) / Math.sin(7 * pi / 10),\n    kx = Math.sin(tau / 10) * kr,\n    ky = -Math.cos(tau / 10) * kr;\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size * ka),\n        x = kx * r,\n        y = ky * r;\n    context.moveTo(0, -r);\n    context.lineTo(x, y);\n    for (var i = 1; i < 5; ++i) {\n      var a = tau * i / 5,\n          c = Math.cos(a),\n          s = Math.sin(a);\n      context.lineTo(s * r, -c * r);\n      context.lineTo(c * x - s * y, s * x + c * y);\n    }\n    context.closePath();\n  }\n};\n","export default {\n  draw: function(context, size) {\n    var w = Math.sqrt(size),\n        x = -w / 2;\n    context.rect(x, x, w, w);\n  }\n};\n","var sqrt3 = Math.sqrt(3);\n\nexport default {\n  draw: function(context, size) {\n    var y = -Math.sqrt(size / (sqrt3 * 3));\n    context.moveTo(0, y * 2);\n    context.lineTo(-sqrt3 * y, -y);\n    context.lineTo(sqrt3 * y, -y);\n    context.closePath();\n  }\n};\n","var c = -0.5,\n    s = Math.sqrt(3) / 2,\n    k = 1 / Math.sqrt(12),\n    a = (k / 2 + 1) * 3;\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / a),\n        x0 = r / 2,\n        y0 = r * k,\n        x1 = x0,\n        y1 = r * k + r,\n        x2 = -x1,\n        y2 = y1;\n    context.moveTo(x0, y0);\n    context.lineTo(x1, y1);\n    context.lineTo(x2, y2);\n    context.lineTo(c * x0 - s * y0, s * x0 + c * y0);\n    context.lineTo(c * x1 - s * y1, s * x1 + c * y1);\n    context.lineTo(c * x2 - s * y2, s * x2 + c * y2);\n    context.lineTo(c * x0 + s * y0, c * y0 - s * x0);\n    context.lineTo(c * x1 + s * y1, c * y1 - s * x1);\n    context.lineTo(c * x2 + s * y2, c * y2 - s * x2);\n    context.closePath();\n  }\n};\n","import {path} from \"d3-path\";\nimport circle from \"./symbol/circle\";\nimport cross from \"./symbol/cross\";\nimport diamond from \"./symbol/diamond\";\nimport star from \"./symbol/star\";\nimport square from \"./symbol/square\";\nimport triangle from \"./symbol/triangle\";\nimport wye from \"./symbol/wye\";\nimport constant from \"./constant\";\n\nexport var symbols = [\n  circle,\n  cross,\n  diamond,\n  square,\n  star,\n  triangle,\n  wye\n];\n\nexport default function() {\n  var type = constant(circle),\n      size = constant(64),\n      context = null;\n\n  function symbol() {\n    var buffer;\n    if (!context) context = buffer = path();\n    type.apply(this, arguments).draw(context, +size.apply(this, arguments));\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  symbol.type = function(_) {\n    return arguments.length ? (type = typeof _ === \"function\" ? _ : constant(_), symbol) : type;\n  };\n\n  symbol.size = function(_) {\n    return arguments.length ? (size = typeof _ === \"function\" ? _ : constant(+_), symbol) : size;\n  };\n\n  symbol.context = function(_) {\n    return arguments.length ? (context = _ == null ? null : _, symbol) : context;\n  };\n\n  return symbol;\n}\n","export default function() {}\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    (2 * that._x0 + that._x1) / 3,\n    (2 * that._y0 + that._y1) / 3,\n    (that._x0 + 2 * that._x1) / 3,\n    (that._y0 + 2 * that._y1) / 3,\n    (that._x0 + 4 * that._x1 + x) / 6,\n    (that._y0 + 4 * that._y1 + y) / 6\n  );\n}\n\nexport function Basis(context) {\n  this._context = context;\n}\n\nBasis.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 3: point(this, this._x1, this._y1); // proceed\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6); // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new Basis(context);\n}\n","import noop from \"../noop\";\nimport {point} from \"./basis\";\n\nfunction BasisClosed(context) {\n  this._context = context;\n}\n\nBasisClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x2, this._y2);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.moveTo((this._x2 + 2 * this._x3) / 3, (this._y2 + 2 * this._y3) / 3);\n        this._context.lineTo((this._x3 + 2 * this._x2) / 3, (this._y3 + 2 * this._y2) / 3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x2, this._y2);\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x2 = x, this._y2 = y; break;\n      case 1: this._point = 2; this._x3 = x, this._y3 = y; break;\n      case 2: this._point = 3; this._x4 = x, this._y4 = y; this._context.moveTo((this._x0 + 4 * this._x1 + x) / 6, (this._y0 + 4 * this._y1 + y) / 6); break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisClosed(context);\n}\n","import {point} from \"./basis\";\n\nfunction BasisOpen(context) {\n  this._context = context;\n}\n\nBasisOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; var x0 = (this._x0 + 4 * this._x1 + x) / 6, y0 = (this._y0 + 4 * this._y1 + y) / 6; this._line ? this._context.lineTo(x0, y0) : this._context.moveTo(x0, y0); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisOpen(context);\n}\n","import {Basis} from \"./basis\";\n\nfunction Bundle(context, beta) {\n  this._basis = new Basis(context);\n  this._beta = beta;\n}\n\nBundle.prototype = {\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n    this._basis.lineStart();\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        j = x.length - 1;\n\n    if (j > 0) {\n      var x0 = x[0],\n          y0 = y[0],\n          dx = x[j] - x0,\n          dy = y[j] - y0,\n          i = -1,\n          t;\n\n      while (++i <= j) {\n        t = i / j;\n        this._basis.point(\n          this._beta * x[i] + (1 - this._beta) * (x0 + t * dx),\n          this._beta * y[i] + (1 - this._beta) * (y0 + t * dy)\n        );\n      }\n    }\n\n    this._x = this._y = null;\n    this._basis.lineEnd();\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\nexport default (function custom(beta) {\n\n  function bundle(context) {\n    return beta === 1 ? new Basis(context) : new Bundle(context, beta);\n  }\n\n  bundle.beta = function(beta) {\n    return custom(+beta);\n  };\n\n  return bundle;\n})(0.85);\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    that._x1 + that._k * (that._x2 - that._x0),\n    that._y1 + that._k * (that._y2 - that._y0),\n    that._x2 + that._k * (that._x1 - x),\n    that._y2 + that._k * (that._y1 - y),\n    that._x2,\n    that._y2\n  );\n}\n\nexport function Cardinal(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinal.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: point(this, this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; this._x1 = x, this._y1 = y; break;\n      case 2: this._point = 3; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new Cardinal(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import noop from \"../noop\";\nimport {point} from \"./cardinal\";\n\nexport function CardinalClosed(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalClosed(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {point} from \"./cardinal\";\n\nexport function CardinalOpen(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalOpen(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {epsilon} from \"../math\";\nimport {Cardinal} from \"./cardinal\";\n\nexport function point(that, x, y) {\n  var x1 = that._x1,\n      y1 = that._y1,\n      x2 = that._x2,\n      y2 = that._y2;\n\n  if (that._l01_a > epsilon) {\n    var a = 2 * that._l01_2a + 3 * that._l01_a * that._l12_a + that._l12_2a,\n        n = 3 * that._l01_a * (that._l01_a + that._l12_a);\n    x1 = (x1 * a - that._x0 * that._l12_2a + that._x2 * that._l01_2a) / n;\n    y1 = (y1 * a - that._y0 * that._l12_2a + that._y2 * that._l01_2a) / n;\n  }\n\n  if (that._l23_a > epsilon) {\n    var b = 2 * that._l23_2a + 3 * that._l23_a * that._l12_a + that._l12_2a,\n        m = 3 * that._l23_a * (that._l23_a + that._l12_a);\n    x2 = (x2 * b + that._x1 * that._l23_2a - x * that._l12_2a) / m;\n    y2 = (y2 * b + that._y1 * that._l23_2a - y * that._l12_2a) / m;\n  }\n\n  that._context.bezierCurveTo(x1, y1, x2, y2, that._x2, that._y2);\n}\n\nfunction CatmullRom(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRom.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: this.point(this._x2, this._y2); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; // proceed\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRom(context, alpha) : new Cardinal(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import {CardinalClosed} from \"./cardinalClosed\";\nimport noop from \"../noop\";\nimport {point} from \"./catmullRom\";\n\nfunction CatmullRomClosed(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomClosed(context, alpha) : new CardinalClosed(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import {CardinalOpen} from \"./cardinalOpen\";\nimport {point} from \"./catmullRom\";\n\nfunction CatmullRomOpen(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomOpen(context, alpha) : new CardinalOpen(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import noop from \"../noop\";\n\nfunction LinearClosed(context) {\n  this._context = context;\n}\n\nLinearClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._point) this._context.closePath();\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    if (this._point) this._context.lineTo(x, y);\n    else this._point = 1, this._context.moveTo(x, y);\n  }\n};\n\nexport default function(context) {\n  return new LinearClosed(context);\n}\n","function sign(x) {\n  return x < 0 ? -1 : 1;\n}\n\n// Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n      h1 = x2 - that._x1,\n      s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n      s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n      p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n}\n\n// Calculate a one-sided slope.\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n}\n\n// According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic Bézier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\nfunction point(that, t0, t1) {\n  var x0 = that._x0,\n      y0 = that._y0,\n      x1 = that._x1,\n      y1 = that._y1,\n      dx = (x1 - x0) / 3;\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n}\n\nfunction MonotoneX(context) {\n  this._context = context;\n}\n\nMonotoneX.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 =\n    this._t0 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n      case 3: point(this, this._t0, slope2(this, this._t0)); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    var t1 = NaN;\n\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; point(this, slope2(this, t1 = slope3(this, x, y)), t1); break;\n      default: point(this, this._t0, t1 = slope3(this, x, y)); break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n}\n\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context);\n}\n\n(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function(x, y) {\n  MonotoneX.prototype.point.call(this, y, x);\n};\n\nfunction ReflectContext(context) {\n  this._context = context;\n}\n\nReflectContext.prototype = {\n  moveTo: function(x, y) { this._context.moveTo(y, x); },\n  closePath: function() { this._context.closePath(); },\n  lineTo: function(x, y) { this._context.lineTo(y, x); },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) { this._context.bezierCurveTo(y1, x1, y2, x2, y, x); }\n};\n\nexport function monotoneX(context) {\n  return new MonotoneX(context);\n}\n\nexport function monotoneY(context) {\n  return new MonotoneY(context);\n}\n","function Natural(context) {\n  this._context = context;\n}\n\nNatural.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        n = x.length;\n\n    if (n) {\n      this._line ? this._context.lineTo(x[0], y[0]) : this._context.moveTo(x[0], y[0]);\n      if (n === 2) {\n        this._context.lineTo(x[1], y[1]);\n      } else {\n        var px = controlPoints(x),\n            py = controlPoints(y);\n        for (var i0 = 0, i1 = 1; i1 < n; ++i0, ++i1) {\n          this._context.bezierCurveTo(px[0][i0], py[0][i0], px[1][i0], py[1][i0], x[i1], y[i1]);\n        }\n      }\n    }\n\n    if (this._line || (this._line !== 0 && n === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n    this._x = this._y = null;\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\n// See https://www.particleincell.com/2012/bezier-splines/ for derivation.\nfunction controlPoints(x) {\n  var i,\n      n = x.length - 1,\n      m,\n      a = new Array(n),\n      b = new Array(n),\n      r = new Array(n);\n  a[0] = 0, b[0] = 2, r[0] = x[0] + 2 * x[1];\n  for (i = 1; i < n - 1; ++i) a[i] = 1, b[i] = 4, r[i] = 4 * x[i] + 2 * x[i + 1];\n  a[n - 1] = 2, b[n - 1] = 7, r[n - 1] = 8 * x[n - 1] + x[n];\n  for (i = 1; i < n; ++i) m = a[i] / b[i - 1], b[i] -= m, r[i] -= m * r[i - 1];\n  a[n - 1] = r[n - 1] / b[n - 1];\n  for (i = n - 2; i >= 0; --i) a[i] = (r[i] - a[i + 1]) / b[i];\n  b[n - 1] = (x[n] + a[n - 1]) / 2;\n  for (i = 0; i < n - 1; ++i) b[i] = 2 * x[i + 1] - a[i + 1];\n  return [a, b];\n}\n\nexport default function(context) {\n  return new Natural(context);\n}\n","function Step(context, t) {\n  this._context = context;\n  this._t = t;\n}\n\nStep.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = this._y = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (0 < this._t && this._t < 1 && this._point === 2) this._context.lineTo(this._x, this._y);\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    if (this._line >= 0) this._t = 1 - this._t, this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: {\n        if (this._t <= 0) {\n          this._context.lineTo(this._x, y);\n          this._context.lineTo(x, y);\n        } else {\n          var x1 = this._x * (1 - this._t) + x * this._t;\n          this._context.lineTo(x1, this._y);\n          this._context.lineTo(x1, y);\n        }\n        break;\n      }\n    }\n    this._x = x, this._y = y;\n  }\n};\n\nexport default function(context) {\n  return new Step(context, 0.5);\n}\n\nexport function stepBefore(context) {\n  return new Step(context, 0);\n}\n\nexport function stepAfter(context) {\n  return new Step(context, 1);\n}\n","export default function(series, order) {\n  if (!((n = series.length) > 1)) return;\n  for (var i = 1, j, s0, s1 = series[order[0]], n, m = s1.length; i < n; ++i) {\n    s0 = s1, s1 = series[order[i]];\n    for (j = 0; j < m; ++j) {\n      s1[j][1] += s1[j][0] = isNaN(s0[j][1]) ? s0[j][0] : s0[j][1];\n    }\n  }\n}\n","export default function(series) {\n  var n = series.length, o = new Array(n);\n  while (--n >= 0) o[n] = n;\n  return o;\n}\n","import {slice} from \"./array\";\nimport constant from \"./constant\";\nimport offsetNone from \"./offset/none\";\nimport orderNone from \"./order/none\";\n\nfunction stackValue(d, key) {\n  return d[key];\n}\n\nexport default function() {\n  var keys = constant([]),\n      order = orderNone,\n      offset = offsetNone,\n      value = stackValue;\n\n  function stack(data) {\n    var kz = keys.apply(this, arguments),\n        i,\n        m = data.length,\n        n = kz.length,\n        sz = new Array(n),\n        oz;\n\n    for (i = 0; i < n; ++i) {\n      for (var ki = kz[i], si = sz[i] = new Array(m), j = 0, sij; j < m; ++j) {\n        si[j] = sij = [0, +value(data[j], ki, j, data)];\n        sij.data = data[j];\n      }\n      si.key = ki;\n    }\n\n    for (i = 0, oz = order(sz); i < n; ++i) {\n      sz[oz[i]].index = i;\n    }\n\n    offset(sz, oz);\n    return sz;\n  }\n\n  stack.keys = function(_) {\n    return arguments.length ? (keys = typeof _ === \"function\" ? _ : constant(slice.call(_)), stack) : keys;\n  };\n\n  stack.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), stack) : value;\n  };\n\n  stack.order = function(_) {\n    return arguments.length ? (order = _ == null ? orderNone : typeof _ === \"function\" ? _ : constant(slice.call(_)), stack) : order;\n  };\n\n  stack.offset = function(_) {\n    return arguments.length ? (offset = _ == null ? offsetNone : _, stack) : offset;\n  };\n\n  return stack;\n}\n","import none from \"./none\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var i, n, j = 0, m = series[0].length, y; j < m; ++j) {\n    for (y = i = 0; i < n; ++i) y += series[i][j][1] || 0;\n    if (y) for (i = 0; i < n; ++i) series[i][j][1] /= y;\n  }\n  none(series, order);\n}\n","export default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var i, j = 0, d, dy, yp, yn, n, m = series[order[0]].length; j < m; ++j) {\n    for (yp = yn = 0, i = 0; i < n; ++i) {\n      if ((dy = (d = series[order[i]][j])[1] - d[0]) >= 0) {\n        d[0] = yp, d[1] = yp += dy;\n      } else if (dy < 0) {\n        d[1] = yn, d[0] = yn += dy;\n      } else {\n        d[0] = yp;\n      }\n    }\n  }\n}\n","import none from \"./none\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var j = 0, s0 = series[order[0]], n, m = s0.length; j < m; ++j) {\n    for (var i = 0, y = 0; i < n; ++i) y += series[i][j][1] || 0;\n    s0[j][1] += s0[j][0] = -y / 2;\n  }\n  none(series, order);\n}\n","import none from \"./none\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0) || !((m = (s0 = series[order[0]]).length) > 0)) return;\n  for (var y = 0, j = 1, s0, m, n; j < m; ++j) {\n    for (var i = 0, s1 = 0, s2 = 0; i < n; ++i) {\n      var si = series[order[i]],\n          sij0 = si[j][1] || 0,\n          sij1 = si[j - 1][1] || 0,\n          s3 = (sij0 - sij1) / 2;\n      for (var k = 0; k < i; ++k) {\n        var sk = series[order[k]],\n            skj0 = sk[j][1] || 0,\n            skj1 = sk[j - 1][1] || 0;\n        s3 += skj0 - skj1;\n      }\n      s1 += sij0, s2 += s3 * sij0;\n    }\n    s0[j - 1][1] += s0[j - 1][0] = y;\n    if (s1) y -= s2 / s1;\n  }\n  s0[j - 1][1] += s0[j - 1][0] = y;\n  none(series, order);\n}\n","import none from \"./none\";\n\nexport default function(series) {\n  var peaks = series.map(peak);\n  return none(series).sort(function(a, b) { return peaks[a] - peaks[b]; });\n}\n\nfunction peak(series) {\n  var i = -1, j = 0, n = series.length, vi, vj = -Infinity;\n  while (++i < n) if ((vi = +series[i][1]) > vj) vj = vi, j = i;\n  return j;\n}\n","import none from \"./none\";\n\nexport default function(series) {\n  var sums = series.map(sum);\n  return none(series).sort(function(a, b) { return sums[a] - sums[b]; });\n}\n\nexport function sum(series) {\n  var s = 0, i = -1, n = series.length, v;\n  while (++i < n) if (v = +series[i][1]) s += v;\n  return s;\n}\n","import ascending from \"./ascending\";\n\nexport default function(series) {\n  return ascending(series).reverse();\n}\n","import appearance from \"./appearance\";\nimport {sum} from \"./ascending\";\n\nexport default function(series) {\n  var n = series.length,\n      i,\n      j,\n      sums = series.map(sum),\n      order = appearance(series),\n      top = 0,\n      bottom = 0,\n      tops = [],\n      bottoms = [];\n\n  for (i = 0; i < n; ++i) {\n    j = order[i];\n    if (top < bottom) {\n      top += sums[j];\n      tops.push(j);\n    } else {\n      bottom += sums[j];\n      bottoms.push(j);\n    }\n  }\n\n  return bottoms.reverse().concat(tops);\n}\n","import none from \"./none\";\n\nexport default function(series) {\n  return none(series).reverse();\n}\n","/**\n * Strips HTML and \"un-escapes\" escape characters.\n * @param {String} input\n */\nfunction htmlDecode(input) {\n  if (input.replace(/\\s+/g, \"\") === \"\") return input;\n  var doc = new DOMParser().parseFromString(input.replace(/<[^>]+>/g, \"\"), \"text/html\");\n  return doc.documentElement ? doc.documentElement.textContent : input;\n}\n/**\n    @function textWidth\n    @desc Given a text string, returns the predicted pixel width of the string when placed into DOM.\n    @param {String|Array} text Can be either a single string or an array of strings to analyze.\n    @param {Object} [style] An object of CSS font styles to apply. Accepts any of the valid [CSS font property](http://www.w3schools.com/cssref/pr_font_font.asp) values.\n*/\n\n\nexport default function (text, style) {\n  style = Object.assign({\n    \"font-size\": 10,\n    \"font-family\": \"sans-serif\",\n    \"font-style\": \"normal\",\n    \"font-weight\": 400,\n    \"font-variant\": \"normal\"\n  }, style);\n  var context = document.createElement(\"canvas\").getContext(\"2d\");\n  var font = [];\n  font.push(style[\"font-style\"]);\n  font.push(style[\"font-variant\"]);\n  font.push(style[\"font-weight\"]);\n  font.push(typeof style[\"font-size\"] === \"string\" ? style[\"font-size\"] : \"\".concat(style[\"font-size\"], \"px\"));\n  font.push(style[\"font-family\"]);\n  context.font = font.join(\" \");\n  if (text instanceof Array) return text.map(function (t) {\n    return context.measureText(htmlDecode(t)).width;\n  });\n  return context.measureText(htmlDecode(text)).width;\n}","/**\n    @function trim\n    @desc Cross-browser implementation of [trim](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/Trim).\n    @param {String} str\n*/\nfunction trim(str) {\n  return str.toString().replace(/^\\s+|\\s+$/g, \"\");\n}\n/**\n    @function trimLeft\n    @desc Cross-browser implementation of [trimLeft](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/TrimLeft).\n    @param {String} str\n*/\n\n\nfunction trimLeft(str) {\n  return str.toString().replace(/^\\s+/, \"\");\n}\n/**\n    @function trimRight\n    @desc Cross-browser implementation of [trimRight](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/TrimRight).\n    @param {String} str\n*/\n\n\nfunction trimRight(str) {\n  return str.toString().replace(/\\s+$/, \"\");\n}\n\nexport { trim, trimLeft, trimRight };","import { default as textWidth } from \"./textWidth\";\nimport { trim } from \"./trim\";\nvar alpha = \"abcdefghiABCDEFGHI_!@#$%^&*()_+1234567890\",\n    checked = {},\n    height = 32;\nvar dejavu, macos, monospace, proportional;\n/**\n    @function fontExists\n    @desc Given either a single font-family or a list of fonts, returns the name of the first font that can be rendered, or `false` if none are installed on the user's machine.\n    @param {String|Array} font Can be either a valid CSS font-family string (single or comma-separated names) or an Array of string names.\n*/\n\nvar fontExists = function fontExists(font) {\n  if (!dejavu) {\n    dejavu = textWidth(alpha, {\n      \"font-family\": \"DejaVuSans\",\n      \"font-size\": height\n    });\n    macos = textWidth(alpha, {\n      \"font-family\": \"-apple-system\",\n      \"font-size\": height\n    });\n    monospace = textWidth(alpha, {\n      \"font-family\": \"monospace\",\n      \"font-size\": height\n    });\n    proportional = textWidth(alpha, {\n      \"font-family\": \"sans-serif\",\n      \"font-size\": height\n    });\n  }\n\n  if (!(font instanceof Array)) font = font.split(\",\");\n  font = font.map(function (f) {\n    return trim(f);\n  });\n\n  for (var i = 0; i < font.length; i++) {\n    var fam = font[i];\n    if (checked[fam] || [\"-apple-system\", \"monospace\", \"sans-serif\", \"DejaVuSans\"].includes(fam)) return fam;else if (checked[fam] === false) continue;\n    var width = textWidth(alpha, {\n      \"font-family\": fam,\n      \"font-size\": height\n    });\n    checked[fam] = width !== monospace;\n    if (checked[fam]) checked[fam] = width !== proportional;\n    if (macos && checked[fam]) checked[fam] = width !== macos;\n    if (dejavu && checked[fam]) checked[fam] = width !== dejavu;\n    if (checked[fam]) return fam;\n  }\n\n  return false;\n};\n\nexport default fontExists;","import { select } from \"d3-selection\";\n/**\n    @function rtl\n    @desc Returns `true` if the HTML or body element has either the \"dir\" HTML attribute or the \"direction\" CSS property set to \"rtl\".\n*/\n\nexport default (function () {\n  return select(\"html\").attr(\"dir\") === \"rtl\" || select(\"body\").attr(\"dir\") === \"rtl\" || select(\"html\").style(\"direction\") === \"rtl\" || select(\"body\").style(\"direction\") === \"rtl\";\n});","/**\n    @function stringify\n    @desc Coerces value into a String.\n    @param {String} value\n*/\nexport default function (value) {\n  if (value === void 0) value = \"undefined\";else if (!(typeof value === \"string\" || value instanceof String)) value = JSON.stringify(value);\n  return value;\n}","// great unicode list: http://asecuritysite.com/coding/asc2\nvar diacritics = [[/[\\300-\\305]/g, \"A\"], [/[\\340-\\345]/g, \"a\"], [/[\\306]/g, \"AE\"], [/[\\346]/g, \"ae\"], [/[\\337]/g, \"B\"], [/[\\307]/g, \"C\"], [/[\\347]/g, \"c\"], [/[\\320\\336\\376]/g, \"D\"], [/[\\360]/g, \"d\"], [/[\\310-\\313]/g, \"E\"], [/[\\350-\\353]/g, \"e\"], [/[\\314-\\317]/g, \"I\"], [/[\\354-\\357]/g, \"i\"], [/[\\321]/g, \"N\"], [/[\\361]/g, \"n\"], [/[\\322-\\326\\330]/g, \"O\"], [/[\\362-\\366\\370]/g, \"o\"], [/[\\331-\\334]/g, \"U\"], [/[\\371-\\374]/g, \"u\"], [/[\\327]/g, \"x\"], [/[\\335]/g, \"Y\"], [/[\\375\\377]/g, \"y\"]];\n/**\n    @function strip\n    @desc Removes all non ASCII characters from a string.\n    @param {String} value\n*/\n\nexport default function (value) {\n  return \"\".concat(value).replace(/[^A-Za-z0-9\\-_]/g, function (_char) {\n    if (_char === \" \") return \"-\";\n    var ret = false;\n\n    for (var d = 0; d < diacritics.length; d++) {\n      if (new RegExp(diacritics[d][0]).test(_char)) {\n        ret = diacritics[d][1];\n        break;\n      }\n    }\n\n    return ret || \"\";\n  });\n}","// scraped from http://www.fileformat.info/info/unicode/category/Mc/list.htm\n// and http://www.fileformat.info/info/unicode/category/Mn/list.htm\n// JSON.stringify([].slice.call(document.getElementsByClassName(\"table-list\")[0].getElementsByTagName(\"tr\")).filter(function(d){ return d.getElementsByTagName(\"a\").length && d.getElementsByTagName(\"a\")[0].innerHTML.length === 6; }).map(function(d){ return d.getElementsByTagName(\"a\")[0].innerHTML.replace(\"U\", \"u\").replace(\"+\", \"\"); }).sort());\n// The following unicode characters combine to form new characters and should never be split from surrounding characters.\nvar a = [\"u0903\", \"u093B\", \"u093E\", \"u093F\", \"u0940\", \"u0949\", \"u094A\", \"u094B\", \"u094C\", \"u094E\", \"u094F\", \"u0982\", \"u0983\", \"u09BE\", \"u09BF\", \"u09C0\", \"u09C7\", \"u09C8\", \"u09CB\", \"u09CC\", \"u09D7\", \"u0A03\", \"u0A3E\", \"u0A3F\", \"u0A40\", \"u0A83\", \"u0ABE\", \"u0ABF\", \"u0AC0\", \"u0AC9\", \"u0ACB\", \"u0ACC\", \"u0B02\", \"u0B03\", \"u0B3E\", \"u0B40\", \"u0B47\", \"u0B48\", \"u0B4B\", \"u0B4C\", \"u0B57\", \"u0BBE\", \"u0BBF\", \"u0BC1\", \"u0BC2\", \"u0BC6\", \"u0BC7\", \"u0BC8\", \"u0BCA\", \"u0BCB\", \"u0BCC\", \"u0BD7\", \"u0C01\", \"u0C02\", \"u0C03\", \"u0C41\", \"u0C42\", \"u0C43\", \"u0C44\", \"u0C82\", \"u0C83\", \"u0CBE\", \"u0CC0\", \"u0CC1\", \"u0CC2\", \"u0CC3\", \"u0CC4\", \"u0CC7\", \"u0CC8\", \"u0CCA\", \"u0CCB\", \"u0CD5\", \"u0CD6\", \"u0D02\", \"u0D03\", \"u0D3E\", \"u0D3F\", \"u0D40\", \"u0D46\", \"u0D47\", \"u0D48\", \"u0D4A\", \"u0D4B\", \"u0D4C\", \"u0D57\", \"u0D82\", \"u0D83\", \"u0DCF\", \"u0DD0\", \"u0DD1\", \"u0DD8\", \"u0DD9\", \"u0DDA\", \"u0DDB\", \"u0DDC\", \"u0DDD\", \"u0DDE\", \"u0DDF\", \"u0DF2\", \"u0DF3\", \"u0F3E\", \"u0F3F\", \"u0F7F\", \"u102B\", \"u102C\", \"u1031\", \"u1038\", \"u103B\", \"u103C\", \"u1056\", \"u1057\", \"u1062\", \"u1063\", \"u1064\", \"u1067\", \"u1068\", \"u1069\", \"u106A\", \"u106B\", \"u106C\", \"u106D\", \"u1083\", \"u1084\", \"u1087\", \"u1088\", \"u1089\", \"u108A\", \"u108B\", \"u108C\", \"u108F\", \"u109A\", \"u109B\", \"u109C\", \"u17B6\", \"u17BE\", \"u17BF\", \"u17C0\", \"u17C1\", \"u17C2\", \"u17C3\", \"u17C4\", \"u17C5\", \"u17C7\", \"u17C8\", \"u1923\", \"u1924\", \"u1925\", \"u1926\", \"u1929\", \"u192A\", \"u192B\", \"u1930\", \"u1931\", \"u1933\", \"u1934\", \"u1935\", \"u1936\", \"u1937\", \"u1938\", \"u1A19\", \"u1A1A\", \"u1A55\", \"u1A57\", \"u1A61\", \"u1A63\", \"u1A64\", \"u1A6D\", \"u1A6E\", \"u1A6F\", \"u1A70\", \"u1A71\", \"u1A72\", \"u1B04\", \"u1B35\", \"u1B3B\", \"u1B3D\", \"u1B3E\", \"u1B3F\", \"u1B40\", \"u1B41\", \"u1B43\", \"u1B44\", \"u1B82\", \"u1BA1\", \"u1BA6\", \"u1BA7\", \"u1BAA\", \"u1BE7\", \"u1BEA\", \"u1BEB\", \"u1BEC\", \"u1BEE\", \"u1BF2\", \"u1BF3\", \"u1C24\", \"u1C25\", \"u1C26\", \"u1C27\", \"u1C28\", \"u1C29\", \"u1C2A\", \"u1C2B\", \"u1C34\", \"u1C35\", \"u1CE1\", \"u1CF2\", \"u1CF3\", \"u302E\", \"u302F\", \"uA823\", \"uA824\", \"uA827\", \"uA880\", \"uA881\", \"uA8B4\", \"uA8B5\", \"uA8B6\", \"uA8B7\", \"uA8B8\", \"uA8B9\", \"uA8BA\", \"uA8BB\", \"uA8BC\", \"uA8BD\", \"uA8BE\", \"uA8BF\", \"uA8C0\", \"uA8C1\", \"uA8C2\", \"uA8C3\", \"uA952\", \"uA953\", \"uA983\", \"uA9B4\", \"uA9B5\", \"uA9BA\", \"uA9BB\", \"uA9BD\", \"uA9BE\", \"uA9BF\", \"uA9C0\", \"uAA2F\", \"uAA30\", \"uAA33\", \"uAA34\", \"uAA4D\", \"uAA7B\", \"uAA7D\", \"uAAEB\", \"uAAEE\", \"uAAEF\", \"uAAF5\", \"uABE3\", \"uABE4\", \"uABE6\", \"uABE7\", \"uABE9\", \"uABEA\", \"uABEC\"];\nvar b = [\"u0300\", \"u0301\", \"u0302\", \"u0303\", \"u0304\", \"u0305\", \"u0306\", \"u0307\", \"u0308\", \"u0309\", \"u030A\", \"u030B\", \"u030C\", \"u030D\", \"u030E\", \"u030F\", \"u0310\", \"u0311\", \"u0312\", \"u0313\", \"u0314\", \"u0315\", \"u0316\", \"u0317\", \"u0318\", \"u0319\", \"u031A\", \"u031B\", \"u031C\", \"u031D\", \"u031E\", \"u031F\", \"u0320\", \"u0321\", \"u0322\", \"u0323\", \"u0324\", \"u0325\", \"u0326\", \"u0327\", \"u0328\", \"u0329\", \"u032A\", \"u032B\", \"u032C\", \"u032D\", \"u032E\", \"u032F\", \"u0330\", \"u0331\", \"u0332\", \"u0333\", \"u0334\", \"u0335\", \"u0336\", \"u0337\", \"u0338\", \"u0339\", \"u033A\", \"u033B\", \"u033C\", \"u033D\", \"u033E\", \"u033F\", \"u0340\", \"u0341\", \"u0342\", \"u0343\", \"u0344\", \"u0345\", \"u0346\", \"u0347\", \"u0348\", \"u0349\", \"u034A\", \"u034B\", \"u034C\", \"u034D\", \"u034E\", \"u034F\", \"u0350\", \"u0351\", \"u0352\", \"u0353\", \"u0354\", \"u0355\", \"u0356\", \"u0357\", \"u0358\", \"u0359\", \"u035A\", \"u035B\", \"u035C\", \"u035D\", \"u035E\", \"u035F\", \"u0360\", \"u0361\", \"u0362\", \"u0363\", \"u0364\", \"u0365\", \"u0366\", \"u0367\", \"u0368\", \"u0369\", \"u036A\", \"u036B\", \"u036C\", \"u036D\", \"u036E\", \"u036F\", \"u0483\", \"u0484\", \"u0485\", \"u0486\", \"u0487\", \"u0591\", \"u0592\", \"u0593\", \"u0594\", \"u0595\", \"u0596\", \"u0597\", \"u0598\", \"u0599\", \"u059A\", \"u059B\", \"u059C\", \"u059D\", \"u059E\", \"u059F\", \"u05A0\", \"u05A1\", \"u05A2\", \"u05A3\", \"u05A4\", \"u05A5\", \"u05A6\", \"u05A7\", \"u05A8\", \"u05A9\", \"u05AA\", \"u05AB\", \"u05AC\", \"u05AD\", \"u05AE\", \"u05AF\", \"u05B0\", \"u05B1\", \"u05B2\", \"u05B3\", \"u05B4\", \"u05B5\", \"u05B6\", \"u05B7\", \"u05B8\", \"u05B9\", \"u05BA\", \"u05BB\", \"u05BC\", \"u05BD\", \"u05BF\", \"u05C1\", \"u05C2\", \"u05C4\", \"u05C5\", \"u05C7\", \"u0610\", \"u0611\", \"u0612\", \"u0613\", \"u0614\", \"u0615\", \"u0616\", \"u0617\", \"u0618\", \"u0619\", \"u061A\", \"u064B\", \"u064C\", \"u064D\", \"u064E\", \"u064F\", \"u0650\", \"u0651\", \"u0652\", \"u0653\", \"u0654\", \"u0655\", \"u0656\", \"u0657\", \"u0658\", \"u0659\", \"u065A\", \"u065B\", \"u065C\", \"u065D\", \"u065E\", \"u065F\", \"u0670\", \"u06D6\", \"u06D7\", \"u06D8\", \"u06D9\", \"u06DA\", \"u06DB\", \"u06DC\", \"u06DF\", \"u06E0\", \"u06E1\", \"u06E2\", \"u06E3\", \"u06E4\", \"u06E7\", \"u06E8\", \"u06EA\", \"u06EB\", \"u06EC\", \"u06ED\", \"u0711\", \"u0730\", \"u0731\", \"u0732\", \"u0733\", \"u0734\", \"u0735\", \"u0736\", \"u0737\", \"u0738\", \"u0739\", \"u073A\", \"u073B\", \"u073C\", \"u073D\", \"u073E\", \"u073F\", \"u0740\", \"u0741\", \"u0742\", \"u0743\", \"u0744\", \"u0745\", \"u0746\", \"u0747\", \"u0748\", \"u0749\", \"u074A\", \"u07A6\", \"u07A7\", \"u07A8\", \"u07A9\", \"u07AA\", \"u07AB\", \"u07AC\", \"u07AD\", \"u07AE\", \"u07AF\", \"u07B0\", \"u07EB\", \"u07EC\", \"u07ED\", \"u07EE\", \"u07EF\", \"u07F0\", \"u07F1\", \"u07F2\", \"u07F3\", \"u0816\", \"u0817\", \"u0818\", \"u0819\", \"u081B\", \"u081C\", \"u081D\", \"u081E\", \"u081F\", \"u0820\", \"u0821\", \"u0822\", \"u0823\", \"u0825\", \"u0826\", \"u0827\", \"u0829\", \"u082A\", \"u082B\", \"u082C\", \"u082D\", \"u0859\", \"u085A\", \"u085B\", \"u08E3\", \"u08E4\", \"u08E5\", \"u08E6\", \"u08E7\", \"u08E8\", \"u08E9\", \"u08EA\", \"u08EB\", \"u08EC\", \"u08ED\", \"u08EE\", \"u08EF\", \"u08F0\", \"u08F1\", \"u08F2\", \"u08F3\", \"u08F4\", \"u08F5\", \"u08F6\", \"u08F7\", \"u08F8\", \"u08F9\", \"u08FA\", \"u08FB\", \"u08FC\", \"u08FD\", \"u08FE\", \"u08FF\", \"u0900\", \"u0901\", \"u0902\", \"u093A\", \"u093C\", \"u0941\", \"u0942\", \"u0943\", \"u0944\", \"u0945\", \"u0946\", \"u0947\", \"u0948\", \"u094D\", \"u0951\", \"u0952\", \"u0953\", \"u0954\", \"u0955\", \"u0956\", \"u0957\", \"u0962\", \"u0963\", \"u0981\", \"u09BC\", \"u09C1\", \"u09C2\", \"u09C3\", \"u09C4\", \"u09CD\", \"u09E2\", \"u09E3\", \"u0A01\", \"u0A02\", \"u0A3C\", \"u0A41\", \"u0A42\", \"u0A47\", \"u0A48\", \"u0A4B\", \"u0A4C\", \"u0A4D\", \"u0A51\", \"u0A70\", \"u0A71\", \"u0A75\", \"u0A81\", \"u0A82\", \"u0ABC\", \"u0AC1\", \"u0AC2\", \"u0AC3\", \"u0AC4\", \"u0AC5\", \"u0AC7\", \"u0AC8\", \"u0ACD\", \"u0AE2\", \"u0AE3\", \"u0B01\", \"u0B3C\", \"u0B3F\", \"u0B41\", \"u0B42\", \"u0B43\", \"u0B44\", \"u0B4D\", \"u0B56\", \"u0B62\", \"u0B63\", \"u0B82\", \"u0BC0\", \"u0BCD\", \"u0C00\", \"u0C3E\", \"u0C3F\", \"u0C40\", \"u0C46\", \"u0C47\", \"u0C48\", \"u0C4A\", \"u0C4B\", \"u0C4C\", \"u0C4D\", \"u0C55\", \"u0C56\", \"u0C62\", \"u0C63\", \"u0C81\", \"u0CBC\", \"u0CBF\", \"u0CC6\", \"u0CCC\", \"u0CCD\", \"u0CE2\", \"u0CE3\", \"u0D01\", \"u0D41\", \"u0D42\", \"u0D43\", \"u0D44\", \"u0D4D\", \"u0D62\", \"u0D63\", \"u0DCA\", \"u0DD2\", \"u0DD3\", \"u0DD4\", \"u0DD6\", \"u0E31\", \"u0E34\", \"u0E35\", \"u0E36\", \"u0E37\", \"u0E38\", \"u0E39\", \"u0E3A\", \"u0E47\", \"u0E48\", \"u0E49\", \"u0E4A\", \"u0E4B\", \"u0E4C\", \"u0E4D\", \"u0E4E\", \"u0EB1\", \"u0EB4\", \"u0EB5\", \"u0EB6\", \"u0EB7\", \"u0EB8\", \"u0EB9\", \"u0EBB\", \"u0EBC\", \"u0EC8\", \"u0EC9\", \"u0ECA\", \"u0ECB\", \"u0ECC\", \"u0ECD\", \"u0F18\", \"u0F19\", \"u0F35\", \"u0F37\", \"u0F39\", \"u0F71\", \"u0F72\", \"u0F73\", \"u0F74\", \"u0F75\", \"u0F76\", \"u0F77\", \"u0F78\", \"u0F79\", \"u0F7A\", \"u0F7B\", \"u0F7C\", \"u0F7D\", \"u0F7E\", \"u0F80\", \"u0F81\", \"u0F82\", \"u0F83\", \"u0F84\", \"u0F86\", \"u0F87\", \"u0F8D\", \"u0F8E\", \"u0F8F\", \"u0F90\", \"u0F91\", \"u0F92\", \"u0F93\", \"u0F94\", \"u0F95\", \"u0F96\", \"u0F97\", \"u0F99\", \"u0F9A\", \"u0F9B\", \"u0F9C\", \"u0F9D\", \"u0F9E\", \"u0F9F\", \"u0FA0\", \"u0FA1\", \"u0FA2\", \"u0FA3\", \"u0FA4\", \"u0FA5\", \"u0FA6\", \"u0FA7\", \"u0FA8\", \"u0FA9\", \"u0FAA\", \"u0FAB\", \"u0FAC\", \"u0FAD\", \"u0FAE\", \"u0FAF\", \"u0FB0\", \"u0FB1\", \"u0FB2\", \"u0FB3\", \"u0FB4\", \"u0FB5\", \"u0FB6\", \"u0FB7\", \"u0FB8\", \"u0FB9\", \"u0FBA\", \"u0FBB\", \"u0FBC\", \"u0FC6\", \"u102D\", \"u102E\", \"u102F\", \"u1030\", \"u1032\", \"u1033\", \"u1034\", \"u1035\", \"u1036\", \"u1037\", \"u1039\", \"u103A\", \"u103D\", \"u103E\", \"u1058\", \"u1059\", \"u105E\", \"u105F\", \"u1060\", \"u1071\", \"u1072\", \"u1073\", \"u1074\", \"u1082\", \"u1085\", \"u1086\", \"u108D\", \"u109D\", \"u135D\", \"u135E\", \"u135F\", \"u1712\", \"u1713\", \"u1714\", \"u1732\", \"u1733\", \"u1734\", \"u1752\", \"u1753\", \"u1772\", \"u1773\", \"u17B4\", \"u17B5\", \"u17B7\", \"u17B8\", \"u17B9\", \"u17BA\", \"u17BB\", \"u17BC\", \"u17BD\", \"u17C6\", \"u17C9\", \"u17CA\", \"u17CB\", \"u17CC\", \"u17CD\", \"u17CE\", \"u17CF\", \"u17D0\", \"u17D1\", \"u17D2\", \"u17D3\", \"u17DD\", \"u180B\", \"u180C\", \"u180D\", \"u18A9\", \"u1920\", \"u1921\", \"u1922\", \"u1927\", \"u1928\", \"u1932\", \"u1939\", \"u193A\", \"u193B\", \"u1A17\", \"u1A18\", \"u1A1B\", \"u1A56\", \"u1A58\", \"u1A59\", \"u1A5A\", \"u1A5B\", \"u1A5C\", \"u1A5D\", \"u1A5E\", \"u1A60\", \"u1A62\", \"u1A65\", \"u1A66\", \"u1A67\", \"u1A68\", \"u1A69\", \"u1A6A\", \"u1A6B\", \"u1A6C\", \"u1A73\", \"u1A74\", \"u1A75\", \"u1A76\", \"u1A77\", \"u1A78\", \"u1A79\", \"u1A7A\", \"u1A7B\", \"u1A7C\", \"u1A7F\", \"u1AB0\", \"u1AB1\", \"u1AB2\", \"u1AB3\", \"u1AB4\", \"u1AB5\", \"u1AB6\", \"u1AB7\", \"u1AB8\", \"u1AB9\", \"u1ABA\", \"u1ABB\", \"u1ABC\", \"u1ABD\", \"u1B00\", \"u1B01\", \"u1B02\", \"u1B03\", \"u1B34\", \"u1B36\", \"u1B37\", \"u1B38\", \"u1B39\", \"u1B3A\", \"u1B3C\", \"u1B42\", \"u1B6B\", \"u1B6C\", \"u1B6D\", \"u1B6E\", \"u1B6F\", \"u1B70\", \"u1B71\", \"u1B72\", \"u1B73\", \"u1B80\", \"u1B81\", \"u1BA2\", \"u1BA3\", \"u1BA4\", \"u1BA5\", \"u1BA8\", \"u1BA9\", \"u1BAB\", \"u1BAC\", \"u1BAD\", \"u1BE6\", \"u1BE8\", \"u1BE9\", \"u1BED\", \"u1BEF\", \"u1BF0\", \"u1BF1\", \"u1C2C\", \"u1C2D\", \"u1C2E\", \"u1C2F\", \"u1C30\", \"u1C31\", \"u1C32\", \"u1C33\", \"u1C36\", \"u1C37\", \"u1CD0\", \"u1CD1\", \"u1CD2\", \"u1CD4\", \"u1CD5\", \"u1CD6\", \"u1CD7\", \"u1CD8\", \"u1CD9\", \"u1CDA\", \"u1CDB\", \"u1CDC\", \"u1CDD\", \"u1CDE\", \"u1CDF\", \"u1CE0\", \"u1CE2\", \"u1CE3\", \"u1CE4\", \"u1CE5\", \"u1CE6\", \"u1CE7\", \"u1CE8\", \"u1CED\", \"u1CF4\", \"u1CF8\", \"u1CF9\", \"u1DC0\", \"u1DC1\", \"u1DC2\", \"u1DC3\", \"u1DC4\", \"u1DC5\", \"u1DC6\", \"u1DC7\", \"u1DC8\", \"u1DC9\", \"u1DCA\", \"u1DCB\", \"u1DCC\", \"u1DCD\", \"u1DCE\", \"u1DCF\", \"u1DD0\", \"u1DD1\", \"u1DD2\", \"u1DD3\", \"u1DD4\", \"u1DD5\", \"u1DD6\", \"u1DD7\", \"u1DD8\", \"u1DD9\", \"u1DDA\", \"u1DDB\", \"u1DDC\", \"u1DDD\", \"u1DDE\", \"u1DDF\", \"u1DE0\", \"u1DE1\", \"u1DE2\", \"u1DE3\", \"u1DE4\", \"u1DE5\", \"u1DE6\", \"u1DE7\", \"u1DE8\", \"u1DE9\", \"u1DEA\", \"u1DEB\", \"u1DEC\", \"u1DED\", \"u1DEE\", \"u1DEF\", \"u1DF0\", \"u1DF1\", \"u1DF2\", \"u1DF3\", \"u1DF4\", \"u1DF5\", \"u1DFC\", \"u1DFD\", \"u1DFE\", \"u1DFF\", \"u20D0\", \"u20D1\", \"u20D2\", \"u20D3\", \"u20D4\", \"u20D5\", \"u20D6\", \"u20D7\", \"u20D8\", \"u20D9\", \"u20DA\", \"u20DB\", \"u20DC\", \"u20E1\", \"u20E5\", \"u20E6\", \"u20E7\", \"u20E8\", \"u20E9\", \"u20EA\", \"u20EB\", \"u20EC\", \"u20ED\", \"u20EE\", \"u20EF\", \"u20F0\", \"u2CEF\", \"u2CF0\", \"u2CF1\", \"u2D7F\", \"u2DE0\", \"u2DE1\", \"u2DE2\", \"u2DE3\", \"u2DE4\", \"u2DE5\", \"u2DE6\", \"u2DE7\", \"u2DE8\", \"u2DE9\", \"u2DEA\", \"u2DEB\", \"u2DEC\", \"u2DED\", \"u2DEE\", \"u2DEF\", \"u2DF0\", \"u2DF1\", \"u2DF2\", \"u2DF3\", \"u2DF4\", \"u2DF5\", \"u2DF6\", \"u2DF7\", \"u2DF8\", \"u2DF9\", \"u2DFA\", \"u2DFB\", \"u2DFC\", \"u2DFD\", \"u2DFE\", \"u2DFF\", \"u302A\", \"u302B\", \"u302C\", \"u302D\", \"u3099\", \"u309A\", \"uA66F\", \"uA674\", \"uA675\", \"uA676\", \"uA677\", \"uA678\", \"uA679\", \"uA67A\", \"uA67B\", \"uA67C\", \"uA67D\", \"uA69E\", \"uA69F\", \"uA6F0\", \"uA6F1\", \"uA802\", \"uA806\", \"uA80B\", \"uA825\", \"uA826\", \"uA8C4\", \"uA8E0\", \"uA8E1\", \"uA8E2\", \"uA8E3\", \"uA8E4\", \"uA8E5\", \"uA8E6\", \"uA8E7\", \"uA8E8\", \"uA8E9\", \"uA8EA\", \"uA8EB\", \"uA8EC\", \"uA8ED\", \"uA8EE\", \"uA8EF\", \"uA8F0\", \"uA8F1\", \"uA926\", \"uA927\", \"uA928\", \"uA929\", \"uA92A\", \"uA92B\", \"uA92C\", \"uA92D\", \"uA947\", \"uA948\", \"uA949\", \"uA94A\", \"uA94B\", \"uA94C\", \"uA94D\", \"uA94E\", \"uA94F\", \"uA950\", \"uA951\", \"uA980\", \"uA981\", \"uA982\", \"uA9B3\", \"uA9B6\", \"uA9B7\", \"uA9B8\", \"uA9B9\", \"uA9BC\", \"uA9E5\", \"uAA29\", \"uAA2A\", \"uAA2B\", \"uAA2C\", \"uAA2D\", \"uAA2E\", \"uAA31\", \"uAA32\", \"uAA35\", \"uAA36\", \"uAA43\", \"uAA4C\", \"uAA7C\", \"uAAB0\", \"uAAB2\", \"uAAB3\", \"uAAB4\", \"uAAB7\", \"uAAB8\", \"uAABE\", \"uAABF\", \"uAAC1\", \"uAAEC\", \"uAAED\", \"uAAF6\", \"uABE5\", \"uABE8\", \"uABED\", \"uFB1E\", \"uFE00\", \"uFE01\", \"uFE02\", \"uFE03\", \"uFE04\", \"uFE05\", \"uFE06\", \"uFE07\", \"uFE08\", \"uFE09\", \"uFE0A\", \"uFE0B\", \"uFE0C\", \"uFE0D\", \"uFE0E\", \"uFE0F\", \"uFE20\", \"uFE21\", \"uFE22\", \"uFE23\", \"uFE24\", \"uFE25\", \"uFE26\", \"uFE27\", \"uFE28\", \"uFE29\", \"uFE2A\", \"uFE2B\", \"uFE2C\", \"uFE2D\", \"uFE2E\", \"uFE2F\"];\nexport default a.concat(b);","import { default as stringify } from \"./stringify\";\nimport { default as combiningMarks } from \"./combiningMarks\";\nimport { merge } from \"d3-array\";\nvar splitChars = [\"-\", \";\", \":\", \"&\", \"|\", \"u0E2F\", // thai character pairannoi\n\"u0EAF\", // lao ellipsis\n\"u0EC6\", // lao ko la (word repetition)\n\"u0ECC\", // lao cancellation mark\n\"u104A\", // myanmar sign little section\n\"u104B\", // myanmar sign section\n\"u104C\", // myanmar symbol locative\n\"u104D\", // myanmar symbol completed\n\"u104E\", // myanmar symbol aforementioned\n\"u104F\", // myanmar symbol genitive\n\"u2013\", // en dash\n\"u2014\", // em dash\n\"u2027\", // simplified chinese hyphenation point\n\"u3000\", // simplified chinese ideographic space\n\"u3001\", // simplified chinese ideographic comma\n\"u3002\", // simplified chinese ideographic full stop\n\"uFF0C\", // full-width comma\n\"uFF5E\" // wave dash\n];\nvar prefixChars = [\"'\", \"<\", \"(\", \"{\", \"[\", \"u00AB\", // left-pointing double angle quotation mark\n\"u300A\", // left double angle bracket\n\"u3008\" // left angle bracket\n];\nvar suffixChars = [\"'\", \">\", \")\", \"}\", \"]\", \".\", \"!\", \"?\", \"/\", \"u00BB\", // right-pointing double angle quotation mark\n\"u300B\", // right double angle bracket\n\"u3009\" // right angle bracket\n].concat(splitChars);\nvar burmeseRange = \"\\u1000-\\u102A\\u103F-\\u1049\\u1050-\\u1055\";\nvar japaneseRange = \"\\u3040-\\u309F\\u30A0-\\u30FF\\uFF00-\\uFF0B\\uFF0D-\\uFF5D\\uFF5F-\\uFF9F\\u3400-\\u4DBF\";\nvar chineseRange = \"\\u3400-\\u9FBF\";\nvar laoRange = \"\\u0E81-\\u0EAE\\u0EB0-\\u0EC4\\u0EC8-\\u0ECB\\u0ECD-\\u0EDD\";\nvar noSpaceRange = burmeseRange + chineseRange + japaneseRange + laoRange;\nvar splitWords = new RegExp(\"(\\\\\".concat(splitChars.join(\"|\\\\\"), \")*[^\\\\s|\\\\\").concat(splitChars.join(\"|\\\\\"), \"]*(\\\\\").concat(splitChars.join(\"|\\\\\"), \")*\"), \"g\");\nvar noSpaceLanguage = new RegExp(\"[\".concat(noSpaceRange, \"]\"));\nvar splitAllChars = new RegExp(\"(\\\\\".concat(prefixChars.join(\"|\\\\\"), \")*[\").concat(noSpaceRange, \"](\\\\\").concat(suffixChars.join(\"|\\\\\"), \"|\\\\\").concat(combiningMarks.join(\"|\\\\\"), \")*|[a-z0-9]+\"), \"gi\");\n/**\n    @function textSplit\n    @desc Splits a given sentence into an array of words.\n    @param {String} sentence\n*/\n\nexport default function (sentence) {\n  if (!noSpaceLanguage.test(sentence)) return stringify(sentence).match(splitWords).filter(function (w) {\n    return w.length;\n  });\n  return merge(stringify(sentence).match(splitWords).map(function (d) {\n    if (noSpaceLanguage.test(d)) return d.match(splitAllChars);\n    return [d];\n  }));\n}\nexport { prefixChars, splitChars, splitWords, suffixChars };","import measure from \"./textWidth\";\nimport defaultSplit from \"./textSplit\";\nimport stringify from \"./stringify\";\nimport { trimRight } from \"./trim\";\n/**\n    @function textWrap\n    @desc Based on the defined styles and dimensions, breaks a string into an array of strings for each line of text.\n*/\n\nexport default function () {\n  var fontFamily = \"sans-serif\",\n      fontSize = 10,\n      fontWeight = 400,\n      height = 200,\n      lineHeight,\n      maxLines = null,\n      overflow = false,\n      split = defaultSplit,\n      width = 200;\n  /**\n      The inner return object and wraps the text and returns the line data array.\n      @private\n  */\n\n  function textWrap(sentence) {\n    sentence = stringify(sentence);\n    if (lineHeight === void 0) lineHeight = Math.ceil(fontSize * 1.4);\n    var words = split(sentence);\n    var style = {\n      \"font-family\": fontFamily,\n      \"font-size\": fontSize,\n      \"font-weight\": fontWeight,\n      \"line-height\": lineHeight\n    };\n    var line = 1,\n        textProg = \"\",\n        truncated = false,\n        widthProg = 0;\n    var lineData = [],\n        sizes = measure(words, style),\n        space = measure(\" \", style);\n\n    for (var i = 0; i < words.length; i++) {\n      var word = words[i];\n      var wordWidth = sizes[words.indexOf(word)];\n      word += sentence.slice(textProg.length + word.length).match(\"^( |\\n)*\", \"g\")[0];\n\n      if (textProg.slice(-1) === \"\\n\" || widthProg + wordWidth > width) {\n        if (!i && !overflow) {\n          truncated = true;\n          break;\n        }\n\n        if (lineData.length >= line) lineData[line - 1] = trimRight(lineData[line - 1]);\n        line++;\n\n        if (lineHeight * line > height || wordWidth > width && !overflow || maxLines && line > maxLines) {\n          truncated = true;\n          break;\n        }\n\n        widthProg = 0;\n        lineData.push(word);\n      } else if (!i) lineData[0] = word;else lineData[line - 1] += word;\n\n      textProg += word;\n      widthProg += wordWidth;\n      widthProg += word.match(/[\\s]*$/g)[0].length * space;\n    }\n\n    return {\n      lines: lineData,\n      sentence: sentence,\n      truncated: truncated,\n      widths: measure(lineData, style),\n      words: words\n    };\n  }\n  /**\n      @memberof textWrap\n      @desc If *value* is specified, sets the font family accessor to the specified function or string and returns this generator. If *value* is not specified, returns the current font family.\n      @param {Function|String} [*value* = \"sans-serif\"]\n  */\n\n\n  textWrap.fontFamily = function (_) {\n    return arguments.length ? (fontFamily = _, textWrap) : fontFamily;\n  };\n  /**\n      @memberof textWrap\n      @desc If *value* is specified, sets the font size accessor to the specified function or number and returns this generator. If *value* is not specified, returns the current font size.\n      @param {Function|Number} [*value* = 10]\n  */\n\n\n  textWrap.fontSize = function (_) {\n    return arguments.length ? (fontSize = _, textWrap) : fontSize;\n  };\n  /**\n      @memberof textWrap\n      @desc If *value* is specified, sets the font weight accessor to the specified function or number and returns this generator. If *value* is not specified, returns the current font weight.\n      @param {Function|Number|String} [*value* = 400]\n  */\n\n\n  textWrap.fontWeight = function (_) {\n    return arguments.length ? (fontWeight = _, textWrap) : fontWeight;\n  };\n  /**\n      @memberof textWrap\n      @desc If *value* is specified, sets height limit to the specified value and returns this generator. If *value* is not specified, returns the current value.\n      @param {Number} [*value* = 200]\n  */\n\n\n  textWrap.height = function (_) {\n    return arguments.length ? (height = _, textWrap) : height;\n  };\n  /**\n      @memberof textWrap\n      @desc If *value* is specified, sets the line height accessor to the specified function or number and returns this generator. If *value* is not specified, returns the current line height accessor, which is 1.1 times the [font size](#textWrap.fontSize) by default.\n      @param {Function|Number} [*value*]\n  */\n\n\n  textWrap.lineHeight = function (_) {\n    return arguments.length ? (lineHeight = _, textWrap) : lineHeight;\n  };\n  /**\n      @memberof textWrap\n      @desc If *value* is specified, sets the maximum number of lines allowed when wrapping.\n      @param {Function|Number} [*value*]\n  */\n\n\n  textWrap.maxLines = function (_) {\n    return arguments.length ? (maxLines = _, textWrap) : maxLines;\n  };\n  /**\n      @memberof textWrap\n      @desc If *value* is specified, sets the overflow to the specified boolean and returns this generator. If *value* is not specified, returns the current overflow value.\n      @param {Boolean} [*value* = false]\n  */\n\n\n  textWrap.overflow = function (_) {\n    return arguments.length ? (overflow = _, textWrap) : overflow;\n  };\n  /**\n      @memberof textWrap\n      @desc If *value* is specified, sets the word split function to the specified function and returns this generator. If *value* is not specified, returns the current word split function.\n      @param {Function} [*value*] A function that, when passed a string, is expected to return that string split into an array of words to textWrap. The default split function splits strings on the following characters: `-`, `/`, `;`, `:`, `&`\n  */\n\n\n  textWrap.split = function (_) {\n    return arguments.length ? (split = _, textWrap) : split;\n  };\n  /**\n      @memberof textWrap\n      @desc If *value* is specified, sets width limit to the specified value and returns this generator. If *value* is not specified, returns the current value.\n      @param {Number} [*value* = 200]\n  */\n\n\n  textWrap.width = function (_) {\n    return arguments.length ? (width = _, textWrap) : width;\n  };\n\n  return textWrap;\n}","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n/**\n    @external BaseClass\n    @see https://github.com/d3plus/d3plus-common#BaseClass\n*/\nimport { select as _select } from \"d3-selection\";\nimport { transition } from \"d3-transition\";\nimport { max, min, sum } from \"d3-array\";\nimport { accessor, BaseClass, constant, parseSides } from \"d3plus-common\";\nimport fontExists from \"./fontExists\";\nimport { default as detectRTL } from \"./rtl\";\nimport strip from \"./strip\";\nimport textSplit from \"./textSplit\";\nimport measure from \"./textWidth\";\nimport wrap from \"./textWrap\";\nimport { trim, trimRight } from \"./trim\";\nvar defaultHtmlLookup = {\n  i: \"font-style: italic;\",\n  em: \"font-style: italic;\",\n  b: \"font-weight: bold;\",\n  strong: \"font-weight: bold;\"\n};\n/**\n    @class TextBox\n    @extends external:BaseClass\n    @desc Creates a wrapped text box for each point in an array of data. See [this example](https://d3plus.org/examples/d3plus-text/getting-started/) for help getting started using the TextBox class.\n*/\n\nvar TextBox =\n/*#__PURE__*/\nfunction (_BaseClass) {\n  _inherits(TextBox, _BaseClass);\n\n  /**\n      @memberof TextBox\n      @desc Invoked when creating a new class instance, and sets any default parameters.\n      @private\n  */\n  function TextBox() {\n    var _this;\n\n    _classCallCheck(this, TextBox);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(TextBox).call(this));\n    _this._ariaHidden = constant(\"false\");\n    _this._delay = 0;\n    _this._duration = 0;\n\n    _this._ellipsis = function (text, line) {\n      return line ? \"\".concat(text.replace(/\\.|,$/g, \"\"), \"...\") : \"\";\n    };\n\n    _this._fontColor = constant(\"black\");\n    _this._fontFamily = constant([\"Roboto\", \"Helvetica Neue\", \"HelveticaNeue\", \"Helvetica\", \"Arial\", \"sans-serif\"]);\n    _this._fontMax = constant(50);\n    _this._fontMin = constant(8);\n    _this._fontOpacity = constant(1);\n    _this._fontResize = constant(false);\n    _this._fontSize = constant(10);\n    _this._fontWeight = constant(400);\n    _this._height = accessor(\"height\", 200);\n    _this._html = defaultHtmlLookup;\n\n    _this._id = function (d, i) {\n      return d.id || \"\".concat(i);\n    };\n\n    _this._lineHeight = function (d, i) {\n      return _this._fontSize(d, i) * 1.2;\n    };\n\n    _this._maxLines = constant(null);\n    _this._on = {};\n    _this._overflow = constant(false);\n    _this._padding = constant(0);\n    _this._pointerEvents = constant(\"auto\");\n    _this._rotate = constant(0);\n\n    _this._rotateAnchor = function (d) {\n      return [d.w / 2, d.h / 2];\n    };\n\n    _this._split = textSplit;\n    _this._text = accessor(\"text\");\n    _this._textAnchor = constant(\"start\");\n    _this._verticalAlign = constant(\"top\");\n    _this._width = accessor(\"width\", 200);\n    _this._x = accessor(\"x\", 0);\n    _this._y = accessor(\"y\", 0);\n    return _this;\n  }\n  /**\n      @memberof TextBox\n      @desc Renders the text boxes. If a *callback* is specified, it will be called once the shapes are done drawing.\n      @param {Function} [*callback* = undefined]\n  */\n\n\n  _createClass(TextBox, [{\n    key: \"render\",\n    value: function render(callback) {\n      var _this2 = this;\n\n      if (this._select === void 0) this.select(_select(\"body\").append(\"svg\").style(\"width\", \"\".concat(window.innerWidth, \"px\")).style(\"height\", \"\".concat(window.innerHeight, \"px\")).node());\n      var that = this;\n\n      var boxes = this._select.selectAll(\".d3plus-textBox\").data(this._data.reduce(function (arr, d, i) {\n        var t = _this2._text(d, i);\n\n        if (t === void 0) return arr;\n        t = trim(t);\n\n        var resize = _this2._fontResize(d, i);\n\n        var lHRatio = _this2._lineHeight(d, i) / _this2._fontSize(d, i);\n\n        var fS = resize ? _this2._fontMax(d, i) : _this2._fontSize(d, i),\n            lH = resize ? fS * lHRatio : _this2._lineHeight(d, i),\n            line = 1,\n            lineData = [],\n            sizes,\n            wrapResults;\n        var style = {\n          \"font-family\": fontExists(_this2._fontFamily(d, i)),\n          \"font-size\": fS,\n          \"font-weight\": _this2._fontWeight(d, i),\n          \"line-height\": lH\n        };\n        var padding = parseSides(_this2._padding(d, i));\n        var h = _this2._height(d, i) - (padding.top + padding.bottom),\n            w = _this2._width(d, i) - (padding.left + padding.right);\n        var wrapper = wrap().fontFamily(style[\"font-family\"]).fontSize(fS).fontWeight(style[\"font-weight\"]).lineHeight(lH).maxLines(_this2._maxLines(d, i)).height(h).overflow(_this2._overflow(d, i)).width(w).split(_this2._split);\n\n        var fMax = _this2._fontMax(d, i),\n            fMin = _this2._fontMin(d, i),\n            vA = _this2._verticalAlign(d, i),\n            words = _this2._split(t, i);\n        /**\n            Figures out the lineData to be used for wrapping.\n            @private\n        */\n\n\n        function checkSize() {\n          var truncate = function truncate() {\n            if (line < 1) lineData = [that._ellipsis(\"\", line)];else lineData[line - 1] = that._ellipsis(lineData[line - 1], line);\n          }; // Constraint the font size\n\n\n          fS = max([fS, fMin]);\n          fS = min([fS, fMax]);\n\n          if (resize) {\n            lH = fS * lHRatio;\n            wrapper.fontSize(fS).lineHeight(lH);\n            style[\"font-size\"] = fS;\n            style[\"line-height\"] = lH;\n          }\n\n          wrapResults = wrapper(t);\n          lineData = wrapResults.lines.filter(function (l) {\n            return l !== \"\";\n          });\n          line = lineData.length;\n\n          if (wrapResults.truncated) {\n            if (resize) {\n              fS--;\n\n              if (fS < fMin) {\n                fS = fMin;\n                truncate();\n                return;\n              } else checkSize();\n            } else truncate();\n          }\n        }\n\n        if (w > fMin && (h > lH || resize && h > fMin * lHRatio)) {\n          if (resize) {\n            sizes = measure(words, style);\n            var areaMod = 1.165 + w / h * 0.1,\n                boxArea = w * h,\n                maxWidth = max(sizes),\n                textArea = sum(sizes, function (d) {\n              return d * lH;\n            }) * areaMod;\n\n            if (maxWidth > w || textArea > boxArea) {\n              var areaRatio = Math.sqrt(boxArea / textArea),\n                  widthRatio = w / maxWidth;\n              var sizeRatio = min([areaRatio, widthRatio]);\n              fS = Math.floor(fS * sizeRatio);\n            }\n\n            var heightMax = Math.floor(h * 0.8);\n            if (fS > heightMax) fS = heightMax;\n          }\n\n          checkSize();\n        }\n\n        if (lineData.length) {\n          var tH = line * lH;\n\n          var r = _this2._rotate(d, i);\n\n          var yP = r === 0 ? vA === \"top\" ? 0 : vA === \"middle\" ? h / 2 - tH / 2 : h - tH : 0;\n          yP -= lH * 0.1;\n          arr.push({\n            aH: _this2._ariaHidden(d, i),\n            data: d,\n            i: i,\n            lines: lineData,\n            fC: _this2._fontColor(d, i),\n            fF: style[\"font-family\"],\n            fO: _this2._fontOpacity(d, i),\n            fW: style[\"font-weight\"],\n            id: _this2._id(d, i),\n            tA: _this2._textAnchor(d, i),\n            vA: _this2._verticalAlign(d, i),\n            widths: wrapResults.widths,\n            fS: fS,\n            lH: lH,\n            w: w,\n            h: h,\n            r: r,\n            x: _this2._x(d, i) + padding.left,\n            y: _this2._y(d, i) + yP + padding.top\n          });\n        }\n\n        return arr;\n      }, []), function (d) {\n        return _this2._id(d.data, d.i);\n      });\n\n      var t = transition().duration(this._duration);\n\n      if (this._duration === 0) {\n        boxes.exit().remove();\n      } else {\n        boxes.exit().transition().delay(this._duration).remove();\n        boxes.exit().selectAll(\"text\").transition(t).attr(\"opacity\", 0).style(\"opacity\", 0);\n      }\n      /**\n       * Applies translate and rotate to a text element.\n       * @param {D3Selection} text\n       * @private\n       */\n\n\n      function rotate(text) {\n        text.attr(\"transform\", function (d, i) {\n          var rotateAnchor = that._rotateAnchor(d, i);\n\n          return \"translate(\".concat(d.x, \", \").concat(d.y, \") rotate(\").concat(d.r, \", \").concat(rotateAnchor[0], \", \").concat(rotateAnchor[1], \")\");\n        });\n      }\n\n      var update = boxes.enter().append(\"g\").attr(\"class\", \"d3plus-textBox\").attr(\"id\", function (d) {\n        return \"d3plus-textBox-\".concat(strip(d.id));\n      }).call(rotate).merge(boxes);\n      var rtl = detectRTL();\n      update.style(\"pointer-events\", function (d) {\n        return _this2._pointerEvents(d.data, d.i);\n      }).each(function (d) {\n        /**\n            Sets the inner text content of each <text> element.\n            @private\n        */\n        function textContent(text) {\n          text[that._html ? \"html\" : \"text\"](function (t) {\n            return trimRight(t).replace(/&([^\\;&]*)/g, function (str, a) {\n              return a === \"amp\" ? str : \"&amp;\".concat(a);\n            }) // replaces all non-HTML ampersands with escaped entity\n            .replace(/<([^A-z^/]+)/g, function (str, a) {\n              return \"&lt;\".concat(a);\n            }).replace(/<$/g, \"&lt;\") // replaces all non-HTML left angle brackets with escaped entity\n            .replace(/(<[^>^\\/]+>)([^<^>]+)$/g, function (str, a, b) {\n              return \"\".concat(a).concat(b).concat(a.replace(\"<\", \"</\"));\n            }) // ands end tag to lines before mid-HTML break\n            .replace(/^([^<^>]+)(<\\/[^>]+>)/g, function (str, a, b) {\n              return \"\".concat(b.replace(\"</\", \"<\")).concat(a).concat(b);\n            }) // ands start tag to lines after mid-HTML break\n            .replace(/<([A-z]+)[^>]*>([^<^>]+)<\\/[^>]+>/g, function (str, a, b) {\n              var tag = that._html[a] ? \"<tspan style=\\\"\".concat(that._html[a], \"\\\">\") : \"\";\n              return \"\".concat(tag.length ? tag : \"\").concat(b).concat(tag.length ? \"</tspan>\" : \"\");\n            });\n          });\n        }\n        /**\n            Styles to apply to each <text> element.\n            @private\n        */\n\n\n        function textStyle(text) {\n          text.attr(\"aria-hidden\", d.aH).attr(\"dir\", rtl ? \"rtl\" : \"ltr\").attr(\"fill\", d.fC).attr(\"text-anchor\", d.tA).attr(\"font-family\", d.fF).style(\"font-family\", d.fF).attr(\"font-size\", \"\".concat(d.fS, \"px\")).style(\"font-size\", \"\".concat(d.fS, \"px\")).attr(\"font-weight\", d.fW).style(\"font-weight\", d.fW).attr(\"x\", \"\".concat(d.tA === \"middle\" ? d.w / 2 : rtl ? d.tA === \"start\" ? d.w : 0 : d.tA === \"end\" ? d.w : 2 * Math.sin(Math.PI * d.r / 180), \"px\")).attr(\"y\", function (t, i) {\n            return d.r === 0 || d.vA === \"top\" ? \"\".concat((i + 1) * d.lH - (d.lH - d.fS), \"px\") : d.vA === \"middle\" ? \"\".concat((d.h + d.fS) / 2 - (d.lH - d.fS) + (i - d.lines.length / 2 + 0.5) * d.lH, \"px\") : \"\".concat(d.h - 2 * (d.lH - d.fS) - (d.lines.length - (i + 1)) * d.lH + 2 * Math.cos(Math.PI * d.r / 180), \"px\");\n          });\n        }\n\n        var texts = _select(this).selectAll(\"text\").data(d.lines);\n\n        if (that._duration === 0) {\n          texts.call(textContent).call(textStyle);\n          texts.exit().remove();\n          texts.enter().append(\"text\").attr(\"dominant-baseline\", \"alphabetic\").style(\"baseline-shift\", \"0%\").attr(\"unicode-bidi\", \"bidi-override\").call(textContent).call(textStyle).attr(\"opacity\", d.fO).style(\"opacity\", d.fO);\n        } else {\n          texts.call(textContent).transition(t).call(textStyle);\n          texts.exit().transition(t).attr(\"opacity\", 0).remove();\n          texts.enter().append(\"text\").attr(\"dominant-baseline\", \"alphabetic\").style(\"baseline-shift\", \"0%\").attr(\"opacity\", 0).style(\"opacity\", 0).call(textContent).call(textStyle).merge(texts).transition(t).delay(that._delay).call(textStyle).attr(\"opacity\", d.fO).style(\"opacity\", d.fO);\n        }\n      }).transition(t).call(rotate);\n      var events = Object.keys(this._on),\n          on = events.reduce(function (obj, e) {\n        obj[e] = function (d, i) {\n          return _this2._on[e](d.data, i);\n        };\n\n        return obj;\n      }, {});\n\n      for (var e = 0; e < events.length; e++) {\n        update.on(events[e], on[events[e]]);\n      }\n\n      if (callback) setTimeout(callback, this._duration + 100);\n      return this;\n    }\n    /**\n        @memberof TextBox\n        @desc If *value* is specified, sets the aria-hidden attribute to the specified function or string and returns the current class instance.\n        @param {Function|String} *value*\n        @chainable\n    */\n\n  }, {\n    key: \"ariaHidden\",\n    value: function ariaHidden(_) {\n      return _ !== undefined ? (this._ariaHidden = typeof _ === \"function\" ? _ : constant(_), this) : this._ariaHidden;\n    }\n    /**\n        @memberof TextBox\n        @desc Sets the data array to the specified array. A text box will be drawn for each object in the array.\n        @param {Array} [*data* = []]\n        @chainable\n    */\n\n  }, {\n    key: \"data\",\n    value: function data(_) {\n      return arguments.length ? (this._data = _, this) : this._data;\n    }\n    /**\n        @memberof TextBox\n        @desc Sets the animation delay to the specified number in milliseconds.\n        @param {Number} [*value* = 0]\n        @chainable\n    */\n\n  }, {\n    key: \"delay\",\n    value: function delay(_) {\n      return arguments.length ? (this._delay = _, this) : this._delay;\n    }\n    /**\n        @memberof TextBox\n        @desc Sets the animation duration to the specified number in milliseconds.\n        @param {Number} [*value* = 0]\n        @chainable\n    */\n\n  }, {\n    key: \"duration\",\n    value: function duration(_) {\n      return arguments.length ? (this._duration = _, this) : this._duration;\n    }\n    /**\n        @memberof TextBox\n        @desc Sets the function that handles what to do when a line is truncated. It should return the new value for the line, and is passed 2 arguments: the String of text for the line in question, and the number of the line. By default, an ellipsis is added to the end of any line except if it is the first word that cannot fit (in that case, an empty string is returned).\n        @param {Function|String} [*value*]\n        @chainable\n        @example <caption>default accessor</caption>\n    function(text, line) {\n    return line ? text.replace(/\\.|,$/g, \"\") + \"...\" : \"\";\n    }\n    */\n\n  }, {\n    key: \"ellipsis\",\n    value: function ellipsis(_) {\n      return arguments.length ? (this._ellipsis = typeof _ === \"function\" ? _ : constant(_), this) : this._ellipsis;\n    }\n    /**\n        @memberof TextBox\n        @desc Sets the font color to the specified accessor function or static string, which is inferred from the [DOM selection](#textBox.select) by default.\n        @param {Function|String} [*value* = \"black\"]\n        @chainable\n    */\n\n  }, {\n    key: \"fontColor\",\n    value: function fontColor(_) {\n      return arguments.length ? (this._fontColor = typeof _ === \"function\" ? _ : constant(_), this) : this._fontColor;\n    }\n    /**\n        @memberof TextBox\n        @desc Defines the font-family to be used. The value passed can be either a *String* name of a font, a comma-separated list of font-family fallbacks, an *Array* of fallbacks, or a *Function* that returns either a *String* or an *Array*. If supplying multiple fallback fonts, the [fontExists](#fontExists) function will be used to determine the first available font on the client's machine.\n        @param {Array|Function|String} [*value* = [\"Roboto\", \"Helvetica Neue\", \"HelveticaNeue\", \"Helvetica\", \"Arial\", \"sans-serif\"]]\n        @chainable\n    */\n\n  }, {\n    key: \"fontFamily\",\n    value: function fontFamily(_) {\n      return arguments.length ? (this._fontFamily = typeof _ === \"function\" ? _ : constant(_), this) : this._fontFamily;\n    }\n    /**\n        @memberof TextBox\n        @desc Sets the maximum font size to the specified accessor function or static number (which corresponds to pixel units), which is used when [dynamically resizing fonts](#textBox.fontResize).\n        @param {Function|Number} [*value* = 50]\n        @chainable\n    */\n\n  }, {\n    key: \"fontMax\",\n    value: function fontMax(_) {\n      return arguments.length ? (this._fontMax = typeof _ === \"function\" ? _ : constant(_), this) : this._fontMax;\n    }\n    /**\n        @memberof TextBox\n        @desc Sets the minimum font size to the specified accessor function or static number (which corresponds to pixel units), which is used when [dynamically resizing fonts](#textBox.fontResize).\n        @param {Function|Number} [*value* = 8]\n        @chainable\n    */\n\n  }, {\n    key: \"fontMin\",\n    value: function fontMin(_) {\n      return arguments.length ? (this._fontMin = typeof _ === \"function\" ? _ : constant(_), this) : this._fontMin;\n    }\n    /**\n        @memberof TextBox\n        @desc Sets the font opacity to the specified accessor function or static number between 0 and 1.\n        @param {Function|Number} [*value* = 1]\n        @chainable\n     */\n\n  }, {\n    key: \"fontOpacity\",\n    value: function fontOpacity(_) {\n      return arguments.length ? (this._fontOpacity = typeof _ === \"function\" ? _ : constant(_), this) : this._fontOpacity;\n    }\n    /**\n        @memberof TextBox\n        @desc Toggles font resizing, which can either be defined as a static boolean for all data points, or an accessor function that returns a boolean. See [this example](http://d3plus.org/examples/d3plus-text/resizing-text/) for a side-by-side comparison.\n        @param {Function|Boolean} [*value* = false]\n        @chainable\n    */\n\n  }, {\n    key: \"fontResize\",\n    value: function fontResize(_) {\n      return arguments.length ? (this._fontResize = typeof _ === \"function\" ? _ : constant(_), this) : this._fontResize;\n    }\n    /**\n        @memberof TextBox\n        @desc Sets the font size to the specified accessor function or static number (which corresponds to pixel units), which is inferred from the [DOM selection](#textBox.select) by default.\n        @param {Function|Number} [*value* = 10]\n        @chainable\n    */\n\n  }, {\n    key: \"fontSize\",\n    value: function fontSize(_) {\n      return arguments.length ? (this._fontSize = typeof _ === \"function\" ? _ : constant(_), this) : this._fontSize;\n    }\n    /**\n        @memberof TextBox\n        @desc Sets the font weight to the specified accessor function or static number, which is inferred from the [DOM selection](#textBox.select) by default.\n        @param {Function|Number|String} [*value* = 400]\n        @chainable\n    */\n\n  }, {\n    key: \"fontWeight\",\n    value: function fontWeight(_) {\n      return arguments.length ? (this._fontWeight = typeof _ === \"function\" ? _ : constant(_), this) : this._fontWeight;\n    }\n    /**\n        @memberof TextBox\n        @desc Sets the height for each box to the specified accessor function or static number.\n        @param {Function|Number} [*value*]\n        @chainable\n        @example <caption>default accessor</caption>\n    function(d) {\n    return d.height || 200;\n    }\n    */\n\n  }, {\n    key: \"height\",\n    value: function height(_) {\n      return arguments.length ? (this._height = typeof _ === \"function\" ? _ : constant(_), this) : this._height;\n    }\n    /**\n        @memberof TextBox\n        @desc Configures the ability to render simple HTML tags. Defaults to supporting `<b>`, `<strong>`, `<i>`, and `<em>`, set to false to disable or provide a mapping of tags to svg styles\n        @param {Object|Boolean} [*value* = {\n                  i: 'font-style: italic;',\n                  em: 'font-style: italic;',\n                  b: 'font-weight: bold;',\n                  strong: 'font-weight: bold;'\n              }]\n        @chainable\n    */\n\n  }, {\n    key: \"html\",\n    value: function html(_) {\n      return arguments.length ? (this._html = typeof _ === \"boolean\" ? _ ? defaultHtmlLookup : false : _, this) : this._html;\n    }\n    /**\n        @memberof TextBox\n        @desc Defines the unique id for each box to the specified accessor function or static number.\n        @param {Function|Number} [*value*]\n        @chainable\n        @example <caption>default accessor</caption>\n    function(d, i) {\n    return d.id || i + \"\";\n    }\n    */\n\n  }, {\n    key: \"id\",\n    value: function id(_) {\n      return arguments.length ? (this._id = typeof _ === \"function\" ? _ : constant(_), this) : this._id;\n    }\n    /**\n        @memberof TextBox\n        @desc Sets the line height to the specified accessor function or static number, which is 1.2 times the [font size](#textBox.fontSize) by default.\n        @param {Function|Number} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"lineHeight\",\n    value: function lineHeight(_) {\n      return arguments.length ? (this._lineHeight = typeof _ === \"function\" ? _ : constant(_), this) : this._lineHeight;\n    }\n    /**\n        @memberof TextBox\n        @desc Restricts the maximum number of lines to wrap onto, which is null (unlimited) by default.\n        @param {Function|Number} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"maxLines\",\n    value: function maxLines(_) {\n      return arguments.length ? (this._maxLines = typeof _ === \"function\" ? _ : constant(_), this) : this._maxLines;\n    }\n    /**\n        @memberof TextBox\n        @desc Sets the text overflow to the specified accessor function or static boolean.\n        @param {Function|Boolean} [*value* = false]\n        @chainable\n    */\n\n  }, {\n    key: \"overflow\",\n    value: function overflow(_) {\n      return arguments.length ? (this._overflow = typeof _ === \"function\" ? _ : constant(_), this) : this._overflow;\n    }\n    /**\n        @memberof TextBox\n        @desc Sets the padding to the specified accessor function, CSS shorthand string, or static number, which is 0 by default.\n        @param {Function|Number|String} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"padding\",\n    value: function padding(_) {\n      return arguments.length ? (this._padding = typeof _ === \"function\" ? _ : constant(_), this) : this._padding;\n    }\n    /**\n        @memberof TextBox\n        @desc Sets the pointer-events to the specified accessor function or static string.\n        @param {Function|String} [*value* = \"auto\"]\n        @chainable\n    */\n\n  }, {\n    key: \"pointerEvents\",\n    value: function pointerEvents(_) {\n      return arguments.length ? (this._pointerEvents = typeof _ === \"function\" ? _ : constant(_), this) : this._pointerEvents;\n    }\n    /**\n        @memberof TextBox\n        @desc Sets the rotate percentage for each box to the specified accessor function or static string.\n        @param {Function|Number} [*value* = 0]\n        @chainable\n    */\n\n  }, {\n    key: \"rotate\",\n    value: function rotate(_) {\n      return arguments.length ? (this._rotate = typeof _ === \"function\" ? _ : constant(_), this) : this._rotate;\n    }\n    /**\n        @memberof TextBox\n        @desc Sets the anchor point around which to rotate the text box.\n        @param {Function|Number[]}\n        @chainable\n     */\n\n  }, {\n    key: \"rotateAnchor\",\n    value: function rotateAnchor(_) {\n      return arguments.length ? (this._rotateAnchor = typeof _ === \"function\" ? _ : constant(_), this) : this._rotateAnchor;\n    }\n    /**\n        @memberof TextBox\n        @desc Sets the SVG container element to the specified d3 selector or DOM element. If not explicitly specified, an SVG element will be added to the page for use.\n        @param {String|HTMLElement} [*selector*]\n        @chainable\n    */\n\n  }, {\n    key: \"select\",\n    value: function select(_) {\n      return arguments.length ? (this._select = _select(_), this) : this._select;\n    }\n    /**\n        @memberof TextBox\n        @desc Sets the word split behavior to the specified function, which when passed a string is expected to return that string split into an array of words.\n        @param {Function} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"split\",\n    value: function split(_) {\n      return arguments.length ? (this._split = _, this) : this._split;\n    }\n    /**\n        @memberof TextBox\n        @desc Sets the text for each box to the specified accessor function or static string.\n        @param {Function|String} [*value*]\n        @chainable\n        @example <caption>default accessor</caption>\n    function(d) {\n    return d.text;\n    }\n    */\n\n  }, {\n    key: \"text\",\n    value: function text(_) {\n      return arguments.length ? (this._text = typeof _ === \"function\" ? _ : constant(_), this) : this._text;\n    }\n    /**\n        @memberof TextBox\n        @desc Sets the horizontal text anchor to the specified accessor function or static string, whose values are analagous to the SVG [text-anchor](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/text-anchor) property.\n        @param {Function|String} [*value* = \"start\"]\n        @chainable\n    */\n\n  }, {\n    key: \"textAnchor\",\n    value: function textAnchor(_) {\n      return arguments.length ? (this._textAnchor = typeof _ === \"function\" ? _ : constant(_), this) : this._textAnchor;\n    }\n    /**\n        @memberof TextBox\n        @desc Sets the vertical alignment to the specified accessor function or static string. Accepts `\"top\"`, `\"middle\"`, and `\"bottom\"`.\n        @param {Function|String} [*value* = \"top\"]\n        @chainable\n    */\n\n  }, {\n    key: \"verticalAlign\",\n    value: function verticalAlign(_) {\n      return arguments.length ? (this._verticalAlign = typeof _ === \"function\" ? _ : constant(_), this) : this._verticalAlign;\n    }\n    /**\n        @memberof TextBox\n        @desc Sets the width for each box to the specified accessor function or static number.\n        @param {Function|Number} [*value*]\n        @chainable\n        @example <caption>default accessor</caption>\n    function(d) {\n    return d.width || 200;\n    }\n    */\n\n  }, {\n    key: \"width\",\n    value: function width(_) {\n      return arguments.length ? (this._width = typeof _ === \"function\" ? _ : constant(_), this) : this._width;\n    }\n    /**\n        @memberof TextBox\n        @desc Sets the x position for each box to the specified accessor function or static number. The number given should correspond to the left side of the textBox.\n        @param {Function|Number} [*value*]\n        @chainable\n        @example <caption>default accessor</caption>\n    function(d) {\n    return d.x || 0;\n    }\n    */\n\n  }, {\n    key: \"x\",\n    value: function x(_) {\n      return arguments.length ? (this._x = typeof _ === \"function\" ? _ : constant(_), this) : this._x;\n    }\n    /**\n        @memberof TextBox\n        @desc Sets the y position for each box to the specified accessor function or static number. The number given should correspond to the top side of the textBox.\n        @param {Function|Number} [*value*]\n        @chainable\n        @example <caption>default accessor</caption>\n    function(d) {\n    return d.y || 0;\n    }\n    */\n\n  }, {\n    key: \"y\",\n    value: function y(_) {\n      return arguments.length ? (this._y = typeof _ === \"function\" ? _ : constant(_), this) : this._y;\n    }\n  }]);\n\n  return TextBox;\n}(BaseClass);\n\nexport { TextBox as default };","import { suffixChars, default as textSplit } from \"./textSplit\";\nvar lowercase = [\"a\", \"an\", \"and\", \"as\", \"at\", \"but\", \"by\", \"for\", \"from\", \"if\", \"in\", \"into\", \"near\", \"nor\", \"of\", \"on\", \"onto\", \"or\", \"per\", \"that\", \"the\", \"to\", \"with\", \"via\", \"vs\", \"vs.\"];\nvar uppercase = [\"CEO\", \"CFO\", \"CNC\", \"COO\", \"CPU\", \"GDP\", \"HVAC\", \"ID\", \"IT\", \"R&D\", \"TV\", \"UI\"];\n/**\n    @function titleCase\n    @desc Capitalizes the first letter of each word in a phrase/sentence.\n    @param {String} str The string to apply the title case logic.\n*/\n\nexport default function (str) {\n  if (str === void 0) return \"\";\n  var smalls = lowercase.map(function (s) {\n    return s.toLowerCase();\n  });\n  var bigs = uppercase.slice();\n  bigs = bigs.concat(bigs.map(function (b) {\n    return \"\".concat(b, \"s\");\n  }));\n  var biglow = bigs.map(function (b) {\n    return b.toLowerCase();\n  });\n  var split = textSplit(str);\n  return split.map(function (s, i) {\n    if (s) {\n      var lower = s.toLowerCase();\n      var stripped = suffixChars.includes(lower.charAt(lower.length - 1)) ? lower.slice(0, -1) : lower;\n      var bigindex = biglow.indexOf(stripped);\n      if (bigindex >= 0) return bigs[bigindex];else if (smalls.includes(stripped) && i !== 0 && i !== split.length - 1) return lower;else return s.charAt(0).toUpperCase() + s.substr(1).toLowerCase();\n    } else return \"\";\n  }).reduce(function (ret, s, i) {\n    if (i && str.charAt(ret.length) === \" \") ret += \" \";\n    ret += s;\n    return ret;\n  }, \"\");\n}","/**\n    @function pointDistanceSquared\n    @desc Returns the squared euclidean distance between two points.\n    @param {Array} p1 The first point, which should always be an `[x, y]` formatted Array.\n    @param {Array} p2 The second point, which should always be an `[x, y]` formatted Array.\n    @returns {Number}\n*/\nexport default (function (p1, p2) {\n  var dx = p2[0] - p1[0],\n      dy = p2[1] - p1[1];\n  return dx * dx + dy * dy;\n});","import pointDistanceSquared from \"./pointDistanceSquared\";\n/**\n    @function pointDistance\n    @desc Calculates the pixel distance between two points.\n    @param {Array} p1 The first point, which should always be an `[x, y]` formatted Array.\n    @param {Array} p2 The second point, which should always be an `[x, y]` formatted Array.\n    @returns {Number}\n*/\n\nexport default (function (p1, p2) {\n  return Math.sqrt(pointDistanceSquared(p1, p2));\n});","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n/**\n    @external BaseClass\n    @see https://github.com/d3plus/d3plus-common#BaseClass\n*/\nimport { min } from \"d3-array\";\nimport { color } from \"d3-color\";\nimport { mouse, select as _select, selectAll } from \"d3-selection\";\nimport { transition } from \"d3-transition\";\nimport { accessor, assign, attrize, BaseClass, configPrep, constant, elem } from \"d3plus-common\";\nimport { colorContrast } from \"d3plus-color\";\nimport * as paths from \"d3-shape\";\nimport { strip, TextBox } from \"d3plus-text\";\nimport Image from \"../Image\";\nimport pointDistance from \"../geom/pointDistance\";\n/**\n    @class Shape\n    @extends external:BaseClass\n    @desc An abstracted class for generating shapes.\n*/\n\nvar Shape =\n/*#__PURE__*/\nfunction (_BaseClass) {\n  _inherits(Shape, _BaseClass);\n\n  /**\n      @memberof Shape\n      @desc Invoked when creating a new class instance, and sets any default parameters.\n      @private\n  */\n  function Shape() {\n    var _this;\n\n    var tagName = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"g\";\n\n    _classCallCheck(this, Shape);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Shape).call(this));\n    _this._activeOpacity = 0.25;\n    _this._activeStyle = {\n      \"stroke\": function stroke(d, i) {\n        var c = _this._fill(d, i);\n\n        if ([\"transparent\", \"none\"].includes(c)) c = _this._stroke(d, i);\n        return color(c).darker(1);\n      },\n      \"stroke-width\": function strokeWidth(d, i) {\n        var s = _this._strokeWidth(d, i) || 1;\n        return s * 3;\n      }\n    };\n    _this._ariaLabel = constant(\"\");\n    _this._backgroundImage = constant(false);\n    _this._backgroundImageClass = new Image();\n    _this._data = [];\n    _this._duration = 600;\n    _this._fill = constant(\"black\");\n    _this._fillOpacity = constant(1);\n    _this._hoverOpacity = 0.5;\n    _this._hoverStyle = {\n      \"stroke\": function stroke(d, i) {\n        var c = _this._fill(d, i);\n\n        if ([\"transparent\", \"none\"].includes(c)) c = _this._stroke(d, i);\n        return color(c).darker(0.5);\n      },\n      \"stroke-width\": function strokeWidth(d, i) {\n        var s = _this._strokeWidth(d, i) || 1;\n        return s * 2;\n      }\n    };\n\n    _this._id = function (d, i) {\n      return d.id !== void 0 ? d.id : i;\n    };\n\n    _this._label = constant(false);\n    _this._labelClass = new TextBox();\n    _this._labelConfig = {\n      fontColor: function fontColor(d, i) {\n        return colorContrast(_this._fill(d, i));\n      },\n      fontSize: 12,\n      padding: 5\n    };\n    _this._name = \"Shape\";\n    _this._opacity = constant(1);\n    _this._pointerEvents = constant(\"visiblePainted\");\n    _this._role = constant(\"presentation\");\n    _this._rotate = constant(0);\n    _this._rx = constant(0);\n    _this._ry = constant(0);\n    _this._scale = constant(1);\n    _this._shapeRendering = constant(\"geometricPrecision\");\n\n    _this._stroke = function (d, i) {\n      return color(_this._fill(d, i)).darker(1);\n    };\n\n    _this._strokeDasharray = constant(\"0\");\n    _this._strokeLinecap = constant(\"butt\");\n    _this._strokeOpacity = constant(1);\n    _this._strokeWidth = constant(0);\n    _this._tagName = tagName;\n    _this._textAnchor = constant(\"start\");\n    _this._vectorEffect = constant(\"non-scaling-stroke\");\n    _this._verticalAlign = constant(\"top\");\n    _this._x = accessor(\"x\", 0);\n    _this._y = accessor(\"y\", 0);\n    return _this;\n  }\n  /**\n      @memberof Shape\n      @desc Given a specific data point and index, returns the aesthetic properties of the shape.\n      @param {Object} *data point*\n      @param {Number} *index*\n      @private\n  */\n\n\n  _createClass(Shape, [{\n    key: \"_aes\",\n    value: function _aes() {\n      return {};\n    }\n    /**\n        @memberof Shape\n        @desc Adds event listeners to each shape group or hit area.\n        @param {D3Selection} *update* The update cycle of the data binding.\n        @private\n    */\n\n  }, {\n    key: \"_applyEvents\",\n    value: function _applyEvents(handler) {\n      var _this2 = this;\n\n      var events = Object.keys(this._on);\n\n      var _loop = function _loop(e) {\n        handler.on(events[e], function (d, i) {\n          if (!_this2._on[events[e]]) return;\n          if (d.i !== void 0) i = d.i;\n\n          if (d.nested && d.values) {\n            var cursor = mouse(_this2._select.node()),\n                values = d.values.map(function (d) {\n              return pointDistance(cursor, [_this2._x(d, i), _this2._y(d, i)]);\n            });\n            d = d.values[values.indexOf(min(values))];\n          }\n\n          _this2._on[events[e]].bind(_this2)(d, i);\n        });\n      };\n\n      for (var e = 0; e < events.length; e++) {\n        _loop(e);\n      }\n    }\n    /**\n        @memberof Shape\n        @desc Provides the updated styling to the given shape elements.\n        @param {HTMLElement} *elem*\n        @param {Object} *style*\n        @private\n    */\n\n  }, {\n    key: \"_updateStyle\",\n    value: function _updateStyle(elem, style) {\n      var that = this;\n      if (elem.size() && elem.node().tagName === \"g\") elem = elem.selectAll(\"*\");\n      /**\n          @desc Determines whether a shape is a nested collection of data points, and uses the appropriate data and index for the given function context.\n          @param {Object} *d* data point\n          @param {Number} *i* index\n          @private\n      */\n\n      function styleLogic(d, i) {\n        return typeof this !== \"function\" ? this : d.nested && d.key && d.values ? this(d.values[0], that._data.indexOf(d.values[0])) : this(d, i);\n      }\n\n      var styleObject = {};\n\n      for (var key in style) {\n        if ({}.hasOwnProperty.call(style, key)) {\n          styleObject[key] = styleLogic.bind(style[key]);\n        }\n      }\n\n      elem.transition().duration(0).call(attrize, styleObject);\n    }\n    /**\n        @memberof Shape\n        @desc Provides the default styling to the shape elements.\n        @param {HTMLElement} *elem*\n        @private\n    */\n\n  }, {\n    key: \"_applyStyle\",\n    value: function _applyStyle(elem) {\n      var that = this;\n      if (elem.size() && elem.node().tagName === \"g\") elem = elem.selectAll(\"*\");\n      /**\n          @desc Determines whether a shape is a nested collection of data points, and uses the appropriate data and index for the given function context.\n          @param {Object} *d* data point\n          @param {Number} *i* index\n          @private\n      */\n\n      function styleLogic(d, i) {\n        return typeof this !== \"function\" ? this : d.nested && d.key && d.values ? this(d.values[0], that._data.indexOf(d.values[0])) : this(d, i);\n      }\n\n      elem.attr(\"fill\", styleLogic.bind(this._fill)).attr(\"fill-opacity\", styleLogic.bind(this._fillOpacity)).attr(\"rx\", styleLogic.bind(this._rx)).attr(\"ry\", styleLogic.bind(this._ry)).attr(\"stroke\", styleLogic.bind(this._stroke)).attr(\"stroke-dasharray\", styleLogic.bind(this._strokeDasharray)).attr(\"stroke-linecap\", styleLogic.bind(this._strokeLinecap)).attr(\"stroke-opacity\", styleLogic.bind(this._strokeOpacity)).attr(\"stroke-width\", styleLogic.bind(this._strokeWidth)).attr(\"vector-effect\", styleLogic.bind(this._vectorEffect));\n    }\n    /**\n        @memberof Shape\n        @desc Calculates the transform for the group elements.\n        @param {HTMLElement} *elem*\n        @private\n    */\n\n  }, {\n    key: \"_applyTransform\",\n    value: function _applyTransform(elem) {\n      var _this3 = this;\n\n      elem.attr(\"transform\", function (d, i) {\n        return \"\\n        translate(\".concat(d.__d3plusShape__ ? d.translate ? d.translate : \"\".concat(_this3._x(d.data, d.i), \",\").concat(_this3._y(d.data, d.i)) : \"\".concat(_this3._x(d, i), \",\").concat(_this3._y(d, i)), \")\\n        scale(\").concat(d.__d3plusShape__ ? d.scale || _this3._scale(d.data, d.i) : _this3._scale(d, i), \")\\n        rotate(\").concat(d.__d3plusShape__ ? d.rotate ? d.rotate : _this3._rotate(d.data || d, d.i) : _this3._rotate(d.data || d, d.i), \")\");\n      });\n    }\n    /**\n        @memberof Shape\n        @desc Checks for nested data and uses the appropriate variables for accessor functions.\n        @param {HTMLElement} *elem*\n        @private\n    */\n\n  }, {\n    key: \"_nestWrapper\",\n    value: function _nestWrapper(method) {\n      return function (d, i) {\n        return method(d.__d3plusShape__ ? d.data : d, d.__d3plusShape__ ? d.i : i);\n      };\n    }\n    /**\n        @memberof Shape\n        @desc Modifies existing shapes to show active status.\n        @private\n    */\n\n  }, {\n    key: \"_renderActive\",\n    value: function _renderActive() {\n      var that = this;\n\n      this._group.selectAll(\".d3plus-Shape, .d3plus-Image, .d3plus-textBox\").each(function (d, i) {\n        if (!d) d = {};\n        if (!d.parentNode) d.parentNode = this.parentNode;\n        var parent = d.parentNode;\n        if (_select(this).classed(\"d3plus-textBox\")) d = d.data;\n\n        if (d.__d3plusShape__ || d.__d3plus__) {\n          while (d && (d.__d3plusShape__ || d.__d3plus__)) {\n            i = d.i;\n            d = d.data;\n          }\n        } else i = that._data.indexOf(d);\n\n        var group = !that._active || typeof that._active !== \"function\" || !that._active(d, i) ? parent : that._activeGroup.node();\n\n        if (group !== this.parentNode) {\n          group.appendChild(this);\n\n          if (this.className.baseVal.includes(\"d3plus-Shape\")) {\n            if (parent === group) _select(this).call(that._applyStyle.bind(that));else _select(this).call(that._updateStyle.bind(that, _select(this), that._activeStyle));\n          }\n        }\n      }); // this._renderImage();\n      // this._renderLabels();\n\n\n      this._group.selectAll(\"g.d3plus-\".concat(this._name, \"-shape, g.d3plus-\").concat(this._name, \"-image, g.d3plus-\").concat(this._name, \"-text\")).attr(\"opacity\", this._hover ? this._hoverOpacity : this._active ? this._activeOpacity : 1);\n    }\n    /**\n        @memberof Shape\n        @desc Modifies existing shapes to show hover status.\n        @private\n    */\n\n  }, {\n    key: \"_renderHover\",\n    value: function _renderHover() {\n      var that = this;\n\n      this._group.selectAll(\"g.d3plus-\".concat(this._name, \"-shape, g.d3plus-\").concat(this._name, \"-image, g.d3plus-\").concat(this._name, \"-text, g.d3plus-\").concat(this._name, \"-hover\")).selectAll(\".d3plus-Shape, .d3plus-Image, .d3plus-textBox\").each(function (d, i) {\n        if (!d) d = {};\n        if (!d.parentNode) d.parentNode = this.parentNode;\n        var parent = d.parentNode;\n        if (_select(this).classed(\"d3plus-textBox\")) d = d.data;\n\n        if (d.__d3plusShape__ || d.__d3plus__) {\n          while (d && (d.__d3plusShape__ || d.__d3plus__)) {\n            i = d.i;\n            d = d.data;\n          }\n        } else i = that._data.indexOf(d);\n\n        var group = !that._hover || typeof that._hover !== \"function\" || !that._hover(d, i) ? parent : that._hoverGroup.node();\n        if (group !== this.parentNode) group.appendChild(this);\n\n        if (this.className.baseVal.includes(\"d3plus-Shape\")) {\n          if (parent === group) _select(this).call(that._applyStyle.bind(that));else _select(this).call(that._updateStyle.bind(that, _select(this), that._hoverStyle));\n        }\n      }); // this._renderImage();\n      // this._renderLabels();\n\n\n      this._group.selectAll(\"g.d3plus-\".concat(this._name, \"-shape, g.d3plus-\").concat(this._name, \"-image, g.d3plus-\").concat(this._name, \"-text\")).attr(\"opacity\", this._hover ? this._hoverOpacity : this._active ? this._activeOpacity : 1);\n    }\n    /**\n        @memberof Shape\n        @desc Adds background image to each shape group.\n        @private\n    */\n\n  }, {\n    key: \"_renderImage\",\n    value: function _renderImage() {\n      var _this4 = this;\n\n      var imageData = [];\n\n      this._update.merge(this._enter).data().forEach(function (datum, i) {\n        var aes = _this4._aes(datum, i);\n\n        if (aes.r || aes.width && aes.height) {\n          var d = datum;\n\n          if (datum.nested && datum.key && datum.values) {\n            d = datum.values[0];\n            i = _this4._data.indexOf(d);\n          }\n\n          var height = aes.r ? aes.r * 2 : aes.height,\n              url = _this4._backgroundImage(d, i),\n              width = aes.r ? aes.r * 2 : aes.width;\n\n          if (url) {\n            var x = d.__d3plusShape__ ? d.translate ? d.translate[0] : _this4._x(d.data, d.i) : _this4._x(d, i),\n                y = d.__d3plusShape__ ? d.translate ? d.translate[1] : _this4._y(d.data, d.i) : _this4._y(d, i);\n            if (aes.x) x += aes.x;\n            if (aes.y) y += aes.y;\n\n            if (d.__d3plusShape__) {\n              d = d.data;\n              i = d.i;\n            }\n\n            imageData.push({\n              __d3plus__: true,\n              data: d,\n              height: height,\n              i: i,\n              id: _this4._id(d, i),\n              url: url,\n              width: width,\n              x: x + -width / 2,\n              y: y + -height / 2\n            });\n          }\n        }\n      });\n\n      this._backgroundImageClass.data(imageData).duration(this._duration).pointerEvents(\"none\").select(elem(\"g.d3plus-\".concat(this._name, \"-image\"), {\n        parent: this._group,\n        update: {\n          opacity: this._active ? this._activeOpacity : 1\n        }\n      }).node()).render();\n    }\n    /**\n        @memberof Shape\n        @desc Adds labels to each shape group.\n        @private\n    */\n\n  }, {\n    key: \"_renderLabels\",\n    value: function _renderLabels() {\n      var _this5 = this;\n\n      var labelData = [];\n\n      this._update.merge(this._enter).data().forEach(function (datum, i) {\n        var d = datum;\n\n        if (datum.nested && datum.key && datum.values) {\n          d = datum.values[0];\n          i = _this5._data.indexOf(d);\n        }\n\n        var labels = _this5._label(d, i);\n\n        if (_this5._labelBounds && labels !== false && labels !== undefined && labels !== null) {\n          var bounds = _this5._labelBounds(d, i, _this5._aes(datum, i));\n\n          if (bounds) {\n            if (labels.constructor !== Array) labels = [labels];\n            var x = d.__d3plusShape__ ? d.translate ? d.translate[0] : _this5._x(d.data, d.i) : _this5._x(d, i),\n                y = d.__d3plusShape__ ? d.translate ? d.translate[1] : _this5._y(d.data, d.i) : _this5._y(d, i);\n\n            if (d.__d3plusShape__) {\n              d = d.data;\n              i = d.i;\n            }\n\n            for (var l = 0; l < labels.length; l++) {\n              var b = bounds.constructor === Array ? bounds[l] : Object.assign({}, bounds);\n\n              var rotate = _this5._rotate(d, i);\n\n              var r = d.labelConfig && d.labelConfig.rotate ? d.labelConfig.rotate : bounds.angle !== undefined ? bounds.angle : 0;\n              r += rotate;\n              var rotateAnchor = rotate !== 0 ? [b.x * -1 || 0, b.y * -1 || 0] : [b.width / 2, b.height / 2];\n              labelData.push({\n                __d3plus__: true,\n                data: d,\n                height: b.height,\n                l: l,\n                id: \"\".concat(_this5._id(d, i), \"_\").concat(l),\n                r: r,\n                rotateAnchor: rotateAnchor,\n                text: labels[l],\n                width: b.width,\n                x: x + b.x,\n                y: y + b.y\n              });\n            }\n          }\n        }\n      });\n\n      this._labelClass.data(labelData).duration(this._duration).pointerEvents(\"none\").rotate(function (d) {\n        return d.__d3plus__ ? d.r : d.data.r;\n      }).rotateAnchor(function (d) {\n        return d.__d3plus__ ? d.rotateAnchor : d.data.rotateAnchor;\n      }).select(elem(\"g.d3plus-\".concat(this._name, \"-text\"), {\n        parent: this._group,\n        update: {\n          opacity: this._active ? this._activeOpacity : 1\n        }\n      }).node()).config(configPrep.bind(this)(this._labelConfig)).render();\n    }\n    /**\n        @memberof Shape\n        @desc Renders the current Shape to the page. If a *callback* is specified, it will be called once the shapes are done drawing.\n        @param {Function} [*callback*]\n        @chainable\n    */\n\n  }, {\n    key: \"render\",\n    value: function render(callback) {\n      var _this6 = this;\n\n      if (this._select === void 0) {\n        this.select(_select(\"body\").append(\"svg\").style(\"width\", \"\".concat(window.innerWidth, \"px\")).style(\"height\", \"\".concat(window.innerHeight, \"px\")).style(\"display\", \"block\").node());\n      }\n\n      this._transition = transition().duration(this._duration);\n      var data = this._data,\n          key = this._id;\n\n      if (this._dataFilter) {\n        data = this._dataFilter(data);\n        if (data.key) key = data.key;\n      }\n\n      if (this._sort) {\n        data = data.sort(function (a, b) {\n          while (a.__d3plusShape__ || a.__d3plus__) {\n            a = a.data;\n          }\n\n          while (b.__d3plusShape__ || b.__d3plus__) {\n            b = b.data;\n          }\n\n          return _this6._sort(a, b);\n        });\n      }\n\n      selectAll(\"g.d3plus-\".concat(this._name, \"-hover > *, g.d3plus-\").concat(this._name, \"-active > *\")).each(function (d) {\n        if (d && d.parentNode) d.parentNode.appendChild(this);else this.parentNode.removeChild(this);\n      }); // Makes the update state of the group selection accessible.\n\n      this._group = elem(\"g.d3plus-\".concat(this._name, \"-group\"), {\n        parent: this._select\n      });\n      var update = this._update = elem(\"g.d3plus-\".concat(this._name, \"-shape\"), {\n        parent: this._group,\n        update: {\n          opacity: this._active ? this._activeOpacity : 1\n        }\n      }).selectAll(\".d3plus-\".concat(this._name)).data(data, key); // Orders and transforms the updating Shapes.\n\n      update.order();\n\n      if (this._duration) {\n        update.transition(this._transition).call(this._applyTransform.bind(this));\n      } else {\n        update.call(this._applyTransform.bind(this));\n      } // Makes the enter state of the group selection accessible.\n\n\n      var enter = this._enter = update.enter().append(this._tagName).attr(\"class\", function (d, i) {\n        return \"d3plus-Shape d3plus-\".concat(_this6._name, \" d3plus-id-\").concat(strip(_this6._nestWrapper(_this6._id)(d, i)));\n      }).call(this._applyTransform.bind(this)).attr(\"aria-label\", this._ariaLabel).attr(\"role\", this._role).attr(\"opacity\", this._nestWrapper(this._opacity));\n      var enterUpdate = enter.merge(update);\n      var enterUpdateRender = enterUpdate.attr(\"shape-rendering\", this._nestWrapper(this._shapeRendering));\n\n      if (this._duration) {\n        enterUpdateRender = enterUpdateRender.attr(\"pointer-events\", \"none\").transition(this._transition).transition().delay(100).attr(\"pointer-events\", this._pointerEvents);\n      }\n\n      enterUpdateRender.attr(\"opacity\", this._nestWrapper(this._opacity)); // Makes the exit state of the group selection accessible.\n\n      var exit = this._exit = update.exit();\n      if (this._duration) exit.transition().delay(this._duration).remove();else exit.remove();\n\n      this._renderImage();\n\n      this._renderLabels();\n\n      this._hoverGroup = elem(\"g.d3plus-\".concat(this._name, \"-hover\"), {\n        parent: this._group\n      });\n      this._activeGroup = elem(\"g.d3plus-\".concat(this._name, \"-active\"), {\n        parent: this._group\n      });\n\n      var hitAreas = this._group.selectAll(\".d3plus-HitArea\").data(this._hitArea ? data : [], key);\n\n      hitAreas.order().call(this._applyTransform.bind(this));\n      var isLine = this._name === \"Line\";\n      isLine && this._path.curve(paths[\"curve\".concat(this._curve.charAt(0).toUpperCase()).concat(this._curve.slice(1))]).defined(this._defined).x(this._x).y(this._y);\n      var hitEnter = hitAreas.enter().append(isLine ? \"path\" : \"rect\").attr(\"class\", function (d, i) {\n        return \"d3plus-HitArea d3plus-id-\".concat(strip(_this6._nestWrapper(_this6._id)(d, i)));\n      }).attr(\"fill\", \"black\").attr(\"stroke\", \"black\").attr(\"pointer-events\", \"painted\").attr(\"opacity\", 0).call(this._applyTransform.bind(this));\n      var that = this;\n      var hitUpdates = hitAreas.merge(hitEnter).each(function (d) {\n        var i = that._data.indexOf(d);\n\n        var h = that._hitArea(d, i, that._aes(d, i));\n\n        return h && !(that._name === \"Line\" && parseFloat(that._strokeWidth(d, i)) > 10) ? _select(this).call(attrize, h) : _select(this).remove();\n      });\n      hitAreas.exit().remove();\n\n      this._applyEvents(this._hitArea ? hitUpdates : enterUpdate);\n\n      setTimeout(function () {\n        if (_this6._active) _this6._renderActive();else if (_this6._hover) _this6._renderHover();\n        if (callback) callback();\n      }, this._duration + 100);\n      return this;\n    }\n    /**\n        @memberof Shape\n        @desc If *value* is specified, sets the highlight accessor to the specified function and returns the current class instance.\n        @param {Function} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"active\",\n    value: function active(_) {\n      if (!arguments.length || _ === undefined) return this._active;\n      this._active = _;\n\n      if (this._group) {\n        // this._renderImage();\n        // this._renderLabels();\n        this._renderActive();\n      }\n\n      return this;\n    }\n    /**\n        @memberof Shape\n        @desc When shapes are active, this is the opacity of any shape that is not active.\n        @param {Number} *value* = 0.25\n        @chainable\n    */\n\n  }, {\n    key: \"activeOpacity\",\n    value: function activeOpacity(_) {\n      return arguments.length ? (this._activeOpacity = _, this) : this._activeOpacity;\n    }\n    /**\n        @memberof Shape\n        @desc The style to apply to active shapes.\n        @param {Object} *value*\n        @chainable\n    */\n\n  }, {\n    key: \"activeStyle\",\n    value: function activeStyle(_) {\n      return arguments.length ? (this._activeStyle = assign({}, this._activeStyle, _), this) : this._activeStyle;\n    }\n    /**\n        @memberof Shape\n        @desc If *value* is specified, sets the aria-label attribute to the specified function or string and returns the current class instance.\n        @param {Function|String} *value*\n        @chainable\n    */\n\n  }, {\n    key: \"ariaLabel\",\n    value: function ariaLabel(_) {\n      return _ !== undefined ? (this._ariaLabel = typeof _ === \"function\" ? _ : constant(_), this) : this._ariaLabel;\n    }\n    /**\n        @memberof Shape\n        @desc If *value* is specified, sets the background-image accessor to the specified function or string and returns the current class instance.\n        @param {Function|String} [*value* = false]\n        @chainable\n    */\n\n  }, {\n    key: \"backgroundImage\",\n    value: function backgroundImage(_) {\n      return arguments.length ? (this._backgroundImage = typeof _ === \"function\" ? _ : constant(_), this) : this._backgroundImage;\n    }\n    /**\n        @memberof Shape\n        @desc If *data* is specified, sets the data array to the specified array and returns the current class instance. If *data* is not specified, returns the current data array. A shape will be drawn for each object in the array.\n        @param {Array} [*data* = []]\n        @chainable\n    */\n\n  }, {\n    key: \"data\",\n    value: function data(_) {\n      return arguments.length ? (this._data = _, this) : this._data;\n    }\n    /**\n        @memberof Shape\n        @desc If *ms* is specified, sets the animation duration to the specified number and returns the current class instance. If *ms* is not specified, returns the current animation duration.\n        @param {Number} [*ms* = 600]\n        @chainable\n    */\n\n  }, {\n    key: \"duration\",\n    value: function duration(_) {\n      return arguments.length ? (this._duration = _, this) : this._duration;\n    }\n    /**\n        @memberof Shape\n        @desc If *value* is specified, sets the fill accessor to the specified function or string and returns the current class instance.\n        @param {Function|String} [*value* = \"black\"]\n        @chainable\n    */\n\n  }, {\n    key: \"fill\",\n    value: function fill(_) {\n      return arguments.length ? (this._fill = typeof _ === \"function\" ? _ : constant(_), this) : this._fill;\n    }\n    /**\n        @memberof Shape\n        @desc Defines the \"fill-opacity\" attribute for the shapes.\n        @param {Function|Number} [*value* = 1]\n        @chainable\n    */\n\n  }, {\n    key: \"fillOpacity\",\n    value: function fillOpacity(_) {\n      return arguments.length ? (this._fillOpacity = typeof _ === \"function\" ? _ : constant(_), this) : this._fillOpacity;\n    }\n    /**\n        @memberof Shape\n        @desc If *value* is specified, sets the highlight accessor to the specified function and returns the current class instance.\n        @param {Function} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"hover\",\n    value: function hover(_) {\n      if (!arguments.length || _ === void 0) return this._hover;\n      this._hover = _;\n\n      if (this._group) {\n        // this._renderImage();\n        // this._renderLabels();\n        this._renderHover();\n      }\n\n      return this;\n    }\n    /**\n        @memberof Shape\n        @desc The style to apply to hovered shapes.\n        @param {Object} *value*\n        @chainable\n     */\n\n  }, {\n    key: \"hoverStyle\",\n    value: function hoverStyle(_) {\n      return arguments.length ? (this._hoverStyle = assign({}, this._hoverStyle, _), this) : this._hoverStyle;\n    }\n    /**\n        @memberof Shape\n        @desc If *value* is specified, sets the hover opacity to the specified function and returns the current class instance.\n        @param {Number} [*value* = 0.5]\n        @chainable\n    */\n\n  }, {\n    key: \"hoverOpacity\",\n    value: function hoverOpacity(_) {\n      return arguments.length ? (this._hoverOpacity = _, this) : this._hoverOpacity;\n    }\n    /**\n        @memberof Shape\n        @desc If *bounds* is specified, sets the mouse hit area to the specified function and returns the current class instance. If *bounds* is not specified, returns the current mouse hit area accessor.\n        @param {Function} [*bounds*] The given function is passed the data point, index, and internally defined properties of the shape and should return an object containing the following values: `width`, `height`, `x`, `y`.\n        @chainable\n        @example\n    function(d, i, shape) {\n    return {\n      \"width\": shape.width,\n      \"height\": shape.height,\n      \"x\": -shape.width / 2,\n      \"y\": -shape.height / 2\n    };\n    }\n    */\n\n  }, {\n    key: \"hitArea\",\n    value: function hitArea(_) {\n      return arguments.length ? (this._hitArea = typeof _ === \"function\" ? _ : constant(_), this) : this._hitArea;\n    }\n    /**\n        @memberof Shape\n        @desc If *value* is specified, sets the id accessor to the specified function and returns the current class instance.\n        @param {Function} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"id\",\n    value: function id(_) {\n      return arguments.length ? (this._id = _, this) : this._id;\n    }\n    /**\n        @memberof Shape\n        @desc If *value* is specified, sets the label accessor to the specified function or string and returns the current class instance.\n        @param {Function|String|Array} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"label\",\n    value: function label(_) {\n      return arguments.length ? (this._label = typeof _ === \"function\" ? _ : constant(_), this) : this._label;\n    }\n    /**\n        @memberof Shape\n        @desc If *bounds* is specified, sets the label bounds to the specified function and returns the current class instance. If *bounds* is not specified, returns the current inner bounds accessor.\n        @param {Function} [*bounds*] The given function is passed the data point, index, and internally defined properties of the shape and should return an object containing the following values: `width`, `height`, `x`, `y`. If an array is returned from the function, each value will be used in conjunction with each label.\n        @chainable\n        @example\n    function(d, i, shape) {\n    return {\n      \"width\": shape.width,\n      \"height\": shape.height,\n      \"x\": -shape.width / 2,\n      \"y\": -shape.height / 2\n    };\n    }\n    */\n\n  }, {\n    key: \"labelBounds\",\n    value: function labelBounds(_) {\n      return arguments.length ? (this._labelBounds = typeof _ === \"function\" ? _ : constant(_), this) : this._labelBounds;\n    }\n    /**\n        @memberof Shape\n        @desc A pass-through to the config method of the TextBox class used to create a shape's labels.\n        @param {Object} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"labelConfig\",\n    value: function labelConfig(_) {\n      return arguments.length ? (this._labelConfig = assign(this._labelConfig, _), this) : this._labelConfig;\n    }\n    /**\n        @memberof Shape\n        @desc If *value* is specified, sets the opacity accessor to the specified function or number and returns the current class instance.\n        @param {Number} [*value* = 1]\n        @chainable\n    */\n\n  }, {\n    key: \"opacity\",\n    value: function opacity(_) {\n      return arguments.length ? (this._opacity = typeof _ === \"function\" ? _ : constant(_), this) : this._opacity;\n    }\n    /**\n        @memberof Shape\n        @desc If *value* is specified, sets the pointerEvents accessor to the specified function or string and returns the current class instance.\n        @param {String} [*value*]\n        @chainable\n     */\n\n  }, {\n    key: \"pointerEvents\",\n    value: function pointerEvents(_) {\n      return arguments.length ? (this._pointerEvents = typeof _ === \"function\" ? _ : constant(_), this) : this._pointerEvents;\n    }\n    /**\n        @memberof Shape\n        @desc If *value* is specified, sets the role attribute to the specified function or string and returns the current class instance.\n        @param {Function|String} *value*\n        @chainable\n    */\n\n  }, {\n    key: \"role\",\n    value: function role(_) {\n      return _ !== undefined ? (this._role = typeof _ === \"function\" ? _ : constant(_), this) : this._role;\n    }\n    /**\n        @memberof Shape\n        @desc If *value* is specified, sets the rotate accessor to the specified function or number and returns the current class instance.\n        @param {Function|Number} [*value* = 0]\n        @chainable\n     */\n\n  }, {\n    key: \"rotate\",\n    value: function rotate(_) {\n      return arguments.length ? (this._rotate = typeof _ === \"function\" ? _ : constant(_), this) : this._rotate;\n    }\n    /**\n        @memberof Shape\n        @desc Defines the \"rx\" attribute for the shapes.\n        @param {Function|Number} [*value* = 0]\n        @chainable\n    */\n\n  }, {\n    key: \"rx\",\n    value: function rx(_) {\n      return arguments.length ? (this._rx = typeof _ === \"function\" ? _ : constant(_), this) : this._rx;\n    }\n    /**\n        @memberof Shape\n        @desc Defines the \"rx\" attribute for the shapes.\n        @param {Function|Number} [*value* = 0]\n        @chainable\n    */\n\n  }, {\n    key: \"ry\",\n    value: function ry(_) {\n      return arguments.length ? (this._ry = typeof _ === \"function\" ? _ : constant(_), this) : this._ry;\n    }\n    /**\n        @memberof Shape\n        @desc If *value* is specified, sets the scale accessor to the specified function or string and returns the current class instance.\n        @param {Function|Number} [*value* = 1]\n        @chainable\n    */\n\n  }, {\n    key: \"scale\",\n    value: function scale(_) {\n      return arguments.length ? (this._scale = typeof _ === \"function\" ? _ : constant(_), this) : this._scale;\n    }\n    /**\n        @memberof Shape\n        @desc If *selector* is specified, sets the SVG container element to the specified d3 selector or DOM element and returns the current class instance. If *selector* is not specified, returns the current SVG container element.\n        @param {String|HTMLElement} [*selector* = d3.select(\"body\").append(\"svg\")]\n        @chainable\n    */\n\n  }, {\n    key: \"select\",\n    value: function select(_) {\n      return arguments.length ? (this._select = _select(_), this) : this._select;\n    }\n    /**\n        @memberof Shape\n        @desc If *value* is specified, sets the shape-rendering accessor to the specified function or string and returns the current class instance.\n        @param {Function|String} [*value* = \"geometricPrecision\"]\n        @chainable\n        @example\n    function(d) {\n    return d.x;\n    }\n    */\n\n  }, {\n    key: \"shapeRendering\",\n    value: function shapeRendering(_) {\n      return arguments.length ? (this._shapeRendering = typeof _ === \"function\" ? _ : constant(_), this) : this._shapeRendering;\n    }\n    /**\n        @memberof Shape\n        @desc If *value* is specified, sets the sort comparator to the specified function and returns the current class instance.\n        @param {false|Function} [*value* = []]\n        @chainable\n    */\n\n  }, {\n    key: \"sort\",\n    value: function sort(_) {\n      return arguments.length ? (this._sort = _, this) : this._sort;\n    }\n    /**\n        @memberof Shape\n        @desc If *value* is specified, sets the stroke accessor to the specified function or string and returns the current class instance.\n        @param {Function|String} [*value* = \"black\"]\n        @chainable\n    */\n\n  }, {\n    key: \"stroke\",\n    value: function stroke(_) {\n      return arguments.length ? (this._stroke = typeof _ === \"function\" ? _ : constant(_), this) : this._stroke;\n    }\n    /**\n        @memberof Shape\n        @desc Defines the \"stroke-dasharray\" attribute for the shapes.\n        @param {Function|String} [*value* = \"1\"]\n        @chainable\n    */\n\n  }, {\n    key: \"strokeDasharray\",\n    value: function strokeDasharray(_) {\n      return arguments.length ? (this._strokeDasharray = typeof _ === \"function\" ? _ : constant(_), this) : this._strokeDasharray;\n    }\n    /**\n        @memberof Shape\n        @desc Defines the \"stroke-linecap\" attribute for the shapes. Accepted values are `\"butt\"`, `\"round\"`, and `\"square\"`.\n        @param {Function|String} [*value* = \"butt\"]\n        @chainable\n    */\n\n  }, {\n    key: \"strokeLinecap\",\n    value: function strokeLinecap(_) {\n      return arguments.length ? (this._strokeLinecap = typeof _ === \"function\" ? _ : constant(_), this) : this._strokeLinecap;\n    }\n    /**\n        @memberof Shape\n        @desc Defines the \"stroke-opacity\" attribute for the shapes.\n        @param {Function|Number} [*value* = 1]\n        @chainable\n    */\n\n  }, {\n    key: \"strokeOpacity\",\n    value: function strokeOpacity(_) {\n      return arguments.length ? (this._strokeOpacity = typeof _ === \"function\" ? _ : constant(_), this) : this._strokeOpacity;\n    }\n    /**\n        @memberof Shape\n        @desc If *value* is specified, sets the stroke-width accessor to the specified function or string and returns the current class instance.\n        @param {Function|Number} [*value* = 0]\n        @chainable\n    */\n\n  }, {\n    key: \"strokeWidth\",\n    value: function strokeWidth(_) {\n      return arguments.length ? (this._strokeWidth = typeof _ === \"function\" ? _ : constant(_), this) : this._strokeWidth;\n    }\n    /**\n        @memberof Shape\n        @desc If *value* is specified, sets the text-anchor accessor to the specified function or string and returns the current class instance.\n        @param {Function|String|Array} [*value* = \"start\"]\n        @chainable\n    */\n\n  }, {\n    key: \"textAnchor\",\n    value: function textAnchor(_) {\n      return arguments.length ? (this._textAnchor = typeof _ === \"function\" ? _ : constant(_), this) : this._textAnchor;\n    }\n    /**\n        @memberof Shape\n        @desc If *value* is specified, sets the vector-effect accessor to the specified function or string and returns the current class instance.\n        @param {Function|String} [*value* = \"non-scaling-stroke\"]\n        @chainable\n    */\n\n  }, {\n    key: \"vectorEffect\",\n    value: function vectorEffect(_) {\n      return arguments.length ? (this._vectorEffect = typeof _ === \"function\" ? _ : constant(_), this) : this._vectorEffect;\n    }\n    /**\n        @memberof Shape\n        @desc If *value* is specified, sets the vertical alignment accessor to the specified function or string and returns the current class instance.\n        @param {Function|String|Array} [*value* = \"start\"]\n        @chainable\n    */\n\n  }, {\n    key: \"verticalAlign\",\n    value: function verticalAlign(_) {\n      return arguments.length ? (this._verticalAlign = typeof _ === \"function\" ? _ : constant(_), this) : this._verticalAlign;\n    }\n    /**\n        @memberof Shape\n        @desc If *value* is specified, sets the x accessor to the specified function or number and returns the current class instance.\n        @param {Function|Number} [*value*]\n        @chainable\n        @example\n    function(d) {\n    return d.x;\n    }\n    */\n\n  }, {\n    key: \"x\",\n    value: function x(_) {\n      return arguments.length ? (this._x = typeof _ === \"function\" ? _ : constant(_), this) : this._x;\n    }\n    /**\n        @memberof Shape\n        @desc If *value* is specified, sets the y accessor to the specified function or number and returns the current class instance.\n        @param {Function|Number} [*value*]\n        @chainable\n        @example\n    function(d) {\n    return d.y;\n    }\n    */\n\n  }, {\n    key: \"y\",\n    value: function y(_) {\n      return arguments.length ? (this._y = typeof _ === \"function\" ? _ : constant(_), this) : this._y;\n    }\n  }]);\n\n  return Shape;\n}(BaseClass);\n\nexport { Shape as default };","/**\n * de Casteljau's algorithm for drawing and splitting bezier curves.\n * Inspired by https://pomax.github.io/bezierinfo/\n *\n * @param {Number[][]} points Array of [x,y] points: [start, control1, control2, ..., end]\n *   The original segment to split.\n * @param {Number} t Where to split the curve (value between [0, 1])\n * @return {Object} An object { left, right } where left is the segment from 0..t and\n *   right is the segment from t..1.\n */\nfunction decasteljau(points, t) {\n  const left = [];\n  const right = [];\n\n  function decasteljauRecurse(points, t) {\n    if (points.length === 1) {\n      left.push(points[0]);\n      right.push(points[0]);\n    } else {\n      const newPoints = Array(points.length - 1);\n\n      for (let i = 0; i < newPoints.length; i++) {\n        if (i === 0) {\n          left.push(points[0]);\n        }\n        if (i === newPoints.length - 1) {\n          right.push(points[i + 1]);\n        }\n\n        newPoints[i] = [\n          ((1 - t) * points[i][0]) + (t * points[i + 1][0]),\n          ((1 - t) * points[i][1]) + (t * points[i + 1][1]),\n        ];\n      }\n\n      decasteljauRecurse(newPoints, t);\n    }\n  }\n\n  if (points.length) {\n    decasteljauRecurse(points, t);\n  }\n\n  return { left, right: right.reverse() };\n}\n\n/**\n * Convert segments represented as points back into a command object\n *\n * @param {Number[][]} points Array of [x,y] points: [start, control1, control2, ..., end]\n *   Represents a segment\n * @return {Object} A command object representing the segment.\n */\nfunction pointsToCommand(points) {\n  const command = {};\n\n  if (points.length === 4) {\n    command.x2 = points[2][0];\n    command.y2 = points[2][1];\n  }\n  if (points.length >= 3) {\n    command.x1 = points[1][0];\n    command.y1 = points[1][1];\n  }\n\n  command.x = points[points.length - 1][0];\n  command.y = points[points.length - 1][1];\n\n  if (points.length === 4) { // start, control1, control2, end\n    command.type = 'C';\n  } else if (points.length === 3) { // start, control, end\n    command.type = 'Q';\n  } else { // start, end\n    command.type = 'L';\n  }\n\n  return command;\n}\n\n\n/**\n * Runs de Casteljau's algorithm enough times to produce the desired number of segments.\n *\n * @param {Number[][]} points Array of [x,y] points for de Casteljau (the initial segment to split)\n * @param {Number} segmentCount Number of segments to split the original into\n * @return {Number[][][]} Array of segments\n */\nfunction splitCurveAsPoints(points, segmentCount) {\n  segmentCount = segmentCount || 2;\n\n  const segments = [];\n  let remainingCurve = points;\n  const tIncrement = 1 / segmentCount;\n\n  // x-----x-----x-----x\n  // t=  0.33   0.66   1\n  // x-----o-----------x\n  // r=  0.33\n  //       x-----o-----x\n  // r=         0.5  (0.33 / (1 - 0.33))  === tIncrement / (1 - (tIncrement * (i - 1))\n\n  // x-----x-----x-----x----x\n  // t=  0.25   0.5   0.75  1\n  // x-----o----------------x\n  // r=  0.25\n  //       x-----o----------x\n  // r=         0.33  (0.25 / (1 - 0.25))\n  //             x-----o----x\n  // r=         0.5  (0.25 / (1 - 0.5))\n\n  for (let i = 0; i < segmentCount - 1; i++) {\n    const tRelative = tIncrement / (1 - (tIncrement * (i)));\n    const split = decasteljau(remainingCurve, tRelative);\n    segments.push(split.left);\n    remainingCurve = split.right;\n  }\n\n  // last segment is just to the end from the last point\n  segments.push(remainingCurve);\n\n  return segments;\n}\n\n/**\n * Convert command objects to arrays of points, run de Casteljau's algorithm on it\n * to split into to the desired number of segments.\n *\n * @param {Object} commandStart The start command object\n * @param {Object} commandEnd The end command object\n * @param {Number} segmentCount The number of segments to create\n * @return {Object[]} An array of commands representing the segments in sequence\n */\nexport default function splitCurve(commandStart, commandEnd, segmentCount) {\n  const points = [[commandStart.x, commandStart.y]];\n  if (commandEnd.x1 != null) {\n    points.push([commandEnd.x1, commandEnd.y1]);\n  }\n  if (commandEnd.x2 != null) {\n    points.push([commandEnd.x2, commandEnd.y2]);\n  }\n  points.push([commandEnd.x, commandEnd.y]);\n\n  return splitCurveAsPoints(points, segmentCount).map(pointsToCommand);\n}\n","import splitCurve from './split';\n\nconst commandTokenRegex = /[MLCSTQAHVmlcstqahv]|[\\d.-]+/g;\n/**\n * List of params for each command type in a path `d` attribute\n */\nconst typeMap = {\n  M: ['x', 'y'],\n  L: ['x', 'y'],\n  H: ['x'],\n  V: ['y'],\n  C: ['x1', 'y1', 'x2', 'y2', 'x', 'y'],\n  S: ['x2', 'y2', 'x', 'y'],\n  Q: ['x1', 'y1', 'x', 'y'],\n  T: ['x', 'y'],\n  A: ['rx', 'ry', 'xAxisRotation', 'largeArcFlag', 'sweepFlag', 'x', 'y'],\n};\n\n// Add lower case entries too matching uppercase (e.g. 'm' == 'M')\nObject.keys(typeMap).forEach(key => {\n  typeMap[key.toLowerCase()] = typeMap[key];\n});\n\nfunction arrayOfLength(length, value) {\n  const array = Array(length);\n  for (let i = 0; i < length; i++) {\n    array[i] = value;\n  }\n\n  return array;\n}\n\n/**\n * Converts a command object to a string to be used in a `d` attribute\n * @param {Object} command A command object\n * @return {String} The string for the `d` attribute\n */\nfunction commandToString(command) {\n  return `${command.type}${typeMap[command.type]\n    .map(p => command[p])\n    .join(',')}`;\n}\n\n/**\n * Converts command A to have the same type as command B.\n *\n * e.g., L0,5 -> C0,5,0,5,0,5\n *\n * Uses these rules:\n * x1 <- x\n * x2 <- x\n * y1 <- y\n * y2 <- y\n * rx <- 0\n * ry <- 0\n * xAxisRotation <- read from B\n * largeArcFlag <- read from B\n * sweepflag <- read from B\n *\n * @param {Object} aCommand Command object from path `d` attribute\n * @param {Object} bCommand Command object from path `d` attribute to match against\n * @return {Object} aCommand converted to type of bCommand\n */\nfunction convertToSameType(aCommand, bCommand) {\n  const conversionMap = {\n    x1: 'x',\n    y1: 'y',\n    x2: 'x',\n    y2: 'y',\n  };\n\n  const readFromBKeys = ['xAxisRotation', 'largeArcFlag', 'sweepFlag'];\n\n  // convert (but ignore M types)\n  if (aCommand.type !== bCommand.type && bCommand.type.toUpperCase() !== 'M') {\n    const aConverted = {};\n    Object.keys(bCommand).forEach(bKey => {\n      const bValue = bCommand[bKey];\n      // first read from the A command\n      let aValue = aCommand[bKey];\n\n      // if it is one of these values, read from B no matter what\n      if (aValue === undefined) {\n        if (readFromBKeys.includes(bKey)) {\n          aValue = bValue;\n        } else {\n          // if it wasn't in the A command, see if an equivalent was\n          if (aValue === undefined && conversionMap[bKey]) {\n            aValue = aCommand[conversionMap[bKey]];\n          }\n\n          // if it doesn't have a converted value, use 0\n          if (aValue === undefined) {\n            aValue = 0;\n          }\n        }\n      }\n\n      aConverted[bKey] = aValue;\n    });\n\n    // update the type to match B\n    aConverted.type = bCommand.type;\n    aCommand = aConverted;\n  }\n\n  return aCommand;\n}\n\n/**\n * Interpolate between command objects commandStart and commandEnd segmentCount times.\n * If the types are L, Q, or C then the curves are split as per de Casteljau's algorithm.\n * Otherwise we just copy commandStart segmentCount - 1 times, finally ending with commandEnd.\n *\n * @param {Object} commandStart Command object at the beginning of the segment\n * @param {Object} commandEnd Command object at the end of the segment\n * @param {Number} segmentCount The number of segments to split this into. If only 1\n *   Then [commandEnd] is returned.\n * @return {Object[]} Array of ~segmentCount command objects between commandStart and\n *   commandEnd. (Can be segmentCount+1 objects if commandStart is type M).\n */\nfunction splitSegment(commandStart, commandEnd, segmentCount) {\n  let segments = [];\n\n  // line, quadratic bezier, or cubic bezier\n  if (\n    commandEnd.type === 'L' ||\n    commandEnd.type === 'Q' ||\n    commandEnd.type === 'C'\n  ) {\n    segments = segments.concat(\n      splitCurve(commandStart, commandEnd, segmentCount)\n    );\n\n    // general case - just copy the same point\n  } else {\n    const copyCommand = Object.assign({}, commandStart);\n\n    // convert M to L\n    if (copyCommand.type === 'M') {\n      copyCommand.type = 'L';\n    }\n\n    segments = segments.concat(\n      arrayOfLength(segmentCount - 1).map(() => copyCommand)\n    );\n    segments.push(commandEnd);\n  }\n\n  return segments;\n}\n/**\n * Extends an array of commandsToExtend to the length of the referenceCommands by\n * splitting segments until the number of commands match. Ensures all the actual\n * points of commandsToExtend are in the extended array.\n *\n * @param {Object[]} commandsToExtend The command object array to extend\n * @param {Object[]} referenceCommands The command object array to match in length\n * @param {Function} excludeSegment a function that takes a start command object and\n *   end command object and returns true if the segment should be excluded from splitting.\n * @return {Object[]} The extended commandsToExtend array\n */\nfunction extend(commandsToExtend, referenceCommands, excludeSegment) {\n  // compute insertion points:\n  // number of segments in the path to extend\n  const numSegmentsToExtend = commandsToExtend.length - 1;\n\n  // number of segments in the reference path.\n  const numReferenceSegments = referenceCommands.length - 1;\n\n  // this value is always between [0, 1].\n  const segmentRatio = numSegmentsToExtend / numReferenceSegments;\n\n  // create a map, mapping segments in referenceCommands to how many points\n  // should be added in that segment (should always be >= 1 since we need each\n  // point itself).\n  // 0 = segment 0-1, 1 = segment 1-2, n-1 = last vertex\n  const countPointsPerSegment = arrayOfLength(numReferenceSegments).reduce(\n    (accum, d, i) => {\n      let insertIndex = Math.floor(segmentRatio * i);\n\n      // handle excluding segments\n      if (\n        excludeSegment &&\n        insertIndex < commandsToExtend.length - 1 &&\n        excludeSegment(\n          commandsToExtend[insertIndex],\n          commandsToExtend[insertIndex + 1]\n        )\n      ) {\n        // set the insertIndex to the segment that this point should be added to:\n\n        // round the insertIndex essentially so we split half and half on\n        // neighbouring segments. hence the segmentRatio * i < 0.5\n        const addToPriorSegment = (segmentRatio * i) % 1 < 0.5;\n\n        // only skip segment if we already have 1 point in it (can't entirely remove a segment)\n        if (accum[insertIndex]) {\n          // TODO - Note this is a naive algorithm that should work for most d3-area use cases\n          // but if two adjacent segments are supposed to be skipped, this will not perform as\n          // expected. Could be updated to search for nearest segment to place the point in, but\n          // will only do that if necessary.\n\n          // add to the prior segment\n          if (addToPriorSegment) {\n            if (insertIndex > 0) {\n              insertIndex -= 1;\n\n              // not possible to add to previous so adding to next\n            } else if (insertIndex < commandsToExtend.length - 1) {\n              insertIndex += 1;\n            }\n            // add to next segment\n          } else if (insertIndex < commandsToExtend.length - 1) {\n            insertIndex += 1;\n\n            // not possible to add to next so adding to previous\n          } else if (insertIndex > 0) {\n            insertIndex -= 1;\n          }\n        }\n      }\n\n      accum[insertIndex] = (accum[insertIndex] || 0) + 1;\n\n      return accum;\n    },\n    []\n  );\n\n  // extend each segment to have the correct number of points for a smooth interpolation\n  const extended = countPointsPerSegment.reduce((extended, segmentCount, i) => {\n    // if last command, just add `segmentCount` number of times\n    if (i === commandsToExtend.length - 1) {\n      const lastCommandCopies = arrayOfLength(\n        segmentCount,\n        Object.assign({}, commandsToExtend[commandsToExtend.length - 1])\n      );\n\n      // convert M to L\n      if (lastCommandCopies[0].type === 'M') {\n        lastCommandCopies.forEach(d => {\n          d.type = 'L';\n        });\n      }\n      return extended.concat(lastCommandCopies);\n    }\n\n    // otherwise, split the segment segmentCount times.\n    return extended.concat(\n      splitSegment(commandsToExtend[i], commandsToExtend[i + 1], segmentCount)\n    );\n  }, []);\n\n  // add in the very first point since splitSegment only adds in the ones after it\n  extended.unshift(commandsToExtend[0]);\n\n  return extended;\n}\n\n/**\n * Takes a path `d` string and converts it into an array of command\n * objects. Drops the `Z` character.\n *\n * @param {String|null} d A path `d` string\n */\nfunction makeCommands(d) {\n  // split into valid tokens\n  const tokens = (d || '').match(commandTokenRegex) || [];\n  const commands = [];\n  let commandArgs;\n  let command;\n\n  // iterate over each token, checking if we are at a new command\n  // by presence in the typeMap\n  for (let i = 0; i < tokens.length; ++i) {\n    commandArgs = typeMap[tokens[i]];\n\n    // new command found:\n    if (commandArgs) {\n      command = {\n        type: tokens[i],\n      };\n\n      // add each of the expected args for this command:\n      for (let a = 0; a < commandArgs.length; ++a) {\n        command[commandArgs[a]] = +tokens[i + a + 1];\n      }\n\n      // need to increment our token index appropriately since\n      // we consumed token args\n      i += commandArgs.length;\n\n      commands.push(command);\n    }\n  }\n  return commands;\n}\n\n/**\n * Interpolate from A to B by extending A and B during interpolation to have\n * the same number of points. This allows for a smooth transition when they\n * have a different number of points.\n *\n * Ignores the `Z` character in paths unless both A and B end with it.\n *\n * @param {String} a The `d` attribute for a path\n * @param {String} b The `d` attribute for a path\n * @param {Function} excludeSegment a function that takes a start command object and\n *   end command object and returns true if the segment should be excluded from splitting.\n * @returns {Function} Interpolation function that maps t ([0, 1]) to a path `d` string.\n */\nexport default function interpolatePath(a, b, excludeSegment) {\n  let aCommands = makeCommands(a);\n  let bCommands = makeCommands(b);\n\n  if (!aCommands.length && !bCommands.length) {\n    return function nullInterpolator() {\n      return '';\n    };\n  }\n\n  // if A is empty, treat it as if it used to contain just the first point\n  // of B. This makes it so the line extends out of from that first point.\n  if (!aCommands.length) {\n    aCommands.push(bCommands[0]);\n\n    // otherwise if B is empty, treat it as if it contains the first point\n    // of A. This makes it so the line retracts into the first point.\n  } else if (!bCommands.length) {\n    bCommands.push(aCommands[0]);\n  }\n\n  // extend to match equal size\n  const numPointsToExtend = Math.abs(bCommands.length - aCommands.length);\n\n  if (numPointsToExtend !== 0) {\n    // B has more points than A, so add points to A before interpolating\n    if (bCommands.length > aCommands.length) {\n      aCommands = extend(aCommands, bCommands, excludeSegment);\n\n      // else if A has more points than B, add more points to B\n    } else if (bCommands.length < aCommands.length) {\n      bCommands = extend(bCommands, aCommands, excludeSegment);\n    }\n  }\n\n  // commands have same length now.\n  // convert commands in A to the same type as those in B\n  aCommands = aCommands.map((aCommand, i) =>\n    convertToSameType(aCommand, bCommands[i])\n  );\n\n  // create mutable interpolated command objects\n  const interpolatedCommands = aCommands.map(aCommand => ({ ...aCommand }));\n\n  const addZ =\n    (a == null || a[a.length - 1] === 'Z') &&\n    (b == null || b[b.length - 1] === 'Z');\n\n  return function pathInterpolator(t) {\n    // at 1 return the final value without the extensions used during interpolation\n    if (t === 1) {\n      return b == null ? '' : b;\n    }\n\n    // interpolate the commands using the mutable interpolated command objs\n    // we can skip at t=0 since we copied aCommands to begin\n    if (t > 0) {\n      for (let i = 0; i < interpolatedCommands.length; ++i) {\n        const aCommand = aCommands[i];\n        const bCommand = bCommands[i];\n        const interpolatedCommand = interpolatedCommands[i];\n        for (const arg of typeMap[interpolatedCommand.type]) {\n          interpolatedCommand[arg] =\n            (1 - t) * aCommand[arg] + t * bCommand[arg];\n\n          // do not use floats for flags (#27), round to integer\n          if (arg === 'largeArcFlag' || arg === 'sweepFlag') {\n            interpolatedCommand[arg] = Math.round(interpolatedCommand[arg]);\n          }\n        }\n      }\n    }\n\n    // convert to a string (fastest concat: https://jsperf.com/join-concat/150)\n    let interpolatedString = '';\n    for (const interpolatedCommand of interpolatedCommands) {\n      interpolatedString += commandToString(interpolatedCommand);\n    }\n    if (addZ) {\n      interpolatedString += 'Z';\n    }\n\n    return interpolatedString;\n  };\n}\n","export default function(polygon) {\n  var i = -1,\n      n = polygon.length,\n      a,\n      b = polygon[n - 1],\n      area = 0;\n\n  while (++i < n) {\n    a = b;\n    b = polygon[i];\n    area += a[1] * b[0] - a[0] * b[1];\n  }\n\n  return area / 2;\n}\n","export default function(polygon) {\n  var i = -1,\n      n = polygon.length,\n      x = 0,\n      y = 0,\n      a,\n      b = polygon[n - 1],\n      c,\n      k = 0;\n\n  while (++i < n) {\n    a = b;\n    b = polygon[i];\n    k += c = a[0] * b[1] - b[0] * a[1];\n    x += (a[0] + b[0]) * c;\n    y += (a[1] + b[1]) * c;\n  }\n\n  return k *= 3, [x / k, y / k];\n}\n","// Returns the 2D cross product of AB and AC vectors, i.e., the z-component of\n// the 3D cross product in a quadrant I Cartesian coordinate system (+x is\n// right, +y is up). Returns a positive value if ABC is counter-clockwise,\n// negative if clockwise, and zero if the points are collinear.\nexport default function(a, b, c) {\n  return (b[0] - a[0]) * (c[1] - a[1]) - (b[1] - a[1]) * (c[0] - a[0]);\n}\n","import cross from \"./cross\";\n\nfunction lexicographicOrder(a, b) {\n  return a[0] - b[0] || a[1] - b[1];\n}\n\n// Computes the upper convex hull per the monotone chain algorithm.\n// Assumes points.length >= 3, is sorted by x, unique in y.\n// Returns an array of indices into points in left-to-right order.\nfunction computeUpperHullIndexes(points) {\n  var n = points.length,\n      indexes = [0, 1],\n      size = 2;\n\n  for (var i = 2; i < n; ++i) {\n    while (size > 1 && cross(points[indexes[size - 2]], points[indexes[size - 1]], points[i]) <= 0) --size;\n    indexes[size++] = i;\n  }\n\n  return indexes.slice(0, size); // remove popped points\n}\n\nexport default function(points) {\n  if ((n = points.length) < 3) return null;\n\n  var i,\n      n,\n      sortedPoints = new Array(n),\n      flippedPoints = new Array(n);\n\n  for (i = 0; i < n; ++i) sortedPoints[i] = [+points[i][0], +points[i][1], i];\n  sortedPoints.sort(lexicographicOrder);\n  for (i = 0; i < n; ++i) flippedPoints[i] = [sortedPoints[i][0], -sortedPoints[i][1]];\n\n  var upperIndexes = computeUpperHullIndexes(sortedPoints),\n      lowerIndexes = computeUpperHullIndexes(flippedPoints);\n\n  // Construct the hull polygon, removing possible duplicate endpoints.\n  var skipLeft = lowerIndexes[0] === upperIndexes[0],\n      skipRight = lowerIndexes[lowerIndexes.length - 1] === upperIndexes[upperIndexes.length - 1],\n      hull = [];\n\n  // Add upper hull in right-to-l order.\n  // Then add lower hull in left-to-right order.\n  for (i = upperIndexes.length - 1; i >= 0; --i) hull.push(points[sortedPoints[upperIndexes[i]][2]]);\n  for (i = +skipLeft; i < lowerIndexes.length - skipRight; ++i) hull.push(points[sortedPoints[lowerIndexes[i]][2]]);\n\n  return hull;\n}\n","export default function(polygon, point) {\n  var n = polygon.length,\n      p = polygon[n - 1],\n      x = point[0], y = point[1],\n      x0 = p[0], y0 = p[1],\n      x1, y1,\n      inside = false;\n\n  for (var i = 0; i < n; ++i) {\n    p = polygon[i], x1 = p[0], y1 = p[1];\n    if (((y1 > y) !== (y0 > y)) && (x < (x0 - x1) * (y - y1) / (y0 - y1) + x1)) inside = !inside;\n    x0 = x1, y0 = y1;\n  }\n\n  return inside;\n}\n","/**\n    @function lineIntersection\n    @desc Finds the intersection point (if there is one) of the lines p1q1 and p2q2.\n    @param {Array} p1 The first point of the first line segment, which should always be an `[x, y]` formatted Array.\n    @param {Array} q1 The second point of the first line segment, which should always be an `[x, y]` formatted Array.\n    @param {Array} p2 The first point of the second line segment, which should always be an `[x, y]` formatted Array.\n    @param {Array} q2 The second point of the second line segment, which should always be an `[x, y]` formatted Array.\n    @returns {Boolean}\n*/\nexport default function (p1, q1, p2, q2) {\n  // allow for some margins due to numerical errors\n  var eps = 1e-9; // find the intersection point between the two infinite lines\n\n  var dx1 = p1[0] - q1[0],\n      dx2 = p2[0] - q2[0],\n      dy1 = p1[1] - q1[1],\n      dy2 = p2[1] - q2[1];\n  var denom = dx1 * dy2 - dy1 * dx2;\n  if (Math.abs(denom) < eps) return null;\n  var cross1 = p1[0] * q1[1] - p1[1] * q1[0],\n      cross2 = p2[0] * q2[1] - p2[1] * q2[0];\n  var px = (cross1 * dx2 - cross2 * dx1) / denom,\n      py = (cross1 * dy2 - cross2 * dy1) / denom;\n  return [px, py];\n}","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n/**\n    @function segmentBoxContains\n    @desc Checks whether a point is inside the bounding box of a line segment.\n    @param {Array} s1 The first point of the line segment to be used for the bounding box, which should always be an `[x, y]` formatted Array.\n    @param {Array} s2 The second point of the line segment to be used for the bounding box, which should always be an `[x, y]` formatted Array.\n    @param {Array} p The point to be checked, which should always be an `[x, y]` formatted Array.\n    @returns {Boolean}\n*/\nexport default function (s1, s2, p) {\n  var eps = 1e-9,\n      _p = _slicedToArray(p, 2),\n      px = _p[0],\n      py = _p[1];\n\n  return !(px < Math.min(s1[0], s2[0]) - eps || px > Math.max(s1[0], s2[0]) + eps || py < Math.min(s1[1], s2[1]) - eps || py > Math.max(s1[1], s2[1]) + eps);\n}","import lineIntersection from \"./lineIntersection\";\nimport segmentBoxContains from \"./segmentBoxContains\";\n/**\n    @function segmentsIntersect\n    @desc Checks whether the line segments p1q1 && p2q2 intersect.\n    @param {Array} p1 The first point of the first line segment, which should always be an `[x, y]` formatted Array.\n    @param {Array} q1 The second point of the first line segment, which should always be an `[x, y]` formatted Array.\n    @param {Array} p2 The first point of the second line segment, which should always be an `[x, y]` formatted Array.\n    @param {Array} q2 The second point of the second line segment, which should always be an `[x, y]` formatted Array.\n    @returns {Boolean}\n*/\n\nexport default function (p1, q1, p2, q2) {\n  var p = lineIntersection(p1, q1, p2, q2);\n  if (!p) return false;\n  return segmentBoxContains(p1, q1, p) && segmentBoxContains(p2, q2, p);\n}","import { polygonContains } from \"d3-polygon\";\nimport segmentsIntersect from \"./segmentsIntersect\";\n/**\n    @function polygonInside\n    @desc Checks if one polygon is inside another polygon.\n    @param {Array} polyA An Array of `[x, y]` points to be used as the inner polygon, checking if it is inside polyA.\n    @param {Array} polyB An Array of `[x, y]` points to be used as the containing polygon.\n    @returns {Boolean}\n*/\n\nexport default function (polyA, polyB) {\n  var iA = -1;\n  var nA = polyA.length;\n  var nB = polyB.length;\n  var bA = polyA[nA - 1];\n\n  while (++iA < nA) {\n    var aA = bA;\n    bA = polyA[iA];\n    var iB = -1;\n    var bB = polyB[nB - 1];\n\n    while (++iB < nB) {\n      var aB = bB;\n      bB = polyB[iB];\n      if (segmentsIntersect(aA, bA, aB, bB)) return false;\n    }\n  }\n\n  return polygonContains(polyB, polyA[0]);\n}","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport lineIntersection from \"./lineIntersection\";\nimport segmentBoxContains from \"./segmentBoxContains\";\nimport pointDistanceSquared from \"./pointDistanceSquared\";\n/**\n    @function polygonRayCast\n    @desc Gives the two closest intersection points between a ray cast from a point inside a polygon. The two points should lie on opposite sides of the origin.\n    @param {Array} poly The polygon to test against, which should be an `[x, y]` formatted Array.\n    @param {Array} origin The origin point of the ray to be cast, which should be an `[x, y]` formatted Array.\n    @param {Number} [alpha = 0] The angle in radians of the ray.\n    @returns {Array} An array containing two values, the closest point on the left and the closest point on the right. If either point cannot be found, that value will be `null`.\n*/\n\nexport default function (poly, origin) {\n  var alpha = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  var eps = 1e-9;\n  origin = [origin[0] + eps * Math.cos(alpha), origin[1] + eps * Math.sin(alpha)];\n\n  var _origin = origin,\n      _origin2 = _slicedToArray(_origin, 2),\n      x0 = _origin2[0],\n      y0 = _origin2[1];\n\n  var shiftedOrigin = [x0 + Math.cos(alpha), y0 + Math.sin(alpha)];\n  var idx = 0;\n  if (Math.abs(shiftedOrigin[0] - x0) < eps) idx = 1;\n  var i = -1;\n  var n = poly.length;\n  var b = poly[n - 1];\n  var minSqDistLeft = Number.MAX_VALUE;\n  var minSqDistRight = Number.MAX_VALUE;\n  var closestPointLeft = null;\n  var closestPointRight = null;\n\n  while (++i < n) {\n    var a = b;\n    b = poly[i];\n    var p = lineIntersection(origin, shiftedOrigin, a, b);\n\n    if (p && segmentBoxContains(a, b, p)) {\n      var sqDist = pointDistanceSquared(origin, p);\n\n      if (p[idx] < origin[idx]) {\n        if (sqDist < minSqDistLeft) {\n          minSqDistLeft = sqDist;\n          closestPointLeft = p;\n        }\n      } else if (p[idx] > origin[idx]) {\n        if (sqDist < minSqDistRight) {\n          minSqDistRight = sqDist;\n          closestPointRight = p;\n        }\n      }\n    }\n  }\n\n  return [closestPointLeft, closestPointRight];\n}","/**\n    @function pointRotate\n    @desc Rotates a point around a given origin.\n    @param {Array} p The point to be rotated, which should always be an `[x, y]` formatted Array.\n    @param {Number} alpha The angle in radians to rotate.\n    @param {Array} [origin = [0, 0]] The origin point of the rotation, which should always be an `[x, y]` formatted Array.\n    @returns {Boolean}\n*/\nexport default function (p, alpha) {\n  var origin = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [0, 0];\n  var cosAlpha = Math.cos(alpha),\n      sinAlpha = Math.sin(alpha),\n      xshifted = p[0] - origin[0],\n      yshifted = p[1] - origin[1];\n  return [cosAlpha * xshifted - sinAlpha * yshifted + origin[0], sinAlpha * xshifted + cosAlpha * yshifted + origin[1]];\n}","import pointRotate from \"./pointRotate\";\n/**\n    @function polygonRotate\n    @desc Rotates a point around a given origin.\n    @param {Array} poly The polygon to be rotated, which should be an Array of `[x, y]` values.\n    @param {Number} alpha The angle in radians to rotate.\n    @param {Array} [origin = [0, 0]] The origin point of the rotation, which should be an `[x, y]` formatted Array.\n    @returns {Boolean}\n*/\n\nexport default (function (poly, alpha) {\n  var origin = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [0, 0];\n  return poly.map(function (p) {\n    return pointRotate(p, alpha, origin);\n  });\n});","import pointDistanceSquared from \"./pointDistanceSquared\";\n/**\n    @desc square distance from a point to a segment\n    @param {Array} point\n    @param {Array} segmentAnchor1\n    @param {Array} segmentAnchor2\n    @private\n*/\n\nfunction getSqSegDist(p, p1, p2) {\n  var x = p1[0],\n      y = p1[1];\n  var dx = p2[0] - x,\n      dy = p2[1] - y;\n\n  if (dx !== 0 || dy !== 0) {\n    var t = ((p[0] - x) * dx + (p[1] - y) * dy) / (dx * dx + dy * dy);\n\n    if (t > 1) {\n      x = p2[0];\n      y = p2[1];\n    } else if (t > 0) {\n      x += dx * t;\n      y += dy * t;\n    }\n  }\n\n  dx = p[0] - x;\n  dy = p[1] - y;\n  return dx * dx + dy * dy;\n}\n/**\n    @desc basic distance-based simplification\n    @param {Array} polygon\n    @param {Number} sqTolerance\n    @private\n*/\n\n\nfunction simplifyRadialDist(poly, sqTolerance) {\n  var point,\n      prevPoint = poly[0];\n  var newPoints = [prevPoint];\n\n  for (var i = 1, len = poly.length; i < len; i++) {\n    point = poly[i];\n\n    if (pointDistanceSquared(point, prevPoint) > sqTolerance) {\n      newPoints.push(point);\n      prevPoint = point;\n    }\n  }\n\n  if (prevPoint !== point) newPoints.push(point);\n  return newPoints;\n}\n/**\n    @param {Array} polygon\n    @param {Number} first\n    @param {Number} last\n    @param {Number} sqTolerance\n    @param {Array} simplified\n    @private\n*/\n\n\nfunction simplifyDPStep(poly, first, last, sqTolerance, simplified) {\n  var index,\n      maxSqDist = sqTolerance;\n\n  for (var i = first + 1; i < last; i++) {\n    var sqDist = getSqSegDist(poly[i], poly[first], poly[last]);\n\n    if (sqDist > maxSqDist) {\n      index = i;\n      maxSqDist = sqDist;\n    }\n  }\n\n  if (maxSqDist > sqTolerance) {\n    if (index - first > 1) simplifyDPStep(poly, first, index, sqTolerance, simplified);\n    simplified.push(poly[index]);\n    if (last - index > 1) simplifyDPStep(poly, index, last, sqTolerance, simplified);\n  }\n}\n/**\n    @desc simplification using Ramer-Douglas-Peucker algorithm\n    @param {Array} polygon\n    @param {Number} sqTolerance\n    @private\n*/\n\n\nfunction simplifyDouglasPeucker(poly, sqTolerance) {\n  var last = poly.length - 1;\n  var simplified = [poly[0]];\n  simplifyDPStep(poly, 0, last, sqTolerance, simplified);\n  simplified.push(poly[last]);\n  return simplified;\n}\n/**\n    @function largestRect\n    @desc Simplifies the points of a polygon using both the Ramer-Douglas-Peucker algorithm and basic distance-based simplification. Adapted to an ES6 module from the excellent [Simplify.js](http://mourner.github.io/simplify-js/).\n    @author Vladimir Agafonkin\n    @param {Array} poly An Array of points that represent a polygon.\n    @param {Number} [tolerance = 1] Affects the amount of simplification (in the same metric as the point coordinates).\n    @param {Boolean} [highestQuality = false] Excludes distance-based preprocessing step which leads to highest quality simplification but runs ~10-20 times slower.\n\n*/\n\n\nexport default (function (poly) {\n  var tolerance = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n  var highestQuality = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  if (poly.length <= 2) return poly;\n  var sqTolerance = tolerance * tolerance;\n  poly = highestQuality ? poly : simplifyRadialDist(poly, sqTolerance);\n  poly = simplifyDouglasPeucker(poly, sqTolerance);\n  return poly;\n});","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { extent, merge, range } from \"d3-array\";\nimport { polygonArea, polygonCentroid, polygonContains } from \"d3-polygon\";\nimport polygonInside from \"./polygonInside\";\nimport polygonRayCast from \"./polygonRayCast\";\nimport polygonRotate from \"./polygonRotate\";\nimport simplify from \"./simplify\";\nimport pointDistanceSquared from \"./pointDistanceSquared\"; // Algorithm constants\n\nvar aspectRatioStep = 0.5; // step size for the aspect ratio\n\nvar angleStep = 5; // step size for angles (in degrees); has linear impact on running time\n\nvar polyCache = {};\n/**\n    @typedef {Object} LargestRect\n    @desc The returned Object of the largestRect function.\n    @property {Number} width The width of the rectangle\n    @property {Number} height The height of the rectangle\n    @property {Number} cx The x coordinate of the rectangle's center\n    @property {Number} cy The y coordinate of the rectangle's center\n    @property {Number} angle The rotation angle of the rectangle in degrees. The anchor of rotation is the center point.\n    @property {Number} area The area of the largest rectangle.\n    @property {Array} points An array of x/y coordinates for each point in the rectangle, useful for rendering paths.\n*/\n\n/**\n    @function largestRect\n    @author Daniel Smilkov [dsmilkov@gmail.com]\n    @desc An angle of zero means that the longer side of the polygon (the width) will be aligned with the x axis. An angle of 90 and/or -90 means that the longer side of the polygon (the width) will be aligned with the y axis. The value can be a number between -90 and 90 specifying the angle of rotation of the polygon, a string which is parsed to a number, or an array of numbers specifying the possible rotations of the polygon.\n    @param {Array} poly An Array of points that represent a polygon.\n    @param {Object} [options] An Object that allows for overriding various parameters of the algorithm.\n    @param {Number|String|Array} [options.angle = d3.range(-90, 95, 5)] The allowed rotations of the final rectangle.\n    @param {Number|String|Array} [options.aspectRatio] The ratio between the width and height of the rectangle. The value can be a number, a string which is parsed to a number, or an array of numbers specifying the possible aspect ratios of the final rectangle.\n    @param {Number} [options.maxAspectRatio = 15] The maximum aspect ratio (width/height) allowed for the rectangle. This property should only be used if the aspectRatio is not provided.\n    @param {Number} [options.minAspectRatio = 1] The minimum aspect ratio (width/height) allowed for the rectangle. This property should only be used if the aspectRatio is not provided.\n    @param {Number} [options.nTries = 20] The number of randomly drawn points inside the polygon which the algorithm explores as possible center points of the maximal rectangle.\n    @param {Number} [options.minHeight = 0] The minimum height of the rectangle.\n    @param {Number} [options.minWidth = 0] The minimum width of the rectangle.\n    @param {Number} [options.tolerance = 0.02] The simplification tolerance factor, between 0 and 1. A larger tolerance corresponds to more extensive simplification.\n    @param {Array} [options.origin] The center point of the rectangle. If specified, the rectangle will be fixed at that point, otherwise the algorithm optimizes across all possible points. The given value can be either a two dimensional array specifying the x and y coordinate of the origin or an array of two dimensional points specifying multiple possible center points of the rectangle.\n    @param {Boolean} [options.cache] Whether or not to cache the result, which would be used in subsequent calculations to preserve consistency and speed up calculation time.\n    @return {LargestRect}\n*/\n\nexport default function (poly) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (poly.length < 3) {\n    if (options.verbose) console.error(\"polygon has to have at least 3 points\", poly);\n    return null;\n  } // For visualization debugging purposes\n\n\n  var events = []; // User's input normalization\n\n  options = Object.assign({\n    angle: range(-90, 90 + angleStep, angleStep),\n    cache: true,\n    maxAspectRatio: 15,\n    minAspectRatio: 1,\n    minHeight: 0,\n    minWidth: 0,\n    nTries: 20,\n    tolerance: 0.02,\n    verbose: false\n  }, options);\n  var angles = options.angle instanceof Array ? options.angle : typeof options.angle === \"number\" ? [options.angle] : typeof options.angle === \"string\" && !isNaN(options.angle) ? [Number(options.angle)] : [];\n  var aspectRatios = options.aspectRatio instanceof Array ? options.aspectRatio : typeof options.aspectRatio === \"number\" ? [options.aspectRatio] : typeof options.aspectRatio === \"string\" && !isNaN(options.aspectRatio) ? [Number(options.aspectRatio)] : [];\n  var origins = options.origin && options.origin instanceof Array ? options.origin[0] instanceof Array ? options.origin : [options.origin] : [];\n  var cacheString;\n\n  if (options.cache) {\n    cacheString = merge(poly).join(\",\");\n    cacheString += \"-\".concat(options.minAspectRatio);\n    cacheString += \"-\".concat(options.maxAspectRatio);\n    cacheString += \"-\".concat(options.minHeight);\n    cacheString += \"-\".concat(options.minWidth);\n    cacheString += \"-\".concat(angles.join(\",\"));\n    cacheString += \"-\".concat(origins.join(\",\"));\n    if (polyCache[cacheString]) return polyCache[cacheString];\n  }\n\n  var area = Math.abs(polygonArea(poly)); // take absolute value of the signed area\n\n  if (area === 0) {\n    if (options.verbose) console.error(\"polygon has 0 area\", poly);\n    return null;\n  } // get the width of the bounding box of the original polygon to determine tolerance\n\n\n  var _extent = extent(poly, function (d) {\n    return d[0];\n  }),\n      _extent2 = _slicedToArray(_extent, 2),\n      minx = _extent2[0],\n      maxx = _extent2[1];\n\n  var _extent3 = extent(poly, function (d) {\n    return d[1];\n  }),\n      _extent4 = _slicedToArray(_extent3, 2),\n      miny = _extent4[0],\n      maxy = _extent4[1]; // simplify polygon\n\n\n  var tolerance = Math.min(maxx - minx, maxy - miny) * options.tolerance;\n  if (tolerance > 0) poly = simplify(poly, tolerance);\n  if (options.events) events.push({\n    type: \"simplify\",\n    poly: poly\n  }); // get the width of the bounding box of the simplified polygon\n\n  var _extent5 = extent(poly, function (d) {\n    return d[0];\n  });\n\n  var _extent6 = _slicedToArray(_extent5, 2);\n\n  minx = _extent6[0];\n  maxx = _extent6[1];\n\n  var _extent7 = extent(poly, function (d) {\n    return d[1];\n  });\n\n  var _extent8 = _slicedToArray(_extent7, 2);\n\n  miny = _extent8[0];\n  maxy = _extent8[1];\n  var boxWidth = maxx - minx,\n      boxHeight = maxy - miny; // discretize the binary search for optimal width to a resolution of this times the polygon width\n\n  var widthStep = Math.min(boxWidth, boxHeight) / 50; // populate possible center points with random points inside the polygon\n\n  if (!origins.length) {\n    // get the centroid of the polygon\n    var centroid = polygonCentroid(poly);\n\n    if (!isFinite(centroid[0])) {\n      if (options.verbose) console.error(\"cannot find centroid\", poly);\n      return null;\n    }\n\n    if (polygonContains(poly, centroid)) origins.push(centroid);\n    var nTries = options.nTries; // get few more points inside the polygon\n\n    while (nTries) {\n      var rndX = Math.random() * boxWidth + minx;\n      var rndY = Math.random() * boxHeight + miny;\n      var rndPoint = [rndX, rndY];\n\n      if (polygonContains(poly, rndPoint)) {\n        origins.push(rndPoint);\n      }\n\n      nTries--;\n    }\n  }\n\n  if (options.events) events.push({\n    type: \"origins\",\n    points: origins\n  });\n  var maxArea = 0;\n  var maxRect = null;\n\n  for (var ai = 0; ai < angles.length; ai++) {\n    var angle = angles[ai];\n    var angleRad = -angle * Math.PI / 180;\n    if (options.events) events.push({\n      type: \"angle\",\n      angle: angle\n    });\n\n    for (var i = 0; i < origins.length; i++) {\n      var origOrigin = origins[i]; // generate improved origins\n\n      var _polygonRayCast = polygonRayCast(poly, origOrigin, angleRad),\n          _polygonRayCast2 = _slicedToArray(_polygonRayCast, 2),\n          p1W = _polygonRayCast2[0],\n          p2W = _polygonRayCast2[1];\n\n      var _polygonRayCast3 = polygonRayCast(poly, origOrigin, angleRad + Math.PI / 2),\n          _polygonRayCast4 = _slicedToArray(_polygonRayCast3, 2),\n          p1H = _polygonRayCast4[0],\n          p2H = _polygonRayCast4[1];\n\n      var modifOrigins = [];\n      if (p1W && p2W) modifOrigins.push([(p1W[0] + p2W[0]) / 2, (p1W[1] + p2W[1]) / 2]); // average along with width axis\n\n      if (p1H && p2H) modifOrigins.push([(p1H[0] + p2H[0]) / 2, (p1H[1] + p2H[1]) / 2]); // average along with height axis\n\n      if (options.events) events.push({\n        type: \"modifOrigin\",\n        idx: i,\n        p1W: p1W,\n        p2W: p2W,\n        p1H: p1H,\n        p2H: p2H,\n        modifOrigins: modifOrigins\n      });\n\n      for (var _i2 = 0; _i2 < modifOrigins.length; _i2++) {\n        var origin = modifOrigins[_i2];\n        if (options.events) events.push({\n          type: \"origin\",\n          cx: origin[0],\n          cy: origin[1]\n        });\n\n        var _polygonRayCast5 = polygonRayCast(poly, origin, angleRad),\n            _polygonRayCast6 = _slicedToArray(_polygonRayCast5, 2),\n            _p1W = _polygonRayCast6[0],\n            _p2W = _polygonRayCast6[1];\n\n        if (_p1W === null || _p2W === null) continue;\n        var minSqDistW = Math.min(pointDistanceSquared(origin, _p1W), pointDistanceSquared(origin, _p2W));\n        var maxWidth = 2 * Math.sqrt(minSqDistW);\n\n        var _polygonRayCast7 = polygonRayCast(poly, origin, angleRad + Math.PI / 2),\n            _polygonRayCast8 = _slicedToArray(_polygonRayCast7, 2),\n            _p1H = _polygonRayCast8[0],\n            _p2H = _polygonRayCast8[1];\n\n        if (_p1H === null || _p2H === null) continue;\n        var minSqDistH = Math.min(pointDistanceSquared(origin, _p1H), pointDistanceSquared(origin, _p2H));\n        var maxHeight = 2 * Math.sqrt(minSqDistH);\n        if (maxWidth * maxHeight < maxArea) continue;\n        var aRatios = aspectRatios;\n\n        if (!aRatios.length) {\n          var minAspectRatio = Math.max(options.minAspectRatio, options.minWidth / maxHeight, maxArea / (maxHeight * maxHeight));\n          var maxAspectRatio = Math.min(options.maxAspectRatio, maxWidth / options.minHeight, maxWidth * maxWidth / maxArea);\n          aRatios = range(minAspectRatio, maxAspectRatio + aspectRatioStep, aspectRatioStep);\n        }\n\n        for (var a = 0; a < aRatios.length; a++) {\n          var aRatio = aRatios[a]; // do a binary search to find the max width that works\n\n          var left = Math.max(options.minWidth, Math.sqrt(maxArea * aRatio));\n          var right = Math.min(maxWidth, maxHeight * aRatio);\n          if (right * maxHeight < maxArea) continue;\n          if (options.events && right - left >= widthStep) events.push({\n            type: \"aRatio\",\n            aRatio: aRatio\n          });\n\n          while (right - left >= widthStep) {\n            var width = (left + right) / 2;\n            var height = width / aRatio;\n\n            var _origin = _slicedToArray(origin, 2),\n                cx = _origin[0],\n                cy = _origin[1];\n\n            var rectPoly = [[cx - width / 2, cy - height / 2], [cx + width / 2, cy - height / 2], [cx + width / 2, cy + height / 2], [cx - width / 2, cy + height / 2]];\n            rectPoly = polygonRotate(rectPoly, angleRad, origin);\n            var insidePoly = polygonInside(rectPoly, poly);\n\n            if (insidePoly) {\n              // we know that the area is already greater than the maxArea found so far\n              maxArea = width * height;\n              rectPoly.push(rectPoly[0]);\n              maxRect = {\n                area: maxArea,\n                cx: cx,\n                cy: cy,\n                width: width,\n                height: height,\n                angle: -angle,\n                points: rectPoly\n              };\n              left = width; // increase the width in the binary search\n            } else {\n              right = width; // decrease the width in the binary search\n            }\n\n            if (options.events) events.push({\n              type: \"rectangle\",\n              areaFraction: width * height / area,\n              cx: cx,\n              cy: cy,\n              width: width,\n              height: height,\n              angle: angle,\n              insidePoly: insidePoly\n            });\n          }\n        }\n      }\n    }\n  }\n\n  if (options.cache) {\n    polyCache[cacheString] = maxRect;\n  }\n\n  return options.events ? Object.assign(maxRect || {}, {\n    events: events\n  }) : maxRect;\n}","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport { extent } from \"d3-array\";\nimport { nest } from \"d3-collection\";\nimport { interpolatePath } from \"d3-interpolate-path\";\nimport { select } from \"d3-selection\";\nimport * as paths from \"d3-shape\";\nimport { accessor, constant, merge } from \"d3plus-common\";\nimport Shape from \"./Shape\";\nimport largestRect from \"../geom/largestRect\";\n/**\n    @class Area\n    @extends Shape\n    @desc Creates SVG areas based on an array of data.\n*/\n\nvar Area =\n/*#__PURE__*/\nfunction (_Shape) {\n  _inherits(Area, _Shape);\n\n  /**\n      @memberof Area\n      @desc Invoked when creating a new class instance, and overrides any default parameters inherited from Shape.\n      @private\n  */\n  function Area() {\n    var _this;\n\n    _classCallCheck(this, Area);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Area).call(this));\n    _this._curve = \"linear\";\n\n    _this._defined = function () {\n      return true;\n    };\n\n    _this._labelBounds = function (d, i, aes) {\n      var r = largestRect(aes.points);\n      if (!r) return null;\n      return {\n        angle: r.angle,\n        width: r.width,\n        height: r.height,\n        x: r.cx - r.width / 2 - _this._x(d, i),\n        y: r.cy - r.height / 2 - _this._y(d, i)\n      };\n    };\n\n    _this._labelConfig = Object.assign(_this._labelConfig, {\n      textAnchor: \"middle\",\n      verticalAlign: \"middle\"\n    });\n    _this._name = \"Area\";\n    _this._x = accessor(\"x\");\n    _this._x0 = accessor(\"x\");\n    _this._x1 = null;\n    _this._y = constant(0);\n    _this._y0 = constant(0);\n    _this._y1 = accessor(\"y\");\n    return _this;\n  }\n  /**\n      @memberof Area\n      @desc Given a specific data point and index, returns the aesthetic properties of the shape.\n      @param {Object} *data point*\n      @param {Number} *index*\n      @private\n  */\n\n\n  _createClass(Area, [{\n    key: \"_aes\",\n    value: function _aes(d) {\n      var _this2 = this;\n\n      var values = d.values.slice().sort(function (a, b) {\n        return _this2._y1 ? _this2._x(a) - _this2._x(b) : _this2._y(a) - _this2._y(b);\n      });\n      var points1 = values.map(function (v, z) {\n        return [_this2._x0(v, z), _this2._y0(v, z)];\n      });\n      var points2 = values.reverse().map(function (v, z) {\n        return _this2._y1 ? [_this2._x(v, z), _this2._y1(v, z)] : [_this2._x1(v, z), _this2._y(v, z)];\n      });\n      var points = points1.concat(points2);\n      if (points1[0][1] > points2[0][1]) points = points.reverse();\n      points.push(points[0]);\n      return {\n        points: points\n      };\n    }\n    /**\n        @memberof Area\n        @desc Filters/manipulates the data array before binding each point to an SVG group.\n        @param {Array} [*data* = the data array to be filtered]\n        @private\n    */\n\n  }, {\n    key: \"_dataFilter\",\n    value: function _dataFilter(data) {\n      var _this3 = this;\n\n      var areas = nest().key(this._id).entries(data).map(function (d) {\n        d.data = merge(d.values);\n        d.i = data.indexOf(d.values[0]);\n        var x = extent(d.values.map(_this3._x).concat(d.values.map(_this3._x0)).concat(_this3._x1 ? d.values.map(_this3._x1) : []));\n        d.xR = x;\n        d.width = x[1] - x[0];\n        d.x = x[0] + d.width / 2;\n        var y = extent(d.values.map(_this3._y).concat(d.values.map(_this3._y0)).concat(_this3._y1 ? d.values.map(_this3._y1) : []));\n        d.yR = y;\n        d.height = y[1] - y[0];\n        d.y = y[0] + d.height / 2;\n        d.nested = true;\n        d.translate = [d.x, d.y];\n        d.__d3plusShape__ = true;\n        return d;\n      });\n\n      areas.key = function (d) {\n        return d.key;\n      };\n\n      return areas;\n    }\n    /**\n        @memberof Area\n        @desc Draws the area polygons.\n        @param {Function} [*callback*]\n        @chainable\n    */\n\n  }, {\n    key: \"render\",\n    value: function render(callback) {\n      var _this4 = this;\n\n      _get(_getPrototypeOf(Area.prototype), \"render\", this).call(this, callback);\n\n      var path = this._path = paths.area().defined(this._defined).curve(paths[\"curve\".concat(this._curve.charAt(0).toUpperCase()).concat(this._curve.slice(1))]).x(this._x).x0(this._x0).x1(this._x1).y(this._y).y0(this._y0).y1(this._y1);\n      var exitPath = paths.area().defined(function (d) {\n        return d;\n      }).curve(paths[\"curve\".concat(this._curve.charAt(0).toUpperCase()).concat(this._curve.slice(1))]).x(this._x).y(this._y).x0(function (d, i) {\n        return _this4._x1 ? _this4._x0(d, i) + (_this4._x1(d, i) - _this4._x0(d, i)) / 2 : _this4._x0(d, i);\n      }).x1(function (d, i) {\n        return _this4._x1 ? _this4._x0(d, i) + (_this4._x1(d, i) - _this4._x0(d, i)) / 2 : _this4._x0(d, i);\n      }).y0(function (d, i) {\n        return _this4._y1 ? _this4._y0(d, i) + (_this4._y1(d, i) - _this4._y0(d, i)) / 2 : _this4._y0(d, i);\n      }).y1(function (d, i) {\n        return _this4._y1 ? _this4._y0(d, i) + (_this4._y1(d, i) - _this4._y0(d, i)) / 2 : _this4._y0(d, i);\n      });\n\n      this._enter.append(\"path\").attr(\"transform\", function (d) {\n        return \"translate(\".concat(-d.xR[0] - d.width / 2, \", \").concat(-d.yR[0] - d.height / 2, \")\");\n      }).attr(\"d\", function (d) {\n        return exitPath(d.values);\n      }).call(this._applyStyle.bind(this)).transition(this._transition).attrTween(\"d\", function (d) {\n        return interpolatePath(select(this).attr(\"d\"), path(d.values));\n      });\n\n      this._update.select(\"path\").transition(this._transition).attr(\"transform\", function (d) {\n        return \"translate(\".concat(-d.xR[0] - d.width / 2, \", \").concat(-d.yR[0] - d.height / 2, \")\");\n      }).attrTween(\"d\", function (d) {\n        return interpolatePath(select(this).attr(\"d\"), path(d.values));\n      }).call(this._applyStyle.bind(this));\n\n      this._exit.select(\"path\").transition(this._transition).attrTween(\"d\", function (d) {\n        return interpolatePath(select(this).attr(\"d\"), exitPath(d.values));\n      });\n\n      return this;\n    }\n    /**\n        @memberof Area\n        @desc If *value* is specified, sets the area curve to the specified string and returns the current class instance. If *value* is not specified, returns the current area curve.\n        @param {String} [*value* = \"linear\"]\n        @chainable\n    */\n\n  }, {\n    key: \"curve\",\n    value: function curve(_) {\n      return arguments.length ? (this._curve = _, this) : this._curve;\n    }\n    /**\n        @memberof Area\n        @desc If *value* is specified, sets the defined accessor to the specified function and returns the current class instance. If *value* is not specified, returns the current defined accessor.\n        @param {Function} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"defined\",\n    value: function defined(_) {\n      return arguments.length ? (this._defined = _, this) : this._defined;\n    }\n    /**\n        @memberof Area\n        @desc If *value* is specified, sets the x accessor to the specified function or number and returns the current class instance. If *value* is not specified, returns the current x accessor.\n        @param {Function|Number} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"x\",\n    value: function x(_) {\n      if (!arguments.length) return this._x;\n      this._x = typeof _ === \"function\" ? _ : constant(_);\n      this._x0 = this._x;\n      return this;\n    }\n    /**\n        @memberof Area\n        @desc If *value* is specified, sets the x0 accessor to the specified function or number and returns the current class instance. If *value* is not specified, returns the current x0 accessor.\n        @param {Function|Number} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"x0\",\n    value: function x0(_) {\n      if (!arguments.length) return this._x0;\n      this._x0 = typeof _ === \"function\" ? _ : constant(_);\n      this._x = this._x0;\n      return this;\n    }\n    /**\n        @memberof Area\n        @desc If *value* is specified, sets the x1 accessor to the specified function or number and returns the current class instance. If *value* is not specified, returns the current x1 accessor.\n        @param {Function|Number|null} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"x1\",\n    value: function x1(_) {\n      return arguments.length ? (this._x1 = typeof _ === \"function\" || _ === null ? _ : constant(_), this) : this._x1;\n    }\n    /**\n        @memberof Area\n        @desc If *value* is specified, sets the y accessor to the specified function or number and returns the current class instance. If *value* is not specified, returns the current y accessor.\n        @param {Function|Number} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"y\",\n    value: function y(_) {\n      if (!arguments.length) return this._y;\n      this._y = typeof _ === \"function\" ? _ : constant(_);\n      this._y0 = this._y;\n      return this;\n    }\n    /**\n        @memberof Area\n        @desc If *value* is specified, sets the y0 accessor to the specified function or number and returns the current class instance. If *value* is not specified, returns the current y0 accessor.\n        @param {Function|Number} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"y0\",\n    value: function y0(_) {\n      if (!arguments.length) return this._y0;\n      this._y0 = typeof _ === \"function\" ? _ : constant(_);\n      this._y = this._y0;\n      return this;\n    }\n    /**\n        @memberof Area\n        @desc If *value* is specified, sets the y1 accessor to the specified function or number and returns the current class instance. If *value* is not specified, returns the current y1 accessor.\n        @param {Function|Number|null} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"y1\",\n    value: function y1(_) {\n      return arguments.length ? (this._y1 = typeof _ === \"function\" || _ === null ? _ : constant(_), this) : this._y1;\n    }\n  }]);\n\n  return Area;\n}(Shape);\n\nexport { Area as default };","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport { accessor, constant } from \"d3plus-common\";\nimport Shape from \"./Shape\";\n/**\n    @class Bar\n    @extends Shape\n    @desc Creates SVG areas based on an array of data.\n*/\n\nvar Bar =\n/*#__PURE__*/\nfunction (_Shape) {\n  _inherits(Bar, _Shape);\n\n  /**\n      @memberof Bar\n      @desc Invoked when creating a new class instance, and overrides any default parameters inherited from Shape.\n      @private\n  */\n  function Bar() {\n    var _this;\n\n    _classCallCheck(this, Bar);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Bar).call(this, \"rect\"));\n    _this._name = \"Bar\";\n    _this._height = constant(10);\n\n    _this._labelBounds = function (d, i, s) {\n      return {\n        width: s.width,\n        height: s.height,\n        x: _this._x1 !== null ? _this._getX(d, i) : -s.width / 2,\n        y: _this._x1 === null ? _this._getY(d, i) : -s.height / 2\n      };\n    };\n\n    _this._width = constant(10);\n    _this._x = accessor(\"x\");\n    _this._x0 = accessor(\"x\");\n    _this._x1 = null;\n    _this._y = constant(0);\n    _this._y0 = constant(0);\n    _this._y1 = accessor(\"y\");\n    return _this;\n  }\n  /**\n      @memberof Bar\n      @desc Draws the bars.\n      @param {Function} [*callback*]\n      @chainable\n  */\n\n\n  _createClass(Bar, [{\n    key: \"render\",\n    value: function render(callback) {\n      var _this2 = this;\n\n      _get(_getPrototypeOf(Bar.prototype), \"render\", this).call(this, callback);\n\n      var enter = this._enter.attr(\"width\", function (d, i) {\n        return _this2._x1 === null ? _this2._getWidth(d, i) : 0;\n      }).attr(\"height\", function (d, i) {\n        return _this2._x1 !== null ? _this2._getHeight(d, i) : 0;\n      }).attr(\"x\", function (d, i) {\n        return _this2._x1 === null ? -_this2._getWidth(d, i) / 2 : 0;\n      }).attr(\"y\", function (d, i) {\n        return _this2._x1 !== null ? -_this2._getHeight(d, i) / 2 : 0;\n      }).call(this._applyStyle.bind(this));\n\n      var update = this._update;\n\n      if (this._duration) {\n        enter = enter.transition(this._transition);\n        update = update.transition(this._transition);\n\n        this._exit.transition(this._transition).attr(\"width\", function (d, i) {\n          return _this2._x1 === null ? _this2._getWidth(d, i) : 0;\n        }).attr(\"height\", function (d, i) {\n          return _this2._x1 !== null ? _this2._getHeight(d, i) : 0;\n        }).attr(\"x\", function (d, i) {\n          return _this2._x1 === null ? -_this2._getWidth(d, i) / 2 : 0;\n        }).attr(\"y\", function (d, i) {\n          return _this2._x1 !== null ? -_this2._getHeight(d, i) / 2 : 0;\n        });\n      }\n\n      enter.call(this._applyPosition.bind(this));\n      update.call(this._applyStyle.bind(this)).call(this._applyPosition.bind(this));\n      return this;\n    }\n    /**\n        @memberof Bar\n        @desc Given a specific data point and index, returns the aesthetic properties of the shape.\n        @param {Object} *data point*\n        @param {Number} *index*\n        @private\n    */\n\n  }, {\n    key: \"_aes\",\n    value: function _aes(d, i) {\n      return {\n        height: this._getHeight(d, i),\n        width: this._getWidth(d, i)\n      };\n    }\n    /**\n        @memberof Bar\n        @desc Provides the default positioning to the <rect> elements.\n        @param {D3Selection} *elem*\n        @private\n    */\n\n  }, {\n    key: \"_applyPosition\",\n    value: function _applyPosition(elem) {\n      var _this3 = this;\n\n      elem.attr(\"width\", function (d, i) {\n        return _this3._getWidth(d, i);\n      }).attr(\"height\", function (d, i) {\n        return _this3._getHeight(d, i);\n      }).attr(\"x\", function (d, i) {\n        return _this3._x1 !== null ? _this3._getX(d, i) : -_this3._getWidth(d, i) / 2;\n      }).attr(\"y\", function (d, i) {\n        return _this3._x1 === null ? _this3._getY(d, i) : -_this3._getHeight(d, i) / 2;\n      });\n    }\n    /**\n        @memberof Bar\n        @desc Calculates the height of the <rect> by assessing the x and y properties.\n        @param {Object} *d*\n        @param {Number} *i*\n        @private\n    */\n\n  }, {\n    key: \"_getHeight\",\n    value: function _getHeight(d, i) {\n      if (this._x1 !== null) return this._height(d, i);\n      return Math.abs(this._y1(d, i) - this._y(d, i));\n    }\n    /**\n        @memberof Bar\n        @desc Calculates the width of the <rect> by assessing the x and y properties.\n        @param {Object} *d*\n        @param {Number} *i*\n        @private\n    */\n\n  }, {\n    key: \"_getWidth\",\n    value: function _getWidth(d, i) {\n      if (this._x1 === null) return this._width(d, i);\n      return Math.abs(this._x1(d, i) - this._x(d, i));\n    }\n    /**\n        @memberof Bar\n        @desc Calculates the x of the <rect> by assessing the x and width properties.\n        @param {Object} *d*\n        @param {Number} *i*\n        @private\n    */\n\n  }, {\n    key: \"_getX\",\n    value: function _getX(d, i) {\n      var w = this._x1 === null ? this._x(d, i) : this._x1(d, i) - this._x(d, i);\n      if (w < 0) return w;else return 0;\n    }\n    /**\n        @memberof Bar\n        @desc Calculates the y of the <rect> by assessing the y and height properties.\n        @param {Object} *d*\n        @param {Number} *i*\n        @private\n    */\n\n  }, {\n    key: \"_getY\",\n    value: function _getY(d, i) {\n      var h = this._x1 !== null ? this._y(d, i) : this._y1(d, i) - this._y(d, i);\n      if (h < 0) return h;else return 0;\n    }\n    /**\n        @memberof Bar\n        @desc If *value* is specified, sets the height accessor to the specified function or number and returns the current class instance.\n        @param {Function|Number} [*value*]\n        @chainable\n        @example\n    function(d) {\n    return d.height;\n    }\n    */\n\n  }, {\n    key: \"height\",\n    value: function height(_) {\n      return arguments.length ? (this._height = typeof _ === \"function\" ? _ : constant(_), this) : this._height;\n    }\n    /**\n        @memberof Bar\n        @desc If *value* is specified, sets the width accessor to the specified function or number and returns the current class instance.\n        @param {Function|Number} [*value*]\n        @chainable\n        @example\n    function(d) {\n    return d.width;\n    }\n    */\n\n  }, {\n    key: \"width\",\n    value: function width(_) {\n      return arguments.length ? (this._width = typeof _ === \"function\" ? _ : constant(_), this) : this._width;\n    }\n    /**\n        @memberof Bar\n        @desc If *value* is specified, sets the x0 accessor to the specified function or number and returns the current class instance.\n        @param {Function|Number} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"x0\",\n    value: function x0(_) {\n      if (!arguments.length) return this._x0;\n      this._x0 = typeof _ === \"function\" ? _ : constant(_);\n      this._x = this._x0;\n      return this;\n    }\n    /**\n        @memberof Bar\n        @desc If *value* is specified, sets the x1 accessor to the specified function or number and returns the current class instance.\n        @param {Function|Number|null} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"x1\",\n    value: function x1(_) {\n      return arguments.length ? (this._x1 = typeof _ === \"function\" || _ === null ? _ : constant(_), this) : this._x1;\n    }\n    /**\n        @memberof Bar\n        @desc If *value* is specified, sets the y0 accessor to the specified function or number and returns the current class instance.\n        @param {Function|Number} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"y0\",\n    value: function y0(_) {\n      if (!arguments.length) return this._y0;\n      this._y0 = typeof _ === \"function\" ? _ : constant(_);\n      this._y = this._y0;\n      return this;\n    }\n    /**\n        @memberof Bar\n        @desc If *value* is specified, sets the y1 accessor to the specified function or number and returns the current class instance.\n        @param {Function|Number|null} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"y1\",\n    value: function y1(_) {\n      return arguments.length ? (this._y1 = typeof _ === \"function\" || _ === null ? _ : constant(_), this) : this._y1;\n    }\n  }]);\n\n  return Bar;\n}(Shape);\n\nexport { Bar as default };","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport { accessor, assign, constant } from \"d3plus-common\";\nimport Shape from \"./Shape\";\n/**\n    @class Circle\n    @extends Shape\n    @desc Creates SVG circles based on an array of data.\n*/\n\nvar Circle =\n/*#__PURE__*/\nfunction (_Shape) {\n  _inherits(Circle, _Shape);\n\n  /**\n      @memberof Circle\n      @desc Invoked when creating a new class instance, and overrides any default parameters inherited from Shape.\n      @private\n  */\n  function Circle() {\n    var _this;\n\n    _classCallCheck(this, Circle);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Circle).call(this, \"circle\"));\n\n    _this._labelBounds = function (d, i, s) {\n      return {\n        width: s.r * 1.5,\n        height: s.r * 1.5,\n        x: -s.r * 0.75,\n        y: -s.r * 0.75\n      };\n    };\n\n    _this._labelConfig = assign(_this._labelConfig, {\n      textAnchor: \"middle\",\n      verticalAlign: \"middle\"\n    });\n    _this._name = \"Circle\";\n    _this._r = accessor(\"r\");\n    return _this;\n  }\n  /**\n      @memberof Circle\n      @desc Provides the default positioning to the <rect> elements.\n      @private\n  */\n\n\n  _createClass(Circle, [{\n    key: \"_applyPosition\",\n    value: function _applyPosition(elem) {\n      var _this2 = this;\n\n      elem.attr(\"r\", function (d, i) {\n        return _this2._r(d, i);\n      }).attr(\"x\", function (d, i) {\n        return -_this2._r(d, i) / 2;\n      }).attr(\"y\", function (d, i) {\n        return -_this2._r(d, i) / 2;\n      });\n    }\n    /**\n        @memberof Circle\n        @desc Draws the circles.\n        @param {Function} [*callback*]\n        @chainable\n    */\n\n  }, {\n    key: \"render\",\n    value: function render(callback) {\n      _get(_getPrototypeOf(Circle.prototype), \"render\", this).call(this, callback);\n\n      var enter = this._enter.call(this._applyStyle.bind(this));\n\n      var update = this._update;\n\n      if (this._duration) {\n        enter.attr(\"r\", 0).attr(\"x\", 0).attr(\"y\", 0).transition(this._transition).call(this._applyPosition.bind(this));\n        update = update.transition(this._transition);\n\n        this._exit.transition(this._transition).attr(\"r\", 0).attr(\"x\", 0).attr(\"y\", 0);\n      } else {\n        enter.call(this._applyPosition.bind(this));\n      }\n\n      update.call(this._applyStyle.bind(this)).call(this._applyPosition.bind(this));\n      return this;\n    }\n    /**\n        @memberof Circle\n        @desc Given a specific data point and index, returns the aesthetic properties of the shape.\n        @param {Object} *data point*\n        @param {Number} *index*\n        @private\n    */\n\n  }, {\n    key: \"_aes\",\n    value: function _aes(d, i) {\n      return {\n        r: this._r(d, i)\n      };\n    }\n    /**\n        @memberof Circle\n        @desc If *value* is specified, sets the radius accessor to the specified function or number and returns the current class instance.\n        @param {Function|Number} [*value*]\n        @chainable\n        @example\n    function(d) {\n    return d.r;\n    }\n    */\n\n  }, {\n    key: \"r\",\n    value: function r(_) {\n      return arguments.length ? (this._r = typeof _ === \"function\" ? _ : constant(_), this) : this._r;\n    }\n  }]);\n\n  return Circle;\n}(Shape);\n\nexport { Circle as default };","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport { accessor, constant } from \"d3plus-common\";\nimport Shape from \"./Shape\";\n/**\n    @class Rect\n    @extends Shape\n    @desc Creates SVG rectangles based on an array of data. See [this example](https://d3plus.org/examples/d3plus-shape/getting-started/) for help getting started using the rectangle generator.\n*/\n\nvar Rect =\n/*#__PURE__*/\nfunction (_Shape) {\n  _inherits(Rect, _Shape);\n\n  /**\n      @memberof Rect\n      @desc Invoked when creating a new class instance, and overrides any default parameters inherited from Shape.\n      @private\n  */\n  function Rect() {\n    var _this;\n\n    _classCallCheck(this, Rect);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Rect).call(this, \"rect\"));\n    _this._height = accessor(\"height\");\n\n    _this._labelBounds = function (d, i, s) {\n      return {\n        width: s.width,\n        height: s.height,\n        x: -s.width / 2,\n        y: -s.height / 2\n      };\n    };\n\n    _this._name = \"Rect\";\n    _this._width = accessor(\"width\");\n    return _this;\n  }\n  /**\n      @memberof Rect\n      @desc Draws the rectangles.\n      @param {Function} [*callback*]\n      @chainable\n  */\n\n\n  _createClass(Rect, [{\n    key: \"render\",\n    value: function render(callback) {\n      _get(_getPrototypeOf(Rect.prototype), \"render\", this).call(this, callback);\n\n      var enter = this._enter.attr(\"width\", 0).attr(\"height\", 0).attr(\"x\", 0).attr(\"y\", 0).call(this._applyStyle.bind(this));\n\n      var update = this._update;\n\n      if (this._duration) {\n        enter = enter.transition(this._transition);\n        update = update.transition(this._transition);\n\n        this._exit.transition(this._transition).attr(\"width\", 0).attr(\"height\", 0).attr(\"x\", 0).attr(\"y\", 0);\n      }\n\n      enter.call(this._applyPosition.bind(this));\n      update.call(this._applyStyle.bind(this)).call(this._applyPosition.bind(this));\n      return this;\n    }\n    /**\n        @memberof Rect\n        @desc Given a specific data point and index, returns the aesthetic properties of the shape.\n        @param {Object} *data point*\n        @param {Number} *index*\n        @private\n    */\n\n  }, {\n    key: \"_aes\",\n    value: function _aes(d, i) {\n      return {\n        width: this._width(d, i),\n        height: this._height(d, i)\n      };\n    }\n    /**\n        @memberof Rect\n        @desc Provides the default positioning to the <rect> elements.\n        @param {D3Selection} *elem*\n        @private\n    */\n\n  }, {\n    key: \"_applyPosition\",\n    value: function _applyPosition(elem) {\n      var _this2 = this;\n\n      elem.attr(\"width\", function (d, i) {\n        return _this2._width(d, i);\n      }).attr(\"height\", function (d, i) {\n        return _this2._height(d, i);\n      }).attr(\"x\", function (d, i) {\n        return -_this2._width(d, i) / 2;\n      }).attr(\"y\", function (d, i) {\n        return -_this2._height(d, i) / 2;\n      });\n    }\n    /**\n        @memberof Rect\n        @desc If *value* is specified, sets the height accessor to the specified function or number and returns the current class instance.\n        @param {Function|Number} [*value*]\n        @chainable\n        @example\n    function(d) {\n    return d.height;\n    }\n    */\n\n  }, {\n    key: \"height\",\n    value: function height(_) {\n      return arguments.length ? (this._height = typeof _ === \"function\" ? _ : constant(_), this) : this._height;\n    }\n    /**\n        @memberof Rect\n        @desc If *value* is specified, sets the width accessor to the specified function or number and returns the current class instance.\n        @param {Function|Number} [*value*]\n        @chainable\n        @example\n    function(d) {\n    return d.width;\n    }\n    */\n\n  }, {\n    key: \"width\",\n    value: function width(_) {\n      return arguments.length ? (this._width = typeof _ === \"function\" ? _ : constant(_), this) : this._width;\n    }\n  }]);\n\n  return Rect;\n}(Shape);\n\nexport { Rect as default };","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport { extent, sum } from \"d3-array\";\nimport { nest } from \"d3-collection\";\nimport { interpolatePath } from \"d3-interpolate-path\";\nimport { select } from \"d3-selection\";\nimport * as paths from \"d3-shape\";\nimport { constant, merge } from \"d3plus-common\";\nimport Shape from \"./Shape\";\n/**\n    @class Line\n    @extends Shape\n    @desc Creates SVG lines based on an array of data.\n*/\n\nvar Line =\n/*#__PURE__*/\nfunction (_Shape) {\n  _inherits(Line, _Shape);\n\n  /**\n      @memberof Line\n      @desc Invoked when creating a new class instance, and overrides any default parameters inherited from Shape.\n      @private\n  */\n  function Line() {\n    var _this;\n\n    _classCallCheck(this, Line);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Line).call(this));\n    _this._curve = \"linear\";\n\n    _this._defined = function (d) {\n      return d;\n    };\n\n    _this._fill = constant(\"none\");\n    _this._hitArea = constant({\n      \"d\": function d(_d) {\n        return _this._path(_d.values);\n      },\n      \"fill\": \"none\",\n      \"stroke-width\": 10,\n      \"transform\": null\n    });\n    _this._name = \"Line\";\n    _this._path = paths.line();\n    _this._stroke = constant(\"black\");\n    _this._strokeWidth = constant(1);\n    return _this;\n  }\n  /**\n      @memberof Line\n      @desc Filters/manipulates the data array before binding each point to an SVG group.\n      @param {Array} [*data* = the data array to be filtered]\n      @private\n  */\n\n\n  _createClass(Line, [{\n    key: \"_dataFilter\",\n    value: function _dataFilter(data) {\n      var _this2 = this;\n\n      var lines = nest().key(this._id).entries(data).map(function (d) {\n        d.data = merge(d.values);\n        d.i = data.indexOf(d.values[0]);\n        var x = extent(d.values, _this2._x);\n        d.xR = x;\n        d.width = x[1] - x[0];\n        d.x = x[0] + d.width / 2;\n        var y = extent(d.values, _this2._y);\n        d.yR = y;\n        d.height = y[1] - y[0];\n        d.y = y[0] + d.height / 2;\n        d.nested = true;\n        d.translate = [d.x, d.y];\n        d.__d3plusShape__ = true;\n        return d;\n      });\n\n      lines.key = function (d) {\n        return d.key;\n      };\n\n      return lines;\n    }\n    /**\n        @memberof Line\n        @desc Draws the lines.\n        @param {Function} [*callback*]\n        @chainable\n    */\n\n  }, {\n    key: \"render\",\n    value: function render(callback) {\n      var _this3 = this;\n\n      _get(_getPrototypeOf(Line.prototype), \"render\", this).call(this, callback);\n\n      var that = this;\n      /**\n          @desc Calculates the stroke-dasharray used for animations\n          @param {Object} *d* data point\n          @private\n      */\n\n      function calculateStrokeDashArray(d) {\n        d.initialLength = this.getTotalLength();\n\n        var strokeArray = that._strokeDasharray(d.values[0], that._data.indexOf(d.values[0])).split(\" \").map(Number);\n\n        if (strokeArray.length === 1 && strokeArray[0] === 0) strokeArray = [d.initialLength];else if (strokeArray.length === 1) strokeArray.push(strokeArray[0]);else if (strokeArray.length % 2) strokeArray = strokeArray.concat(strokeArray);\n        var newStrokeArray = [];\n        var strokeLength = 0;\n\n        while (strokeLength < d.initialLength) {\n          for (var i = 0; i < strokeArray.length; i++) {\n            var num = strokeArray[i];\n            strokeLength += num;\n            newStrokeArray.push(num);\n            if (strokeLength >= d.initialLength) break;\n          }\n        }\n\n        if (newStrokeArray.length > 1 && newStrokeArray.length % 2) newStrokeArray.pop();\n        newStrokeArray[newStrokeArray.length - 1] += d.initialLength - sum(newStrokeArray);\n        if (newStrokeArray.length % 2 === 0) newStrokeArray.push(0);\n        d.initialStrokeArray = newStrokeArray.join(\" \");\n      }\n\n      this._path.curve(paths[\"curve\".concat(this._curve.charAt(0).toUpperCase()).concat(this._curve.slice(1))]).defined(this._defined).x(this._x).y(this._y);\n\n      var enter = this._enter.append(\"path\").attr(\"transform\", function (d) {\n        return \"translate(\".concat(-d.xR[0] - d.width / 2, \", \").concat(-d.yR[0] - d.height / 2, \")\");\n      }).attr(\"d\", function (d) {\n        return _this3._path(d.values);\n      }).call(this._applyStyle.bind(this));\n\n      var update = this._update.select(\"path\").attr(\"stroke-dasharray\", function (d) {\n        return that._strokeDasharray(d.values[0], that._data.indexOf(d.values[0]));\n      });\n\n      if (this._duration) {\n        enter.each(calculateStrokeDashArray).attr(\"stroke-dasharray\", function (d) {\n          return \"\".concat(d.initialStrokeArray, \" \").concat(d.initialLength);\n        }).attr(\"stroke-dashoffset\", function (d) {\n          return d.initialLength;\n        }).transition(this._transition).attr(\"stroke-dashoffset\", 0);\n        update = update.transition(this._transition).attrTween(\"d\", function (d) {\n          return interpolatePath(select(this).attr(\"d\"), that._path(d.values));\n        });\n\n        this._exit.selectAll(\"path\").each(calculateStrokeDashArray).attr(\"stroke-dasharray\", function (d) {\n          return \"\".concat(d.initialStrokeArray, \" \").concat(d.initialLength);\n        }).transition(this._transition).attr(\"stroke-dashoffset\", function (d) {\n          return -d.initialLength;\n        });\n      } else {\n        update = update.attr(\"d\", function (d) {\n          return that._path(d.values);\n        });\n      }\n\n      update.attr(\"transform\", function (d) {\n        return \"translate(\".concat(-d.xR[0] - d.width / 2, \", \").concat(-d.yR[0] - d.height / 2, \")\");\n      }).call(this._applyStyle.bind(this));\n      return this;\n    }\n    /**\n        @memberof Line\n        @desc Given a specific data point and index, returns the aesthetic properties of the shape.\n        @param {Object} *data point*\n        @param {Number} *index*\n        @private\n    */\n\n  }, {\n    key: \"_aes\",\n    value: function _aes(d, i) {\n      var _this4 = this;\n\n      return {\n        points: d.values.map(function (p) {\n          return [_this4._x(p, i), _this4._y(p, i)];\n        })\n      };\n    }\n    /**\n        @memberof Line\n        @desc If *value* is specified, sets the line curve to the specified string and returns the current class instance. If *value* is not specified, returns the current line curve.\n        @param {String} [*value* = \"linear\"]\n        @chainable\n    */\n\n  }, {\n    key: \"curve\",\n    value: function curve(_) {\n      return arguments.length ? (this._curve = _, this) : this._curve;\n    }\n    /**\n        @memberof Line\n        @desc If *value* is specified, sets the defined accessor to the specified function and returns the current class instance. If *value* is not specified, returns the current defined accessor.\n        @param {Function} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"defined\",\n    value: function defined(_) {\n      return arguments.length ? (this._defined = _, this) : this._defined;\n    }\n  }]);\n\n  return Line;\n}(Shape);\n\nexport { Line as default };","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport { select as _select } from \"d3-selection\";\nimport { accessor, assign, BaseClass, configPrep, constant, elem } from \"d3plus-common\";\nimport { nest } from \"d3-collection\";\nimport Circle from \"./Circle\";\nimport Line from \"./Line\";\nimport Rect from \"./Rect\";\nvar shapes = {\n  Circle: Circle,\n  Rect: Rect\n};\n/**\n    @class Whisker\n    @extends BaseClass\n    @desc Creates SVG whisker based on an array of data.\n*/\n\nvar Whisker =\n/*#__PURE__*/\nfunction (_BaseClass) {\n  _inherits(Whisker, _BaseClass);\n\n  /**\n      @memberof Whisker\n      @desc Invoked when creating a new class instance, and overrides any default parameters inherited from BaseClass.\n      @private\n  */\n  function Whisker() {\n    var _this;\n\n    _classCallCheck(this, Whisker);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Whisker).call(this));\n    _this._endpoint = accessor(\"endpoint\", \"Rect\");\n    _this._endpointConfig = {\n      Circle: {\n        r: accessor(\"r\", 5)\n      }\n    };\n    _this._length = accessor(\"length\", 25);\n    _this._lineConfig = {};\n    _this._orient = accessor(\"orient\", \"top\");\n    _this._x = accessor(\"x\", 0);\n    _this._y = accessor(\"y\", 0);\n    return _this;\n  }\n  /**\n      @memberof Whisker\n      @desc Draws the whisker.\n      @param {Function} [*callback*]\n      @chainable\n  */\n\n\n  _createClass(Whisker, [{\n    key: \"render\",\n    value: function render(callback) {\n      var _this2 = this;\n\n      if (this._select === void 0) {\n        this.select(_select(\"body\").append(\"svg\").style(\"width\", \"\".concat(window.innerWidth, \"px\")).style(\"height\", \"\".concat(window.innerHeight, \"px\")).style(\"display\", \"block\").node());\n      }\n\n      var lineData = [];\n\n      this._data.forEach(function (d, i) {\n        var orient = _this2._orient(d, i);\n\n        var x = _this2._x(d, i);\n\n        var y = _this2._y(d, i);\n\n        var endpointX = x;\n        if (orient === \"left\") endpointX -= _this2._length(d, i);else if (orient === \"right\") endpointX += _this2._length(d, i);\n        var endpointY = y;\n        if (orient === \"top\") endpointY -= _this2._length(d, i);else if (orient === \"bottom\") endpointY += _this2._length(d, i);\n        lineData.push({\n          __d3plus__: true,\n          data: d,\n          i: i,\n          id: i,\n          x: x,\n          y: y\n        });\n        lineData.push({\n          __d3plus__: true,\n          data: d,\n          i: i,\n          id: i,\n          x: endpointX,\n          y: endpointY\n        });\n      }); // Draw whisker line.\n\n\n      this._line = new Line().data(lineData).select(elem(\"g.d3plus-Whisker\", {\n        parent: this._select\n      }).node()).config(configPrep.bind(this)(this._lineConfig, \"shape\")).render(callback);\n\n      var whiskerData = this._data.map(function (d, i) {\n        var dataObj = {};\n        dataObj.__d3plus__ = true;\n        dataObj.data = d;\n        dataObj.i = i;\n        dataObj.endpoint = _this2._endpoint(d, i);\n        dataObj.length = _this2._length(d, i);\n        dataObj.orient = _this2._orient(d, i);\n\n        var endpointX = _this2._x(d, i);\n\n        if (dataObj.orient === \"left\") endpointX -= dataObj.length;else if (dataObj.orient === \"right\") endpointX += dataObj.length;\n\n        var endpointY = _this2._y(d, i);\n\n        if (dataObj.orient === \"top\") endpointY -= dataObj.length;else if (dataObj.orient === \"bottom\") endpointY += dataObj.length;\n        dataObj.x = endpointX;\n        dataObj.y = endpointY;\n        return dataObj;\n      }); // Draw whisker endpoint.\n\n\n      this._whiskerEndpoint = [];\n      nest().key(function (d) {\n        return d.endpoint;\n      }).entries(whiskerData).forEach(function (shapeData) {\n        var shapeName = shapeData.key;\n\n        _this2._whiskerEndpoint.push(new shapes[shapeName]().data(shapeData.values).select(elem(\"g.d3plus-Whisker-Endpoint-\".concat(shapeName), {\n          parent: _this2._select\n        }).node()).config({\n          height: function height(d) {\n            return d.orient === \"top\" || d.orient === \"bottom\" ? 5 : 20;\n          },\n          width: function width(d) {\n            return d.orient === \"top\" || d.orient === \"bottom\" ? 20 : 5;\n          }\n        }).config(configPrep.bind(_this2)(_this2._endpointConfig, \"shape\", shapeName)).render());\n      });\n      return this;\n    }\n    /**\n        @memberof Whisker\n        @desc Sets the highlight accessor to the Shape class's active function.\n        @param {Function} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"active\",\n    value: function active(_) {\n      if (this._line) this._line.active(_);\n      if (this._whiskerEndpoint) this._whiskerEndpoint.forEach(function (endPoint) {\n        return endPoint.active(_);\n      });\n    }\n    /**\n        @memberof Whisker\n        @desc If *data* is specified, sets the data array to the specified array and returns the current class instance. If *data* is not specified, returns the current data array.\n        @param {Array} [*data* = []]\n        @chainable\n    */\n\n  }, {\n    key: \"data\",\n    value: function data(_) {\n      return arguments.length ? (this._data = _, this) : this._data;\n    }\n    /**\n        @memberof Whisker\n        @desc If *value* is specified, sets the endpoint accessor to the specified function or string and returns the current class instance.\n        @param {Function|String}\n        @chainable\n    */\n\n  }, {\n    key: \"endpoint\",\n    value: function endpoint(_) {\n      return arguments.length ? (this._endpoint = typeof _ === \"function\" ? _ : constant(_), this) : this._endpoint;\n    }\n    /**\n        @memberof Whisker\n        @desc If *value* is specified, sets the config method for each endpoint and returns the current class instance.\n        @param {Object} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"endpointConfig\",\n    value: function endpointConfig(_) {\n      return arguments.length ? (this._endpointConfig = assign(this._endpointConfig, _), this) : this._endpointConfig;\n    }\n    /**\n        @memberof Whisker\n        @desc Sets the highlight accessor to the Shape class's hover function.\n        @param {Function} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"hover\",\n    value: function hover(_) {\n      if (this._line) this._line.hover(_);\n      if (this._whiskerEndpoint) this._whiskerEndpoint.forEach(function (endPoint) {\n        return endPoint.hover(_);\n      });\n    }\n    /**\n        @memberof Whisker\n        @desc If *value* is specified, sets the length accessor for whisker and returns the current class instance.\n        @param {Function|Number} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"length\",\n    value: function length(_) {\n      return arguments.length ? (this._length = typeof _ === \"function\" ? _ : constant(_), this) : this._length;\n    }\n    /**\n        @memberof Whisker\n        @desc If *value* is specified, sets the config method for line shape and returns the current class instance.\n        @param {Object} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"lineConfig\",\n    value: function lineConfig(_) {\n      return arguments.length ? (this._lineConfig = assign(this._lineConfig, _), this) : this._lineConfig;\n    }\n    /**\n        @memberof Whisker\n        @desc If *value* is specified, sets the orientation to the specified value. If *value* is not specified, returns the current orientation.\n        @param {Function|String} [*value* = \"top\"] Accepts \"top\", \"right\", \"bottom\" or \"left\"\n        @chainable\n    */\n\n  }, {\n    key: \"orient\",\n    value: function orient(_) {\n      return arguments.length ? (this._orient = typeof _ === \"function\" ? _ : constant(_), this) : this._orient;\n    }\n    /**\n        @memberof Whisker\n        @desc If *selector* is specified, sets the SVG container element to the specified d3 selector or DOM element and returns the current class instance. If *selector* is not specified, returns the current SVG container element.\n        @param {String|HTMLElement} [*selector* = d3.select(\"body\").append(\"svg\")]\n        @chainable\n    */\n\n  }, {\n    key: \"select\",\n    value: function select(_) {\n      return arguments.length ? (this._select = _select(_), this) : this._select;\n    }\n    /**\n      @memberof Whisker\n      @desc If *value* is specified, sets the x axis to the specified function or number and returns the current class instance.\n      @param {Function|Number} [*value*]\n      @chainable\n      @example\n    function(d) {\n    return d.x;\n    }\n    */\n\n  }, {\n    key: \"x\",\n    value: function x(_) {\n      return arguments.length ? (this._x = typeof _ === \"function\" ? _ : constant(_), this) : this._x;\n    }\n    /**\n        @memberof Whisker\n        @desc If *value* is specified, sets the y axis to the specified function or number and returns the current class instance.\n        @param {Function|Number} [*value*]\n        @chainable\n        @example\n    function(d) {\n    return d.y;\n    }\n    */\n\n  }, {\n    key: \"y\",\n    value: function y(_) {\n      return arguments.length ? (this._y = typeof _ === \"function\" ? _ : constant(_), this) : this._y;\n    }\n  }]);\n\n  return Whisker;\n}(BaseClass);\n\nexport { Whisker as default };","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport { max, min, quantile } from \"d3-array\";\nimport { nest } from \"d3-collection\";\nimport { select as _select } from \"d3-selection\";\nimport { accessor, assign, BaseClass, configPrep, constant, merge, elem } from \"d3plus-common\";\nimport Circle from \"./Circle\";\nimport Rect from \"./Rect\";\nimport Whisker from \"./Whisker\";\nvar shapes = {\n  Circle: Circle,\n  Rect: Rect\n};\n/**\n    @class Box\n    @extends BaseClass\n    @desc Creates SVG box based on an array of data.\n*/\n\nvar Box =\n/*#__PURE__*/\nfunction (_BaseClass) {\n  _inherits(Box, _BaseClass);\n\n  /**\n      @memberof Box\n      @desc Invoked when creating a new class instance, and overrides any default parameters inherited from BaseClass.\n      @private\n  */\n  function Box() {\n    var _this;\n\n    _classCallCheck(this, Box);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Box).call(this));\n    _this._medianConfig = {\n      fill: constant(\"black\")\n    };\n    _this._orient = accessor(\"orient\", \"vertical\");\n    _this._outlier = accessor(\"outlier\", \"Circle\");\n    _this._outlierConfig = {\n      Circle: {\n        r: accessor(\"r\", 5)\n      },\n      Rect: {\n        height: function height(d, i) {\n          return _this._orient(d, i) === \"vertical\" ? 5 : 20;\n        },\n        width: function width(d, i) {\n          return _this._orient(d, i) === \"vertical\" ? 20 : 5;\n        }\n      }\n    };\n    _this._rectConfig = {\n      fill: constant(\"white\"),\n      stroke: constant(\"black\"),\n      strokeWidth: constant(1)\n    };\n    _this._rectWidth = constant(50);\n    _this._whiskerConfig = {};\n    _this._whiskerMode = [\"tukey\", \"tukey\"];\n    _this._x = accessor(\"x\", 250);\n    _this._y = accessor(\"y\", 250);\n    return _this;\n  }\n  /**\n      @memberof Box\n      @desc Draws the Box.\n      @param {Function} [*callback*]\n      @chainable\n  */\n\n\n  _createClass(Box, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      if (this._select === void 0) {\n        this.select(_select(\"body\").append(\"svg\").style(\"width\", \"\".concat(window.innerWidth, \"px\")).style(\"height\", \"\".concat(window.innerHeight, \"px\")).style(\"display\", \"block\").node());\n      }\n\n      var outlierData = [];\n      var filteredData = nest().key(function (d, i) {\n        return _this2._orient(d, i) === \"vertical\" ? _this2._x(d, i) : _this2._y(d, i);\n      }).entries(this._data).map(function (d) {\n        d.data = merge(d.values);\n        d.i = _this2._data.indexOf(d.values[0]);\n        d.orient = _this2._orient(d.data, d.i);\n        var values = d.values.map(d.orient === \"vertical\" ? _this2._y : _this2._x);\n        values.sort(function (a, b) {\n          return a - b;\n        });\n        d.first = quantile(values, 0.25);\n        d.median = quantile(values, 0.50);\n        d.third = quantile(values, 0.75);\n        var mode = _this2._whiskerMode;\n\n        if (mode[0] === \"tukey\") {\n          d.lowerLimit = d.first - (d.third - d.first) * 1.5;\n          if (d.lowerLimit < min(values)) d.lowerLimit = min(values);\n        } else if (mode[0] === \"extent\") d.lowerLimit = min(values);else if (typeof mode[0] === \"number\") d.lowerLimit = quantile(values, mode[0]);\n\n        if (mode[1] === \"tukey\") {\n          d.upperLimit = d.third + (d.third - d.first) * 1.5;\n          if (d.upperLimit > max(values)) d.upperLimit = max(values);\n        } else if (mode[1] === \"extent\") d.upperLimit = max(values);else if (typeof mode[1] === \"number\") d.upperLimit = quantile(values, mode[1]);\n\n        var rectLength = d.third - d.first; // Compute values for vertical orientation.\n\n        if (d.orient === \"vertical\") {\n          d.height = rectLength;\n          d.width = _this2._rectWidth(d.data, d.i);\n          d.x = _this2._x(d.data, d.i);\n          d.y = d.first + rectLength / 2;\n        } else if (d.orient === \"horizontal\") {\n          // Compute values for horizontal orientation.\n          d.height = _this2._rectWidth(d.data, d.i);\n          d.width = rectLength;\n          d.x = d.first + rectLength / 2;\n          d.y = _this2._y(d.data, d.i);\n        } // Compute data for outliers.\n\n\n        d.values.forEach(function (eachValue, index) {\n          var value = d.orient === \"vertical\" ? _this2._y(eachValue, index) : _this2._x(eachValue, index);\n\n          if (value < d.lowerLimit || value > d.upperLimit) {\n            var dataObj = {};\n            dataObj.__d3plus__ = true;\n            dataObj.data = eachValue;\n            dataObj.i = index;\n            dataObj.outlier = _this2._outlier(eachValue, index);\n\n            if (d.orient === \"vertical\") {\n              dataObj.x = d.x;\n              dataObj.y = value;\n              outlierData.push(dataObj);\n            } else if (d.orient === \"horizontal\") {\n              dataObj.y = d.y;\n              dataObj.x = value;\n              outlierData.push(dataObj);\n            }\n          }\n        });\n        d.__d3plus__ = true;\n        return d;\n      }); // Draw box.\n\n      this._box = new Rect().data(filteredData).x(function (d) {\n        return d.x;\n      }).y(function (d) {\n        return d.y;\n      }).select(elem(\"g.d3plus-Box\", {\n        parent: this._select\n      }).node()).config(configPrep.bind(this)(this._rectConfig, \"shape\")).render(); // Draw median.\n\n      this._median = new Rect().data(filteredData).x(function (d) {\n        return d.orient === \"vertical\" ? d.x : d.median;\n      }).y(function (d) {\n        return d.orient === \"vertical\" ? d.median : d.y;\n      }).height(function (d) {\n        return d.orient === \"vertical\" ? 1 : d.height;\n      }).width(function (d) {\n        return d.orient === \"vertical\" ? d.width : 1;\n      }).select(elem(\"g.d3plus-Box-Median\", {\n        parent: this._select\n      }).node()).config(configPrep.bind(this)(this._medianConfig, \"shape\")).render(); // Draw 2 lines using Whisker class.\n      // Construct coordinates for whisker startpoints and push it to the whiskerData.\n\n      var whiskerData = [];\n      filteredData.forEach(function (d, i) {\n        var x = d.x;\n        var y = d.y;\n        var topLength = d.first - d.lowerLimit;\n        var bottomLength = d.upperLimit - d.third;\n\n        if (d.orient === \"vertical\") {\n          var topY = y - d.height / 2;\n          var bottomY = y + d.height / 2;\n          whiskerData.push({\n            __d3plus__: true,\n            data: d,\n            i: i,\n            x: x,\n            y: topY,\n            length: topLength,\n            orient: \"top\"\n          }, {\n            __d3plus__: true,\n            data: d,\n            i: i,\n            x: x,\n            y: bottomY,\n            length: bottomLength,\n            orient: \"bottom\"\n          });\n        } else if (d.orient === \"horizontal\") {\n          var topX = x + d.width / 2;\n          var bottomX = x - d.width / 2;\n          whiskerData.push({\n            __d3plus__: true,\n            data: d,\n            i: i,\n            x: topX,\n            y: y,\n            length: bottomLength,\n            orient: \"right\"\n          }, {\n            __d3plus__: true,\n            data: d,\n            i: i,\n            x: bottomX,\n            y: y,\n            length: topLength,\n            orient: \"left\"\n          });\n        }\n      }); // Draw whiskers.\n\n      this._whisker = new Whisker().data(whiskerData).select(elem(\"g.d3plus-Box-Whisker\", {\n        parent: this._select\n      }).node()).config(configPrep.bind(this)(this._whiskerConfig, \"shape\")).render(); // Draw outliers.\n\n      this._whiskerEndpoint = [];\n      nest().key(function (d) {\n        return d.outlier;\n      }).entries(outlierData).forEach(function (shapeData) {\n        var shapeName = shapeData.key;\n\n        _this2._whiskerEndpoint.push(new shapes[shapeName]().data(shapeData.values).select(elem(\"g.d3plus-Box-Outlier-\".concat(shapeName), {\n          parent: _this2._select\n        }).node()).config(configPrep.bind(_this2)(_this2._outlierConfig, \"shape\", shapeName)).render());\n      });\n      return this;\n    }\n    /**\n        @memberof Box\n        @desc Sets the highlight accessor to the Shape class's active function.\n        @param {Function} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"active\",\n    value: function active(_) {\n      if (this._box) this._box.active(_);\n      if (this._median) this._median.active(_);\n      if (this._whisker) this._whisker.active(_);\n      if (this._whiskerEndpoint) this._whiskerEndpoint.forEach(function (endPoint) {\n        return endPoint.active(_);\n      });\n    }\n    /**\n        @memberof Box\n        @desc If *data* is specified, sets the data array to the specified array and returns the current class instance. If *data* is not specified, returns the current data array.\n        @param {Array} [*data* = []]\n        @chainable\n    */\n\n  }, {\n    key: \"data\",\n    value: function data(_) {\n      return arguments.length ? (this._data = _, this) : this._data;\n    }\n    /**\n        @memberof Box\n        @desc Sets the highlight accessor to the Shape class's hover function.\n        @param {Function} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"hover\",\n    value: function hover(_) {\n      if (this._box) this._box.hover(_);\n      if (this._median) this._median.hover(_);\n      if (this._whisker) this._whisker.hover(_);\n      if (this._whiskerEndpoint) this._whiskerEndpoint.forEach(function (endPoint) {\n        return endPoint.hover(_);\n      });\n    }\n    /**\n        @memberof Box\n        @desc If *value* is specified, sets the config method for median and returns the current class instance.\n        @param {Object} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"medianConfig\",\n    value: function medianConfig(_) {\n      return arguments.length ? (this._medianConfig = assign(this._medianConfig, _), this) : this._medianConfig;\n    }\n    /**\n        @memberof Box\n        @desc If *value* is specified, sets the orientation to the specified value. If *value* is not specified, returns the current orientation.\n        @param {Function|String} [*value* = \"vertical\"] Accepts \"vertical\" or \"horizontal\"\n        @chainable\n    */\n\n  }, {\n    key: \"orient\",\n    value: function orient(_) {\n      return arguments.length ? (this._orient = typeof _ === \"function\" ? _ : constant(_), this) : this._orient;\n    }\n    /**\n        @memberof Box\n        @desc If *value* is specified, sets the outlier accessor to the specified function or string and returns the current class instance.\n        @param {Function|String}\n        @chainable\n    */\n\n  }, {\n    key: \"outlier\",\n    value: function outlier(_) {\n      return arguments.length ? (this._outlier = typeof _ === \"function\" ? _ : constant(_), this) : this._outlier;\n    }\n    /**\n        @memberof Box\n        @desc If *value* is specified, sets the config method for each outlier point and returns the current class instance.\n        @param {Object} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"outlierConfig\",\n    value: function outlierConfig(_) {\n      return arguments.length ? (this._outlierConfig = assign(this._outlierConfig, _), this) : this._outlierConfig;\n    }\n    /**\n        @memberof Box\n        @desc If *value* is specified, sets the config method for rect shape and returns the current class instance.\n        @param {Object} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"rectConfig\",\n    value: function rectConfig(_) {\n      return arguments.length ? (this._rectConfig = assign(this._rectConfig, _), this) : this._rectConfig;\n    }\n    /**\n        @memberof Box\n        @desc If *value* is specified, sets the width accessor to the specified function or number and returns the current class instance.\n        @param {Function|Number} [*value*]\n        @chainable\n        @example\n    function(d) {\n    return d.width;\n    }\n    */\n\n  }, {\n    key: \"rectWidth\",\n    value: function rectWidth(_) {\n      return arguments.length ? (this._rectWidth = typeof _ === \"function\" ? _ : constant(_), this) : this._rectWidth;\n    }\n    /**\n        @memberof Box\n        @desc If *selector* is specified, sets the SVG container element to the specified d3 selector or DOM element and returns the current class instance. If *selector* is not specified, returns the current SVG container element.\n        @param {String|HTMLElement} [*selector* = d3.select(\"body\").append(\"svg\")]\n        @chainable\n    */\n\n  }, {\n    key: \"select\",\n    value: function select(_) {\n      return arguments.length ? (this._select = _select(_), this) : this._select;\n    }\n    /**\n        @memberof Box\n        @desc If *value* is specified, sets the config method for whisker and returns the current class instance.\n        @param {Object} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"whiskerConfig\",\n    value: function whiskerConfig(_) {\n      return arguments.length ? (this._whiskerConfig = assign(this._whiskerConfig, _), this) : this._whiskerConfig;\n    }\n    /**\n        @memberof Box\n        @desc Determines the value used for each whisker. Can be passed a single value to apply for both whiskers, or an Array of 2 values for the lower and upper whiskers (in that order). Accepted values are `\"tukey\"`, `\"extent\"`, or a Number representing a quantile.\n        @param {String|Number|String[]|Number[]} [*value* = \"tukey\"]\n        @chainable\n    */\n\n  }, {\n    key: \"whiskerMode\",\n    value: function whiskerMode(_) {\n      return arguments.length ? (this._whiskerMode = _ instanceof Array ? _ : [_, _], this) : this._whiskerMode;\n    }\n    /**\n        @memberof Box\n        @desc If *value* is specified, sets the x axis to the specified function or number and returns the current class instance.\n        @param {Function|Number} [*value*]\n        @chainable\n        @example\n    function(d) {\n    return d.x;\n    }\n    */\n\n  }, {\n    key: \"x\",\n    value: function x(_) {\n      return arguments.length ? (this._x = typeof _ === \"function\" ? _ : accessor(_), this) : this._x;\n    }\n    /**\n        @memberof Box\n        @desc If *value* is specified, sets the y axis to the specified function or number and returns the current class instance.\n        @param {Function|Number} [*value*]\n        @chainable\n        @example\n    function(d) {\n    return d.y;\n    }\n    */\n\n  }, {\n    key: \"y\",\n    value: function y(_) {\n      return arguments.length ? (this._y = typeof _ === \"function\" ? _ : accessor(_), this) : this._y;\n    }\n  }]);\n\n  return Box;\n}(BaseClass);\n\nexport { Box as default };","var pi = Math.PI;\n/**\n    @function shapeEdgePoint\n    @desc Calculates the x/y position of a point at the edge of a shape, from the center of the shape, given a specified pixel distance and radian angle.\n    @param {Number} angle The angle, in radians, of the offset point.\n    @param {Number} distance The pixel distance away from the origin.\n    @returns {String} [shape = \"circle\"] The type of shape, which can be either \"circle\" or \"square\".\n*/\n\nexport default (function (angle, distance) {\n  var shape = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"circle\";\n  if (angle < 0) angle = pi * 2 + angle;\n\n  if (shape === \"square\") {\n    var diagonal = 45 * (pi / 180);\n    var x = 0,\n        y = 0;\n\n    if (angle < pi / 2) {\n      var tan = Math.tan(angle);\n      x += angle < diagonal ? distance : distance / tan;\n      y += angle < diagonal ? tan * distance : distance;\n    } else if (angle <= pi) {\n      var _tan = Math.tan(pi - angle);\n\n      x -= angle < pi - diagonal ? distance / _tan : distance;\n      y += angle < pi - diagonal ? distance : _tan * distance;\n    } else if (angle < diagonal + pi) {\n      x -= distance;\n      y -= Math.tan(angle - pi) * distance;\n    } else if (angle < 3 * pi / 2) {\n      x -= distance / Math.tan(angle - pi);\n      y -= distance;\n    } else if (angle < 2 * pi - diagonal) {\n      x += distance / Math.tan(2 * pi - angle);\n      y -= distance;\n    } else {\n      x += distance;\n      y -= Math.tan(2 * pi - angle) * distance;\n    }\n\n    return [x, y];\n  } else if (shape === \"circle\") {\n    return [distance * Math.cos(angle), distance * Math.sin(angle)];\n  } else return null;\n});","import pointDistance from \"./pointDistance\";\nimport shapeEdgePoint from \"./shapeEdgePoint\";\nvar pi = Math.PI;\n/**\n    @function path2polygon\n    @desc Transforms a path string into an Array of points.\n    @param {String} path An SVG string path, commonly the \"d\" property of a <path> element.\n    @param {Number} [segmentLength = 20] The lenght of line segments when converting curves line segments. Higher values lower computation time, but will result in curves that are more rigid.\n    @returns {Array}\n*/\n\nexport default (function (path) {\n  var segmentLength = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 20;\n  var poly = [],\n      regex = /([MLA])([^MLAZ]+)/ig;\n  var match = regex.exec(path);\n\n  while (match !== null) {\n    if ([\"M\", \"L\"].includes(match[1])) poly.push(match[2].split(\",\").map(Number));else if (match[1] === \"A\") {\n      var points = match[2].split(\",\").map(Number);\n      var last = points.slice(points.length - 2, points.length),\n          prev = poly[poly.length - 1],\n          radius = points[0],\n          width = pointDistance(prev, last);\n      var angle = Math.acos((radius * radius + radius * radius - width * width) / (2 * radius * radius));\n      if (points[2]) angle = pi * 2 - angle;\n      var step = angle / (angle / (pi * 2) * (radius * pi * 2) / segmentLength);\n      var start = Math.atan2(-prev[1], -prev[0]) - pi;\n      var i = step;\n\n      while (i < angle) {\n        poly.push(shapeEdgePoint(points[4] ? start + i : start - i, radius));\n        i += step;\n      }\n\n      poly.push(last);\n    }\n    match = regex.exec(path);\n  }\n\n  return poly;\n});","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport { accessor, constant } from \"d3plus-common\";\nimport Shape from \"./Shape\";\nimport largestRect from \"../geom/largestRect\";\nimport path2polygon from \"../geom/path2polygon\";\n/**\n    @class Path\n    @extends Shape\n    @desc Creates SVG Paths based on an array of data.\n*/\n\nvar Path =\n/*#__PURE__*/\nfunction (_Shape) {\n  _inherits(Path, _Shape);\n\n  /**\n      @memberof Path\n      @desc Invoked when creating a new class instance, and overrides any default parameters inherited from Shape.\n      @private\n  */\n  function Path() {\n    var _this;\n\n    _classCallCheck(this, Path);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Path).call(this, \"path\"));\n    _this._d = accessor(\"path\");\n\n    _this._labelBounds = function (d, i, aes) {\n      var r = largestRect(aes.points, {\n        angle: _this._labelConfig.rotate ? _this._labelConfig.rotate(d, i) : 0\n      });\n      return r ? {\n        angle: r.angle,\n        width: r.width,\n        height: r.height,\n        x: r.cx - r.width / 2,\n        y: r.cy - r.height / 2\n      } : false;\n    };\n\n    _this._name = \"Path\";\n    _this._labelConfig = Object.assign(_this._labelConfig, {\n      textAnchor: \"middle\",\n      verticalAlign: \"middle\"\n    });\n    return _this;\n  }\n  /**\n      @memberof Path\n      @desc Given a specific data point and index, returns the aesthetic properties of the shape.\n      @param {Object} *data point*\n      @param {Number} *index*\n      @private\n  */\n\n\n  _createClass(Path, [{\n    key: \"_aes\",\n    value: function _aes(d, i) {\n      return {\n        points: path2polygon(this._d(d, i))\n      };\n    }\n    /**\n        @memberof Path\n        @desc Draws the paths.\n        @param {Function} [*callback*]\n        @chainable\n    */\n\n  }, {\n    key: \"render\",\n    value: function render(callback) {\n      _get(_getPrototypeOf(Path.prototype), \"render\", this).call(this, callback);\n\n      var enter = this._enter.attr(\"d\", this._d).call(this._applyStyle.bind(this));\n\n      var update = this._update;\n\n      if (this._duration) {\n        enter.attr(\"opacity\", 0).transition(this._transition).attr(\"opacity\", 1);\n        update = update.transition(this._transition);\n\n        this._exit.transition(this._transition).attr(\"opacity\", 0);\n      }\n\n      update.call(this._applyStyle.bind(this)).attr(\"d\", this._d);\n      return this;\n    }\n    /**\n        @memberof Path\n        @desc If *value* is specified, sets the \"d\" attribute accessor to the specified function or number and returns the current class instance.\n        @param {Function|String} [*value*]\n        @chainable\n        @example\n    function(d) {\n    return d.path;\n    }\n    */\n\n  }, {\n    key: \"d\",\n    value: function d(_) {\n      return arguments.length ? (this._d = typeof _ === \"function\" ? _ : constant(_), this) : this._d;\n    }\n  }]);\n\n  return Path;\n}(Shape);\n\nexport { Path as default };","/**\n    @function date\n    @summary Parses numbers and strings to valid Javascript Date objects.\n    @description Returns a javascript Date object for a given a Number (representing either a 4-digit year or milliseconds since epoch) or a String that is in [valid dateString format](http://dygraphs.com/date-formats.html). Besides the 4-digit year parsing, this function is useful when needing to parse negative (BC) years, which the vanilla Date object cannot parse.\n    @param {Number|String} *date*\n*/\nexport default function (d) {\n  // returns if already Date object\n  if (d.constructor === Date) return d; // detects if milliseconds\n  else if (d.constructor === Number && \"\".concat(d).length > 5 && d % 1 === 0) return new Date(d);\n  var s = \"\".concat(d);\n  var dayFormat = new RegExp(/^\\d{1,2}[./-]\\d{1,2}[./-](-*\\d{1,4})$/g).exec(s),\n      strFormat = new RegExp(/^[A-z]{1,3} [A-z]{1,3} \\d{1,2} (-*\\d{1,4}) \\d{1,2}:\\d{1,2}:\\d{1,2} [A-z]{1,3}-*\\d{1,4} \\([A-z]{1,3}\\)/g).exec(s); // tests for XX/XX/XXXX format\n\n  if (dayFormat) {\n    var year = dayFormat[1];\n    if (year.indexOf(\"-\") === 0) s = s.replace(year, year.substr(1));\n    var date = new Date(s);\n    date.setFullYear(year);\n    return date;\n  } // tests for full Date object string format\n  else if (strFormat) {\n      var _year = strFormat[1];\n      if (_year.indexOf(\"-\") === 0) s = s.replace(_year, _year.substr(1));\n\n      var _date = new Date(s);\n\n      _date.setFullYear(_year);\n\n      return _date;\n    } // detects if only passing a year value\n    else if (!s.includes(\"/\") && !s.includes(\" \") && (!s.includes(\"-\") || !s.indexOf(\"-\"))) {\n        var _date2 = new Date(\"\".concat(s, \"/01/01\"));\n\n        _date2.setFullYear(d);\n\n        return _date2;\n      } // parses string to Date object\n      else return new Date(s);\n}","export default {\n  \"de-DE\": {\n    dateTime: \"%A, der %e. %B %Y, %X\",\n    date: \"%d.%m.%Y\",\n    time: \"%H:%M:%S\",\n    periods: [\"AM\", \"PM\"],\n    days: [\"Sonntag\", \"Montag\", \"Dienstag\", \"Mittwoch\", \"Donnerstag\", \"Freitag\", \"Samstag\"],\n    shortDays: [\"So\", \"Mo\", \"Di\", \"Mi\", \"Do\", \"Fr\", \"Sa\"],\n    months: [\"Januar\", \"Februar\", \"März\", \"April\", \"Mai\", \"Juni\", \"Juli\", \"August\", \"September\", \"Oktober\", \"November\", \"Dezember\"],\n    shortMonths: [\"Jan\", \"Feb\", \"Mrz\", \"Apr\", \"Mai\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Okt\", \"Nov\", \"Dez\"]\n  },\n  \"en-GB\": {\n    dateTime: \"%a %e %b %X %Y\",\n    date: \"%d/%m/%Y\",\n    time: \"%H:%M:%S\",\n    periods: [\"AM\", \"PM\"],\n    days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n    shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n    months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n    shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n  },\n  \"en-US\": {\n    dateTime: \"%x, %X\",\n    date: \"%-m/%-d/%Y\",\n    time: \"%-I:%M:%S %p\",\n    periods: [\"AM\", \"PM\"],\n    days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n    shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n    months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n    shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n  },\n  \"es-ES\": {\n    dateTime: \"%A, %e de %B de %Y, %X\",\n    date: \"%d/%m/%Y\",\n    time: \"%H:%M:%S\",\n    periods: [\"AM\", \"PM\"],\n    days: [\"domingo\", \"lunes\", \"martes\", \"miércoles\", \"jueves\", \"viernes\", \"sábado\"],\n    shortDays: [\"dom\", \"lun\", \"mar\", \"mié\", \"jue\", \"vie\", \"sáb\"],\n    months: [\"enero\", \"febrero\", \"marzo\", \"abril\", \"mayo\", \"junio\", \"julio\", \"agosto\", \"septiembre\", \"octubre\", \"noviembre\", \"diciembre\"],\n    shortMonths: [\"ene\", \"feb\", \"mar\", \"abr\", \"may\", \"jun\", \"jul\", \"ago\", \"sep\", \"oct\", \"nov\", \"dic\"]\n  },\n  \"es-MX\": {\n    dateTime: \"%x, %X\",\n    date: \"%d/%m/%Y\",\n    time: \"%-I:%M:%S %p\",\n    periods: [\"AM\", \"PM\"],\n    days: [\"domingo\", \"lunes\", \"martes\", \"miércoles\", \"jueves\", \"viernes\", \"sábado\"],\n    shortDays: [\"dom\", \"lun\", \"mar\", \"mié\", \"jue\", \"vie\", \"sáb\"],\n    months: [\"enero\", \"febrero\", \"marzo\", \"abril\", \"mayo\", \"junio\", \"julio\", \"agosto\", \"septiembre\", \"octubre\", \"noviembre\", \"diciembre\"],\n    shortMonths: [\"ene\", \"feb\", \"mar\", \"abr\", \"may\", \"jun\", \"jul\", \"ago\", \"sep\", \"oct\", \"nov\", \"dic\"]\n  },\n  \"fr-FR\": {\n    dateTime: \"%A, le %e %B %Y, %X\",\n    date: \"%d/%m/%Y\",\n    time: \"%H:%M:%S\",\n    periods: [\"AM\", \"PM\"],\n    days: [\"dimanche\", \"lundi\", \"mardi\", \"mercredi\", \"jeudi\", \"vendredi\", \"samedi\"],\n    shortDays: [\"dim.\", \"lun.\", \"mar.\", \"mer.\", \"jeu.\", \"ven.\", \"sam.\"],\n    months: [\"janvier\", \"février\", \"mars\", \"avril\", \"mai\", \"juin\", \"juillet\", \"août\", \"septembre\", \"octobre\", \"novembre\", \"décembre\"],\n    shortMonths: [\"janv.\", \"févr.\", \"mars\", \"avr.\", \"mai\", \"juin\", \"juil.\", \"août\", \"sept.\", \"oct.\", \"nov.\", \"déc.\"]\n  },\n  \"it-IT\": {\n    dateTime: \"%A %e %B %Y, %X\",\n    date: \"%d/%m/%Y\",\n    time: \"%H:%M:%S\",\n    periods: [\"AM\", \"PM\"],\n    days: [\"Domenica\", \"Lunedì\", \"Martedì\", \"Mercoledì\", \"Giovedì\", \"Venerdì\", \"Sabato\"],\n    shortDays: [\"Dom\", \"Lun\", \"Mar\", \"Mer\", \"Gio\", \"Ven\", \"Sab\"],\n    months: [\"Gennaio\", \"Febbraio\", \"Marzo\", \"Aprile\", \"Maggio\", \"Giugno\", \"Luglio\", \"Agosto\", \"Settembre\", \"Ottobre\", \"Novembre\", \"Dicembre\"],\n    shortMonths: [\"Gen\", \"Feb\", \"Mar\", \"Apr\", \"Mag\", \"Giu\", \"Lug\", \"Ago\", \"Set\", \"Ott\", \"Nov\", \"Dic\"]\n  },\n  \"pt-BR\": {\n    dateTime: \"%A, %e de %B de %Y. %X\",\n    date: \"%d/%m/%Y\",\n    time: \"%H:%M:%S\",\n    periods: [\"AM\", \"PM\"],\n    days: [\"Domingo\", \"Segunda\", \"Terça\", \"Quarta\", \"Quinta\", \"Sexta\", \"Sábado\"],\n    shortDays: [\"Dom\", \"Seg\", \"Ter\", \"Qua\", \"Qui\", \"Sex\", \"Sáb\"],\n    months: [\"Janeiro\", \"Fevereiro\", \"Março\", \"Abril\", \"Maio\", \"Junho\", \"Julho\", \"Agosto\", \"Setembro\", \"Outubro\", \"Novembro\", \"Dezembro\"],\n    shortMonths: [\"Jan\", \"Fev\", \"Mar\", \"Abr\", \"Mai\", \"Jun\", \"Jul\", \"Ago\", \"Set\", \"Out\", \"Nov\", \"Dez\"]\n  }\n};","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n/**\n    @external BaseClass\n    @see https://github.com/d3plus/d3plus-common#BaseClass\n*/\nimport { extent, max, min, range as d3Range, ticks as d3Ticks } from \"d3-array\";\nimport { timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond } from \"d3-time\";\nimport { timeFormat, timeFormatDefaultLocale } from \"d3-time-format\";\nimport * as scales from \"d3-scale\";\nimport { select as _select } from \"d3-selection\";\nimport { transition } from \"d3-transition\";\nimport { assign, attrize, BaseClass, closest, constant, elem } from \"d3plus-common\";\nimport { formatAbbreviate, formatLocale } from \"d3plus-format\";\nimport * as shapes from \"d3plus-shape\";\nimport { rtl as detectRTL, TextBox, textWrap } from \"d3plus-text\";\nimport { default as date } from \"./date\";\nimport { default as locale } from \"./locale\";\n/**\n    @class Axis\n    @extends external:BaseClass\n    @desc Creates an SVG scale based on an array of data.\n*/\n\nvar Axis =\n/*#__PURE__*/\nfunction (_BaseClass) {\n  _inherits(Axis, _BaseClass);\n\n  /**\n      @memberof Axis\n      @desc Invoked when creating a new class instance, and sets any default parameters.\n      @private\n  */\n  function Axis() {\n    var _this;\n\n    _classCallCheck(this, Axis);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Axis).call(this));\n    _this._align = \"middle\";\n    _this._barConfig = {\n      \"stroke\": \"#000\",\n      \"stroke-width\": 1\n    };\n    _this._domain = [0, 10];\n    _this._duration = 600;\n    _this._gridConfig = {\n      \"stroke\": \"#ccc\",\n      \"stroke-width\": 1\n    };\n    _this._gridLog = false;\n    _this._height = 400;\n    _this._labelOffset = true;\n\n    _this.orient(\"bottom\");\n\n    _this._outerBounds = {\n      width: 0,\n      height: 0,\n      x: 0,\n      y: 0\n    };\n    _this._padding = 5;\n    _this._paddingInner = 0.1;\n    _this._paddingOuter = 0.1;\n    _this._rotateLabels = false;\n    _this._scale = \"linear\";\n    _this._scalePadding = 0.5;\n    _this._shape = \"Line\";\n    _this._shapeConfig = {\n      fill: \"#000\",\n      height: function height(d) {\n        return d.tick ? 8 : 0;\n      },\n      label: function label(d) {\n        return d.text;\n      },\n      labelBounds: function labelBounds(d) {\n        return d.labelBounds;\n      },\n      labelConfig: {\n        fontColor: \"#000\",\n        fontFamily: new TextBox().fontFamily(),\n        fontResize: false,\n        fontSize: constant(10),\n        padding: 0,\n        textAnchor: function textAnchor() {\n          var rtl = detectRTL();\n          return _this._orient === \"left\" ? rtl ? \"start\" : \"end\" : _this._orient === \"right\" ? rtl ? \"end\" : \"start\" : _this._rotateLabels ? _this._orient === \"bottom\" ? \"end\" : \"start\" : \"middle\";\n        },\n        verticalAlign: function verticalAlign() {\n          return _this._orient === \"bottom\" ? \"top\" : _this._orient === \"top\" ? \"bottom\" : \"middle\";\n        }\n      },\n      r: function r(d) {\n        return d.tick ? 4 : 0;\n      },\n      stroke: \"#000\",\n      strokeWidth: 1,\n      width: function width(d) {\n        return d.tick ? 8 : 0;\n      }\n    };\n    _this._tickSize = 5;\n    _this._tickSpecifier = undefined;\n    _this._tickSuffix = \"normal\";\n    _this._tickUnit = 0;\n    _this._timeLocale = undefined;\n    _this._titleClass = new TextBox();\n    _this._titleConfig = {\n      fontSize: 12,\n      textAnchor: \"middle\"\n    };\n    _this._width = 400;\n    return _this;\n  }\n  /**\n      @memberof Axis\n      @desc Sets positioning for the axis bar.\n      @param {D3Selection} *bar*\n      @private\n  */\n\n\n  _createClass(Axis, [{\n    key: \"_barPosition\",\n    value: function _barPosition(bar) {\n      var _this$_position = this._position,\n          height = _this$_position.height,\n          x = _this$_position.x,\n          y = _this$_position.y,\n          opposite = _this$_position.opposite,\n          domain = this._getDomain(),\n          offset = this._margin[opposite],\n          position = [\"top\", \"left\"].includes(this._orient) ? this._outerBounds[y] + this._outerBounds[height] - offset : this._outerBounds[y] + offset;\n\n      var x1mod = this._scale === \"band\" ? this._d3Scale.step() - this._d3Scale.bandwidth() : this._scale === \"point\" ? this._d3Scale.step() * this._d3Scale.padding() : 0;\n      var x2mod = this._scale === \"band\" ? this._d3Scale.step() : this._scale === \"point\" ? this._d3Scale.step() * this._d3Scale.padding() : 0;\n      bar.call(attrize, this._barConfig).attr(\"\".concat(x, \"1\"), this._getPosition(domain[0]) - x1mod).attr(\"\".concat(x, \"2\"), this._getPosition(domain[domain.length - 1]) + x2mod).attr(\"\".concat(y, \"1\"), position).attr(\"\".concat(y, \"2\"), position);\n    }\n    /**\n        @memberof Axis\n        @desc Returns the scale's domain, taking into account negative and positive log scales.\n        @private\n    */\n\n  }, {\n    key: \"_getDomain\",\n    value: function _getDomain() {\n      var ticks = [];\n      if (this._d3ScaleNegative) ticks = this._d3ScaleNegative.domain();\n      if (this._d3Scale) ticks = ticks.concat(this._d3Scale.domain());\n      var domain = [\"band\", \"ordinal\", \"point\"].includes(this._scale) ? ticks : extent(ticks);\n      return ticks[0] > ticks[1] ? domain.reverse() : domain;\n    }\n    /**\n        @memberof Axis\n        @desc Returns a value's scale position, taking into account negative and positive log scales.\n        @param {Number|String} *d*\n        @private\n    */\n\n  }, {\n    key: \"_getPosition\",\n    value: function _getPosition(d) {\n      return d < 0 && this._d3ScaleNegative ? this._d3ScaleNegative(d) : this._d3Scale(d);\n    }\n    /**\n        @memberof Axis\n        @desc Returns the scale's range, taking into account negative and positive log scales.\n        @private\n    */\n\n  }, {\n    key: \"_getRange\",\n    value: function _getRange() {\n      var ticks = [];\n      if (this._d3ScaleNegative) ticks = this._d3ScaleNegative.range();\n      if (this._d3Scale) ticks = ticks.concat(this._d3Scale.range());\n      return ticks[0] > ticks[1] ? extent(ticks).reverse() : extent(ticks);\n    }\n    /**\n        @memberof Axis\n        @desc Returns the scale's ticks, taking into account negative and positive log scales.\n        @private\n    */\n\n  }, {\n    key: \"_getTicks\",\n    value: function _getTicks() {\n      var tickScale = scales.scaleSqrt().domain([10, 400]).range([10, 50]);\n      var ticks = [];\n\n      if (this._d3ScaleNegative) {\n        var negativeRange = this._d3ScaleNegative.range();\n\n        var size = negativeRange[1] - negativeRange[0];\n        ticks = this._d3ScaleNegative.ticks(Math.floor(size / tickScale(size)));\n      }\n\n      if (this._d3Scale) {\n        var positiveRange = this._d3Scale.range();\n\n        var _size = positiveRange[1] - positiveRange[0];\n\n        ticks = ticks.concat(this._d3Scale.ticks(Math.floor(_size / tickScale(_size))));\n      }\n\n      return ticks;\n    }\n    /**\n        @memberof Axis\n        @desc Sets positioning for the grid lines.\n        @param {D3Selection} *lines*\n        @private\n    */\n\n  }, {\n    key: \"_gridPosition\",\n    value: function _gridPosition(lines) {\n      var last = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      var _this$_position2 = this._position,\n          height = _this$_position2.height,\n          x = _this$_position2.x,\n          y = _this$_position2.y,\n          opposite = _this$_position2.opposite,\n          offset = this._margin[opposite],\n          position = [\"top\", \"left\"].includes(this._orient) ? this._outerBounds[y] + this._outerBounds[height] - offset : this._outerBounds[y] + offset,\n          scale = last ? this._lastScale || this._getPosition.bind(this) : this._getPosition.bind(this),\n          size = [\"top\", \"left\"].includes(this._orient) ? offset : -offset,\n          xDiff = this._scale === \"band\" ? this._d3Scale.bandwidth() / 2 : 0,\n          xPos = function xPos(d) {\n        return scale(d.id) + xDiff;\n      };\n\n      lines.call(attrize, this._gridConfig).attr(\"\".concat(x, \"1\"), xPos).attr(\"\".concat(x, \"2\"), xPos).attr(\"\".concat(y, \"1\"), position).attr(\"\".concat(y, \"2\"), last ? position : position + size);\n    }\n    /**\n        @memberof Axis\n        @desc Renders the current Axis to the page. If a *callback* is specified, it will be called once the legend is done drawing.\n        @param {Function} [*callback* = undefined]\n        @chainable\n    */\n\n  }, {\n    key: \"render\",\n    value: function render(callback) {\n      var _this3 = this,\n          _this$_outerBounds;\n\n      /**\n       * Creates an SVG element to contain the axis if none\n       * has been specified using the \"select\" method.\n       */\n      if (this._select === void 0) {\n        this.select(_select(\"body\").append(\"svg\").attr(\"width\", \"\".concat(this._width, \"px\")).attr(\"height\", \"\".concat(this._height, \"px\")).node());\n      }\n\n      var timeLocale = this._timeLocale || locale[this._locale] || locale[\"en-US\"];\n      timeFormatDefaultLocale(timeLocale).format();\n      var formatDay = timeFormat(\"%a %d\"),\n          formatHour = timeFormat(\"%I %p\"),\n          formatMillisecond = timeFormat(\".%L\"),\n          formatMinute = timeFormat(\"%I:%M\"),\n          formatMonth = timeFormat(\"%b\"),\n          formatSecond = timeFormat(\":%S\"),\n          formatWeek = timeFormat(\"%b %d\"),\n          formatYear = timeFormat(\"%Y\");\n      /**\n       * Declares some commonly used variables.\n       */\n\n      var _this$_position3 = this._position,\n          width = _this$_position3.width,\n          height = _this$_position3.height,\n          x = _this$_position3.x,\n          y = _this$_position3.y,\n          horizontal = _this$_position3.horizontal,\n          opposite = _this$_position3.opposite,\n          clipId = \"d3plus-Axis-clip-\".concat(this._uuid),\n          flip = [\"top\", \"left\"].includes(this._orient),\n          p = this._padding,\n          parent = this._select,\n          rangeOuter = [p, this[\"_\".concat(width)] - p],\n          t = transition().duration(this._duration);\n      var tickValue = this._shape === \"Circle\" ? this._shapeConfig.r : this._shape === \"Rect\" ? this._shapeConfig[width] : this._shapeConfig.strokeWidth;\n      var tickGet = typeof tickValue !== \"function\" ? function () {\n        return tickValue;\n      } : tickValue;\n      /**\n       * Zeros out the margins for re-calculation.\n       */\n\n      var margin = this._margin = {\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0\n      };\n      var labels, range, ticks;\n      /**\n       * (Re)calculates the internal d3 scale\n       * @param {} newRange\n       */\n\n      function setScale() {\n        var _this2 = this;\n\n        var newRange = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this._range;\n\n        /**\n         * Calculates the internal \"range\" array to use, including\n         * fallbacks if not specified with the \"range\" method.\n         */\n        range = newRange ? newRange.slice() : [undefined, undefined];\n        var minRange = rangeOuter[0],\n            maxRange = rangeOuter[1];\n\n        if (this._range) {\n          if (this._range[0] !== undefined) minRange = this._range[0];\n          if (this._range[this._range.length - 1] !== undefined) maxRange = this._range[this._range.length - 1];\n        }\n\n        if (range[0] === undefined || range[0] < minRange) range[0] = minRange;\n        if (range[1] === undefined || range[1] > maxRange) range[1] = maxRange;\n        var sizeInner = maxRange - minRange;\n\n        if (this._scale === \"ordinal\" && this._domain.length > range.length) {\n          if (newRange === this._range) {\n            var buckets = this._domain.length + 1;\n            range = d3Range(buckets).map(function (d) {\n              return range[0] + sizeInner * (d / (buckets - 1));\n            }).slice(1, buckets);\n            range = range.map(function (d) {\n              return d - range[0] / 2;\n            });\n          } else {\n            var _buckets = this._domain.length;\n            var size = range[1] - range[0];\n            range = d3Range(_buckets).map(function (d) {\n              return range[0] + size * (d / (_buckets - 1));\n            });\n          }\n        } else if (newRange === this._range) {\n          var tickScale = scales.scaleSqrt().domain([10, 400]).range([10, 50]);\n          var domain = this._scale === \"time\" ? this._domain.map(date) : this._domain;\n          var scaleTicks = d3Ticks(domain[0], domain[1], Math.floor(sizeInner / tickScale(sizeInner)));\n          ticks = (this._ticks ? this._scale === \"time\" ? this._ticks.map(date) : this._ticks : scaleTicks).slice();\n          labels = (this._labels ? this._scale === \"time\" ? this._labels.map(date) : this._labels : scaleTicks).slice();\n          var _buckets2 = labels.length;\n\n          if (_buckets2) {\n            var pad = Math.ceil(sizeInner / _buckets2 / 2);\n            range = [range[0] + pad, range[1] - pad];\n          }\n        }\n        /**\n         * Sets up the initial d3 scale, using this._domain and the\n         * previously defined range variable.\n         */\n\n\n        this._d3Scale = scales[\"scale\".concat(this._scale.charAt(0).toUpperCase()).concat(this._scale.slice(1))]().domain(this._scale === \"time\" ? this._domain.map(date) : this._domain);\n        if (this._d3Scale.round) this._d3Scale.round(true);\n        if (this._d3Scale.padding) this._d3Scale.padding(this._scalePadding);\n        if (this._d3Scale.paddingInner) this._d3Scale.paddingInner(this._paddingInner);\n        if (this._d3Scale.paddingOuter) this._d3Scale.paddingOuter(this._paddingOuter);\n        if (this._d3Scale.rangeRound) this._d3Scale.rangeRound(range);else this._d3Scale.range(range);\n        /**\n         * Constructs a separate \"negative only\" scale for logarithmic\n         * domains, as they cannot pass zero.\n         */\n\n        this._d3ScaleNegative = null;\n\n        if (this._scale === \"log\") {\n          var _domain = this._d3Scale.domain();\n\n          if (_domain[0] === 0) _domain[0] = 1;\n          if (_domain[_domain.length - 1] === 0) _domain[_domain.length - 1] = -1;\n\n          var _range = this._d3Scale.range();\n\n          if (_domain[0] < 0 && _domain[_domain.length - 1] < 0) {\n            this._d3ScaleNegative = this._d3Scale.copy().domain(_domain).range(_range);\n            this._d3Scale = null;\n          } else if (_domain[0] > 0 && _domain[_domain.length - 1] > 0) {\n            this._d3Scale.domain(_domain).range(_range);\n          } else {\n            var percentScale = scales.scaleLog().domain([1, _domain[_domain[1] > 0 ? 1 : 0]]).range([0, 1]);\n            var leftPercentage = percentScale(Math.abs(_domain[_domain[1] < 0 ? 1 : 0]));\n            var zero = leftPercentage / (leftPercentage + 1) * (_range[1] - _range[0]);\n            if (_domain[0] > 0) zero = _range[1] - _range[0] - zero;\n            this._d3ScaleNegative = this._d3Scale.copy();\n            (_domain[0] < 0 ? this._d3Scale : this._d3ScaleNegative).domain([Math.sign(_domain[1]), _domain[1]]).range([_range[0] + zero, _range[1]]);\n            (_domain[0] < 0 ? this._d3ScaleNegative : this._d3Scale).domain([_domain[0], Math.sign(_domain[0])]).range([_range[0], _range[0] + zero]);\n          }\n        }\n        /**\n         * Determines the of values array to use\n         * for the \"ticks\" and the \"labels\"\n         */\n\n\n        ticks = (this._ticks ? this._scale === \"time\" ? this._ticks.map(date) : this._ticks : (this._d3Scale ? this._d3Scale.ticks : this._d3ScaleNegative.ticks) ? this._getTicks() : this._domain).slice();\n        labels = (this._labels ? this._scale === \"time\" ? this._labels.map(date) : this._labels : (this._d3Scale ? this._d3Scale.ticks : this._d3ScaleNegative.ticks) ? this._getTicks() : ticks).slice();\n\n        if (this._scale === \"log\") {\n          labels = labels.filter(function (t) {\n            return Math.abs(t).toString().charAt(0) === \"1\" && (_this2._d3Scale ? t !== -1 : t !== 1);\n          });\n        } else if (this._scale === \"time\") {\n          ticks = ticks.map(Number);\n          labels = labels.map(Number);\n        }\n\n        ticks = ticks.sort(function (a, b) {\n          return _this2._getPosition(a) - _this2._getPosition(b);\n        });\n        labels = labels.sort(function (a, b) {\n          return _this2._getPosition(a) - _this2._getPosition(b);\n        });\n        /**\n         * Get the smallest suffix.\n         */\n\n        if (this._scale === \"linear\" && this._tickSuffix === \"smallest\") {\n          var suffixes = labels.filter(function (d) {\n            return d >= 1000;\n          });\n\n          if (suffixes.length > 0) {\n            var _min = Math.min.apply(Math, _toConsumableArray(suffixes));\n\n            var i = 1;\n\n            while (i && i < 7) {\n              var n = Math.pow(10, 3 * i);\n\n              if (_min / n >= 1) {\n                this._tickUnit = i;\n                i += 1;\n              } else {\n                break;\n              }\n            }\n          }\n        }\n        /**\n         * Removes ticks when they overlap other ticks.\n         */\n\n\n        var pixels = [];\n        this._availableTicks = ticks;\n        ticks.forEach(function (d, i) {\n          var s = tickGet({\n            id: d,\n            tick: true\n          }, i);\n          if (_this2._shape === \"Circle\") s *= 2;\n\n          var t = _this2._getPosition(d);\n\n          if (!pixels.length || Math.abs(closest(t, pixels) - t) > s * 2) pixels.push(t);else pixels.push(false);\n        });\n        ticks = ticks.filter(function (d, i) {\n          return pixels[i] !== false;\n        });\n        this._visibleTicks = ticks;\n      }\n\n      setScale.bind(this)();\n      /**\n       * Calculates the space available for a given label.\n       * @param {Object} datum\n       */\n\n      function calculateSpace(datum) {\n        var diff = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n        var i = datum.i,\n            position = datum.position;\n\n        if (this._scale === \"band\") {\n          return this._d3Scale.bandwidth();\n        } else {\n          var prevPosition = i - diff < 0 ? textData.length === 1 || !this._range ? rangeOuter[0] : (position - textData[i + diff].position) / 2 - position : position - (position - textData[i - diff].position) / 2;\n          var prevSpace = Math.abs(position - prevPosition);\n          var nextPosition = i + diff > textData.length - 1 ? textData.length === 1 || !this._range ? rangeOuter[1] : (position - textData[i - diff].position) / 2 - position : position - (position - textData[i + diff].position) / 2;\n          var nextSpace = Math.abs(position - nextPosition);\n          return min([prevSpace, nextSpace]) * 2;\n        }\n      }\n      /**\n       * Constructs the tick formatter function.\n       */\n\n\n      var tickFormat = this._tickFormat ? this._tickFormat : function (d) {\n        if (_this3._scale === \"log\") {\n          var _p = Math.round(Math.log(Math.abs(d)) / Math.LN10);\n\n          var _t = Math.abs(d).toString().charAt(0);\n\n          var _n = \"10 \".concat(\"\".concat(_p).split(\"\").map(function (c) {\n            return \"⁰¹²³⁴⁵⁶⁷⁸⁹\"[c];\n          }).join(\"\"));\n\n          if (_t !== \"1\") _n = \"\".concat(_t, \" x \").concat(_n);\n          return d < 0 ? \"-\".concat(_n) : _n;\n        } else if (_this3._scale === \"time\") {\n          return (timeSecond(d) < d ? formatMillisecond : timeMinute(d) < d ? formatSecond : timeHour(d) < d ? formatMinute : timeDay(d) < d ? formatHour : timeMonth(d) < d ? timeWeek(d) < d ? formatDay : formatWeek : timeYear(d) < d ? formatMonth : formatYear)(d);\n        } else if ([\"band\", \"ordinal\", \"point\"].includes(_this3._scale)) {\n          return d;\n        }\n\n        var n = _this3._d3Scale.tickFormat ? _this3._d3Scale.tickFormat(labels.length - 1)(d) : d;\n        n = n.replace(/[^\\d\\.\\-\\+]/g, \"\") * 1;\n\n        if (isNaN(n)) {\n          return n;\n        } else if (_this3._scale === \"linear\" && _this3._tickSuffix === \"smallest\") {\n          var _locale = _typeof(_this3._locale) === \"object\" ? _this3._locale : formatLocale[_this3._locale];\n\n          var separator = _locale.separator,\n              suffixes = _locale.suffixes;\n          var suff = n >= 1000 ? suffixes[_this3._tickUnit + 8] : \"\";\n          var tick = n / Math.pow(10, 3 * _this3._tickUnit);\n          var number = formatAbbreviate(tick, _locale, \",.\".concat(tick.toString().length, \"r\"));\n          return \"\".concat(number).concat(separator).concat(suff);\n        } else {\n          return formatAbbreviate(n, _this3._locale);\n        }\n      };\n      /**\n       * Pre-calculates the size of the title, if defined, in order\n       * to adjust the internal margins.\n       */\n\n      if (this._title) {\n        var _this$_titleConfig = this._titleConfig,\n            fontFamily = _this$_titleConfig.fontFamily,\n            fontSize = _this$_titleConfig.fontSize,\n            lineHeight = _this$_titleConfig.lineHeight;\n        var titleWrap = textWrap().fontFamily(typeof fontFamily === \"function\" ? fontFamily() : fontFamily).fontSize(typeof fontSize === \"function\" ? fontSize() : fontSize).lineHeight(typeof lineHeight === \"function\" ? lineHeight() : lineHeight).width(range[range.length - 1] - range[0] - p * 2).height(this[\"_\".concat(height)] - this._tickSize - p * 2);\n        var lines = titleWrap(this._title).lines.length;\n        margin[this._orient] = lines * titleWrap.lineHeight() + p;\n      }\n\n      var hBuff = this._shape === \"Circle\" ? typeof this._shapeConfig.r === \"function\" ? this._shapeConfig.r({\n        tick: true\n      }) : this._shapeConfig.r : this._shape === \"Rect\" ? typeof this._shapeConfig[height] === \"function\" ? this._shapeConfig[height]({\n        tick: true\n      }) : this._shapeConfig[height] : this._tickSize,\n          wBuff = tickGet({\n        tick: true\n      });\n      if (typeof hBuff === \"function\") hBuff = max(ticks.map(hBuff));\n      if (this._shape === \"Rect\") hBuff /= 2;\n      if (typeof wBuff === \"function\") wBuff = max(ticks.map(wBuff));\n      if (this._shape !== \"Circle\") wBuff /= 2;\n      /**\n       * Calculates the space each label would take up, given\n       * the provided this._space size.\n       */\n\n      var textData = labels.map(function (d, i) {\n        var fF = _this3._shapeConfig.labelConfig.fontFamily(d, i),\n            fS = _this3._shapeConfig.labelConfig.fontSize(d, i),\n            position = _this3._getPosition(d);\n\n        var lineHeight = _this3._shapeConfig.lineHeight ? _this3._shapeConfig.lineHeight(d, i) : fS * 1.4;\n        return {\n          d: d,\n          i: i,\n          fF: fF,\n          fS: fS,\n          lineHeight: lineHeight,\n          position: position\n        };\n      });\n      /**\n       * Calculates the text wrapping and size of a given textData object.\n       * @param {Object} datum\n       */\n\n      function calculateLabelSize(datum) {\n        var d = datum.d,\n            i = datum.i,\n            fF = datum.fF,\n            fS = datum.fS,\n            rotate = datum.rotate,\n            space = datum.space;\n        var h = rotate ? \"width\" : \"height\",\n            w = rotate ? \"height\" : \"width\";\n        var wrap = textWrap().fontFamily(fF).fontSize(fS).lineHeight(this._shapeConfig.lineHeight ? this._shapeConfig.lineHeight(d, i) : undefined)[w](horizontal ? space : min([this._maxSize, this._width]) - hBuff - p - this._margin.left - this._margin.right)[h](horizontal ? min([this._maxSize, this._height]) - hBuff - p - this._margin.top - this._margin.bottom : space);\n        var res = wrap(tickFormat(d));\n        res.lines = res.lines.filter(function (d) {\n          return d !== \"\";\n        });\n        res.width = res.lines.length ? Math.ceil(max(res.widths)) + fS / 4 : 0;\n        if (res.width % 2) res.width++;\n        res.height = res.lines.length ? Math.ceil(res.lines.length * wrap.lineHeight()) + fS / 4 : 0;\n        if (res.height % 2) res.height++;\n        return res;\n      }\n\n      textData = textData.map(function (datum) {\n        datum.rotate = _this3._labelRotation;\n        datum.space = calculateSpace.bind(_this3)(datum);\n        var res = calculateLabelSize.bind(_this3)(datum);\n        return Object.assign(res, datum);\n      });\n      this._rotateLabels = horizontal && this._labelRotation === undefined ? textData.some(function (d) {\n        return d.truncated;\n      }) : this._labelRotation;\n\n      if (this._rotateLabels) {\n        textData = textData.map(function (datum) {\n          datum.rotate = true;\n          var res = calculateLabelSize.bind(_this3)(datum);\n          return Object.assign(datum, res);\n        });\n      }\n      /**\n       * \"spillover\" will contain the pixel spillover of the first and last label,\n       * and then adjust the scale range accordingly.\n       */\n\n\n      var spillover = [0, 0];\n\n      for (var index = 0; index < 2; index++) {\n        var datum = textData[index ? textData.length - 1 : 0];\n        if (!datum) break;\n        var _height = datum.height,\n            position = datum.position,\n            rotate = datum.rotate,\n            _width = datum.width;\n        var compPosition = index ? rangeOuter[1] : rangeOuter[0];\n        var halfSpace = (rotate || !horizontal ? _height : _width) / 2;\n        var spill = index ? position + halfSpace - compPosition : position - halfSpace - compPosition;\n        spillover[index] = spill;\n      }\n\n      var first = range[0];\n      var last = range[range.length - 1];\n      var newRange = [first - spillover[0], last - spillover[1]];\n\n      if (this._range) {\n        if (this._range[0] !== undefined) newRange[0] = this._range[0];\n        if (this._range[this._range.length - 1] !== undefined) newRange[1] = this._range[this._range.length - 1];\n      }\n\n      if (newRange[0] !== first || newRange[1] !== last) {\n        setScale.bind(this)(newRange);\n        textData = labels.map(function (d, i) {\n          var fF = _this3._shapeConfig.labelConfig.fontFamily(d, i),\n              fS = _this3._shapeConfig.labelConfig.fontSize(d, i),\n              position = _this3._getPosition(d);\n\n          var lineHeight = _this3._shapeConfig.lineHeight ? _this3._shapeConfig.lineHeight(d, i) : fS * 1.4;\n          return {\n            d: d,\n            i: i,\n            fF: fF,\n            fS: fS,\n            lineHeight: lineHeight,\n            position: position\n          };\n        });\n        textData = textData.map(function (datum) {\n          datum.rotate = _this3._rotateLabels;\n          datum.space = calculateSpace.bind(_this3)(datum);\n          var res = calculateLabelSize.bind(_this3)(datum);\n          return Object.assign(res, datum);\n        });\n      }\n\n      var labelHeight = max(textData, function (t) {\n        return t.height;\n      }) || 0;\n      this._rotateLabels = horizontal && this._labelRotation === undefined ? textData.some(function (datum) {\n        var i = datum.i,\n            height = datum.height,\n            position = datum.position,\n            truncated = datum.truncated;\n        var prev = textData[i - 1];\n        return truncated || i && prev.position + prev.height / 2 > position - height / 2;\n      }) : this._labelRotation;\n\n      if (this._rotateLabels) {\n        var offset = 0;\n        textData = textData.map(function (datum) {\n          datum.space = calculateSpace.bind(_this3)(datum, 2);\n          var res = calculateLabelSize.bind(_this3)(datum);\n          datum = Object.assign(datum, res);\n          var prev = textData[datum.i - 1];\n\n          if (!prev) {\n            offset = 1;\n          } else if (prev.position + prev.height / 2 > datum.position) {\n            if (offset) {\n              datum.offset = prev.width;\n              offset = 0;\n            } else offset = 1;\n          }\n\n          return datum;\n        });\n      }\n\n      var globalOffset = this._labelOffset ? max(textData, function (d) {\n        return d.offset || 0;\n      }) : 0;\n      textData.forEach(function (datum) {\n        return datum.offset = datum.offset ? globalOffset : 0;\n      });\n      var tBuff = this._shape === \"Line\" ? 0 : hBuff;\n      var bounds = this._outerBounds = (_this$_outerBounds = {}, _defineProperty(_this$_outerBounds, height, (max(textData, function (t) {\n        return Math.ceil(t[t.rotate || !horizontal ? \"width\" : \"height\"] + t.offset);\n      }) || 0) + (textData.length ? p : 0)), _defineProperty(_this$_outerBounds, width, rangeOuter[rangeOuter.length - 1] - rangeOuter[0]), _defineProperty(_this$_outerBounds, x, rangeOuter[0]), _this$_outerBounds);\n      margin[this._orient] += hBuff;\n      margin[opposite] = this._gridSize !== undefined ? max([this._gridSize, tBuff]) : this[\"_\".concat(height)] - margin[this._orient] - bounds[height] - p;\n      bounds[height] += margin[opposite] + margin[this._orient];\n      bounds[y] = this._align === \"start\" ? this._padding : this._align === \"end\" ? this[\"_\".concat(height)] - bounds[height] - this._padding : this[\"_\".concat(height)] / 2 - bounds[height] / 2;\n      var group = elem(\"g#d3plus-Axis-\".concat(this._uuid), {\n        parent: parent\n      });\n      this._group = group;\n      var grid = elem(\"g.grid\", {\n        parent: group\n      }).selectAll(\"line\").data((this._gridSize !== 0 ? this._grid || this._scale === \"log\" && !this._gridLog ? labels : ticks : []).map(function (d) {\n        return {\n          id: d\n        };\n      }), function (d) {\n        return d.id;\n      });\n      grid.exit().transition(t).attr(\"opacity\", 0).call(this._gridPosition.bind(this)).remove();\n      grid.enter().append(\"line\").attr(\"opacity\", 0).attr(\"clip-path\", \"url(#\".concat(clipId, \")\")).call(this._gridPosition.bind(this), true).merge(grid).transition(t).attr(\"opacity\", 1).call(this._gridPosition.bind(this));\n      var labelOnly = labels.filter(function (d, i) {\n        return textData[i].lines.length && !ticks.includes(d);\n      });\n      var rotated = textData.some(function (d) {\n        return d.rotate;\n      });\n      var tickData = ticks.concat(labelOnly).map(function (d) {\n        var _tickConfig;\n\n        var data = textData.find(function (td) {\n          return td.d === d;\n        });\n\n        var xPos = _this3._getPosition(d);\n\n        var space = data ? data.space : 0;\n        var lines = data ? data.lines.length : 1;\n        var lineHeight = data ? data.lineHeight : 1;\n        var labelOffset = data && _this3._labelOffset ? data.offset : 0;\n        var labelWidth = horizontal ? space : bounds.width - margin[_this3._position.opposite] - hBuff - margin[_this3._orient] + p;\n        var offset = margin[opposite],\n            size = (hBuff + labelOffset) * (flip ? -1 : 1),\n            yPos = flip ? bounds[y] + bounds[height] - offset : bounds[y] + offset;\n        var tickConfig = (_tickConfig = {\n          id: d,\n          labelBounds: rotated && data ? {\n            x: -data.width / 2 + data.fS / 4,\n            y: _this3._orient === \"bottom\" ? size + p + (data.width - lineHeight * lines) / 2 : size - p * 2 - (data.width + lineHeight * lines) / 2,\n            width: data.width,\n            height: data.height\n          } : {\n            x: horizontal ? -space / 2 : _this3._orient === \"left\" ? -labelWidth - p + size : size + p,\n            y: horizontal ? _this3._orient === \"bottom\" ? size + p : size - p - labelHeight : -space / 2,\n            width: horizontal ? space : labelWidth,\n            height: horizontal ? labelHeight : space\n          },\n          rotate: data ? data.rotate : false,\n          size: labels.includes(d) ? size : 0,\n          text: labels.includes(d) ? tickFormat(d) : false,\n          tick: ticks.includes(d)\n        }, _defineProperty(_tickConfig, x, xPos + (_this3._scale === \"band\" ? _this3._d3Scale.bandwidth() / 2 : 0)), _defineProperty(_tickConfig, y, yPos), _tickConfig);\n        return tickConfig;\n      });\n\n      if (this._shape === \"Line\") {\n        tickData = tickData.concat(tickData.map(function (d) {\n          var dupe = Object.assign({}, d);\n          dupe[y] += d.size;\n          return dupe;\n        }));\n      }\n\n      new shapes[this._shape]().data(tickData).duration(this._duration).labelConfig({\n        ellipsis: function ellipsis(d) {\n          return d && d.length ? \"\".concat(d, \"...\") : \"\";\n        },\n        rotate: function rotate(d) {\n          return d.rotate ? -90 : 0;\n        }\n      }).select(elem(\"g.ticks\", {\n        parent: group\n      }).node()).config(this._shapeConfig).render();\n      var bar = group.selectAll(\"line.bar\").data([null]);\n      bar.enter().append(\"line\").attr(\"class\", \"bar\").attr(\"opacity\", 0).call(this._barPosition.bind(this)).merge(bar).transition(t).attr(\"opacity\", 1).call(this._barPosition.bind(this));\n\n      this._titleClass.data(this._title ? [{\n        text: this._title\n      }] : []).duration(this._duration).height(margin[this._orient]).rotate(this._orient === \"left\" ? -90 : this._orient === \"right\" ? 90 : 0).select(elem(\"g.d3plus-Axis-title\", {\n        parent: group\n      }).node()).text(function (d) {\n        return d.text;\n      }).verticalAlign(\"middle\").width(range[range.length - 1] - range[0]).x(horizontal ? range[0] : this._orient === \"left\" ? bounds.x + margin.left / 2 - (range[range.length - 1] - range[0]) / 2 : bounds.x + bounds.width - margin.right / 2 - (range[range.length - 1] - range[0]) / 2).y(horizontal ? this._orient === \"bottom\" ? bounds.y + bounds.height - margin.bottom : bounds.y : range[0] + (range[range.length - 1] - range[0]) / 2 - margin[this._orient] / 2).config(this._titleConfig).render();\n\n      this._lastScale = this._getPosition.bind(this);\n      if (callback) setTimeout(callback, this._duration + 100);\n      return this;\n    }\n    /**\n        @memberof Axis\n        @desc If *value* is specified, sets the horizontal alignment to the specified value and returns the current class instance.\n        @param {String} [*value* = \"center\"] Supports `\"left\"` and `\"center\"` and `\"right\"`.\n        @chainable\n    */\n\n  }, {\n    key: \"align\",\n    value: function align(_) {\n      return arguments.length ? (this._align = _, this) : this._align;\n    }\n    /**\n        @memberof Axis\n        @desc If *value* is specified, sets the axis line style and returns the current class instance.\n        @param {Object} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"barConfig\",\n    value: function barConfig(_) {\n      return arguments.length ? (this._barConfig = Object.assign(this._barConfig, _), this) : this._barConfig;\n    }\n    /**\n        @memberof Axis\n        @desc If *value* is specified, sets the scale domain of the axis and returns the current class instance.\n        @param {Array} [*value* = [0, 10]]\n        @chainable\n    */\n\n  }, {\n    key: \"domain\",\n    value: function domain(_) {\n      return arguments.length ? (this._domain = _, this) : this._domain;\n    }\n    /**\n        @memberof Axis\n        @desc If *value* is specified, sets the transition duration of the axis and returns the current class instance.\n        @param {Number} [*value* = 600]\n        @chainable\n    */\n\n  }, {\n    key: \"duration\",\n    value: function duration(_) {\n      return arguments.length ? (this._duration = _, this) : this._duration;\n    }\n    /**\n        @memberof Axis\n        @desc If *value* is specified, sets the grid values of the axis and returns the current class instance.\n        @param {Array} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"grid\",\n    value: function grid(_) {\n      return arguments.length ? (this._grid = _, this) : this._grid;\n    }\n    /**\n        @memberof Axis\n        @desc If *value* is specified, sets the grid config of the axis and returns the current class instance.\n        @param {Object} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"gridConfig\",\n    value: function gridConfig(_) {\n      return arguments.length ? (this._gridConfig = Object.assign(this._gridConfig, _), this) : this._gridConfig;\n    }\n    /**\n        @memberof Axis\n        @desc If *value* is specified, sets the grid behavior of the axis when scale is logarithmic and returns the current class instance.\n        @param {Boolean} [*value* = false]\n        @chainable\n    */\n\n  }, {\n    key: \"gridLog\",\n    value: function gridLog(_) {\n      return arguments.length ? (this._gridLog = _, this) : this._gridLog;\n    }\n    /**\n        @memberof Axis\n        @desc If *value* is specified, sets the grid size of the axis and returns the current class instance.\n        @param {Number} [*value* = undefined]\n        @chainable\n    */\n\n  }, {\n    key: \"gridSize\",\n    value: function gridSize(_) {\n      return arguments.length ? (this._gridSize = _, this) : this._gridSize;\n    }\n    /**\n        @memberof Axis\n        @desc If *value* is specified, sets the overall height of the axis and returns the current class instance.\n        @param {Number} [*value* = 100]\n        @chainable\n    */\n\n  }, {\n    key: \"height\",\n    value: function height(_) {\n      return arguments.length ? (this._height = _, this) : this._height;\n    }\n    /**\n        @memberof Axis\n        @desc If *value* is specified, sets the visible tick labels of the axis and returns the current class instance.\n        @param {Array} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"labels\",\n    value: function labels(_) {\n      return arguments.length ? (this._labels = _, this) : this._labels;\n    }\n    /**\n        @memberof Axis\n        @desc If *value* is specified, sets whether offsets will be used to position some labels further away from the axis in order to allow space for the text.\n        @param {Boolean} [*value* = true]\n        @chainable\n     */\n\n  }, {\n    key: \"labelOffset\",\n    value: function labelOffset(_) {\n      return arguments.length ? (this._labelOffset = _, this) : this._labelOffset;\n    }\n    /**\n        @memberof Axis\n        @desc If *value* is specified, sets whether whether horizontal axis labels are rotated -90 degrees.\n        @param {Boolean}\n        @chainable\n     */\n\n  }, {\n    key: \"labelRotation\",\n    value: function labelRotation(_) {\n      return arguments.length ? (this._labelRotation = _, this) : this._labelRotation;\n    }\n    /**\n        @memberof Axis\n        @desc If *value* is specified, sets the maximum size allowed for the space that contains the axis tick labels and title.\n        @param {Number}\n        @chainable\n     */\n\n  }, {\n    key: \"maxSize\",\n    value: function maxSize(_) {\n      return arguments.length ? (this._maxSize = _, this) : this._maxSize;\n    }\n    /**\n        @memberof Axis\n        @desc If *orient* is specified, sets the orientation of the shape and returns the current class instance. If *orient* is not specified, returns the current orientation.\n        @param {String} [*orient* = \"bottom\"] Supports `\"top\"`, `\"right\"`, `\"bottom\"`, and `\"left\"` orientations.\n        @chainable\n    */\n\n  }, {\n    key: \"orient\",\n    value: function orient(_) {\n      if (arguments.length) {\n        var horizontal = [\"top\", \"bottom\"].includes(_),\n            opps = {\n          top: \"bottom\",\n          right: \"left\",\n          bottom: \"top\",\n          left: \"right\"\n        };\n        this._position = {\n          horizontal: horizontal,\n          width: horizontal ? \"width\" : \"height\",\n          height: horizontal ? \"height\" : \"width\",\n          x: horizontal ? \"x\" : \"y\",\n          y: horizontal ? \"y\" : \"x\",\n          opposite: opps[_]\n        };\n        return this._orient = _, this;\n      }\n\n      return this._orient;\n    }\n    /**\n        @memberof Axis\n        @desc If called after the elements have been drawn to DOM, will returns the outer bounds of the axis content.\n        @example\n    {\"width\": 180, \"height\": 24, \"x\": 10, \"y\": 20}\n    */\n\n  }, {\n    key: \"outerBounds\",\n    value: function outerBounds() {\n      return this._outerBounds;\n    }\n    /**\n        @memberof Axis\n        @desc If *value* is specified, sets the padding between each tick label to the specified number and returns the current class instance.\n        @param {Number} [*value* = 10]\n        @chainable\n    */\n\n  }, {\n    key: \"padding\",\n    value: function padding(_) {\n      return arguments.length ? (this._padding = _, this) : this._padding;\n    }\n    /**\n        @memberof Axis\n        @desc If *value* is specified, sets the inner padding of band scale to the specified number and returns the current class instance.\n        @param {Number} [*value* = 0.1]\n        @chainable\n    */\n\n  }, {\n    key: \"paddingInner\",\n    value: function paddingInner(_) {\n      return arguments.length ? (this._paddingInner = _, this) : this._paddingInner;\n    }\n    /**\n        @memberof Axis\n        @desc If *value* is specified, sets the outer padding of band scales to the specified number and returns the current class instance.\n        @param {Number} [*value* = 0.1]\n        @chainable\n    */\n\n  }, {\n    key: \"paddingOuter\",\n    value: function paddingOuter(_) {\n      return arguments.length ? (this._paddingOuter = _, this) : this._paddingOuter;\n    }\n    /**\n        @memberof Axis\n        @desc If *value* is specified, sets the scale range (in pixels) of the axis and returns the current class instance. The given array must have 2 values, but one may be `undefined` to allow the default behavior for that value.\n        @param {Array} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"range\",\n    value: function range(_) {\n      return arguments.length ? (this._range = _, this) : this._range;\n    }\n    /**\n        @memberof Axis\n        @desc If *value* is specified, sets the scale of the axis and returns the current class instance.\n        @param {String} [*value* = \"linear\"]\n        @chainable\n    */\n\n  }, {\n    key: \"scale\",\n    value: function scale(_) {\n      return arguments.length ? (this._scale = _, this) : this._scale;\n    }\n    /**\n        @memberof Axis\n        @desc Sets the \"padding\" property of the scale, often used in point scales.\n        @param {Number} [*value* = 0.5]\n        @chainable\n    */\n\n  }, {\n    key: \"scalePadding\",\n    value: function scalePadding(_) {\n      return arguments.length ? (this._scalePadding = _, this) : this._scalePadding;\n    }\n    /**\n        @memberof Axis\n        @desc If *selector* is specified, sets the SVG container element to the specified d3 selector or DOM element and returns the current class instance. If *selector* is not specified, returns the current SVG container element.\n        @param {String|HTMLElement} [*selector* = d3.select(\"body\").append(\"svg\")]\n        @chainable\n    */\n\n  }, {\n    key: \"select\",\n    value: function select(_) {\n      return arguments.length ? (this._select = _select(_), this) : this._select;\n    }\n    /**\n        @memberof Axis\n        @desc If *value* is specified, sets the tick shape constructor and returns the current class instance.\n        @param {String} [*value* = \"Line\"]\n        @chainable\n    */\n\n  }, {\n    key: \"shape\",\n    value: function shape(_) {\n      return arguments.length ? (this._shape = _, this) : this._shape;\n    }\n    /**\n        @memberof Axis\n        @desc If *value* is specified, sets the tick style of the axis and returns the current class instance.\n        @param {Object} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"shapeConfig\",\n    value: function shapeConfig(_) {\n      return arguments.length ? (this._shapeConfig = assign(this._shapeConfig, _), this) : this._shapeConfig;\n    }\n    /**\n        @memberof Axis\n        @desc If *value* is specified, sets the tick formatter and returns the current class instance.\n        @param {Function} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"tickFormat\",\n    value: function tickFormat(_) {\n      return arguments.length ? (this._tickFormat = _, this) : this._tickFormat;\n    }\n    /**\n        @memberof Axis\n        @desc If *value* is specified, sets the tick values of the axis and returns the current class instance.\n        @param {Array} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"ticks\",\n    value: function ticks(_) {\n      return arguments.length ? (this._ticks = _, this) : this._ticks;\n    }\n    /**\n        @memberof Axis\n        @desc If *value* is specified, sets the tick size of the axis and returns the current class instance.\n        @param {Number} [*value* = 5]\n        @chainable\n    */\n\n  }, {\n    key: \"tickSize\",\n    value: function tickSize(_) {\n      return arguments.length ? (this._tickSize = _, this) : this._tickSize;\n    }\n    /**\n        @memberof Axis\n        @desc Sets the tick specifier for the [tickFormat](https://github.com/d3/d3-scale#continuous_tickFormat) function. If this method is called without any arguments, the default tick specifier is returned.\n        @param {String} [*value* = undefined]\n        @chainable\n    */\n\n  }, {\n    key: \"tickSpecifier\",\n    value: function tickSpecifier(_) {\n      return arguments.length ? (this._tickSpecifier = _, this) : this._tickSpecifier;\n    }\n    /**\n        @memberof Axis\n        @desc Sets the behavior of the abbreviations when you are using linear scale. This method accepts two options: \"normal\" (uses formatAbbreviate to determinate the abbreviation) and \"smallest\" (uses suffix from the smallest tick as reference in every tick).\n        @param {String} [*value* = \"normal\"]\n        @chainable\n    */\n\n  }, {\n    key: \"tickSuffix\",\n    value: function tickSuffix(_) {\n      return arguments.length ? (this._tickSuffix = _, this) : this._tickSuffix;\n    }\n    /**\n        @memberof Axis\n        @desc Defines a custom locale object to be used in time scale. This object must include the following properties: dateTime, date, time, periods, days, shortDays, months, shortMonths. For more information, you can revise [d3p.d3-time-format](https://github.com/d3/d3-time-format/blob/master/README.md#timeFormatLocale).\n        @param {Object} [*value* = undefined]\n        @chainable\n    */\n\n  }, {\n    key: \"timeLocale\",\n    value: function timeLocale(_) {\n      return arguments.length ? (this._timeLocale = _, this) : this._timeLocale;\n    }\n    /**\n        @memberof Axis\n        @desc If *value* is specified, sets the title of the axis and returns the current class instance.\n        @param {String} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"title\",\n    value: function title(_) {\n      return arguments.length ? (this._title = _, this) : this._title;\n    }\n    /**\n        @memberof Axis\n        @desc If *value* is specified, sets the title configuration of the axis and returns the current class instance.\n        @param {Object} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"titleConfig\",\n    value: function titleConfig(_) {\n      return arguments.length ? (this._titleConfig = Object.assign(this._titleConfig, _), this) : this._titleConfig;\n    }\n    /**\n        @memberof Axis\n        @desc If *value* is specified, sets the overall width of the axis and returns the current class instance.\n        @param {Number} [*value* = 400]\n        @chainable\n    */\n\n  }, {\n    key: \"width\",\n    value: function width(_) {\n      return arguments.length ? (this._width = _, this) : this._width;\n    }\n  }]);\n\n  return Axis;\n}(BaseClass);\n\nexport { Axis as default };","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport { default as Axis } from \"./Axis\";\n/**\n    @class AxisBottom\n    @extends Axis\n    @desc Shorthand method for creating an axis where the ticks are drawn below the horizontal domain path. Extends all functionality of the base [Axis](#Axis) class.\n*/\n\nvar AxisBottom =\n/*#__PURE__*/\nfunction (_Axis) {\n  _inherits(AxisBottom, _Axis);\n\n  /**\n      @memberof AxisBottom\n      @desc Invoked when creating a new class instance, and overrides any default parameters inherited from Axis.\n      @private\n  */\n  function AxisBottom() {\n    var _this;\n\n    _classCallCheck(this, AxisBottom);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AxisBottom).call(this));\n\n    _this.orient(\"bottom\");\n\n    return _this;\n  }\n\n  return AxisBottom;\n}(Axis);\n\nexport { AxisBottom as default };","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport { default as Axis } from \"./Axis\";\n/**\n    @class AxisLeft\n    @extends Axis\n    @desc Shorthand method for creating an axis where the ticks are drawn to the left of the vertical domain path. Extends all functionality of the base [Axis](#Axis) class.\n*/\n\nvar AxisLeft =\n/*#__PURE__*/\nfunction (_Axis) {\n  _inherits(AxisLeft, _Axis);\n\n  /**\n      @memberof AxisLeft\n      @desc Invoked when creating a new class instance, and overrides any default parameters inherited from Axis.\n      @private\n  */\n  function AxisLeft() {\n    var _this;\n\n    _classCallCheck(this, AxisLeft);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AxisLeft).call(this));\n\n    _this.orient(\"left\");\n\n    return _this;\n  }\n\n  return AxisLeft;\n}(Axis);\n\nexport { AxisLeft as default };","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport { default as Axis } from \"./Axis\";\n/**\n    @class AxisRight\n    @extends Axis\n    @desc Shorthand method for creating an axis where the ticks are drawn to the right of the vertical domain path. Extends all functionality of the base [Axis](#Axis) class.\n*/\n\nvar AxisRight =\n/*#__PURE__*/\nfunction (_Axis) {\n  _inherits(AxisRight, _Axis);\n\n  /**\n      @memberof AxisRight\n      @desc Invoked when creating a new class instance, and overrides any default parameters inherited from Axis.\n      @private\n  */\n  function AxisRight() {\n    var _this;\n\n    _classCallCheck(this, AxisRight);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AxisRight).call(this));\n\n    _this.orient(\"right\");\n\n    return _this;\n  }\n\n  return AxisRight;\n}(Axis);\n\nexport { AxisRight as default };","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport { default as Axis } from \"./Axis\";\n/**\n    @class AxisTop\n    @extends Axis\n    @desc Shorthand method for creating an axis where the ticks are drawn above the vertical domain path. Extends all functionality of the base [Axis](#Axis) class.\n*/\n\nvar AxisTop =\n/*#__PURE__*/\nfunction (_Axis) {\n  _inherits(AxisTop, _Axis);\n\n  /**\n      @memberof AxisTop\n      @desc Invoked when creating a new class instance, and overrides any default parameters inherited from Axis.\n      @private\n  */\n  function AxisTop() {\n    var _this;\n\n    _classCallCheck(this, AxisTop);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AxisTop).call(this));\n\n    _this.orient(\"top\");\n\n    return _this;\n  }\n\n  return AxisTop;\n}(Axis);\n\nexport { AxisTop as default };","// Adds floating point numbers with twice the normal precision.\n// Reference: J. R. Shewchuk, Adaptive Precision Floating-Point Arithmetic and\n// Fast Robust Geometric Predicates, Discrete & Computational Geometry 18(3)\n// 305–363 (1997).\n// Code adapted from GeographicLib by Charles F. F. Karney,\n// http://geographiclib.sourceforge.net/\n\nexport default function() {\n  return new Adder;\n}\n\nfunction Adder() {\n  this.reset();\n}\n\nAdder.prototype = {\n  constructor: Adder,\n  reset: function() {\n    this.s = // rounded value\n    this.t = 0; // exact error\n  },\n  add: function(y) {\n    add(temp, y, this.t);\n    add(this, temp.s, this.s);\n    if (this.s) this.t += temp.t;\n    else this.s = temp.t;\n  },\n  valueOf: function() {\n    return this.s;\n  }\n};\n\nvar temp = new Adder;\n\nfunction add(adder, a, b) {\n  var x = adder.s = a + b,\n      bv = x - a,\n      av = x - bv;\n  adder.t = (a - av) + (b - bv);\n}\n","export var epsilon = 1e-6;\nexport var epsilon2 = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var quarterPi = pi / 4;\nexport var tau = pi * 2;\n\nexport var degrees = 180 / pi;\nexport var radians = pi / 180;\n\nexport var abs = Math.abs;\nexport var atan = Math.atan;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var ceil = Math.ceil;\nexport var exp = Math.exp;\nexport var floor = Math.floor;\nexport var log = Math.log;\nexport var pow = Math.pow;\nexport var sin = Math.sin;\nexport var sign = Math.sign || function(x) { return x > 0 ? 1 : x < 0 ? -1 : 0; };\nexport var sqrt = Math.sqrt;\nexport var tan = Math.tan;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x > 1 ? halfPi : x < -1 ? -halfPi : Math.asin(x);\n}\n\nexport function haversin(x) {\n  return (x = sin(x / 2)) * x;\n}\n","export default function noop() {}\n","function streamGeometry(geometry, stream) {\n  if (geometry && streamGeometryType.hasOwnProperty(geometry.type)) {\n    streamGeometryType[geometry.type](geometry, stream);\n  }\n}\n\nvar streamObjectType = {\n  Feature: function(object, stream) {\n    streamGeometry(object.geometry, stream);\n  },\n  FeatureCollection: function(object, stream) {\n    var features = object.features, i = -1, n = features.length;\n    while (++i < n) streamGeometry(features[i].geometry, stream);\n  }\n};\n\nvar streamGeometryType = {\n  Sphere: function(object, stream) {\n    stream.sphere();\n  },\n  Point: function(object, stream) {\n    object = object.coordinates;\n    stream.point(object[0], object[1], object[2]);\n  },\n  MultiPoint: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) object = coordinates[i], stream.point(object[0], object[1], object[2]);\n  },\n  LineString: function(object, stream) {\n    streamLine(object.coordinates, stream, 0);\n  },\n  MultiLineString: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamLine(coordinates[i], stream, 0);\n  },\n  Polygon: function(object, stream) {\n    streamPolygon(object.coordinates, stream);\n  },\n  MultiPolygon: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamPolygon(coordinates[i], stream);\n  },\n  GeometryCollection: function(object, stream) {\n    var geometries = object.geometries, i = -1, n = geometries.length;\n    while (++i < n) streamGeometry(geometries[i], stream);\n  }\n};\n\nfunction streamLine(coordinates, stream, closed) {\n  var i = -1, n = coordinates.length - closed, coordinate;\n  stream.lineStart();\n  while (++i < n) coordinate = coordinates[i], stream.point(coordinate[0], coordinate[1], coordinate[2]);\n  stream.lineEnd();\n}\n\nfunction streamPolygon(coordinates, stream) {\n  var i = -1, n = coordinates.length;\n  stream.polygonStart();\n  while (++i < n) streamLine(coordinates[i], stream, 1);\n  stream.polygonEnd();\n}\n\nexport default function(object, stream) {\n  if (object && streamObjectType.hasOwnProperty(object.type)) {\n    streamObjectType[object.type](object, stream);\n  } else {\n    streamGeometry(object, stream);\n  }\n}\n","import adder from \"./adder\";\nimport {atan2, cos, quarterPi, radians, sin, tau} from \"./math\";\nimport noop from \"./noop\";\nimport stream from \"./stream\";\n\nexport var areaRingSum = adder();\n\nvar areaSum = adder(),\n    lambda00,\n    phi00,\n    lambda0,\n    cosPhi0,\n    sinPhi0;\n\nexport var areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaRingSum.reset();\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    var areaRing = +areaRingSum;\n    areaSum.add(areaRing < 0 ? tau + areaRing : areaRing);\n    this.lineStart = this.lineEnd = this.point = noop;\n  },\n  sphere: function() {\n    areaSum.add(tau);\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaRingEnd() {\n  areaPoint(lambda00, phi00);\n}\n\nfunction areaPointFirst(lambda, phi) {\n  areaStream.point = areaPoint;\n  lambda00 = lambda, phi00 = phi;\n  lambda *= radians, phi *= radians;\n  lambda0 = lambda, cosPhi0 = cos(phi = phi / 2 + quarterPi), sinPhi0 = sin(phi);\n}\n\nfunction areaPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  phi = phi / 2 + quarterPi; // half the angular distance from south pole\n\n  // Spherical excess E for a spherical triangle with vertices: south pole,\n  // previous point, current point.  Uses a formula derived from Cagnoli’s\n  // theorem.  See Todhunter, Spherical Trig. (1871), Sec. 103, Eq. (2).\n  var dLambda = lambda - lambda0,\n      sdLambda = dLambda >= 0 ? 1 : -1,\n      adLambda = sdLambda * dLambda,\n      cosPhi = cos(phi),\n      sinPhi = sin(phi),\n      k = sinPhi0 * sinPhi,\n      u = cosPhi0 * cosPhi + k * cos(adLambda),\n      v = k * sdLambda * sin(adLambda);\n  areaRingSum.add(atan2(v, u));\n\n  // Advance the previous points.\n  lambda0 = lambda, cosPhi0 = cosPhi, sinPhi0 = sinPhi;\n}\n\nexport default function(object) {\n  areaSum.reset();\n  stream(object, areaStream);\n  return areaSum * 2;\n}\n","import {asin, atan2, cos, sin, sqrt} from \"./math\";\n\nexport function spherical(cartesian) {\n  return [atan2(cartesian[1], cartesian[0]), asin(cartesian[2])];\n}\n\nexport function cartesian(spherical) {\n  var lambda = spherical[0], phi = spherical[1], cosPhi = cos(phi);\n  return [cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi)];\n}\n\nexport function cartesianDot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n\nexport function cartesianCross(a, b) {\n  return [a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0]];\n}\n\n// TODO return a\nexport function cartesianAddInPlace(a, b) {\n  a[0] += b[0], a[1] += b[1], a[2] += b[2];\n}\n\nexport function cartesianScale(vector, k) {\n  return [vector[0] * k, vector[1] * k, vector[2] * k];\n}\n\n// TODO return d\nexport function cartesianNormalizeInPlace(d) {\n  var l = sqrt(d[0] * d[0] + d[1] * d[1] + d[2] * d[2]);\n  d[0] /= l, d[1] /= l, d[2] /= l;\n}\n","import adder from \"./adder\";\nimport {areaStream, areaRingSum} from \"./area\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace, spherical} from \"./cartesian\";\nimport {abs, degrees, epsilon, radians} from \"./math\";\nimport stream from \"./stream\";\n\nvar lambda0, phi0, lambda1, phi1, // bounds\n    lambda2, // previous lambda-coordinate\n    lambda00, phi00, // first point\n    p0, // previous 3D point\n    deltaSum = adder(),\n    ranges,\n    range;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: boundsLineStart,\n  lineEnd: boundsLineEnd,\n  polygonStart: function() {\n    boundsStream.point = boundsRingPoint;\n    boundsStream.lineStart = boundsRingStart;\n    boundsStream.lineEnd = boundsRingEnd;\n    deltaSum.reset();\n    areaStream.polygonStart();\n  },\n  polygonEnd: function() {\n    areaStream.polygonEnd();\n    boundsStream.point = boundsPoint;\n    boundsStream.lineStart = boundsLineStart;\n    boundsStream.lineEnd = boundsLineEnd;\n    if (areaRingSum < 0) lambda0 = -(lambda1 = 180), phi0 = -(phi1 = 90);\n    else if (deltaSum > epsilon) phi1 = 90;\n    else if (deltaSum < -epsilon) phi0 = -90;\n    range[0] = lambda0, range[1] = lambda1;\n  },\n  sphere: function() {\n    lambda0 = -(lambda1 = 180), phi0 = -(phi1 = 90);\n  }\n};\n\nfunction boundsPoint(lambda, phi) {\n  ranges.push(range = [lambda0 = lambda, lambda1 = lambda]);\n  if (phi < phi0) phi0 = phi;\n  if (phi > phi1) phi1 = phi;\n}\n\nfunction linePoint(lambda, phi) {\n  var p = cartesian([lambda * radians, phi * radians]);\n  if (p0) {\n    var normal = cartesianCross(p0, p),\n        equatorial = [normal[1], -normal[0], 0],\n        inflection = cartesianCross(equatorial, normal);\n    cartesianNormalizeInPlace(inflection);\n    inflection = spherical(inflection);\n    var delta = lambda - lambda2,\n        sign = delta > 0 ? 1 : -1,\n        lambdai = inflection[0] * degrees * sign,\n        phii,\n        antimeridian = abs(delta) > 180;\n    if (antimeridian ^ (sign * lambda2 < lambdai && lambdai < sign * lambda)) {\n      phii = inflection[1] * degrees;\n      if (phii > phi1) phi1 = phii;\n    } else if (lambdai = (lambdai + 360) % 360 - 180, antimeridian ^ (sign * lambda2 < lambdai && lambdai < sign * lambda)) {\n      phii = -inflection[1] * degrees;\n      if (phii < phi0) phi0 = phii;\n    } else {\n      if (phi < phi0) phi0 = phi;\n      if (phi > phi1) phi1 = phi;\n    }\n    if (antimeridian) {\n      if (lambda < lambda2) {\n        if (angle(lambda0, lambda) > angle(lambda0, lambda1)) lambda1 = lambda;\n      } else {\n        if (angle(lambda, lambda1) > angle(lambda0, lambda1)) lambda0 = lambda;\n      }\n    } else {\n      if (lambda1 >= lambda0) {\n        if (lambda < lambda0) lambda0 = lambda;\n        if (lambda > lambda1) lambda1 = lambda;\n      } else {\n        if (lambda > lambda2) {\n          if (angle(lambda0, lambda) > angle(lambda0, lambda1)) lambda1 = lambda;\n        } else {\n          if (angle(lambda, lambda1) > angle(lambda0, lambda1)) lambda0 = lambda;\n        }\n      }\n    }\n  } else {\n    ranges.push(range = [lambda0 = lambda, lambda1 = lambda]);\n  }\n  if (phi < phi0) phi0 = phi;\n  if (phi > phi1) phi1 = phi;\n  p0 = p, lambda2 = lambda;\n}\n\nfunction boundsLineStart() {\n  boundsStream.point = linePoint;\n}\n\nfunction boundsLineEnd() {\n  range[0] = lambda0, range[1] = lambda1;\n  boundsStream.point = boundsPoint;\n  p0 = null;\n}\n\nfunction boundsRingPoint(lambda, phi) {\n  if (p0) {\n    var delta = lambda - lambda2;\n    deltaSum.add(abs(delta) > 180 ? delta + (delta > 0 ? 360 : -360) : delta);\n  } else {\n    lambda00 = lambda, phi00 = phi;\n  }\n  areaStream.point(lambda, phi);\n  linePoint(lambda, phi);\n}\n\nfunction boundsRingStart() {\n  areaStream.lineStart();\n}\n\nfunction boundsRingEnd() {\n  boundsRingPoint(lambda00, phi00);\n  areaStream.lineEnd();\n  if (abs(deltaSum) > epsilon) lambda0 = -(lambda1 = 180);\n  range[0] = lambda0, range[1] = lambda1;\n  p0 = null;\n}\n\n// Finds the left-right distance between two longitudes.\n// This is almost the same as (lambda1 - lambda0 + 360°) % 360°, except that we want\n// the distance between ±180° to be 360°.\nfunction angle(lambda0, lambda1) {\n  return (lambda1 -= lambda0) < 0 ? lambda1 + 360 : lambda1;\n}\n\nfunction rangeCompare(a, b) {\n  return a[0] - b[0];\n}\n\nfunction rangeContains(range, x) {\n  return range[0] <= range[1] ? range[0] <= x && x <= range[1] : x < range[0] || range[1] < x;\n}\n\nexport default function(feature) {\n  var i, n, a, b, merged, deltaMax, delta;\n\n  phi1 = lambda1 = -(lambda0 = phi0 = Infinity);\n  ranges = [];\n  stream(feature, boundsStream);\n\n  // First, sort ranges by their minimum longitudes.\n  if (n = ranges.length) {\n    ranges.sort(rangeCompare);\n\n    // Then, merge any ranges that overlap.\n    for (i = 1, a = ranges[0], merged = [a]; i < n; ++i) {\n      b = ranges[i];\n      if (rangeContains(a, b[0]) || rangeContains(a, b[1])) {\n        if (angle(a[0], b[1]) > angle(a[0], a[1])) a[1] = b[1];\n        if (angle(b[0], a[1]) > angle(a[0], a[1])) a[0] = b[0];\n      } else {\n        merged.push(a = b);\n      }\n    }\n\n    // Finally, find the largest gap between the merged ranges.\n    // The final bounding box will be the inverse of this gap.\n    for (deltaMax = -Infinity, n = merged.length - 1, i = 0, a = merged[n]; i <= n; a = b, ++i) {\n      b = merged[i];\n      if ((delta = angle(a[1], b[0])) > deltaMax) deltaMax = delta, lambda0 = b[0], lambda1 = a[1];\n    }\n  }\n\n  ranges = range = null;\n\n  return lambda0 === Infinity || phi0 === Infinity\n      ? [[NaN, NaN], [NaN, NaN]]\n      : [[lambda0, phi0], [lambda1, phi1]];\n}\n","import {asin, atan2, cos, degrees, epsilon, epsilon2, radians, sin, sqrt} from \"./math\";\nimport noop from \"./noop\";\nimport stream from \"./stream\";\n\nvar W0, W1,\n    X0, Y0, Z0,\n    X1, Y1, Z1,\n    X2, Y2, Z2,\n    lambda00, phi00, // first point\n    x0, y0, z0; // previous point\n\nvar centroidStream = {\n  sphere: noop,\n  point: centroidPoint,\n  lineStart: centroidLineStart,\n  lineEnd: centroidLineEnd,\n  polygonStart: function() {\n    centroidStream.lineStart = centroidRingStart;\n    centroidStream.lineEnd = centroidRingEnd;\n  },\n  polygonEnd: function() {\n    centroidStream.lineStart = centroidLineStart;\n    centroidStream.lineEnd = centroidLineEnd;\n  }\n};\n\n// Arithmetic mean of Cartesian vectors.\nfunction centroidPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi);\n  centroidPointCartesian(cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi));\n}\n\nfunction centroidPointCartesian(x, y, z) {\n  ++W0;\n  X0 += (x - X0) / W0;\n  Y0 += (y - Y0) / W0;\n  Z0 += (z - Z0) / W0;\n}\n\nfunction centroidLineStart() {\n  centroidStream.point = centroidLinePointFirst;\n}\n\nfunction centroidLinePointFirst(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi);\n  x0 = cosPhi * cos(lambda);\n  y0 = cosPhi * sin(lambda);\n  z0 = sin(phi);\n  centroidStream.point = centroidLinePoint;\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidLinePoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi),\n      x = cosPhi * cos(lambda),\n      y = cosPhi * sin(lambda),\n      z = sin(phi),\n      w = atan2(sqrt((w = y0 * z - z0 * y) * w + (w = z0 * x - x0 * z) * w + (w = x0 * y - y0 * x) * w), x0 * x + y0 * y + z0 * z);\n  W1 += w;\n  X1 += w * (x0 + (x0 = x));\n  Y1 += w * (y0 + (y0 = y));\n  Z1 += w * (z0 + (z0 = z));\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidLineEnd() {\n  centroidStream.point = centroidPoint;\n}\n\n// See J. E. Brock, The Inertia Tensor for a Spherical Triangle,\n// J. Applied Mechanics 42, 239 (1975).\nfunction centroidRingStart() {\n  centroidStream.point = centroidRingPointFirst;\n}\n\nfunction centroidRingEnd() {\n  centroidRingPoint(lambda00, phi00);\n  centroidStream.point = centroidPoint;\n}\n\nfunction centroidRingPointFirst(lambda, phi) {\n  lambda00 = lambda, phi00 = phi;\n  lambda *= radians, phi *= radians;\n  centroidStream.point = centroidRingPoint;\n  var cosPhi = cos(phi);\n  x0 = cosPhi * cos(lambda);\n  y0 = cosPhi * sin(lambda);\n  z0 = sin(phi);\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidRingPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi),\n      x = cosPhi * cos(lambda),\n      y = cosPhi * sin(lambda),\n      z = sin(phi),\n      cx = y0 * z - z0 * y,\n      cy = z0 * x - x0 * z,\n      cz = x0 * y - y0 * x,\n      m = sqrt(cx * cx + cy * cy + cz * cz),\n      w = asin(m), // line weight = angle\n      v = m && -w / m; // area weight multiplier\n  X2 += v * cx;\n  Y2 += v * cy;\n  Z2 += v * cz;\n  W1 += w;\n  X1 += w * (x0 + (x0 = x));\n  Y1 += w * (y0 + (y0 = y));\n  Z1 += w * (z0 + (z0 = z));\n  centroidPointCartesian(x0, y0, z0);\n}\n\nexport default function(object) {\n  W0 = W1 =\n  X0 = Y0 = Z0 =\n  X1 = Y1 = Z1 =\n  X2 = Y2 = Z2 = 0;\n  stream(object, centroidStream);\n\n  var x = X2,\n      y = Y2,\n      z = Z2,\n      m = x * x + y * y + z * z;\n\n  // If the area-weighted ccentroid is undefined, fall back to length-weighted ccentroid.\n  if (m < epsilon2) {\n    x = X1, y = Y1, z = Z1;\n    // If the feature has zero length, fall back to arithmetic mean of point vectors.\n    if (W1 < epsilon) x = X0, y = Y0, z = Z0;\n    m = x * x + y * y + z * z;\n    // If the feature still has an undefined ccentroid, then return.\n    if (m < epsilon2) return [NaN, NaN];\n  }\n\n  return [atan2(y, x) * degrees, asin(z / sqrt(m)) * degrees];\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(a, b) {\n\n  function compose(x, y) {\n    return x = a(x, y), b(x[0], x[1]);\n  }\n\n  if (a.invert && b.invert) compose.invert = function(x, y) {\n    return x = b.invert(x, y), x && a.invert(x[0], x[1]);\n  };\n\n  return compose;\n}\n","import compose from \"./compose\";\nimport {abs, asin, atan2, cos, degrees, pi, radians, sin, tau} from \"./math\";\n\nfunction rotationIdentity(lambda, phi) {\n  return [abs(lambda) > pi ? lambda + Math.round(-lambda / tau) * tau : lambda, phi];\n}\n\nrotationIdentity.invert = rotationIdentity;\n\nexport function rotateRadians(deltaLambda, deltaPhi, deltaGamma) {\n  return (deltaLambda %= tau) ? (deltaPhi || deltaGamma ? compose(rotationLambda(deltaLambda), rotationPhiGamma(deltaPhi, deltaGamma))\n    : rotationLambda(deltaLambda))\n    : (deltaPhi || deltaGamma ? rotationPhiGamma(deltaPhi, deltaGamma)\n    : rotationIdentity);\n}\n\nfunction forwardRotationLambda(deltaLambda) {\n  return function(lambda, phi) {\n    return lambda += deltaLambda, [lambda > pi ? lambda - tau : lambda < -pi ? lambda + tau : lambda, phi];\n  };\n}\n\nfunction rotationLambda(deltaLambda) {\n  var rotation = forwardRotationLambda(deltaLambda);\n  rotation.invert = forwardRotationLambda(-deltaLambda);\n  return rotation;\n}\n\nfunction rotationPhiGamma(deltaPhi, deltaGamma) {\n  var cosDeltaPhi = cos(deltaPhi),\n      sinDeltaPhi = sin(deltaPhi),\n      cosDeltaGamma = cos(deltaGamma),\n      sinDeltaGamma = sin(deltaGamma);\n\n  function rotation(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaPhi + x * sinDeltaPhi;\n    return [\n      atan2(y * cosDeltaGamma - k * sinDeltaGamma, x * cosDeltaPhi - z * sinDeltaPhi),\n      asin(k * cosDeltaGamma + y * sinDeltaGamma)\n    ];\n  }\n\n  rotation.invert = function(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaGamma - y * sinDeltaGamma;\n    return [\n      atan2(y * cosDeltaGamma + z * sinDeltaGamma, x * cosDeltaPhi + k * sinDeltaPhi),\n      asin(k * cosDeltaPhi - x * sinDeltaPhi)\n    ];\n  };\n\n  return rotation;\n}\n\nexport default function(rotate) {\n  rotate = rotateRadians(rotate[0] * radians, rotate[1] * radians, rotate.length > 2 ? rotate[2] * radians : 0);\n\n  function forward(coordinates) {\n    coordinates = rotate(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  }\n\n  forward.invert = function(coordinates) {\n    coordinates = rotate.invert(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  };\n\n  return forward;\n}\n","import {cartesian, cartesianNormalizeInPlace, spherical} from \"./cartesian\";\nimport constant from \"./constant\";\nimport {acos, cos, degrees, epsilon, radians, sin, tau} from \"./math\";\nimport {rotateRadians} from \"./rotation\";\n\n// Generates a circle centered at [0°, 0°], with a given radius and precision.\nexport function circleStream(stream, radius, delta, direction, t0, t1) {\n  if (!delta) return;\n  var cosRadius = cos(radius),\n      sinRadius = sin(radius),\n      step = direction * delta;\n  if (t0 == null) {\n    t0 = radius + direction * tau;\n    t1 = radius - step / 2;\n  } else {\n    t0 = circleRadius(cosRadius, t0);\n    t1 = circleRadius(cosRadius, t1);\n    if (direction > 0 ? t0 < t1 : t0 > t1) t0 += direction * tau;\n  }\n  for (var point, t = t0; direction > 0 ? t > t1 : t < t1; t -= step) {\n    point = spherical([cosRadius, -sinRadius * cos(t), -sinRadius * sin(t)]);\n    stream.point(point[0], point[1]);\n  }\n}\n\n// Returns the signed angle of a cartesian point relative to [cosRadius, 0, 0].\nfunction circleRadius(cosRadius, point) {\n  point = cartesian(point), point[0] -= cosRadius;\n  cartesianNormalizeInPlace(point);\n  var radius = acos(-point[1]);\n  return ((-point[2] < 0 ? -radius : radius) + tau - epsilon) % tau;\n}\n\nexport default function() {\n  var center = constant([0, 0]),\n      radius = constant(90),\n      precision = constant(6),\n      ring,\n      rotate,\n      stream = {point: point};\n\n  function point(x, y) {\n    ring.push(x = rotate(x, y));\n    x[0] *= degrees, x[1] *= degrees;\n  }\n\n  function circle() {\n    var c = center.apply(this, arguments),\n        r = radius.apply(this, arguments) * radians,\n        p = precision.apply(this, arguments) * radians;\n    ring = [];\n    rotate = rotateRadians(-c[0] * radians, -c[1] * radians, 0).invert;\n    circleStream(stream, r, p, 1);\n    c = {type: \"Polygon\", coordinates: [ring]};\n    ring = rotate = null;\n    return c;\n  }\n\n  circle.center = function(_) {\n    return arguments.length ? (center = typeof _ === \"function\" ? _ : constant([+_[0], +_[1]]), circle) : center;\n  };\n\n  circle.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), circle) : radius;\n  };\n\n  circle.precision = function(_) {\n    return arguments.length ? (precision = typeof _ === \"function\" ? _ : constant(+_), circle) : precision;\n  };\n\n  return circle;\n}\n","import noop from \"../noop\";\n\nexport default function() {\n  var lines = [],\n      line;\n  return {\n    point: function(x, y) {\n      line.push([x, y]);\n    },\n    lineStart: function() {\n      lines.push(line = []);\n    },\n    lineEnd: noop,\n    rejoin: function() {\n      if (lines.length > 1) lines.push(lines.pop().concat(lines.shift()));\n    },\n    result: function() {\n      var result = lines;\n      lines = [];\n      line = null;\n      return result;\n    }\n  };\n}\n","import {abs, epsilon} from \"./math\";\n\nexport default function(a, b) {\n  return abs(a[0] - b[0]) < epsilon && abs(a[1] - b[1]) < epsilon;\n}\n","import pointEqual from \"../pointEqual\";\n\nfunction Intersection(point, points, other, entry) {\n  this.x = point;\n  this.z = points;\n  this.o = other; // another intersection\n  this.e = entry; // is an entry?\n  this.v = false; // visited\n  this.n = this.p = null; // next & previous\n}\n\n// A generalized polygon clipping algorithm: given a polygon that has been cut\n// into its visible line segments, and rejoins the segments by interpolating\n// along the clip edge.\nexport default function(segments, compareIntersection, startInside, interpolate, stream) {\n  var subject = [],\n      clip = [],\n      i,\n      n;\n\n  segments.forEach(function(segment) {\n    if ((n = segment.length - 1) <= 0) return;\n    var n, p0 = segment[0], p1 = segment[n], x;\n\n    // If the first and last points of a segment are coincident, then treat as a\n    // closed ring. TODO if all rings are closed, then the winding order of the\n    // exterior ring should be checked.\n    if (pointEqual(p0, p1)) {\n      stream.lineStart();\n      for (i = 0; i < n; ++i) stream.point((p0 = segment[i])[0], p0[1]);\n      stream.lineEnd();\n      return;\n    }\n\n    subject.push(x = new Intersection(p0, segment, null, true));\n    clip.push(x.o = new Intersection(p0, null, x, false));\n    subject.push(x = new Intersection(p1, segment, null, false));\n    clip.push(x.o = new Intersection(p1, null, x, true));\n  });\n\n  if (!subject.length) return;\n\n  clip.sort(compareIntersection);\n  link(subject);\n  link(clip);\n\n  for (i = 0, n = clip.length; i < n; ++i) {\n    clip[i].e = startInside = !startInside;\n  }\n\n  var start = subject[0],\n      points,\n      point;\n\n  while (1) {\n    // Find first unvisited intersection.\n    var current = start,\n        isSubject = true;\n    while (current.v) if ((current = current.n) === start) return;\n    points = current.z;\n    stream.lineStart();\n    do {\n      current.v = current.o.v = true;\n      if (current.e) {\n        if (isSubject) {\n          for (i = 0, n = points.length; i < n; ++i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.n.x, 1, stream);\n        }\n        current = current.n;\n      } else {\n        if (isSubject) {\n          points = current.p.z;\n          for (i = points.length - 1; i >= 0; --i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.p.x, -1, stream);\n        }\n        current = current.p;\n      }\n      current = current.o;\n      points = current.z;\n      isSubject = !isSubject;\n    } while (!current.v);\n    stream.lineEnd();\n  }\n}\n\nfunction link(array) {\n  if (!(n = array.length)) return;\n  var n,\n      i = 0,\n      a = array[0],\n      b;\n  while (++i < n) {\n    a.n = b = array[i];\n    b.p = a;\n    a = b;\n  }\n  a.n = b = array[0];\n  b.p = a;\n}\n","import adder from \"./adder\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace} from \"./cartesian\";\nimport {abs, asin, atan2, cos, epsilon, halfPi, pi, quarterPi, sign, sin, tau} from \"./math\";\n\nvar sum = adder();\n\nfunction longitude(point) {\n  if (abs(point[0]) <= pi)\n    return point[0];\n  else\n    return sign(point[0]) * ((abs(point[0]) + pi) % tau - pi);\n}\n\nexport default function(polygon, point) {\n  var lambda = longitude(point),\n      phi = point[1],\n      sinPhi = sin(phi),\n      normal = [sin(lambda), -cos(lambda), 0],\n      angle = 0,\n      winding = 0;\n\n  sum.reset();\n\n  if (sinPhi === 1) phi = halfPi + epsilon;\n  else if (sinPhi === -1) phi = -halfPi - epsilon;\n\n  for (var i = 0, n = polygon.length; i < n; ++i) {\n    if (!(m = (ring = polygon[i]).length)) continue;\n    var ring,\n        m,\n        point0 = ring[m - 1],\n        lambda0 = longitude(point0),\n        phi0 = point0[1] / 2 + quarterPi,\n        sinPhi0 = sin(phi0),\n        cosPhi0 = cos(phi0);\n\n    for (var j = 0; j < m; ++j, lambda0 = lambda1, sinPhi0 = sinPhi1, cosPhi0 = cosPhi1, point0 = point1) {\n      var point1 = ring[j],\n          lambda1 = longitude(point1),\n          phi1 = point1[1] / 2 + quarterPi,\n          sinPhi1 = sin(phi1),\n          cosPhi1 = cos(phi1),\n          delta = lambda1 - lambda0,\n          sign = delta >= 0 ? 1 : -1,\n          absDelta = sign * delta,\n          antimeridian = absDelta > pi,\n          k = sinPhi0 * sinPhi1;\n\n      sum.add(atan2(k * sign * sin(absDelta), cosPhi0 * cosPhi1 + k * cos(absDelta)));\n      angle += antimeridian ? delta + sign * tau : delta;\n\n      // Are the longitudes either side of the point’s meridian (lambda),\n      // and are the latitudes smaller than the parallel (phi)?\n      if (antimeridian ^ lambda0 >= lambda ^ lambda1 >= lambda) {\n        var arc = cartesianCross(cartesian(point0), cartesian(point1));\n        cartesianNormalizeInPlace(arc);\n        var intersection = cartesianCross(normal, arc);\n        cartesianNormalizeInPlace(intersection);\n        var phiArc = (antimeridian ^ delta >= 0 ? -1 : 1) * asin(intersection[2]);\n        if (phi > phiArc || phi === phiArc && (arc[0] || arc[1])) {\n          winding += antimeridian ^ delta >= 0 ? 1 : -1;\n        }\n      }\n    }\n  }\n\n  // First, determine whether the South pole is inside or outside:\n  //\n  // It is inside if:\n  // * the polygon winds around it in a clockwise direction.\n  // * the polygon does not (cumulatively) wind around it, but has a negative\n  //   (counter-clockwise) area.\n  //\n  // Second, count the (signed) number of times a segment crosses a lambda\n  // from the point to the South pole.  If it is zero, then the point is the\n  // same side as the South pole.\n\n  return (angle < -epsilon || angle < epsilon && sum < -epsilon) ^ (winding & 1);\n}\n","import clipBuffer from \"./buffer\";\nimport clipRejoin from \"./rejoin\";\nimport {epsilon, halfPi} from \"../math\";\nimport polygonContains from \"../polygonContains\";\nimport {merge} from \"d3-array\";\n\nexport default function(pointVisible, clipLine, interpolate, start) {\n  return function(sink) {\n    var line = clipLine(sink),\n        ringBuffer = clipBuffer(),\n        ringSink = clipLine(ringBuffer),\n        polygonStarted = false,\n        polygon,\n        segments,\n        ring;\n\n    var clip = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() {\n        clip.point = pointRing;\n        clip.lineStart = ringStart;\n        clip.lineEnd = ringEnd;\n        segments = [];\n        polygon = [];\n      },\n      polygonEnd: function() {\n        clip.point = point;\n        clip.lineStart = lineStart;\n        clip.lineEnd = lineEnd;\n        segments = merge(segments);\n        var startInside = polygonContains(polygon, start);\n        if (segments.length) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          clipRejoin(segments, compareIntersection, startInside, interpolate, sink);\n        } else if (startInside) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          interpolate(null, null, 1, sink);\n          sink.lineEnd();\n        }\n        if (polygonStarted) sink.polygonEnd(), polygonStarted = false;\n        segments = polygon = null;\n      },\n      sphere: function() {\n        sink.polygonStart();\n        sink.lineStart();\n        interpolate(null, null, 1, sink);\n        sink.lineEnd();\n        sink.polygonEnd();\n      }\n    };\n\n    function point(lambda, phi) {\n      if (pointVisible(lambda, phi)) sink.point(lambda, phi);\n    }\n\n    function pointLine(lambda, phi) {\n      line.point(lambda, phi);\n    }\n\n    function lineStart() {\n      clip.point = pointLine;\n      line.lineStart();\n    }\n\n    function lineEnd() {\n      clip.point = point;\n      line.lineEnd();\n    }\n\n    function pointRing(lambda, phi) {\n      ring.push([lambda, phi]);\n      ringSink.point(lambda, phi);\n    }\n\n    function ringStart() {\n      ringSink.lineStart();\n      ring = [];\n    }\n\n    function ringEnd() {\n      pointRing(ring[0][0], ring[0][1]);\n      ringSink.lineEnd();\n\n      var clean = ringSink.clean(),\n          ringSegments = ringBuffer.result(),\n          i, n = ringSegments.length, m,\n          segment,\n          point;\n\n      ring.pop();\n      polygon.push(ring);\n      ring = null;\n\n      if (!n) return;\n\n      // No intersections.\n      if (clean & 1) {\n        segment = ringSegments[0];\n        if ((m = segment.length - 1) > 0) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          for (i = 0; i < m; ++i) sink.point((point = segment[i])[0], point[1]);\n          sink.lineEnd();\n        }\n        return;\n      }\n\n      // Rejoin connected segments.\n      // TODO reuse ringBuffer.rejoin()?\n      if (n > 1 && clean & 2) ringSegments.push(ringSegments.pop().concat(ringSegments.shift()));\n\n      segments.push(ringSegments.filter(validSegment));\n    }\n\n    return clip;\n  };\n}\n\nfunction validSegment(segment) {\n  return segment.length > 1;\n}\n\n// Intersections are sorted along the clip edge. For both antimeridian cutting\n// and circle clipping, the same comparison is used.\nfunction compareIntersection(a, b) {\n  return ((a = a.x)[0] < 0 ? a[1] - halfPi - epsilon : halfPi - a[1])\n       - ((b = b.x)[0] < 0 ? b[1] - halfPi - epsilon : halfPi - b[1]);\n}\n","import clip from \"./index\";\nimport {abs, atan, cos, epsilon, halfPi, pi, sin} from \"../math\";\n\nexport default clip(\n  function() { return true; },\n  clipAntimeridianLine,\n  clipAntimeridianInterpolate,\n  [-pi, -halfPi]\n);\n\n// Takes a line and cuts into visible segments. Return values: 0 - there were\n// intersections or the line was empty; 1 - no intersections; 2 - there were\n// intersections, and the first and last segments should be rejoined.\nfunction clipAntimeridianLine(stream) {\n  var lambda0 = NaN,\n      phi0 = NaN,\n      sign0 = NaN,\n      clean; // no intersections\n\n  return {\n    lineStart: function() {\n      stream.lineStart();\n      clean = 1;\n    },\n    point: function(lambda1, phi1) {\n      var sign1 = lambda1 > 0 ? pi : -pi,\n          delta = abs(lambda1 - lambda0);\n      if (abs(delta - pi) < epsilon) { // line crosses a pole\n        stream.point(lambda0, phi0 = (phi0 + phi1) / 2 > 0 ? halfPi : -halfPi);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        stream.point(lambda1, phi0);\n        clean = 0;\n      } else if (sign0 !== sign1 && delta >= pi) { // line crosses antimeridian\n        if (abs(lambda0 - sign0) < epsilon) lambda0 -= sign0 * epsilon; // handle degeneracies\n        if (abs(lambda1 - sign1) < epsilon) lambda1 -= sign1 * epsilon;\n        phi0 = clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        clean = 0;\n      }\n      stream.point(lambda0 = lambda1, phi0 = phi1);\n      sign0 = sign1;\n    },\n    lineEnd: function() {\n      stream.lineEnd();\n      lambda0 = phi0 = NaN;\n    },\n    clean: function() {\n      return 2 - clean; // if intersections, rejoin first and last segments\n    }\n  };\n}\n\nfunction clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1) {\n  var cosPhi0,\n      cosPhi1,\n      sinLambda0Lambda1 = sin(lambda0 - lambda1);\n  return abs(sinLambda0Lambda1) > epsilon\n      ? atan((sin(phi0) * (cosPhi1 = cos(phi1)) * sin(lambda1)\n          - sin(phi1) * (cosPhi0 = cos(phi0)) * sin(lambda0))\n          / (cosPhi0 * cosPhi1 * sinLambda0Lambda1))\n      : (phi0 + phi1) / 2;\n}\n\nfunction clipAntimeridianInterpolate(from, to, direction, stream) {\n  var phi;\n  if (from == null) {\n    phi = direction * halfPi;\n    stream.point(-pi, phi);\n    stream.point(0, phi);\n    stream.point(pi, phi);\n    stream.point(pi, 0);\n    stream.point(pi, -phi);\n    stream.point(0, -phi);\n    stream.point(-pi, -phi);\n    stream.point(-pi, 0);\n    stream.point(-pi, phi);\n  } else if (abs(from[0] - to[0]) > epsilon) {\n    var lambda = from[0] < to[0] ? pi : -pi;\n    phi = direction * lambda / 2;\n    stream.point(-lambda, phi);\n    stream.point(0, phi);\n    stream.point(lambda, phi);\n  } else {\n    stream.point(to[0], to[1]);\n  }\n}\n","import {cartesian, cartesianAddInPlace, cartesianCross, cartesianDot, cartesianScale, spherical} from \"../cartesian\";\nimport {circleStream} from \"../circle\";\nimport {abs, cos, epsilon, pi, radians, sqrt} from \"../math\";\nimport pointEqual from \"../pointEqual\";\nimport clip from \"./index\";\n\nexport default function(radius) {\n  var cr = cos(radius),\n      delta = 6 * radians,\n      smallRadius = cr > 0,\n      notHemisphere = abs(cr) > epsilon; // TODO optimise for this common case\n\n  function interpolate(from, to, direction, stream) {\n    circleStream(stream, radius, delta, direction, from, to);\n  }\n\n  function visible(lambda, phi) {\n    return cos(lambda) * cos(phi) > cr;\n  }\n\n  // Takes a line and cuts into visible segments. Return values used for polygon\n  // clipping: 0 - there were intersections or the line was empty; 1 - no\n  // intersections 2 - there were intersections, and the first and last segments\n  // should be rejoined.\n  function clipLine(stream) {\n    var point0, // previous point\n        c0, // code for previous point\n        v0, // visibility of previous point\n        v00, // visibility of first point\n        clean; // no intersections\n    return {\n      lineStart: function() {\n        v00 = v0 = false;\n        clean = 1;\n      },\n      point: function(lambda, phi) {\n        var point1 = [lambda, phi],\n            point2,\n            v = visible(lambda, phi),\n            c = smallRadius\n              ? v ? 0 : code(lambda, phi)\n              : v ? code(lambda + (lambda < 0 ? pi : -pi), phi) : 0;\n        if (!point0 && (v00 = v0 = v)) stream.lineStart();\n        // Handle degeneracies.\n        // TODO ignore if not clipping polygons.\n        if (v !== v0) {\n          point2 = intersect(point0, point1);\n          if (!point2 || pointEqual(point0, point2) || pointEqual(point1, point2)) {\n            point1[0] += epsilon;\n            point1[1] += epsilon;\n            v = visible(point1[0], point1[1]);\n          }\n        }\n        if (v !== v0) {\n          clean = 0;\n          if (v) {\n            // outside going in\n            stream.lineStart();\n            point2 = intersect(point1, point0);\n            stream.point(point2[0], point2[1]);\n          } else {\n            // inside going out\n            point2 = intersect(point0, point1);\n            stream.point(point2[0], point2[1]);\n            stream.lineEnd();\n          }\n          point0 = point2;\n        } else if (notHemisphere && point0 && smallRadius ^ v) {\n          var t;\n          // If the codes for two points are different, or are both zero,\n          // and there this segment intersects with the small circle.\n          if (!(c & c0) && (t = intersect(point1, point0, true))) {\n            clean = 0;\n            if (smallRadius) {\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1]);\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n            } else {\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1]);\n            }\n          }\n        }\n        if (v && (!point0 || !pointEqual(point0, point1))) {\n          stream.point(point1[0], point1[1]);\n        }\n        point0 = point1, v0 = v, c0 = c;\n      },\n      lineEnd: function() {\n        if (v0) stream.lineEnd();\n        point0 = null;\n      },\n      // Rejoin first and last segments if there were intersections and the first\n      // and last points were visible.\n      clean: function() {\n        return clean | ((v00 && v0) << 1);\n      }\n    };\n  }\n\n  // Intersects the great circle between a and b with the clip circle.\n  function intersect(a, b, two) {\n    var pa = cartesian(a),\n        pb = cartesian(b);\n\n    // We have two planes, n1.p = d1 and n2.p = d2.\n    // Find intersection line p(t) = c1 n1 + c2 n2 + t (n1 ⨯ n2).\n    var n1 = [1, 0, 0], // normal\n        n2 = cartesianCross(pa, pb),\n        n2n2 = cartesianDot(n2, n2),\n        n1n2 = n2[0], // cartesianDot(n1, n2),\n        determinant = n2n2 - n1n2 * n1n2;\n\n    // Two polar points.\n    if (!determinant) return !two && a;\n\n    var c1 =  cr * n2n2 / determinant,\n        c2 = -cr * n1n2 / determinant,\n        n1xn2 = cartesianCross(n1, n2),\n        A = cartesianScale(n1, c1),\n        B = cartesianScale(n2, c2);\n    cartesianAddInPlace(A, B);\n\n    // Solve |p(t)|^2 = 1.\n    var u = n1xn2,\n        w = cartesianDot(A, u),\n        uu = cartesianDot(u, u),\n        t2 = w * w - uu * (cartesianDot(A, A) - 1);\n\n    if (t2 < 0) return;\n\n    var t = sqrt(t2),\n        q = cartesianScale(u, (-w - t) / uu);\n    cartesianAddInPlace(q, A);\n    q = spherical(q);\n\n    if (!two) return q;\n\n    // Two intersection points.\n    var lambda0 = a[0],\n        lambda1 = b[0],\n        phi0 = a[1],\n        phi1 = b[1],\n        z;\n\n    if (lambda1 < lambda0) z = lambda0, lambda0 = lambda1, lambda1 = z;\n\n    var delta = lambda1 - lambda0,\n        polar = abs(delta - pi) < epsilon,\n        meridian = polar || delta < epsilon;\n\n    if (!polar && phi1 < phi0) z = phi0, phi0 = phi1, phi1 = z;\n\n    // Check that the first point is between a and b.\n    if (meridian\n        ? polar\n          ? phi0 + phi1 > 0 ^ q[1] < (abs(q[0] - lambda0) < epsilon ? phi0 : phi1)\n          : phi0 <= q[1] && q[1] <= phi1\n        : delta > pi ^ (lambda0 <= q[0] && q[0] <= lambda1)) {\n      var q1 = cartesianScale(u, (-w + t) / uu);\n      cartesianAddInPlace(q1, A);\n      return [q, spherical(q1)];\n    }\n  }\n\n  // Generates a 4-bit vector representing the location of a point relative to\n  // the small circle's bounding box.\n  function code(lambda, phi) {\n    var r = smallRadius ? radius : pi - radius,\n        code = 0;\n    if (lambda < -r) code |= 1; // left\n    else if (lambda > r) code |= 2; // right\n    if (phi < -r) code |= 4; // below\n    else if (phi > r) code |= 8; // above\n    return code;\n  }\n\n  return clip(visible, clipLine, interpolate, smallRadius ? [0, -radius] : [-pi, radius - pi]);\n}\n","export default function(a, b, x0, y0, x1, y1) {\n  var ax = a[0],\n      ay = a[1],\n      bx = b[0],\n      by = b[1],\n      t0 = 0,\n      t1 = 1,\n      dx = bx - ax,\n      dy = by - ay,\n      r;\n\n  r = x0 - ax;\n  if (!dx && r > 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dx > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = x1 - ax;\n  if (!dx && r < 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dx > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  r = y0 - ay;\n  if (!dy && r > 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dy > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = y1 - ay;\n  if (!dy && r < 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dy > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  if (t0 > 0) a[0] = ax + t0 * dx, a[1] = ay + t0 * dy;\n  if (t1 < 1) b[0] = ax + t1 * dx, b[1] = ay + t1 * dy;\n  return true;\n}\n","import {abs, epsilon} from \"../math\";\nimport clipBuffer from \"./buffer\";\nimport clipLine from \"./line\";\nimport clipRejoin from \"./rejoin\";\nimport {merge} from \"d3-array\";\n\nvar clipMax = 1e9, clipMin = -clipMax;\n\n// TODO Use d3-polygon’s polygonContains here for the ring check?\n// TODO Eliminate duplicate buffering in clipBuffer and polygon.push?\n\nexport default function clipRectangle(x0, y0, x1, y1) {\n\n  function visible(x, y) {\n    return x0 <= x && x <= x1 && y0 <= y && y <= y1;\n  }\n\n  function interpolate(from, to, direction, stream) {\n    var a = 0, a1 = 0;\n    if (from == null\n        || (a = corner(from, direction)) !== (a1 = corner(to, direction))\n        || comparePoint(from, to) < 0 ^ direction > 0) {\n      do stream.point(a === 0 || a === 3 ? x0 : x1, a > 1 ? y1 : y0);\n      while ((a = (a + direction + 4) % 4) !== a1);\n    } else {\n      stream.point(to[0], to[1]);\n    }\n  }\n\n  function corner(p, direction) {\n    return abs(p[0] - x0) < epsilon ? direction > 0 ? 0 : 3\n        : abs(p[0] - x1) < epsilon ? direction > 0 ? 2 : 1\n        : abs(p[1] - y0) < epsilon ? direction > 0 ? 1 : 0\n        : direction > 0 ? 3 : 2; // abs(p[1] - y1) < epsilon\n  }\n\n  function compareIntersection(a, b) {\n    return comparePoint(a.x, b.x);\n  }\n\n  function comparePoint(a, b) {\n    var ca = corner(a, 1),\n        cb = corner(b, 1);\n    return ca !== cb ? ca - cb\n        : ca === 0 ? b[1] - a[1]\n        : ca === 1 ? a[0] - b[0]\n        : ca === 2 ? a[1] - b[1]\n        : b[0] - a[0];\n  }\n\n  return function(stream) {\n    var activeStream = stream,\n        bufferStream = clipBuffer(),\n        segments,\n        polygon,\n        ring,\n        x__, y__, v__, // first point\n        x_, y_, v_, // previous point\n        first,\n        clean;\n\n    var clipStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: polygonStart,\n      polygonEnd: polygonEnd\n    };\n\n    function point(x, y) {\n      if (visible(x, y)) activeStream.point(x, y);\n    }\n\n    function polygonInside() {\n      var winding = 0;\n\n      for (var i = 0, n = polygon.length; i < n; ++i) {\n        for (var ring = polygon[i], j = 1, m = ring.length, point = ring[0], a0, a1, b0 = point[0], b1 = point[1]; j < m; ++j) {\n          a0 = b0, a1 = b1, point = ring[j], b0 = point[0], b1 = point[1];\n          if (a1 <= y1) { if (b1 > y1 && (b0 - a0) * (y1 - a1) > (b1 - a1) * (x0 - a0)) ++winding; }\n          else { if (b1 <= y1 && (b0 - a0) * (y1 - a1) < (b1 - a1) * (x0 - a0)) --winding; }\n        }\n      }\n\n      return winding;\n    }\n\n    // Buffer geometry within a polygon and then clip it en masse.\n    function polygonStart() {\n      activeStream = bufferStream, segments = [], polygon = [], clean = true;\n    }\n\n    function polygonEnd() {\n      var startInside = polygonInside(),\n          cleanInside = clean && startInside,\n          visible = (segments = merge(segments)).length;\n      if (cleanInside || visible) {\n        stream.polygonStart();\n        if (cleanInside) {\n          stream.lineStart();\n          interpolate(null, null, 1, stream);\n          stream.lineEnd();\n        }\n        if (visible) {\n          clipRejoin(segments, compareIntersection, startInside, interpolate, stream);\n        }\n        stream.polygonEnd();\n      }\n      activeStream = stream, segments = polygon = ring = null;\n    }\n\n    function lineStart() {\n      clipStream.point = linePoint;\n      if (polygon) polygon.push(ring = []);\n      first = true;\n      v_ = false;\n      x_ = y_ = NaN;\n    }\n\n    // TODO rather than special-case polygons, simply handle them separately.\n    // Ideally, coincident intersection points should be jittered to avoid\n    // clipping issues.\n    function lineEnd() {\n      if (segments) {\n        linePoint(x__, y__);\n        if (v__ && v_) bufferStream.rejoin();\n        segments.push(bufferStream.result());\n      }\n      clipStream.point = point;\n      if (v_) activeStream.lineEnd();\n    }\n\n    function linePoint(x, y) {\n      var v = visible(x, y);\n      if (polygon) ring.push([x, y]);\n      if (first) {\n        x__ = x, y__ = y, v__ = v;\n        first = false;\n        if (v) {\n          activeStream.lineStart();\n          activeStream.point(x, y);\n        }\n      } else {\n        if (v && v_) activeStream.point(x, y);\n        else {\n          var a = [x_ = Math.max(clipMin, Math.min(clipMax, x_)), y_ = Math.max(clipMin, Math.min(clipMax, y_))],\n              b = [x = Math.max(clipMin, Math.min(clipMax, x)), y = Math.max(clipMin, Math.min(clipMax, y))];\n          if (clipLine(a, b, x0, y0, x1, y1)) {\n            if (!v_) {\n              activeStream.lineStart();\n              activeStream.point(a[0], a[1]);\n            }\n            activeStream.point(b[0], b[1]);\n            if (!v) activeStream.lineEnd();\n            clean = false;\n          } else if (v) {\n            activeStream.lineStart();\n            activeStream.point(x, y);\n            clean = false;\n          }\n        }\n      }\n      x_ = x, y_ = y, v_ = v;\n    }\n\n    return clipStream;\n  };\n}\n","import clipRectangle from \"./rectangle\";\n\nexport default function() {\n  var x0 = 0,\n      y0 = 0,\n      x1 = 960,\n      y1 = 500,\n      cache,\n      cacheStream,\n      clip;\n\n  return clip = {\n    stream: function(stream) {\n      return cache && cacheStream === stream ? cache : cache = clipRectangle(x0, y0, x1, y1)(cacheStream = stream);\n    },\n    extent: function(_) {\n      return arguments.length ? (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1], cache = cacheStream = null, clip) : [[x0, y0], [x1, y1]];\n    }\n  };\n}\n","import adder from \"./adder\";\nimport {abs, atan2, cos, radians, sin, sqrt} from \"./math\";\nimport noop from \"./noop\";\nimport stream from \"./stream\";\n\nvar lengthSum = adder(),\n    lambda0,\n    sinPhi0,\n    cosPhi0;\n\nvar lengthStream = {\n  sphere: noop,\n  point: noop,\n  lineStart: lengthLineStart,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop\n};\n\nfunction lengthLineStart() {\n  lengthStream.point = lengthPointFirst;\n  lengthStream.lineEnd = lengthLineEnd;\n}\n\nfunction lengthLineEnd() {\n  lengthStream.point = lengthStream.lineEnd = noop;\n}\n\nfunction lengthPointFirst(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  lambda0 = lambda, sinPhi0 = sin(phi), cosPhi0 = cos(phi);\n  lengthStream.point = lengthPoint;\n}\n\nfunction lengthPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var sinPhi = sin(phi),\n      cosPhi = cos(phi),\n      delta = abs(lambda - lambda0),\n      cosDelta = cos(delta),\n      sinDelta = sin(delta),\n      x = cosPhi * sinDelta,\n      y = cosPhi0 * sinPhi - sinPhi0 * cosPhi * cosDelta,\n      z = sinPhi0 * sinPhi + cosPhi0 * cosPhi * cosDelta;\n  lengthSum.add(atan2(sqrt(x * x + y * y), z));\n  lambda0 = lambda, sinPhi0 = sinPhi, cosPhi0 = cosPhi;\n}\n\nexport default function(object) {\n  lengthSum.reset();\n  stream(object, lengthStream);\n  return +lengthSum;\n}\n","import length from \"./length\";\n\nvar coordinates = [null, null],\n    object = {type: \"LineString\", coordinates: coordinates};\n\nexport default function(a, b) {\n  coordinates[0] = a;\n  coordinates[1] = b;\n  return length(object);\n}\n","import {default as polygonContains} from \"./polygonContains\";\nimport {default as distance} from \"./distance\";\nimport {epsilon2, radians} from \"./math\";\n\nvar containsObjectType = {\n  Feature: function(object, point) {\n    return containsGeometry(object.geometry, point);\n  },\n  FeatureCollection: function(object, point) {\n    var features = object.features, i = -1, n = features.length;\n    while (++i < n) if (containsGeometry(features[i].geometry, point)) return true;\n    return false;\n  }\n};\n\nvar containsGeometryType = {\n  Sphere: function() {\n    return true;\n  },\n  Point: function(object, point) {\n    return containsPoint(object.coordinates, point);\n  },\n  MultiPoint: function(object, point) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) if (containsPoint(coordinates[i], point)) return true;\n    return false;\n  },\n  LineString: function(object, point) {\n    return containsLine(object.coordinates, point);\n  },\n  MultiLineString: function(object, point) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) if (containsLine(coordinates[i], point)) return true;\n    return false;\n  },\n  Polygon: function(object, point) {\n    return containsPolygon(object.coordinates, point);\n  },\n  MultiPolygon: function(object, point) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) if (containsPolygon(coordinates[i], point)) return true;\n    return false;\n  },\n  GeometryCollection: function(object, point) {\n    var geometries = object.geometries, i = -1, n = geometries.length;\n    while (++i < n) if (containsGeometry(geometries[i], point)) return true;\n    return false;\n  }\n};\n\nfunction containsGeometry(geometry, point) {\n  return geometry && containsGeometryType.hasOwnProperty(geometry.type)\n      ? containsGeometryType[geometry.type](geometry, point)\n      : false;\n}\n\nfunction containsPoint(coordinates, point) {\n  return distance(coordinates, point) === 0;\n}\n\nfunction containsLine(coordinates, point) {\n  var ao, bo, ab;\n  for (var i = 0, n = coordinates.length; i < n; i++) {\n    bo = distance(coordinates[i], point);\n    if (bo === 0) return true;\n    if (i > 0) {\n      ab = distance(coordinates[i], coordinates[i - 1]);\n      if (\n        ab > 0 &&\n        ao <= ab &&\n        bo <= ab &&\n        (ao + bo - ab) * (1 - Math.pow((ao - bo) / ab, 2)) < epsilon2 * ab\n      )\n        return true;\n    }\n    ao = bo;\n  }\n  return false;\n}\n\nfunction containsPolygon(coordinates, point) {\n  return !!polygonContains(coordinates.map(ringRadians), pointRadians(point));\n}\n\nfunction ringRadians(ring) {\n  return ring = ring.map(pointRadians), ring.pop(), ring;\n}\n\nfunction pointRadians(point) {\n  return [point[0] * radians, point[1] * radians];\n}\n\nexport default function(object, point) {\n  return (object && containsObjectType.hasOwnProperty(object.type)\n      ? containsObjectType[object.type]\n      : containsGeometry)(object, point);\n}\n","import {range} from \"d3-array\";\nimport {abs, ceil, epsilon} from \"./math\";\n\nfunction graticuleX(y0, y1, dy) {\n  var y = range(y0, y1 - epsilon, dy).concat(y1);\n  return function(x) { return y.map(function(y) { return [x, y]; }); };\n}\n\nfunction graticuleY(x0, x1, dx) {\n  var x = range(x0, x1 - epsilon, dx).concat(x1);\n  return function(y) { return x.map(function(x) { return [x, y]; }); };\n}\n\nexport default function graticule() {\n  var x1, x0, X1, X0,\n      y1, y0, Y1, Y0,\n      dx = 10, dy = dx, DX = 90, DY = 360,\n      x, y, X, Y,\n      precision = 2.5;\n\n  function graticule() {\n    return {type: \"MultiLineString\", coordinates: lines()};\n  }\n\n  function lines() {\n    return range(ceil(X0 / DX) * DX, X1, DX).map(X)\n        .concat(range(ceil(Y0 / DY) * DY, Y1, DY).map(Y))\n        .concat(range(ceil(x0 / dx) * dx, x1, dx).filter(function(x) { return abs(x % DX) > epsilon; }).map(x))\n        .concat(range(ceil(y0 / dy) * dy, y1, dy).filter(function(y) { return abs(y % DY) > epsilon; }).map(y));\n  }\n\n  graticule.lines = function() {\n    return lines().map(function(coordinates) { return {type: \"LineString\", coordinates: coordinates}; });\n  };\n\n  graticule.outline = function() {\n    return {\n      type: \"Polygon\",\n      coordinates: [\n        X(X0).concat(\n        Y(Y1).slice(1),\n        X(X1).reverse().slice(1),\n        Y(Y0).reverse().slice(1))\n      ]\n    };\n  };\n\n  graticule.extent = function(_) {\n    if (!arguments.length) return graticule.extentMinor();\n    return graticule.extentMajor(_).extentMinor(_);\n  };\n\n  graticule.extentMajor = function(_) {\n    if (!arguments.length) return [[X0, Y0], [X1, Y1]];\n    X0 = +_[0][0], X1 = +_[1][0];\n    Y0 = +_[0][1], Y1 = +_[1][1];\n    if (X0 > X1) _ = X0, X0 = X1, X1 = _;\n    if (Y0 > Y1) _ = Y0, Y0 = Y1, Y1 = _;\n    return graticule.precision(precision);\n  };\n\n  graticule.extentMinor = function(_) {\n    if (!arguments.length) return [[x0, y0], [x1, y1]];\n    x0 = +_[0][0], x1 = +_[1][0];\n    y0 = +_[0][1], y1 = +_[1][1];\n    if (x0 > x1) _ = x0, x0 = x1, x1 = _;\n    if (y0 > y1) _ = y0, y0 = y1, y1 = _;\n    return graticule.precision(precision);\n  };\n\n  graticule.step = function(_) {\n    if (!arguments.length) return graticule.stepMinor();\n    return graticule.stepMajor(_).stepMinor(_);\n  };\n\n  graticule.stepMajor = function(_) {\n    if (!arguments.length) return [DX, DY];\n    DX = +_[0], DY = +_[1];\n    return graticule;\n  };\n\n  graticule.stepMinor = function(_) {\n    if (!arguments.length) return [dx, dy];\n    dx = +_[0], dy = +_[1];\n    return graticule;\n  };\n\n  graticule.precision = function(_) {\n    if (!arguments.length) return precision;\n    precision = +_;\n    x = graticuleX(y0, y1, 90);\n    y = graticuleY(x0, x1, precision);\n    X = graticuleX(Y0, Y1, 90);\n    Y = graticuleY(X0, X1, precision);\n    return graticule;\n  };\n\n  return graticule\n      .extentMajor([[-180, -90 + epsilon], [180, 90 - epsilon]])\n      .extentMinor([[-180, -80 - epsilon], [180, 80 + epsilon]]);\n}\n\nexport function graticule10() {\n  return graticule()();\n}\n","import {asin, atan2, cos, degrees, haversin, radians, sin, sqrt} from \"./math\";\n\nexport default function(a, b) {\n  var x0 = a[0] * radians,\n      y0 = a[1] * radians,\n      x1 = b[0] * radians,\n      y1 = b[1] * radians,\n      cy0 = cos(y0),\n      sy0 = sin(y0),\n      cy1 = cos(y1),\n      sy1 = sin(y1),\n      kx0 = cy0 * cos(x0),\n      ky0 = cy0 * sin(x0),\n      kx1 = cy1 * cos(x1),\n      ky1 = cy1 * sin(x1),\n      d = 2 * asin(sqrt(haversin(y1 - y0) + cy0 * cy1 * haversin(x1 - x0))),\n      k = sin(d);\n\n  var interpolate = d ? function(t) {\n    var B = sin(t *= d) / k,\n        A = sin(d - t) / k,\n        x = A * kx0 + B * kx1,\n        y = A * ky0 + B * ky1,\n        z = A * sy0 + B * sy1;\n    return [\n      atan2(y, x) * degrees,\n      atan2(z, sqrt(x * x + y * y)) * degrees\n    ];\n  } : function() {\n    return [x0 * degrees, y0 * degrees];\n  };\n\n  interpolate.distance = d;\n\n  return interpolate;\n}\n","export default function(x) {\n  return x;\n}\n","import adder from \"../adder\";\nimport {abs} from \"../math\";\nimport noop from \"../noop\";\n\nvar areaSum = adder(),\n    areaRingSum = adder(),\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    areaStream.lineStart = areaStream.lineEnd = areaStream.point = noop;\n    areaSum.add(abs(areaRingSum));\n    areaRingSum.reset();\n  },\n  result: function() {\n    var area = areaSum / 2;\n    areaSum.reset();\n    return area;\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaPointFirst(x, y) {\n  areaStream.point = areaPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction areaPoint(x, y) {\n  areaRingSum.add(y0 * x - x0 * y);\n  x0 = x, y0 = y;\n}\n\nfunction areaRingEnd() {\n  areaPoint(x00, y00);\n}\n\nexport default areaStream;\n","import noop from \"../noop\";\n\nvar x0 = Infinity,\n    y0 = x0,\n    x1 = -x0,\n    y1 = x1;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop,\n  result: function() {\n    var bounds = [[x0, y0], [x1, y1]];\n    x1 = y1 = -(y0 = x0 = Infinity);\n    return bounds;\n  }\n};\n\nfunction boundsPoint(x, y) {\n  if (x < x0) x0 = x;\n  if (x > x1) x1 = x;\n  if (y < y0) y0 = y;\n  if (y > y1) y1 = y;\n}\n\nexport default boundsStream;\n","import {sqrt} from \"../math\";\n\n// TODO Enforce positive area for exterior, negative area for interior?\n\nvar X0 = 0,\n    Y0 = 0,\n    Z0 = 0,\n    X1 = 0,\n    Y1 = 0,\n    Z1 = 0,\n    X2 = 0,\n    Y2 = 0,\n    Z2 = 0,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar centroidStream = {\n  point: centroidPoint,\n  lineStart: centroidLineStart,\n  lineEnd: centroidLineEnd,\n  polygonStart: function() {\n    centroidStream.lineStart = centroidRingStart;\n    centroidStream.lineEnd = centroidRingEnd;\n  },\n  polygonEnd: function() {\n    centroidStream.point = centroidPoint;\n    centroidStream.lineStart = centroidLineStart;\n    centroidStream.lineEnd = centroidLineEnd;\n  },\n  result: function() {\n    var centroid = Z2 ? [X2 / Z2, Y2 / Z2]\n        : Z1 ? [X1 / Z1, Y1 / Z1]\n        : Z0 ? [X0 / Z0, Y0 / Z0]\n        : [NaN, NaN];\n    X0 = Y0 = Z0 =\n    X1 = Y1 = Z1 =\n    X2 = Y2 = Z2 = 0;\n    return centroid;\n  }\n};\n\nfunction centroidPoint(x, y) {\n  X0 += x;\n  Y0 += y;\n  ++Z0;\n}\n\nfunction centroidLineStart() {\n  centroidStream.point = centroidPointFirstLine;\n}\n\nfunction centroidPointFirstLine(x, y) {\n  centroidStream.point = centroidPointLine;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidPointLine(x, y) {\n  var dx = x - x0, dy = y - y0, z = sqrt(dx * dx + dy * dy);\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidLineEnd() {\n  centroidStream.point = centroidPoint;\n}\n\nfunction centroidRingStart() {\n  centroidStream.point = centroidPointFirstRing;\n}\n\nfunction centroidRingEnd() {\n  centroidPointRing(x00, y00);\n}\n\nfunction centroidPointFirstRing(x, y) {\n  centroidStream.point = centroidPointRing;\n  centroidPoint(x00 = x0 = x, y00 = y0 = y);\n}\n\nfunction centroidPointRing(x, y) {\n  var dx = x - x0,\n      dy = y - y0,\n      z = sqrt(dx * dx + dy * dy);\n\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n\n  z = y0 * x - x0 * y;\n  X2 += z * (x0 + x);\n  Y2 += z * (y0 + y);\n  Z2 += z * 3;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nexport default centroidStream;\n","import {tau} from \"../math\";\nimport noop from \"../noop\";\n\nexport default function PathContext(context) {\n  this._context = context;\n}\n\nPathContext.prototype = {\n  _radius: 4.5,\n  pointRadius: function(_) {\n    return this._radius = _, this;\n  },\n  polygonStart: function() {\n    this._line = 0;\n  },\n  polygonEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line === 0) this._context.closePath();\n    this._point = NaN;\n  },\n  point: function(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._context.moveTo(x, y);\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._context.lineTo(x, y);\n        break;\n      }\n      default: {\n        this._context.moveTo(x + this._radius, y);\n        this._context.arc(x, y, this._radius, 0, tau);\n        break;\n      }\n    }\n  },\n  result: noop\n};\n","import adder from \"../adder\";\nimport {sqrt} from \"../math\";\nimport noop from \"../noop\";\n\nvar lengthSum = adder(),\n    lengthRing,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar lengthStream = {\n  point: noop,\n  lineStart: function() {\n    lengthStream.point = lengthPointFirst;\n  },\n  lineEnd: function() {\n    if (lengthRing) lengthPoint(x00, y00);\n    lengthStream.point = noop;\n  },\n  polygonStart: function() {\n    lengthRing = true;\n  },\n  polygonEnd: function() {\n    lengthRing = null;\n  },\n  result: function() {\n    var length = +lengthSum;\n    lengthSum.reset();\n    return length;\n  }\n};\n\nfunction lengthPointFirst(x, y) {\n  lengthStream.point = lengthPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction lengthPoint(x, y) {\n  x0 -= x, y0 -= y;\n  lengthSum.add(sqrt(x0 * x0 + y0 * y0));\n  x0 = x, y0 = y;\n}\n\nexport default lengthStream;\n","export default function PathString() {\n  this._string = [];\n}\n\nPathString.prototype = {\n  _radius: 4.5,\n  _circle: circle(4.5),\n  pointRadius: function(_) {\n    if ((_ = +_) !== this._radius) this._radius = _, this._circle = null;\n    return this;\n  },\n  polygonStart: function() {\n    this._line = 0;\n  },\n  polygonEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line === 0) this._string.push(\"Z\");\n    this._point = NaN;\n  },\n  point: function(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._string.push(\"M\", x, \",\", y);\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._string.push(\"L\", x, \",\", y);\n        break;\n      }\n      default: {\n        if (this._circle == null) this._circle = circle(this._radius);\n        this._string.push(\"M\", x, \",\", y, this._circle);\n        break;\n      }\n    }\n  },\n  result: function() {\n    if (this._string.length) {\n      var result = this._string.join(\"\");\n      this._string = [];\n      return result;\n    } else {\n      return null;\n    }\n  }\n};\n\nfunction circle(radius) {\n  return \"m0,\" + radius\n      + \"a\" + radius + \",\" + radius + \" 0 1,1 0,\" + -2 * radius\n      + \"a\" + radius + \",\" + radius + \" 0 1,1 0,\" + 2 * radius\n      + \"z\";\n}\n","import identity from \"../identity\";\nimport stream from \"../stream\";\nimport pathArea from \"./area\";\nimport pathBounds from \"./bounds\";\nimport pathCentroid from \"./centroid\";\nimport PathContext from \"./context\";\nimport pathMeasure from \"./measure\";\nimport PathString from \"./string\";\n\nexport default function(projection, context) {\n  var pointRadius = 4.5,\n      projectionStream,\n      contextStream;\n\n  function path(object) {\n    if (object) {\n      if (typeof pointRadius === \"function\") contextStream.pointRadius(+pointRadius.apply(this, arguments));\n      stream(object, projectionStream(contextStream));\n    }\n    return contextStream.result();\n  }\n\n  path.area = function(object) {\n    stream(object, projectionStream(pathArea));\n    return pathArea.result();\n  };\n\n  path.measure = function(object) {\n    stream(object, projectionStream(pathMeasure));\n    return pathMeasure.result();\n  };\n\n  path.bounds = function(object) {\n    stream(object, projectionStream(pathBounds));\n    return pathBounds.result();\n  };\n\n  path.centroid = function(object) {\n    stream(object, projectionStream(pathCentroid));\n    return pathCentroid.result();\n  };\n\n  path.projection = function(_) {\n    return arguments.length ? (projectionStream = _ == null ? (projection = null, identity) : (projection = _).stream, path) : projection;\n  };\n\n  path.context = function(_) {\n    if (!arguments.length) return context;\n    contextStream = _ == null ? (context = null, new PathString) : new PathContext(context = _);\n    if (typeof pointRadius !== \"function\") contextStream.pointRadius(pointRadius);\n    return path;\n  };\n\n  path.pointRadius = function(_) {\n    if (!arguments.length) return pointRadius;\n    pointRadius = typeof _ === \"function\" ? _ : (contextStream.pointRadius(+_), +_);\n    return path;\n  };\n\n  return path.projection(projection).context(context);\n}\n","export default function(methods) {\n  return {\n    stream: transformer(methods)\n  };\n}\n\nexport function transformer(methods) {\n  return function(stream) {\n    var s = new TransformStream;\n    for (var key in methods) s[key] = methods[key];\n    s.stream = stream;\n    return s;\n  };\n}\n\nfunction TransformStream() {}\n\nTransformStream.prototype = {\n  constructor: TransformStream,\n  point: function(x, y) { this.stream.point(x, y); },\n  sphere: function() { this.stream.sphere(); },\n  lineStart: function() { this.stream.lineStart(); },\n  lineEnd: function() { this.stream.lineEnd(); },\n  polygonStart: function() { this.stream.polygonStart(); },\n  polygonEnd: function() { this.stream.polygonEnd(); }\n};\n","import {default as geoStream} from \"../stream\";\nimport boundsStream from \"../path/bounds\";\n\nfunction fit(projection, fitBounds, object) {\n  var clip = projection.clipExtent && projection.clipExtent();\n  projection.scale(150).translate([0, 0]);\n  if (clip != null) projection.clipExtent(null);\n  geoStream(object, projection.stream(boundsStream));\n  fitBounds(boundsStream.result());\n  if (clip != null) projection.clipExtent(clip);\n  return projection;\n}\n\nexport function fitExtent(projection, extent, object) {\n  return fit(projection, function(b) {\n    var w = extent[1][0] - extent[0][0],\n        h = extent[1][1] - extent[0][1],\n        k = Math.min(w / (b[1][0] - b[0][0]), h / (b[1][1] - b[0][1])),\n        x = +extent[0][0] + (w - k * (b[1][0] + b[0][0])) / 2,\n        y = +extent[0][1] + (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitSize(projection, size, object) {\n  return fitExtent(projection, [[0, 0], size], object);\n}\n\nexport function fitWidth(projection, width, object) {\n  return fit(projection, function(b) {\n    var w = +width,\n        k = w / (b[1][0] - b[0][0]),\n        x = (w - k * (b[1][0] + b[0][0])) / 2,\n        y = -k * b[0][1];\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitHeight(projection, height, object) {\n  return fit(projection, function(b) {\n    var h = +height,\n        k = h / (b[1][1] - b[0][1]),\n        x = -k * b[0][0],\n        y = (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n","import {cartesian} from \"../cartesian\";\nimport {abs, asin, atan2, cos, epsilon, radians, sqrt} from \"../math\";\nimport {transformer} from \"../transform\";\n\nvar maxDepth = 16, // maximum depth of subdivision\n    cosMinDistance = cos(30 * radians); // cos(minimum angular distance)\n\nexport default function(project, delta2) {\n  return +delta2 ? resample(project, delta2) : resampleNone(project);\n}\n\nfunction resampleNone(project) {\n  return transformer({\n    point: function(x, y) {\n      x = project(x, y);\n      this.stream.point(x[0], x[1]);\n    }\n  });\n}\n\nfunction resample(project, delta2) {\n\n  function resampleLineTo(x0, y0, lambda0, a0, b0, c0, x1, y1, lambda1, a1, b1, c1, depth, stream) {\n    var dx = x1 - x0,\n        dy = y1 - y0,\n        d2 = dx * dx + dy * dy;\n    if (d2 > 4 * delta2 && depth--) {\n      var a = a0 + a1,\n          b = b0 + b1,\n          c = c0 + c1,\n          m = sqrt(a * a + b * b + c * c),\n          phi2 = asin(c /= m),\n          lambda2 = abs(abs(c) - 1) < epsilon || abs(lambda0 - lambda1) < epsilon ? (lambda0 + lambda1) / 2 : atan2(b, a),\n          p = project(lambda2, phi2),\n          x2 = p[0],\n          y2 = p[1],\n          dx2 = x2 - x0,\n          dy2 = y2 - y0,\n          dz = dy * dx2 - dx * dy2;\n      if (dz * dz / d2 > delta2 // perpendicular projected distance\n          || abs((dx * dx2 + dy * dy2) / d2 - 0.5) > 0.3 // midpoint close to an end\n          || a0 * a1 + b0 * b1 + c0 * c1 < cosMinDistance) { // angular distance\n        resampleLineTo(x0, y0, lambda0, a0, b0, c0, x2, y2, lambda2, a /= m, b /= m, c, depth, stream);\n        stream.point(x2, y2);\n        resampleLineTo(x2, y2, lambda2, a, b, c, x1, y1, lambda1, a1, b1, c1, depth, stream);\n      }\n    }\n  }\n  return function(stream) {\n    var lambda00, x00, y00, a00, b00, c00, // first point\n        lambda0, x0, y0, a0, b0, c0; // previous point\n\n    var resampleStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() { stream.polygonStart(); resampleStream.lineStart = ringStart; },\n      polygonEnd: function() { stream.polygonEnd(); resampleStream.lineStart = lineStart; }\n    };\n\n    function point(x, y) {\n      x = project(x, y);\n      stream.point(x[0], x[1]);\n    }\n\n    function lineStart() {\n      x0 = NaN;\n      resampleStream.point = linePoint;\n      stream.lineStart();\n    }\n\n    function linePoint(lambda, phi) {\n      var c = cartesian([lambda, phi]), p = project(lambda, phi);\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x0 = p[0], y0 = p[1], lambda0 = lambda, a0 = c[0], b0 = c[1], c0 = c[2], maxDepth, stream);\n      stream.point(x0, y0);\n    }\n\n    function lineEnd() {\n      resampleStream.point = point;\n      stream.lineEnd();\n    }\n\n    function ringStart() {\n      lineStart();\n      resampleStream.point = ringPoint;\n      resampleStream.lineEnd = ringEnd;\n    }\n\n    function ringPoint(lambda, phi) {\n      linePoint(lambda00 = lambda, phi), x00 = x0, y00 = y0, a00 = a0, b00 = b0, c00 = c0;\n      resampleStream.point = linePoint;\n    }\n\n    function ringEnd() {\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x00, y00, lambda00, a00, b00, c00, maxDepth, stream);\n      resampleStream.lineEnd = lineEnd;\n      lineEnd();\n    }\n\n    return resampleStream;\n  };\n}\n","import clipAntimeridian from \"../clip/antimeridian\";\nimport clipCircle from \"../clip/circle\";\nimport clipRectangle from \"../clip/rectangle\";\nimport compose from \"../compose\";\nimport identity from \"../identity\";\nimport {cos, degrees, radians, sin, sqrt} from \"../math\";\nimport {rotateRadians} from \"../rotation\";\nimport {transformer} from \"../transform\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit\";\nimport resample from \"./resample\";\n\nvar transformRadians = transformer({\n  point: function(x, y) {\n    this.stream.point(x * radians, y * radians);\n  }\n});\n\nfunction transformRotate(rotate) {\n  return transformer({\n    point: function(x, y) {\n      var r = rotate(x, y);\n      return this.stream.point(r[0], r[1]);\n    }\n  });\n}\n\nfunction scaleTranslate(k, dx, dy) {\n  function transform(x, y) {\n    return [dx + k * x, dy - k * y];\n  }\n  transform.invert = function(x, y) {\n    return [(x - dx) / k, (dy - y) / k];\n  };\n  return transform;\n}\n\nfunction scaleTranslateRotate(k, dx, dy, alpha) {\n  var cosAlpha = cos(alpha),\n      sinAlpha = sin(alpha),\n      a = cosAlpha * k,\n      b = sinAlpha * k,\n      ai = cosAlpha / k,\n      bi = sinAlpha / k,\n      ci = (sinAlpha * dy - cosAlpha * dx) / k,\n      fi = (sinAlpha * dx + cosAlpha * dy) / k;\n  function transform(x, y) {\n    return [a * x - b * y + dx, dy - b * x - a * y];\n  }\n  transform.invert = function(x, y) {\n    return [ai * x - bi * y + ci, fi - bi * x - ai * y];\n  };\n  return transform;\n}\n\nexport default function projection(project) {\n  return projectionMutator(function() { return project; })();\n}\n\nexport function projectionMutator(projectAt) {\n  var project,\n      k = 150, // scale\n      x = 480, y = 250, // translate\n      lambda = 0, phi = 0, // center\n      deltaLambda = 0, deltaPhi = 0, deltaGamma = 0, rotate, // pre-rotate\n      alpha = 0, // post-rotate\n      theta = null, preclip = clipAntimeridian, // pre-clip angle\n      x0 = null, y0, x1, y1, postclip = identity, // post-clip extent\n      delta2 = 0.5, // precision\n      projectResample,\n      projectTransform,\n      projectRotateTransform,\n      cache,\n      cacheStream;\n\n  function projection(point) {\n    return projectRotateTransform(point[0] * radians, point[1] * radians);\n  }\n\n  function invert(point) {\n    point = projectRotateTransform.invert(point[0], point[1]);\n    return point && [point[0] * degrees, point[1] * degrees];\n  }\n\n  projection.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = transformRadians(transformRotate(rotate)(preclip(projectResample(postclip(cacheStream = stream)))));\n  };\n\n  projection.preclip = function(_) {\n    return arguments.length ? (preclip = _, theta = undefined, reset()) : preclip;\n  };\n\n  projection.postclip = function(_) {\n    return arguments.length ? (postclip = _, x0 = y0 = x1 = y1 = null, reset()) : postclip;\n  };\n\n  projection.clipAngle = function(_) {\n    return arguments.length ? (preclip = +_ ? clipCircle(theta = _ * radians) : (theta = null, clipAntimeridian), reset()) : theta * degrees;\n  };\n\n  projection.clipExtent = function(_) {\n    return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipRectangle(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  projection.scale = function(_) {\n    return arguments.length ? (k = +_, recenter()) : k;\n  };\n\n  projection.translate = function(_) {\n    return arguments.length ? (x = +_[0], y = +_[1], recenter()) : [x, y];\n  };\n\n  projection.center = function(_) {\n    return arguments.length ? (lambda = _[0] % 360 * radians, phi = _[1] % 360 * radians, recenter()) : [lambda * degrees, phi * degrees];\n  };\n\n  projection.rotate = function(_) {\n    return arguments.length ? (deltaLambda = _[0] % 360 * radians, deltaPhi = _[1] % 360 * radians, deltaGamma = _.length > 2 ? _[2] % 360 * radians : 0, recenter()) : [deltaLambda * degrees, deltaPhi * degrees, deltaGamma * degrees];\n  };\n\n  projection.angle = function(_) {\n    return arguments.length ? (alpha = _ % 360 * radians, recenter()) : alpha * degrees;\n  };\n\n  projection.precision = function(_) {\n    return arguments.length ? (projectResample = resample(projectTransform, delta2 = _ * _), reset()) : sqrt(delta2);\n  };\n\n  projection.fitExtent = function(extent, object) {\n    return fitExtent(projection, extent, object);\n  };\n\n  projection.fitSize = function(size, object) {\n    return fitSize(projection, size, object);\n  };\n\n  projection.fitWidth = function(width, object) {\n    return fitWidth(projection, width, object);\n  };\n\n  projection.fitHeight = function(height, object) {\n    return fitHeight(projection, height, object);\n  };\n\n  function recenter() {\n    var center = scaleTranslateRotate(k, 0, 0, alpha).apply(null, project(lambda, phi)),\n        transform = (alpha ? scaleTranslateRotate : scaleTranslate)(k, x - center[0], y - center[1], alpha);\n    rotate = rotateRadians(deltaLambda, deltaPhi, deltaGamma);\n    projectTransform = compose(project, transform);\n    projectRotateTransform = compose(rotate, projectTransform);\n    projectResample = resample(projectTransform, delta2);\n    return reset();\n  }\n\n  function reset() {\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  return function() {\n    project = projectAt.apply(this, arguments);\n    projection.invert = project.invert && invert;\n    return recenter();\n  };\n}\n","import {degrees, pi, radians} from \"../math\";\nimport {projectionMutator} from \"./index\";\n\nexport function conicProjection(projectAt) {\n  var phi0 = 0,\n      phi1 = pi / 3,\n      m = projectionMutator(projectAt),\n      p = m(phi0, phi1);\n\n  p.parallels = function(_) {\n    return arguments.length ? m(phi0 = _[0] * radians, phi1 = _[1] * radians) : [phi0 * degrees, phi1 * degrees];\n  };\n\n  return p;\n}\n","import {asin, cos, sin} from \"../math\";\n\nexport function cylindricalEqualAreaRaw(phi0) {\n  var cosPhi0 = cos(phi0);\n\n  function forward(lambda, phi) {\n    return [lambda * cosPhi0, sin(phi) / cosPhi0];\n  }\n\n  forward.invert = function(x, y) {\n    return [x / cosPhi0, asin(y * cosPhi0)];\n  };\n\n  return forward;\n}\n","import {abs, asin, atan2, cos, epsilon, sign, sin, sqrt} from \"../math\";\nimport {conicProjection} from \"./conic\";\nimport {cylindricalEqualAreaRaw} from \"./cylindricalEqualArea\";\n\nexport function conicEqualAreaRaw(y0, y1) {\n  var sy0 = sin(y0), n = (sy0 + sin(y1)) / 2;\n\n  // Are the parallels symmetrical around the Equator?\n  if (abs(n) < epsilon) return cylindricalEqualAreaRaw(y0);\n\n  var c = 1 + sy0 * (2 * n - sy0), r0 = sqrt(c) / n;\n\n  function project(x, y) {\n    var r = sqrt(c - 2 * n * sin(y)) / n;\n    return [r * sin(x *= n), r0 - r * cos(x)];\n  }\n\n  project.invert = function(x, y) {\n    var r0y = r0 - y;\n    return [atan2(x, abs(r0y)) / n * sign(r0y), asin((c - (x * x + r0y * r0y) * n * n) / (2 * n))];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicEqualAreaRaw)\n      .scale(155.424)\n      .center([0, 33.6442]);\n}\n","import conicEqualArea from \"./conicEqualArea\";\n\nexport default function() {\n  return conicEqualArea()\n      .parallels([29.5, 45.5])\n      .scale(1070)\n      .translate([480, 250])\n      .rotate([96, 0])\n      .center([-0.6, 38.7]);\n}\n","import {epsilon} from \"../math\";\nimport albers from \"./albers\";\nimport conicEqualArea from \"./conicEqualArea\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit\";\n\n// The projections must have mutually exclusive clip regions on the sphere,\n// as this will avoid emitting interleaving lines and polygons.\nfunction multiplex(streams) {\n  var n = streams.length;\n  return {\n    point: function(x, y) { var i = -1; while (++i < n) streams[i].point(x, y); },\n    sphere: function() { var i = -1; while (++i < n) streams[i].sphere(); },\n    lineStart: function() { var i = -1; while (++i < n) streams[i].lineStart(); },\n    lineEnd: function() { var i = -1; while (++i < n) streams[i].lineEnd(); },\n    polygonStart: function() { var i = -1; while (++i < n) streams[i].polygonStart(); },\n    polygonEnd: function() { var i = -1; while (++i < n) streams[i].polygonEnd(); }\n  };\n}\n\n// A composite projection for the United States, configured by default for\n// 960×500. The projection also works quite well at 960×600 if you change the\n// scale to 1285 and adjust the translate accordingly. The set of standard\n// parallels for each region comes from USGS, which is published here:\n// http://egsc.usgs.gov/isb/pubs/MapProjections/projections.html#albers\nexport default function() {\n  var cache,\n      cacheStream,\n      lower48 = albers(), lower48Point,\n      alaska = conicEqualArea().rotate([154, 0]).center([-2, 58.5]).parallels([55, 65]), alaskaPoint, // EPSG:3338\n      hawaii = conicEqualArea().rotate([157, 0]).center([-3, 19.9]).parallels([8, 18]), hawaiiPoint, // ESRI:102007\n      point, pointStream = {point: function(x, y) { point = [x, y]; }};\n\n  function albersUsa(coordinates) {\n    var x = coordinates[0], y = coordinates[1];\n    return point = null,\n        (lower48Point.point(x, y), point)\n        || (alaskaPoint.point(x, y), point)\n        || (hawaiiPoint.point(x, y), point);\n  }\n\n  albersUsa.invert = function(coordinates) {\n    var k = lower48.scale(),\n        t = lower48.translate(),\n        x = (coordinates[0] - t[0]) / k,\n        y = (coordinates[1] - t[1]) / k;\n    return (y >= 0.120 && y < 0.234 && x >= -0.425 && x < -0.214 ? alaska\n        : y >= 0.166 && y < 0.234 && x >= -0.214 && x < -0.115 ? hawaii\n        : lower48).invert(coordinates);\n  };\n\n  albersUsa.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = multiplex([lower48.stream(cacheStream = stream), alaska.stream(stream), hawaii.stream(stream)]);\n  };\n\n  albersUsa.precision = function(_) {\n    if (!arguments.length) return lower48.precision();\n    lower48.precision(_), alaska.precision(_), hawaii.precision(_);\n    return reset();\n  };\n\n  albersUsa.scale = function(_) {\n    if (!arguments.length) return lower48.scale();\n    lower48.scale(_), alaska.scale(_ * 0.35), hawaii.scale(_);\n    return albersUsa.translate(lower48.translate());\n  };\n\n  albersUsa.translate = function(_) {\n    if (!arguments.length) return lower48.translate();\n    var k = lower48.scale(), x = +_[0], y = +_[1];\n\n    lower48Point = lower48\n        .translate(_)\n        .clipExtent([[x - 0.455 * k, y - 0.238 * k], [x + 0.455 * k, y + 0.238 * k]])\n        .stream(pointStream);\n\n    alaskaPoint = alaska\n        .translate([x - 0.307 * k, y + 0.201 * k])\n        .clipExtent([[x - 0.425 * k + epsilon, y + 0.120 * k + epsilon], [x - 0.214 * k - epsilon, y + 0.234 * k - epsilon]])\n        .stream(pointStream);\n\n    hawaiiPoint = hawaii\n        .translate([x - 0.205 * k, y + 0.212 * k])\n        .clipExtent([[x - 0.214 * k + epsilon, y + 0.166 * k + epsilon], [x - 0.115 * k - epsilon, y + 0.234 * k - epsilon]])\n        .stream(pointStream);\n\n    return reset();\n  };\n\n  albersUsa.fitExtent = function(extent, object) {\n    return fitExtent(albersUsa, extent, object);\n  };\n\n  albersUsa.fitSize = function(size, object) {\n    return fitSize(albersUsa, size, object);\n  };\n\n  albersUsa.fitWidth = function(width, object) {\n    return fitWidth(albersUsa, width, object);\n  };\n\n  albersUsa.fitHeight = function(height, object) {\n    return fitHeight(albersUsa, height, object);\n  };\n\n  function reset() {\n    cache = cacheStream = null;\n    return albersUsa;\n  }\n\n  return albersUsa.scale(1070);\n}\n","import {asin, atan2, cos, sin, sqrt} from \"../math\";\n\nexport function azimuthalRaw(scale) {\n  return function(x, y) {\n    var cx = cos(x),\n        cy = cos(y),\n        k = scale(cx * cy);\n    return [\n      k * cy * sin(x),\n      k * sin(y)\n    ];\n  }\n}\n\nexport function azimuthalInvert(angle) {\n  return function(x, y) {\n    var z = sqrt(x * x + y * y),\n        c = angle(z),\n        sc = sin(c),\n        cc = cos(c);\n    return [\n      atan2(x * sc, z * cc),\n      asin(z && y * sc / z)\n    ];\n  }\n}\n","import {asin, sqrt} from \"../math\";\nimport {azimuthalRaw, azimuthalInvert} from \"./azimuthal\";\nimport projection from \"./index\";\n\nexport var azimuthalEqualAreaRaw = azimuthalRaw(function(cxcy) {\n  return sqrt(2 / (1 + cxcy));\n});\n\nazimuthalEqualAreaRaw.invert = azimuthalInvert(function(z) {\n  return 2 * asin(z / 2);\n});\n\nexport default function() {\n  return projection(azimuthalEqualAreaRaw)\n      .scale(124.75)\n      .clipAngle(180 - 1e-3);\n}\n","import {acos, sin} from \"../math\";\nimport {azimuthalRaw, azimuthalInvert} from \"./azimuthal\";\nimport projection from \"./index\";\n\nexport var azimuthalEquidistantRaw = azimuthalRaw(function(c) {\n  return (c = acos(c)) && c / sin(c);\n});\n\nazimuthalEquidistantRaw.invert = azimuthalInvert(function(z) {\n  return z;\n});\n\nexport default function() {\n  return projection(azimuthalEquidistantRaw)\n      .scale(79.4188)\n      .clipAngle(180 - 1e-3);\n}\n","import {atan, exp, halfPi, log, pi, tan, tau} from \"../math\";\nimport rotation from \"../rotation\";\nimport projection from \"./index\";\n\nexport function mercatorRaw(lambda, phi) {\n  return [lambda, log(tan((halfPi + phi) / 2))];\n}\n\nmercatorRaw.invert = function(x, y) {\n  return [x, 2 * atan(exp(y)) - halfPi];\n};\n\nexport default function() {\n  return mercatorProjection(mercatorRaw)\n      .scale(961 / tau);\n}\n\nexport function mercatorProjection(project) {\n  var m = projection(project),\n      center = m.center,\n      scale = m.scale,\n      translate = m.translate,\n      clipExtent = m.clipExtent,\n      x0 = null, y0, x1, y1; // clip extent\n\n  m.scale = function(_) {\n    return arguments.length ? (scale(_), reclip()) : scale();\n  };\n\n  m.translate = function(_) {\n    return arguments.length ? (translate(_), reclip()) : translate();\n  };\n\n  m.center = function(_) {\n    return arguments.length ? (center(_), reclip()) : center();\n  };\n\n  m.clipExtent = function(_) {\n    return arguments.length ? ((_ == null ? x0 = y0 = x1 = y1 = null : (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1])), reclip()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  function reclip() {\n    var k = pi * scale(),\n        t = m(rotation(m.rotate()).invert([0, 0]));\n    return clipExtent(x0 == null\n        ? [[t[0] - k, t[1] - k], [t[0] + k, t[1] + k]] : project === mercatorRaw\n        ? [[Math.max(t[0] - k, x0), y0], [Math.min(t[0] + k, x1), y1]]\n        : [[x0, Math.max(t[1] - k, y0)], [x1, Math.min(t[1] + k, y1)]]);\n  }\n\n  return reclip();\n}\n","import {abs, atan, atan2, cos, epsilon, halfPi, log, pow, sign, sin, sqrt, tan} from \"../math\";\nimport {conicProjection} from \"./conic\";\nimport {mercatorRaw} from \"./mercator\";\n\nfunction tany(y) {\n  return tan((halfPi + y) / 2);\n}\n\nexport function conicConformalRaw(y0, y1) {\n  var cy0 = cos(y0),\n      n = y0 === y1 ? sin(y0) : log(cy0 / cos(y1)) / log(tany(y1) / tany(y0)),\n      f = cy0 * pow(tany(y0), n) / n;\n\n  if (!n) return mercatorRaw;\n\n  function project(x, y) {\n    if (f > 0) { if (y < -halfPi + epsilon) y = -halfPi + epsilon; }\n    else { if (y > halfPi - epsilon) y = halfPi - epsilon; }\n    var r = f / pow(tany(y), n);\n    return [r * sin(n * x), f - r * cos(n * x)];\n  }\n\n  project.invert = function(x, y) {\n    var fy = f - y, r = sign(n) * sqrt(x * x + fy * fy);\n    return [atan2(x, abs(fy)) / n * sign(fy), 2 * atan(pow(f / r, 1 / n)) - halfPi];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicConformalRaw)\n      .scale(109.5)\n      .parallels([30, 30]);\n}\n","import projection from \"./index\";\n\nexport function equirectangularRaw(lambda, phi) {\n  return [lambda, phi];\n}\n\nequirectangularRaw.invert = equirectangularRaw;\n\nexport default function() {\n  return projection(equirectangularRaw)\n      .scale(152.63);\n}\n","import {abs, atan2, cos, epsilon, sign, sin, sqrt} from \"../math\";\nimport {conicProjection} from \"./conic\";\nimport {equirectangularRaw} from \"./equirectangular\";\n\nexport function conicEquidistantRaw(y0, y1) {\n  var cy0 = cos(y0),\n      n = y0 === y1 ? sin(y0) : (cy0 - cos(y1)) / (y1 - y0),\n      g = cy0 / n + y0;\n\n  if (abs(n) < epsilon) return equirectangularRaw;\n\n  function project(x, y) {\n    var gy = g - y, nx = n * x;\n    return [gy * sin(nx), g - gy * cos(nx)];\n  }\n\n  project.invert = function(x, y) {\n    var gy = g - y;\n    return [atan2(x, abs(gy)) / n * sign(gy), g - sign(n) * sqrt(x * x + gy * gy)];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicEquidistantRaw)\n      .scale(131.154)\n      .center([0, 13.9389]);\n}\n","import projection from \"./index.js\";\nimport {abs, asin, cos, epsilon2, sin, sqrt} from \"../math.js\";\n\nvar A1 = 1.340264,\n    A2 = -0.081106,\n    A3 = 0.000893,\n    A4 = 0.003796,\n    M = sqrt(3) / 2,\n    iterations = 12;\n\nexport function equalEarthRaw(lambda, phi) {\n  var l = asin(M * sin(phi)), l2 = l * l, l6 = l2 * l2 * l2;\n  return [\n    lambda * cos(l) / (M * (A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2))),\n    l * (A1 + A2 * l2 + l6 * (A3 + A4 * l2))\n  ];\n}\n\nequalEarthRaw.invert = function(x, y) {\n  var l = y, l2 = l * l, l6 = l2 * l2 * l2;\n  for (var i = 0, delta, fy, fpy; i < iterations; ++i) {\n    fy = l * (A1 + A2 * l2 + l6 * (A3 + A4 * l2)) - y;\n    fpy = A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2);\n    l -= delta = fy / fpy, l2 = l * l, l6 = l2 * l2 * l2;\n    if (abs(delta) < epsilon2) break;\n  }\n  return [\n    M * x * (A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2)) / cos(l),\n    asin(sin(l) / M)\n  ];\n};\n\nexport default function() {\n  return projection(equalEarthRaw)\n      .scale(177.158);\n}\n","import {atan, cos, sin} from \"../math\";\nimport {azimuthalInvert} from \"./azimuthal\";\nimport projection from \"./index\";\n\nexport function gnomonicRaw(x, y) {\n  var cy = cos(y), k = cos(x) * cy;\n  return [cy * sin(x) / k, sin(y) / k];\n}\n\ngnomonicRaw.invert = azimuthalInvert(atan);\n\nexport default function() {\n  return projection(gnomonicRaw)\n      .scale(144.049)\n      .clipAngle(60);\n}\n","import clipRectangle from \"../clip/rectangle\";\nimport identity from \"../identity\";\nimport {transformer} from \"../transform\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit\";\n\nfunction scaleTranslate(kx, ky, tx, ty) {\n  return kx === 1 && ky === 1 && tx === 0 && ty === 0 ? identity : transformer({\n    point: function(x, y) {\n      this.stream.point(x * kx + tx, y * ky + ty);\n    }\n  });\n}\n\nexport default function() {\n  var k = 1, tx = 0, ty = 0, sx = 1, sy = 1, transform = identity, // scale, translate and reflect\n      x0 = null, y0, x1, y1, // clip extent\n      postclip = identity,\n      cache,\n      cacheStream,\n      projection;\n\n  function reset() {\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  return projection = {\n    stream: function(stream) {\n      return cache && cacheStream === stream ? cache : cache = transform(postclip(cacheStream = stream));\n    },\n    postclip: function(_) {\n      return arguments.length ? (postclip = _, x0 = y0 = x1 = y1 = null, reset()) : postclip;\n    },\n    clipExtent: function(_) {\n      return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipRectangle(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n    },\n    scale: function(_) {\n      return arguments.length ? (transform = scaleTranslate((k = +_) * sx, k * sy, tx, ty), reset()) : k;\n    },\n    translate: function(_) {\n      return arguments.length ? (transform = scaleTranslate(k * sx, k * sy, tx = +_[0], ty = +_[1]), reset()) : [tx, ty];\n    },\n    reflectX: function(_) {\n      return arguments.length ? (transform = scaleTranslate(k * (sx = _ ? -1 : 1), k * sy, tx, ty), reset()) : sx < 0;\n    },\n    reflectY: function(_) {\n      return arguments.length ? (transform = scaleTranslate(k * sx, k * (sy = _ ? -1 : 1), tx, ty), reset()) : sy < 0;\n    },\n    fitExtent: function(extent, object) {\n      return fitExtent(projection, extent, object);\n    },\n    fitSize: function(size, object) {\n      return fitSize(projection, size, object);\n    },\n    fitWidth: function(width, object) {\n      return fitWidth(projection, width, object);\n    },\n    fitHeight: function(height, object) {\n      return fitHeight(projection, height, object);\n    }\n  };\n}\n","import projection from \"./index\";\nimport {abs, epsilon} from \"../math\";\n\nexport function naturalEarth1Raw(lambda, phi) {\n  var phi2 = phi * phi, phi4 = phi2 * phi2;\n  return [\n    lambda * (0.8707 - 0.131979 * phi2 + phi4 * (-0.013791 + phi4 * (0.003971 * phi2 - 0.001529 * phi4))),\n    phi * (1.007226 + phi2 * (0.015085 + phi4 * (-0.044475 + 0.028874 * phi2 - 0.005916 * phi4)))\n  ];\n}\n\nnaturalEarth1Raw.invert = function(x, y) {\n  var phi = y, i = 25, delta;\n  do {\n    var phi2 = phi * phi, phi4 = phi2 * phi2;\n    phi -= delta = (phi * (1.007226 + phi2 * (0.015085 + phi4 * (-0.044475 + 0.028874 * phi2 - 0.005916 * phi4))) - y) /\n        (1.007226 + phi2 * (0.015085 * 3 + phi4 * (-0.044475 * 7 + 0.028874 * 9 * phi2 - 0.005916 * 11 * phi4)));\n  } while (abs(delta) > epsilon && --i > 0);\n  return [\n    x / (0.8707 + (phi2 = phi * phi) * (-0.131979 + phi2 * (-0.013791 + phi2 * phi2 * phi2 * (0.003971 - 0.001529 * phi2)))),\n    phi\n  ];\n};\n\nexport default function() {\n  return projection(naturalEarth1Raw)\n      .scale(175.295);\n}\n","import {asin, cos, epsilon, sin} from \"../math\";\nimport {azimuthalInvert} from \"./azimuthal\";\nimport projection from \"./index\";\n\nexport function orthographicRaw(x, y) {\n  return [cos(y) * sin(x), sin(y)];\n}\n\northographicRaw.invert = azimuthalInvert(asin);\n\nexport default function() {\n  return projection(orthographicRaw)\n      .scale(249.5)\n      .clipAngle(90 + epsilon);\n}\n","import {atan, cos, sin} from \"../math\";\nimport {azimuthalInvert} from \"./azimuthal\";\nimport projection from \"./index\";\n\nexport function stereographicRaw(x, y) {\n  var cy = cos(y), k = 1 + cos(x) * cy;\n  return [cy * sin(x) / k, sin(y) / k];\n}\n\nstereographicRaw.invert = azimuthalInvert(function(z) {\n  return 2 * atan(z);\n});\n\nexport default function() {\n  return projection(stereographicRaw)\n      .scale(250)\n      .clipAngle(142);\n}\n","import {atan, exp, halfPi, log, tan} from \"../math\";\nimport {mercatorProjection} from \"./mercator\";\n\nexport function transverseMercatorRaw(lambda, phi) {\n  return [log(tan((halfPi + phi) / 2)), -lambda];\n}\n\ntransverseMercatorRaw.invert = function(x, y) {\n  return [-y, 2 * atan(exp(x)) - halfPi];\n};\n\nexport default function() {\n  var m = mercatorProjection(transverseMercatorRaw),\n      center = m.center,\n      rotate = m.rotate;\n\n  m.center = function(_) {\n    return arguments.length ? center([-_[1], _[0]]) : (_ = center(), [_[1], -_[0]]);\n  };\n\n  m.rotate = function(_) {\n    return arguments.length ? rotate([_[0], _[1], _.length > 2 ? _[2] + 90 : 90]) : (_ = rotate(), [_[0], _[1], _[2] - 90]);\n  };\n\n  return rotate([0, 0, 90])\n      .scale(159.155);\n}\n","import {range} from \"d3-array\";\n\nexport default function() {\n  var x0 = 0,\n      y0 = 0,\n      x1 = 960,\n      y1 = 500,\n      tx = (x0 + x1) / 2,\n      ty = (y0 + y1) / 2,\n      scale = 256,\n      zoomDelta = 0,\n      wrap = true;\n\n  function tile() {\n    var z = Math.max(Math.log(scale) / Math.LN2 - 8, 0),\n        z0 = Math.round(z + zoomDelta),\n        j = 1 << z0,\n        k = Math.pow(2, z - z0 + 8),\n        x = tx - scale / 2,\n        y = ty - scale / 2,\n        tiles = [],\n        cols = range(\n          Math.max(wrap ? -Infinity : 0, Math.floor((x0 - x) / k)),\n          Math.min(Math.ceil((x1 - x) / k), wrap ? Infinity : j)\n        ),\n        rows = range(\n          Math.max(0, Math.floor((y0 - y) / k)),\n          Math.min(Math.ceil((y1 - y) / k), j)\n        );\n\n    rows.forEach(function(y) {\n      cols.forEach(function(x) {\n        tiles.push({\n          x: (x % j + j) % j,\n          y: y,\n          z: z0,\n          tx: x * 256,\n          ty: y * 256\n        });\n      });\n    });\n\n    tiles.translate = [x / k, y / k];\n    tiles.scale = k;\n    return tiles;\n  }\n\n  tile.size = function(_) {\n    return arguments.length ? (x0 = y0 = 0, x1 = +_[0], y1 = +_[1], tile) : [x1 - x0, y1 - y0];\n  };\n\n  tile.extent = function(_) {\n    return arguments.length ? (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1], tile) : [[x0, y0], [x1, y1]];\n  };\n\n  tile.scale = function(_) {\n    return arguments.length ? (scale = +_, tile) : scale;\n  };\n\n  tile.translate = function(_) {\n    return arguments.length ? (tx = +_[0], ty = +_[1], tile) : [tx, ty];\n  };\n\n  tile.zoomDelta = function(_) {\n    return arguments.length ? (zoomDelta = +_, tile) : zoomDelta;\n  };\n\n  tile.wrap = function(_) {\n    return arguments.length ? (wrap = _, tile) : wrap;\n  };\n\n  return tile;\n}\n","export default function(x) {\n  return x;\n}\n","import identity from \"./identity\";\n\nexport default function(transform) {\n  if (transform == null) return identity;\n  var x0,\n      y0,\n      kx = transform.scale[0],\n      ky = transform.scale[1],\n      dx = transform.translate[0],\n      dy = transform.translate[1];\n  return function(input, i) {\n    if (!i) x0 = y0 = 0;\n    var j = 2, n = input.length, output = new Array(n);\n    output[0] = (x0 += input[0]) * kx + dx;\n    output[1] = (y0 += input[1]) * ky + dy;\n    while (j < n) output[j] = input[j], ++j;\n    return output;\n  };\n}\n","export default function(array, n) {\n  var t, j = array.length, i = j - n;\n  while (i < --j) t = array[i], array[i++] = array[j], array[j] = t;\n}\n","import reverse from \"./reverse\";\nimport transform from \"./transform\";\n\nexport default function(topology, o) {\n  return o.type === \"GeometryCollection\"\n      ? {type: \"FeatureCollection\", features: o.geometries.map(function(o) { return feature(topology, o); })}\n      : feature(topology, o);\n}\n\nexport function feature(topology, o) {\n  var id = o.id,\n      bbox = o.bbox,\n      properties = o.properties == null ? {} : o.properties,\n      geometry = object(topology, o);\n  return id == null && bbox == null ? {type: \"Feature\", properties: properties, geometry: geometry}\n      : bbox == null ? {type: \"Feature\", id: id, properties: properties, geometry: geometry}\n      : {type: \"Feature\", id: id, bbox: bbox, properties: properties, geometry: geometry};\n}\n\nexport function object(topology, o) {\n  var transformPoint = transform(topology.transform),\n      arcs = topology.arcs;\n\n  function arc(i, points) {\n    if (points.length) points.pop();\n    for (var a = arcs[i < 0 ? ~i : i], k = 0, n = a.length; k < n; ++k) {\n      points.push(transformPoint(a[k], k));\n    }\n    if (i < 0) reverse(points, n);\n  }\n\n  function point(p) {\n    return transformPoint(p);\n  }\n\n  function line(arcs) {\n    var points = [];\n    for (var i = 0, n = arcs.length; i < n; ++i) arc(arcs[i], points);\n    if (points.length < 2) points.push(points[0]); // This should never happen per the specification.\n    return points;\n  }\n\n  function ring(arcs) {\n    var points = line(arcs);\n    while (points.length < 4) points.push(points[0]); // This may happen if an arc has only two points.\n    return points;\n  }\n\n  function polygon(arcs) {\n    return arcs.map(ring);\n  }\n\n  function geometry(o) {\n    var type = o.type, coordinates;\n    switch (type) {\n      case \"GeometryCollection\": return {type: type, geometries: o.geometries.map(geometry)};\n      case \"Point\": coordinates = point(o.coordinates); break;\n      case \"MultiPoint\": coordinates = o.coordinates.map(point); break;\n      case \"LineString\": coordinates = line(o.arcs); break;\n      case \"MultiLineString\": coordinates = o.arcs.map(line); break;\n      case \"Polygon\": coordinates = polygon(o.arcs); break;\n      case \"MultiPolygon\": coordinates = o.arcs.map(polygon); break;\n      default: return null;\n    }\n    return {type: type, coordinates: coordinates};\n  }\n\n  return geometry(o);\n}\n","/**\n  @function dataFold\n  @desc Given a JSON object where the data values and headers have been split into separate key lookups, this function will combine the data values with the headers and returns one large array of objects.\n  @param {Object} json A JSON data Object with `data` and `headers` keys.\n  @param {String} [data = \"data\"] The key used for the flat data array inside of the JSON object.\n  @param {String} [headers = \"headers\"] The key used for the flat headers array inside of the JSON object.\n*/\nexport default (function (json) {\n  var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"data\";\n  var headers = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"headers\";\n  return json[data].map(function (data) {\n    return json[headers].reduce(function (obj, header, i) {\n      return obj[header] = data[i], obj;\n    }, {});\n  });\n});","import {map} from \"d3-collection\";\nimport {dispatch} from \"d3-dispatch\";\n\nexport default function(url, callback) {\n  var request,\n      event = dispatch(\"beforesend\", \"progress\", \"load\", \"error\"),\n      mimeType,\n      headers = map(),\n      xhr = new XMLHttpRequest,\n      user = null,\n      password = null,\n      response,\n      responseType,\n      timeout = 0;\n\n  // If IE does not support CORS, use XDomainRequest.\n  if (typeof XDomainRequest !== \"undefined\"\n      && !(\"withCredentials\" in xhr)\n      && /^(http(s)?:)?\\/\\//.test(url)) xhr = new XDomainRequest;\n\n  \"onload\" in xhr\n      ? xhr.onload = xhr.onerror = xhr.ontimeout = respond\n      : xhr.onreadystatechange = function(o) { xhr.readyState > 3 && respond(o); };\n\n  function respond(o) {\n    var status = xhr.status, result;\n    if (!status && hasResponse(xhr)\n        || status >= 200 && status < 300\n        || status === 304) {\n      if (response) {\n        try {\n          result = response.call(request, xhr);\n        } catch (e) {\n          event.call(\"error\", request, e);\n          return;\n        }\n      } else {\n        result = xhr;\n      }\n      event.call(\"load\", request, result);\n    } else {\n      event.call(\"error\", request, o);\n    }\n  }\n\n  xhr.onprogress = function(e) {\n    event.call(\"progress\", request, e);\n  };\n\n  request = {\n    header: function(name, value) {\n      name = (name + \"\").toLowerCase();\n      if (arguments.length < 2) return headers.get(name);\n      if (value == null) headers.remove(name);\n      else headers.set(name, value + \"\");\n      return request;\n    },\n\n    // If mimeType is non-null and no Accept header is set, a default is used.\n    mimeType: function(value) {\n      if (!arguments.length) return mimeType;\n      mimeType = value == null ? null : value + \"\";\n      return request;\n    },\n\n    // Specifies what type the response value should take;\n    // for instance, arraybuffer, blob, document, or text.\n    responseType: function(value) {\n      if (!arguments.length) return responseType;\n      responseType = value;\n      return request;\n    },\n\n    timeout: function(value) {\n      if (!arguments.length) return timeout;\n      timeout = +value;\n      return request;\n    },\n\n    user: function(value) {\n      return arguments.length < 1 ? user : (user = value == null ? null : value + \"\", request);\n    },\n\n    password: function(value) {\n      return arguments.length < 1 ? password : (password = value == null ? null : value + \"\", request);\n    },\n\n    // Specify how to convert the response content to a specific type;\n    // changes the callback value on \"load\" events.\n    response: function(value) {\n      response = value;\n      return request;\n    },\n\n    // Alias for send(\"GET\", …).\n    get: function(data, callback) {\n      return request.send(\"GET\", data, callback);\n    },\n\n    // Alias for send(\"POST\", …).\n    post: function(data, callback) {\n      return request.send(\"POST\", data, callback);\n    },\n\n    // If callback is non-null, it will be used for error and load events.\n    send: function(method, data, callback) {\n      xhr.open(method, url, true, user, password);\n      if (mimeType != null && !headers.has(\"accept\")) headers.set(\"accept\", mimeType + \",*/*\");\n      if (xhr.setRequestHeader) headers.each(function(value, name) { xhr.setRequestHeader(name, value); });\n      if (mimeType != null && xhr.overrideMimeType) xhr.overrideMimeType(mimeType);\n      if (responseType != null) xhr.responseType = responseType;\n      if (timeout > 0) xhr.timeout = timeout;\n      if (callback == null && typeof data === \"function\") callback = data, data = null;\n      if (callback != null && callback.length === 1) callback = fixCallback(callback);\n      if (callback != null) request.on(\"error\", callback).on(\"load\", function(xhr) { callback(null, xhr); });\n      event.call(\"beforesend\", request, xhr);\n      xhr.send(data == null ? null : data);\n      return request;\n    },\n\n    abort: function() {\n      xhr.abort();\n      return request;\n    },\n\n    on: function() {\n      var value = event.on.apply(event, arguments);\n      return value === event ? request : value;\n    }\n  };\n\n  if (callback != null) {\n    if (typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    return request.get(callback);\n  }\n\n  return request;\n}\n\nfunction fixCallback(callback) {\n  return function(error, xhr) {\n    callback(error == null ? xhr : null);\n  };\n}\n\nfunction hasResponse(xhr) {\n  var type = xhr.responseType;\n  return type && type !== \"text\"\n      ? xhr.response // null on error\n      : xhr.responseText; // \"\" on error\n}\n","import request from \"./request\";\n\nexport default function(defaultMimeType, response) {\n  return function(url, callback) {\n    var r = request(url).mimeType(defaultMimeType).response(response);\n    if (callback != null) {\n      if (typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n      return r.get(callback);\n    }\n    return r;\n  };\n}\n","import type from \"./type\";\n\nexport default type(\"application/json\", function(xhr) {\n  return JSON.parse(xhr.responseText);\n});\n","import type from \"./type\";\n\nexport default type(\"text/plain\", function(xhr) {\n  return xhr.responseText;\n});\n","var EOL = {},\n    EOF = {},\n    QUOTE = 34,\n    NEWLINE = 10,\n    RETURN = 13;\n\nfunction objectConverter(columns) {\n  return new Function(\"d\", \"return {\" + columns.map(function(name, i) {\n    return JSON.stringify(name) + \": d[\" + i + \"]\";\n  }).join(\",\") + \"}\");\n}\n\nfunction customConverter(columns, f) {\n  var object = objectConverter(columns);\n  return function(row, i) {\n    return f(object(row), i, columns);\n  };\n}\n\n// Compute unique columns in order of discovery.\nfunction inferColumns(rows) {\n  var columnSet = Object.create(null),\n      columns = [];\n\n  rows.forEach(function(row) {\n    for (var column in row) {\n      if (!(column in columnSet)) {\n        columns.push(columnSet[column] = column);\n      }\n    }\n  });\n\n  return columns;\n}\n\nfunction pad(value, width) {\n  var s = value + \"\", length = s.length;\n  return length < width ? new Array(width - length + 1).join(0) + s : s;\n}\n\nfunction formatYear(year) {\n  return year < 0 ? \"-\" + pad(-year, 6)\n    : year > 9999 ? \"+\" + pad(year, 6)\n    : pad(year, 4);\n}\n\nfunction formatDate(date) {\n  var hours = date.getUTCHours(),\n      minutes = date.getUTCMinutes(),\n      seconds = date.getUTCSeconds(),\n      milliseconds = date.getUTCMilliseconds();\n  return isNaN(date) ? \"Invalid Date\"\n      : formatYear(date.getUTCFullYear(), 4) + \"-\" + pad(date.getUTCMonth() + 1, 2) + \"-\" + pad(date.getUTCDate(), 2)\n      + (milliseconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \".\" + pad(milliseconds, 3) + \"Z\"\n      : seconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \"Z\"\n      : minutes || hours ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \"Z\"\n      : \"\");\n}\n\nexport default function(delimiter) {\n  var reFormat = new RegExp(\"[\\\"\" + delimiter + \"\\n\\r]\"),\n      DELIMITER = delimiter.charCodeAt(0);\n\n  function parse(text, f) {\n    var convert, columns, rows = parseRows(text, function(row, i) {\n      if (convert) return convert(row, i - 1);\n      columns = row, convert = f ? customConverter(row, f) : objectConverter(row);\n    });\n    rows.columns = columns || [];\n    return rows;\n  }\n\n  function parseRows(text, f) {\n    var rows = [], // output rows\n        N = text.length,\n        I = 0, // current character index\n        n = 0, // current line number\n        t, // current token\n        eof = N <= 0, // current token followed by EOF?\n        eol = false; // current token followed by EOL?\n\n    // Strip the trailing newline.\n    if (text.charCodeAt(N - 1) === NEWLINE) --N;\n    if (text.charCodeAt(N - 1) === RETURN) --N;\n\n    function token() {\n      if (eof) return EOF;\n      if (eol) return eol = false, EOL;\n\n      // Unescape quotes.\n      var i, j = I, c;\n      if (text.charCodeAt(j) === QUOTE) {\n        while (I++ < N && text.charCodeAt(I) !== QUOTE || text.charCodeAt(++I) === QUOTE);\n        if ((i = I) >= N) eof = true;\n        else if ((c = text.charCodeAt(I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        return text.slice(j + 1, i - 1).replace(/\"\"/g, \"\\\"\");\n      }\n\n      // Find next delimiter or newline.\n      while (I < N) {\n        if ((c = text.charCodeAt(i = I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        else if (c !== DELIMITER) continue;\n        return text.slice(j, i);\n      }\n\n      // Return last token before EOF.\n      return eof = true, text.slice(j, N);\n    }\n\n    while ((t = token()) !== EOF) {\n      var row = [];\n      while (t !== EOL && t !== EOF) row.push(t), t = token();\n      if (f && (row = f(row, n++)) == null) continue;\n      rows.push(row);\n    }\n\n    return rows;\n  }\n\n  function preformatBody(rows, columns) {\n    return rows.map(function(row) {\n      return columns.map(function(column) {\n        return formatValue(row[column]);\n      }).join(delimiter);\n    });\n  }\n\n  function format(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return [columns.map(formatValue).join(delimiter)].concat(preformatBody(rows, columns)).join(\"\\n\");\n  }\n\n  function formatBody(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return preformatBody(rows, columns).join(\"\\n\");\n  }\n\n  function formatRows(rows) {\n    return rows.map(formatRow).join(\"\\n\");\n  }\n\n  function formatRow(row) {\n    return row.map(formatValue).join(delimiter);\n  }\n\n  function formatValue(value) {\n    return value == null ? \"\"\n        : value instanceof Date ? formatDate(value)\n        : reFormat.test(value += \"\") ? \"\\\"\" + value.replace(/\"/g, \"\\\"\\\"\") + \"\\\"\"\n        : value;\n  }\n\n  return {\n    parse: parse,\n    parseRows: parseRows,\n    format: format,\n    formatBody: formatBody,\n    formatRows: formatRows\n  };\n}\n","import dsv from \"./dsv\";\n\nvar csv = dsv(\",\");\n\nexport var csvParse = csv.parse;\nexport var csvParseRows = csv.parseRows;\nexport var csvFormat = csv.format;\nexport var csvFormatBody = csv.formatBody;\nexport var csvFormatRows = csv.formatRows;\n","import dsv from \"./dsv\";\n\nvar tsv = dsv(\"\\t\");\n\nexport var tsvParse = tsv.parse;\nexport var tsvParseRows = tsv.parseRows;\nexport var tsvFormat = tsv.format;\nexport var tsvFormatBody = tsv.formatBody;\nexport var tsvFormatRows = tsv.formatRows;\n","import request from \"./request\";\n\nexport default function(defaultMimeType, parse) {\n  return function(url, row, callback) {\n    if (arguments.length < 3) callback = row, row = null;\n    var r = request(url).mimeType(defaultMimeType);\n    r.row = function(_) { return arguments.length ? r.response(responseOf(parse, row = _)) : row; };\n    r.row(row);\n    return callback ? r.get(callback) : r;\n  };\n}\n\nfunction responseOf(parse, row) {\n  return function(request) {\n    return parse(request.responseText, row);\n  };\n}\n","import {csvParse} from \"d3-dsv\";\nimport dsv from \"./dsv\";\n\nexport default dsv(\"text/csv\", csvParse);\n","import {tsvParse} from \"d3-dsv\";\nimport dsv from \"./dsv\";\n\nexport default dsv(\"text/tab-separated-values\", tsvParse);\n","import { csv, json, text, tsv } from \"d3-request\";\nimport { default as fold } from \"./fold\";\n/**\n  @function dataLoad\n  @desc Loads data from a filepath or URL, converts it to a valid JSON object, and returns it to a callback function.\n  @param {Array|String} path The path to the file or url to be loaded. If an Array is passed, the xhr request logic is skipped.\n  @param {Function} [formatter] An optional formatter function that is run on the loaded data.\n  @param {String} [key] The key in the `this` context to save the resulting data to.\n  @param {Function} [callback] A function that is called when the final data is loaded. It is passed 2 variables, any error present and the data loaded.\n*/\n\nexport default function (path, formatter, key, callback) {\n  var _this = this;\n\n  if (typeof path !== \"string\") {\n    var data = formatter ? formatter(path) : path;\n    if (key && \"_\".concat(key) in this) this[\"_\".concat(key)] = data;\n    if (callback) callback(null, data);\n  } else {\n    var parser = path.slice(path.length - 4) === \".csv\" ? csv : path.slice(path.length - 4) === \".tsv\" ? tsv : path.slice(path.length - 4) === \".txt\" ? text : json;\n    parser(path, function (err, data) {\n      if (parser !== json && !err && data && data instanceof Array) {\n        data.forEach(function (d) {\n          for (var k in d) {\n            if (!isNaN(d[k])) d[k] = parseFloat(d[k]);else if (d[k].toLowerCase() === \"false\") d[k] = false;else if (d[k].toLowerCase() === \"true\") d[k] = true;else if (d[k].toLowerCase() === \"null\") d[k] = null;else if (d[k].toLowerCase() === \"undefined\") d[k] = undefined;\n          }\n        });\n      }\n\n      data = err ? [] : formatter ? formatter(data) : data;\n      if (data && !(data instanceof Array) && data.data && data.headers) data = fold(data);\n      if (key && \"_\".concat(key) in _this) _this[\"_\".concat(key)] = data;\n      if (_this._cache) _this._lrucache.set(path, data);\n      if (callback) callback(err, data);\n    });\n  }\n}","import {event} from \"d3-selection\";\n\nexport function nopropagation() {\n  event.stopImmediatePropagation();\n}\n\nexport default function() {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {select} from \"d3-selection\";\nimport noevent from \"./noevent.js\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, true);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, true);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, true);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(target, type, selection) {\n  this.target = target;\n  this.type = type;\n  this.selection = selection;\n}\n","import {event} from \"d3-selection\";\n\nexport function nopropagation() {\n  event.stopImmediatePropagation();\n}\n\nexport default function() {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolate} from \"d3-interpolate\";\nimport {customEvent, event, touch, mouse, select} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport BrushEvent from \"./event.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\nvar MODE_DRAG = {name: \"drag\"},\n    MODE_SPACE = {name: \"space\"},\n    MODE_HANDLE = {name: \"handle\"},\n    MODE_CENTER = {name: \"center\"};\n\nfunction number1(e) {\n  return [+e[0], +e[1]];\n}\n\nfunction number2(e) {\n  return [number1(e[0]), number1(e[1])];\n}\n\nfunction toucher(identifier) {\n  return function(target) {\n    return touch(target, event.touches, identifier);\n  };\n}\n\nvar X = {\n  name: \"x\",\n  handles: [\"w\", \"e\"].map(type),\n  input: function(x, e) { return x == null ? null : [[+x[0], e[0][1]], [+x[1], e[1][1]]]; },\n  output: function(xy) { return xy && [xy[0][0], xy[1][0]]; }\n};\n\nvar Y = {\n  name: \"y\",\n  handles: [\"n\", \"s\"].map(type),\n  input: function(y, e) { return y == null ? null : [[e[0][0], +y[0]], [e[1][0], +y[1]]]; },\n  output: function(xy) { return xy && [xy[0][1], xy[1][1]]; }\n};\n\nvar XY = {\n  name: \"xy\",\n  handles: [\"n\", \"w\", \"e\", \"s\", \"nw\", \"ne\", \"sw\", \"se\"].map(type),\n  input: function(xy) { return xy == null ? null : number2(xy); },\n  output: function(xy) { return xy; }\n};\n\nvar cursors = {\n  overlay: \"crosshair\",\n  selection: \"move\",\n  n: \"ns-resize\",\n  e: \"ew-resize\",\n  s: \"ns-resize\",\n  w: \"ew-resize\",\n  nw: \"nwse-resize\",\n  ne: \"nesw-resize\",\n  se: \"nwse-resize\",\n  sw: \"nesw-resize\"\n};\n\nvar flipX = {\n  e: \"w\",\n  w: \"e\",\n  nw: \"ne\",\n  ne: \"nw\",\n  se: \"sw\",\n  sw: \"se\"\n};\n\nvar flipY = {\n  n: \"s\",\n  s: \"n\",\n  nw: \"sw\",\n  ne: \"se\",\n  se: \"ne\",\n  sw: \"nw\"\n};\n\nvar signsX = {\n  overlay: +1,\n  selection: +1,\n  n: null,\n  e: +1,\n  s: null,\n  w: -1,\n  nw: -1,\n  ne: +1,\n  se: +1,\n  sw: -1\n};\n\nvar signsY = {\n  overlay: +1,\n  selection: +1,\n  n: -1,\n  e: null,\n  s: +1,\n  w: null,\n  nw: -1,\n  ne: -1,\n  se: +1,\n  sw: +1\n};\n\nfunction type(t) {\n  return {type: t};\n}\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter() {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultExtent() {\n  var svg = this.ownerSVGElement || this;\n  if (svg.hasAttribute(\"viewBox\")) {\n    svg = svg.viewBox.baseVal;\n    return [[svg.x, svg.y], [svg.x + svg.width, svg.y + svg.height]];\n  }\n  return [[0, 0], [svg.width.baseVal.value, svg.height.baseVal.value]];\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\n// Like d3.local, but with the name “__brush” rather than auto-generated.\nfunction local(node) {\n  while (!node.__brush) if (!(node = node.parentNode)) return;\n  return node.__brush;\n}\n\nfunction empty(extent) {\n  return extent[0][0] === extent[1][0]\n      || extent[0][1] === extent[1][1];\n}\n\nexport function brushSelection(node) {\n  var state = node.__brush;\n  return state ? state.dim.output(state.selection) : null;\n}\n\nexport function brushX() {\n  return brush(X);\n}\n\nexport function brushY() {\n  return brush(Y);\n}\n\nexport default function() {\n  return brush(XY);\n}\n\nfunction brush(dim) {\n  var extent = defaultExtent,\n      filter = defaultFilter,\n      touchable = defaultTouchable,\n      keys = true,\n      listeners = dispatch(brush, \"start\", \"brush\", \"end\"),\n      handleSize = 6,\n      touchending;\n\n  function brush(group) {\n    var overlay = group\n        .property(\"__brush\", initialize)\n      .selectAll(\".overlay\")\n      .data([type(\"overlay\")]);\n\n    overlay.enter().append(\"rect\")\n        .attr(\"class\", \"overlay\")\n        .attr(\"pointer-events\", \"all\")\n        .attr(\"cursor\", cursors.overlay)\n      .merge(overlay)\n        .each(function() {\n          var extent = local(this).extent;\n          select(this)\n              .attr(\"x\", extent[0][0])\n              .attr(\"y\", extent[0][1])\n              .attr(\"width\", extent[1][0] - extent[0][0])\n              .attr(\"height\", extent[1][1] - extent[0][1]);\n        });\n\n    group.selectAll(\".selection\")\n      .data([type(\"selection\")])\n      .enter().append(\"rect\")\n        .attr(\"class\", \"selection\")\n        .attr(\"cursor\", cursors.selection)\n        .attr(\"fill\", \"#777\")\n        .attr(\"fill-opacity\", 0.3)\n        .attr(\"stroke\", \"#fff\")\n        .attr(\"shape-rendering\", \"crispEdges\");\n\n    var handle = group.selectAll(\".handle\")\n      .data(dim.handles, function(d) { return d.type; });\n\n    handle.exit().remove();\n\n    handle.enter().append(\"rect\")\n        .attr(\"class\", function(d) { return \"handle handle--\" + d.type; })\n        .attr(\"cursor\", function(d) { return cursors[d.type]; });\n\n    group\n        .each(redraw)\n        .attr(\"fill\", \"none\")\n        .attr(\"pointer-events\", \"all\")\n        .on(\"mousedown.brush\", started)\n      .filter(touchable)\n        .on(\"touchstart.brush\", started)\n        .on(\"touchmove.brush\", touchmoved)\n        .on(\"touchend.brush touchcancel.brush\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  brush.move = function(group, selection) {\n    if (group.selection) {\n      group\n          .on(\"start.brush\", function() { emitter(this, arguments).beforestart().start(); })\n          .on(\"interrupt.brush end.brush\", function() { emitter(this, arguments).end(); })\n          .tween(\"brush\", function() {\n            var that = this,\n                state = that.__brush,\n                emit = emitter(that, arguments),\n                selection0 = state.selection,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(this, arguments) : selection, state.extent),\n                i = interpolate(selection0, selection1);\n\n            function tween(t) {\n              state.selection = t === 1 && selection1 === null ? null : i(t);\n              redraw.call(that);\n              emit.brush();\n            }\n\n            return selection0 !== null && selection1 !== null ? tween : tween(1);\n          });\n    } else {\n      group\n          .each(function() {\n            var that = this,\n                args = arguments,\n                state = that.__brush,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(that, args) : selection, state.extent),\n                emit = emitter(that, args).beforestart();\n\n            interrupt(that);\n            state.selection = selection1 === null ? null : selection1;\n            redraw.call(that);\n            emit.start().brush().end();\n          });\n    }\n  };\n\n  brush.clear = function(group) {\n    brush.move(group, null);\n  };\n\n  function redraw() {\n    var group = select(this),\n        selection = local(this).selection;\n\n    if (selection) {\n      group.selectAll(\".selection\")\n          .style(\"display\", null)\n          .attr(\"x\", selection[0][0])\n          .attr(\"y\", selection[0][1])\n          .attr(\"width\", selection[1][0] - selection[0][0])\n          .attr(\"height\", selection[1][1] - selection[0][1]);\n\n      group.selectAll(\".handle\")\n          .style(\"display\", null)\n          .attr(\"x\", function(d) { return d.type[d.type.length - 1] === \"e\" ? selection[1][0] - handleSize / 2 : selection[0][0] - handleSize / 2; })\n          .attr(\"y\", function(d) { return d.type[0] === \"s\" ? selection[1][1] - handleSize / 2 : selection[0][1] - handleSize / 2; })\n          .attr(\"width\", function(d) { return d.type === \"n\" || d.type === \"s\" ? selection[1][0] - selection[0][0] + handleSize : handleSize; })\n          .attr(\"height\", function(d) { return d.type === \"e\" || d.type === \"w\" ? selection[1][1] - selection[0][1] + handleSize : handleSize; });\n    }\n\n    else {\n      group.selectAll(\".selection,.handle\")\n          .style(\"display\", \"none\")\n          .attr(\"x\", null)\n          .attr(\"y\", null)\n          .attr(\"width\", null)\n          .attr(\"height\", null);\n    }\n  }\n\n  function emitter(that, args, clean) {\n    return (!clean && that.__brush.emitter) || new Emitter(that, args);\n  }\n\n  function Emitter(that, args) {\n    this.that = that;\n    this.args = args;\n    this.state = that.__brush;\n    this.active = 0;\n  }\n\n  Emitter.prototype = {\n    beforestart: function() {\n      if (++this.active === 1) this.state.emitter = this, this.starting = true;\n      return this;\n    },\n    start: function() {\n      if (this.starting) this.starting = false, this.emit(\"start\");\n      else this.emit(\"brush\");\n      return this;\n    },\n    brush: function() {\n      this.emit(\"brush\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) delete this.state.emitter, this.emit(\"end\");\n      return this;\n    },\n    emit: function(type) {\n      customEvent(new BrushEvent(brush, type, dim.output(this.state.selection)), listeners.apply, listeners, [type, this.that, this.args]);\n    }\n  };\n\n  function started() {\n    if (touchending && !event.touches) return;\n    if (!filter.apply(this, arguments)) return;\n\n    var that = this,\n        type = event.target.__data__.type,\n        mode = (keys && event.metaKey ? type = \"overlay\" : type) === \"selection\" ? MODE_DRAG : (keys && event.altKey ? MODE_CENTER : MODE_HANDLE),\n        signX = dim === Y ? null : signsX[type],\n        signY = dim === X ? null : signsY[type],\n        state = local(that),\n        extent = state.extent,\n        selection = state.selection,\n        W = extent[0][0], w0, w1,\n        N = extent[0][1], n0, n1,\n        E = extent[1][0], e0, e1,\n        S = extent[1][1], s0, s1,\n        dx = 0,\n        dy = 0,\n        moving,\n        shifting = signX && signY && keys && event.shiftKey,\n        lockX,\n        lockY,\n        pointer = event.touches ? toucher(event.changedTouches[0].identifier) : mouse,\n        point0 = pointer(that),\n        point = point0,\n        emit = emitter(that, arguments, true).beforestart();\n\n    if (type === \"overlay\") {\n      if (selection) moving = true;\n      state.selection = selection = [\n        [w0 = dim === Y ? W : point0[0], n0 = dim === X ? N : point0[1]],\n        [e0 = dim === Y ? E : w0, s0 = dim === X ? S : n0]\n      ];\n    } else {\n      w0 = selection[0][0];\n      n0 = selection[0][1];\n      e0 = selection[1][0];\n      s0 = selection[1][1];\n    }\n\n    w1 = w0;\n    n1 = n0;\n    e1 = e0;\n    s1 = s0;\n\n    var group = select(that)\n        .attr(\"pointer-events\", \"none\");\n\n    var overlay = group.selectAll(\".overlay\")\n        .attr(\"cursor\", cursors[type]);\n\n    if (event.touches) {\n      emit.moved = moved;\n      emit.ended = ended;\n    } else {\n      var view = select(event.view)\n          .on(\"mousemove.brush\", moved, true)\n          .on(\"mouseup.brush\", ended, true);\n      if (keys) view\n          .on(\"keydown.brush\", keydowned, true)\n          .on(\"keyup.brush\", keyupped, true)\n\n      dragDisable(event.view);\n    }\n\n    nopropagation();\n    interrupt(that);\n    redraw.call(that);\n    emit.start();\n\n    function moved() {\n      var point1 = pointer(that);\n      if (shifting && !lockX && !lockY) {\n        if (Math.abs(point1[0] - point[0]) > Math.abs(point1[1] - point[1])) lockY = true;\n        else lockX = true;\n      }\n      point = point1;\n      moving = true;\n      noevent();\n      move();\n    }\n\n    function move() {\n      var t;\n\n      dx = point[0] - point0[0];\n      dy = point[1] - point0[1];\n\n      switch (mode) {\n        case MODE_SPACE:\n        case MODE_DRAG: {\n          if (signX) dx = Math.max(W - w0, Math.min(E - e0, dx)), w1 = w0 + dx, e1 = e0 + dx;\n          if (signY) dy = Math.max(N - n0, Math.min(S - s0, dy)), n1 = n0 + dy, s1 = s0 + dy;\n          break;\n        }\n        case MODE_HANDLE: {\n          if (signX < 0) dx = Math.max(W - w0, Math.min(E - w0, dx)), w1 = w0 + dx, e1 = e0;\n          else if (signX > 0) dx = Math.max(W - e0, Math.min(E - e0, dx)), w1 = w0, e1 = e0 + dx;\n          if (signY < 0) dy = Math.max(N - n0, Math.min(S - n0, dy)), n1 = n0 + dy, s1 = s0;\n          else if (signY > 0) dy = Math.max(N - s0, Math.min(S - s0, dy)), n1 = n0, s1 = s0 + dy;\n          break;\n        }\n        case MODE_CENTER: {\n          if (signX) w1 = Math.max(W, Math.min(E, w0 - dx * signX)), e1 = Math.max(W, Math.min(E, e0 + dx * signX));\n          if (signY) n1 = Math.max(N, Math.min(S, n0 - dy * signY)), s1 = Math.max(N, Math.min(S, s0 + dy * signY));\n          break;\n        }\n      }\n\n      if (e1 < w1) {\n        signX *= -1;\n        t = w0, w0 = e0, e0 = t;\n        t = w1, w1 = e1, e1 = t;\n        if (type in flipX) overlay.attr(\"cursor\", cursors[type = flipX[type]]);\n      }\n\n      if (s1 < n1) {\n        signY *= -1;\n        t = n0, n0 = s0, s0 = t;\n        t = n1, n1 = s1, s1 = t;\n        if (type in flipY) overlay.attr(\"cursor\", cursors[type = flipY[type]]);\n      }\n\n      if (state.selection) selection = state.selection; // May be set by brush.move!\n      if (lockX) w1 = selection[0][0], e1 = selection[1][0];\n      if (lockY) n1 = selection[0][1], s1 = selection[1][1];\n\n      if (selection[0][0] !== w1\n          || selection[0][1] !== n1\n          || selection[1][0] !== e1\n          || selection[1][1] !== s1) {\n        state.selection = [[w1, n1], [e1, s1]];\n        redraw.call(that);\n        emit.brush();\n      }\n    }\n\n    function ended() {\n      nopropagation();\n      if (event.touches) {\n        if (event.touches.length) return;\n        if (touchending) clearTimeout(touchending);\n        touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n      } else {\n        dragEnable(event.view, moving);\n        view.on(\"keydown.brush keyup.brush mousemove.brush mouseup.brush\", null);\n      }\n      group.attr(\"pointer-events\", \"all\");\n      overlay.attr(\"cursor\", cursors.overlay);\n      if (state.selection) selection = state.selection; // May be set by brush.move (on start)!\n      if (empty(selection)) state.selection = null, redraw.call(that);\n      emit.end();\n    }\n\n    function keydowned() {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          shifting = signX && signY;\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_HANDLE) {\n            if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n            if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n            mode = MODE_CENTER;\n            move();\n          }\n          break;\n        }\n        case 32: { // SPACE; takes priority over ALT\n          if (mode === MODE_HANDLE || mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1 - dx; else if (signX > 0) w0 = w1 - dx;\n            if (signY < 0) s0 = s1 - dy; else if (signY > 0) n0 = n1 - dy;\n            mode = MODE_SPACE;\n            overlay.attr(\"cursor\", cursors.selection);\n            move();\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent();\n    }\n\n    function keyupped() {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          if (shifting) {\n            lockX = lockY = shifting = false;\n            move();\n          }\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n            if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n            mode = MODE_HANDLE;\n            move();\n          }\n          break;\n        }\n        case 32: { // SPACE\n          if (mode === MODE_SPACE) {\n            if (event.altKey) {\n              if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n              if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n              mode = MODE_CENTER;\n            } else {\n              if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n              if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n              mode = MODE_HANDLE;\n            }\n            overlay.attr(\"cursor\", cursors[type]);\n            move();\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent();\n    }\n  }\n\n  function touchmoved() {\n    emitter(this, arguments).moved();\n  }\n\n  function touchended() {\n    emitter(this, arguments).ended();\n  }\n\n  function initialize() {\n    var state = this.__brush || {selection: null};\n    state.extent = number2(extent.apply(this, arguments));\n    state.dim = dim;\n    return state;\n  }\n\n  brush.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant(number2(_)), brush) : extent;\n  };\n\n  brush.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), brush) : filter;\n  };\n\n  brush.handleSize = function(_) {\n    return arguments.length ? (handleSize = +_, brush) : handleSize;\n  };\n\n  brush.keyModifiers = function(_) {\n    return arguments.length ? (keys = !!_, brush) : keys;\n  };\n\n  brush.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? brush : value;\n  };\n\n  return brush;\n}\n","export var slice = [].slice;\n","import {slice} from \"./array\";\n\nvar noabort = {};\n\nfunction Queue(size) {\n  this._size = size;\n  this._call =\n  this._error = null;\n  this._tasks = [];\n  this._data = [];\n  this._waiting =\n  this._active =\n  this._ended =\n  this._start = 0; // inside a synchronous task callback?\n}\n\nQueue.prototype = queue.prototype = {\n  constructor: Queue,\n  defer: function(callback) {\n    if (typeof callback !== \"function\") throw new Error(\"invalid callback\");\n    if (this._call) throw new Error(\"defer after await\");\n    if (this._error != null) return this;\n    var t = slice.call(arguments, 1);\n    t.push(callback);\n    ++this._waiting, this._tasks.push(t);\n    poke(this);\n    return this;\n  },\n  abort: function() {\n    if (this._error == null) abort(this, new Error(\"abort\"));\n    return this;\n  },\n  await: function(callback) {\n    if (typeof callback !== \"function\") throw new Error(\"invalid callback\");\n    if (this._call) throw new Error(\"multiple await\");\n    this._call = function(error, results) { callback.apply(null, [error].concat(results)); };\n    maybeNotify(this);\n    return this;\n  },\n  awaitAll: function(callback) {\n    if (typeof callback !== \"function\") throw new Error(\"invalid callback\");\n    if (this._call) throw new Error(\"multiple await\");\n    this._call = callback;\n    maybeNotify(this);\n    return this;\n  }\n};\n\nfunction poke(q) {\n  if (!q._start) {\n    try { start(q); } // let the current task complete\n    catch (e) {\n      if (q._tasks[q._ended + q._active - 1]) abort(q, e); // task errored synchronously\n      else if (!q._data) throw e; // await callback errored synchronously\n    }\n  }\n}\n\nfunction start(q) {\n  while (q._start = q._waiting && q._active < q._size) {\n    var i = q._ended + q._active,\n        t = q._tasks[i],\n        j = t.length - 1,\n        c = t[j];\n    t[j] = end(q, i);\n    --q._waiting, ++q._active;\n    t = c.apply(null, t);\n    if (!q._tasks[i]) continue; // task finished synchronously\n    q._tasks[i] = t || noabort;\n  }\n}\n\nfunction end(q, i) {\n  return function(e, r) {\n    if (!q._tasks[i]) return; // ignore multiple callbacks\n    --q._active, ++q._ended;\n    q._tasks[i] = null;\n    if (q._error != null) return; // ignore secondary errors\n    if (e != null) {\n      abort(q, e);\n    } else {\n      q._data[i] = r;\n      if (q._waiting) poke(q);\n      else maybeNotify(q);\n    }\n  };\n}\n\nfunction abort(q, e) {\n  var i = q._tasks.length, t;\n  q._error = e; // ignore active callbacks\n  q._data = undefined; // allow gc\n  q._waiting = NaN; // prevent starting\n\n  while (--i >= 0) {\n    if (t = q._tasks[i]) {\n      q._tasks[i] = null;\n      if (t.abort) {\n        try { t.abort(); }\n        catch (e) { /* ignore */ }\n      }\n    }\n  }\n\n  q._active = NaN; // allow notification\n  maybeNotify(q);\n}\n\nfunction maybeNotify(q) {\n  if (!q._active && q._call) {\n    var d = q._data;\n    q._data = undefined; // allow gc\n    q._call(q._error, d);\n  }\n}\n\nexport default function queue(concurrency) {\n  if (concurrency == null) concurrency = Infinity;\n  else if (!((concurrency = +concurrency) >= 1)) throw new Error(\"invalid concurrency\");\n  return new Queue(concurrency);\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function ZoomEvent(target, type, transform) {\n  this.target = target;\n  this.type = type;\n  this.transform = transform;\n}\n","export function Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\n\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\n\nexport var identity = new Transform(1, 0, 0);\n\ntransform.prototype = Transform.prototype;\n\nexport default function transform(node) {\n  while (!node.__zoom) if (!(node = node.parentNode)) return identity;\n  return node.__zoom;\n}\n","import {event} from \"d3-selection\";\n\nexport function nopropagation() {\n  event.stopImmediatePropagation();\n}\n\nexport default function() {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolateZoom} from \"d3-interpolate\";\nimport {event, customEvent, select, mouse, touch} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport ZoomEvent from \"./event.js\";\nimport {Transform, identity} from \"./transform.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter() {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultExtent() {\n  var e = this;\n  if (e instanceof SVGElement) {\n    e = e.ownerSVGElement || e;\n    if (e.hasAttribute(\"viewBox\")) {\n      e = e.viewBox.baseVal;\n      return [[e.x, e.y], [e.x + e.width, e.y + e.height]];\n    }\n    return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];\n  }\n  return [[0, 0], [e.clientWidth, e.clientHeight]];\n}\n\nfunction defaultTransform() {\n  return this.__zoom || identity;\n}\n\nfunction defaultWheelDelta() {\n  return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002);\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nfunction defaultConstrain(transform, extent, translateExtent) {\n  var dx0 = transform.invertX(extent[0][0]) - translateExtent[0][0],\n      dx1 = transform.invertX(extent[1][0]) - translateExtent[1][0],\n      dy0 = transform.invertY(extent[0][1]) - translateExtent[0][1],\n      dy1 = transform.invertY(extent[1][1]) - translateExtent[1][1];\n  return transform.translate(\n    dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),\n    dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)\n  );\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      extent = defaultExtent,\n      constrain = defaultConstrain,\n      wheelDelta = defaultWheelDelta,\n      touchable = defaultTouchable,\n      scaleExtent = [0, Infinity],\n      translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]],\n      duration = 250,\n      interpolate = interpolateZoom,\n      listeners = dispatch(\"start\", \"zoom\", \"end\"),\n      touchstarting,\n      touchending,\n      touchDelay = 500,\n      wheelDelay = 150,\n      clickDistance2 = 0;\n\n  function zoom(selection) {\n    selection\n        .property(\"__zoom\", defaultTransform)\n        .on(\"wheel.zoom\", wheeled)\n        .on(\"mousedown.zoom\", mousedowned)\n        .on(\"dblclick.zoom\", dblclicked)\n      .filter(touchable)\n        .on(\"touchstart.zoom\", touchstarted)\n        .on(\"touchmove.zoom\", touchmoved)\n        .on(\"touchend.zoom touchcancel.zoom\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  zoom.transform = function(collection, transform, point) {\n    var selection = collection.selection ? collection.selection() : collection;\n    selection.property(\"__zoom\", defaultTransform);\n    if (collection !== selection) {\n      schedule(collection, transform, point);\n    } else {\n      selection.interrupt().each(function() {\n        gesture(this, arguments)\n            .start()\n            .zoom(null, typeof transform === \"function\" ? transform.apply(this, arguments) : transform)\n            .end();\n      });\n    }\n  };\n\n  zoom.scaleBy = function(selection, k, p) {\n    zoom.scaleTo(selection, function() {\n      var k0 = this.__zoom.k,\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return k0 * k1;\n    }, p);\n  };\n\n  zoom.scaleTo = function(selection, k, p) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t0 = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p,\n          p1 = t0.invert(p0),\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return constrain(translate(scale(t0, k1), p0, p1), e, translateExtent);\n    }, p);\n  };\n\n  zoom.translateBy = function(selection, x, y) {\n    zoom.transform(selection, function() {\n      return constrain(this.__zoom.translate(\n        typeof x === \"function\" ? x.apply(this, arguments) : x,\n        typeof y === \"function\" ? y.apply(this, arguments) : y\n      ), extent.apply(this, arguments), translateExtent);\n    });\n  };\n\n  zoom.translateTo = function(selection, x, y, p) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p;\n      return constrain(identity.translate(p0[0], p0[1]).scale(t.k).translate(\n        typeof x === \"function\" ? -x.apply(this, arguments) : -x,\n        typeof y === \"function\" ? -y.apply(this, arguments) : -y\n      ), e, translateExtent);\n    }, p);\n  };\n\n  function scale(transform, k) {\n    k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k));\n    return k === transform.k ? transform : new Transform(k, transform.x, transform.y);\n  }\n\n  function translate(transform, p0, p1) {\n    var x = p0[0] - p1[0] * transform.k, y = p0[1] - p1[1] * transform.k;\n    return x === transform.x && y === transform.y ? transform : new Transform(transform.k, x, y);\n  }\n\n  function centroid(extent) {\n    return [(+extent[0][0] + +extent[1][0]) / 2, (+extent[0][1] + +extent[1][1]) / 2];\n  }\n\n  function schedule(transition, transform, point) {\n    transition\n        .on(\"start.zoom\", function() { gesture(this, arguments).start(); })\n        .on(\"interrupt.zoom end.zoom\", function() { gesture(this, arguments).end(); })\n        .tween(\"zoom\", function() {\n          var that = this,\n              args = arguments,\n              g = gesture(that, args),\n              e = extent.apply(that, args),\n              p = point == null ? centroid(e) : typeof point === \"function\" ? point.apply(that, args) : point,\n              w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]),\n              a = that.__zoom,\n              b = typeof transform === \"function\" ? transform.apply(that, args) : transform,\n              i = interpolate(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));\n          return function(t) {\n            if (t === 1) t = b; // Avoid rounding error on end.\n            else { var l = i(t), k = w / l[2]; t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k); }\n            g.zoom(null, t);\n          };\n        });\n  }\n\n  function gesture(that, args, clean) {\n    return (!clean && that.__zooming) || new Gesture(that, args);\n  }\n\n  function Gesture(that, args) {\n    this.that = that;\n    this.args = args;\n    this.active = 0;\n    this.extent = extent.apply(that, args);\n    this.taps = 0;\n  }\n\n  Gesture.prototype = {\n    start: function() {\n      if (++this.active === 1) {\n        this.that.__zooming = this;\n        this.emit(\"start\");\n      }\n      return this;\n    },\n    zoom: function(key, transform) {\n      if (this.mouse && key !== \"mouse\") this.mouse[1] = transform.invert(this.mouse[0]);\n      if (this.touch0 && key !== \"touch\") this.touch0[1] = transform.invert(this.touch0[0]);\n      if (this.touch1 && key !== \"touch\") this.touch1[1] = transform.invert(this.touch1[0]);\n      this.that.__zoom = transform;\n      this.emit(\"zoom\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) {\n        delete this.that.__zooming;\n        this.emit(\"end\");\n      }\n      return this;\n    },\n    emit: function(type) {\n      customEvent(new ZoomEvent(zoom, type, this.that.__zoom), listeners.apply, listeners, [type, this.that, this.args]);\n    }\n  };\n\n  function wheeled() {\n    if (!filter.apply(this, arguments)) return;\n    var g = gesture(this, arguments),\n        t = this.__zoom,\n        k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))),\n        p = mouse(this);\n\n    // If the mouse is in the same location as before, reuse it.\n    // If there were recent wheel events, reset the wheel idle timeout.\n    if (g.wheel) {\n      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {\n        g.mouse[1] = t.invert(g.mouse[0] = p);\n      }\n      clearTimeout(g.wheel);\n    }\n\n    // If this wheel event won’t trigger a transform change, ignore it.\n    else if (t.k === k) return;\n\n    // Otherwise, capture the mouse point and location at the start.\n    else {\n      g.mouse = [p, t.invert(p)];\n      interrupt(this);\n      g.start();\n    }\n\n    noevent();\n    g.wheel = setTimeout(wheelidled, wheelDelay);\n    g.zoom(\"mouse\", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent, translateExtent));\n\n    function wheelidled() {\n      g.wheel = null;\n      g.end();\n    }\n  }\n\n  function mousedowned() {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var g = gesture(this, arguments, true),\n        v = select(event.view).on(\"mousemove.zoom\", mousemoved, true).on(\"mouseup.zoom\", mouseupped, true),\n        p = mouse(this),\n        x0 = event.clientX,\n        y0 = event.clientY;\n\n    dragDisable(event.view);\n    nopropagation();\n    g.mouse = [p, this.__zoom.invert(p)];\n    interrupt(this);\n    g.start();\n\n    function mousemoved() {\n      noevent();\n      if (!g.moved) {\n        var dx = event.clientX - x0, dy = event.clientY - y0;\n        g.moved = dx * dx + dy * dy > clickDistance2;\n      }\n      g.zoom(\"mouse\", constrain(translate(g.that.__zoom, g.mouse[0] = mouse(g.that), g.mouse[1]), g.extent, translateExtent));\n    }\n\n    function mouseupped() {\n      v.on(\"mousemove.zoom mouseup.zoom\", null);\n      dragEnable(event.view, g.moved);\n      noevent();\n      g.end();\n    }\n  }\n\n  function dblclicked() {\n    if (!filter.apply(this, arguments)) return;\n    var t0 = this.__zoom,\n        p0 = mouse(this),\n        p1 = t0.invert(p0),\n        k1 = t0.k * (event.shiftKey ? 0.5 : 2),\n        t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, arguments), translateExtent);\n\n    noevent();\n    if (duration > 0) select(this).transition().duration(duration).call(schedule, t1, p0);\n    else select(this).call(zoom.transform, t1);\n  }\n\n  function touchstarted() {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.touches,\n        n = touches.length,\n        g = gesture(this, arguments, event.changedTouches.length === n),\n        started, i, t, p;\n\n    nopropagation();\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = touch(this, touches, t.identifier);\n      p = [p, this.__zoom.invert(p), t.identifier];\n      if (!g.touch0) g.touch0 = p, started = true, g.taps = 1 + !!touchstarting;\n      else if (!g.touch1 && g.touch0[2] !== p[2]) g.touch1 = p, g.taps = 0;\n    }\n\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n\n    if (started) {\n      if (g.taps < 2) touchstarting = setTimeout(function() { touchstarting = null; }, touchDelay);\n      interrupt(this);\n      g.start();\n    }\n  }\n\n  function touchmoved() {\n    if (!this.__zooming) return;\n    var g = gesture(this, arguments),\n        touches = event.changedTouches,\n        n = touches.length, i, t, p, l;\n\n    noevent();\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n    g.taps = 0;\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = touch(this, touches, t.identifier);\n      if (g.touch0 && g.touch0[2] === t.identifier) g.touch0[0] = p;\n      else if (g.touch1 && g.touch1[2] === t.identifier) g.touch1[0] = p;\n    }\n    t = g.that.__zoom;\n    if (g.touch1) {\n      var p0 = g.touch0[0], l0 = g.touch0[1],\n          p1 = g.touch1[0], l1 = g.touch1[1],\n          dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp,\n          dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;\n      t = scale(t, Math.sqrt(dp / dl));\n      p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n    }\n    else if (g.touch0) p = g.touch0[0], l = g.touch0[1];\n    else return;\n    g.zoom(\"touch\", constrain(translate(t, p, l), g.extent, translateExtent));\n  }\n\n  function touchended() {\n    if (!this.__zooming) return;\n    var g = gesture(this, arguments),\n        touches = event.changedTouches,\n        n = touches.length, i, t;\n\n    nopropagation();\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, touchDelay);\n    for (i = 0; i < n; ++i) {\n      t = touches[i];\n      if (g.touch0 && g.touch0[2] === t.identifier) delete g.touch0;\n      else if (g.touch1 && g.touch1[2] === t.identifier) delete g.touch1;\n    }\n    if (g.touch1 && !g.touch0) g.touch0 = g.touch1, delete g.touch1;\n    if (g.touch0) g.touch0[1] = this.__zoom.invert(g.touch0[0]);\n    else {\n      g.end();\n      // If this was a dbltap, reroute to the (optional) dblclick.zoom handler.\n      if (g.taps === 2) {\n        var p = select(this).on(\"dblclick.zoom\");\n        if (p) p.apply(this, arguments);\n      }\n    }\n  }\n\n  zoom.wheelDelta = function(_) {\n    return arguments.length ? (wheelDelta = typeof _ === \"function\" ? _ : constant(+_), zoom) : wheelDelta;\n  };\n\n  zoom.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), zoom) : filter;\n  };\n\n  zoom.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), zoom) : touchable;\n  };\n\n  zoom.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom) : extent;\n  };\n\n  zoom.scaleExtent = function(_) {\n    return arguments.length ? (scaleExtent[0] = +_[0], scaleExtent[1] = +_[1], zoom) : [scaleExtent[0], scaleExtent[1]];\n  };\n\n  zoom.translateExtent = function(_) {\n    return arguments.length ? (translateExtent[0][0] = +_[0][0], translateExtent[1][0] = +_[1][0], translateExtent[0][1] = +_[0][1], translateExtent[1][1] = +_[1][1], zoom) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];\n  };\n\n  zoom.constrain = function(_) {\n    return arguments.length ? (constrain = _, zoom) : constrain;\n  };\n\n  zoom.duration = function(_) {\n    return arguments.length ? (duration = +_, zoom) : duration;\n  };\n\n  zoom.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, zoom) : interpolate;\n  };\n\n  zoom.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? zoom : value;\n  };\n\n  zoom.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom) : Math.sqrt(clickDistance2);\n  };\n\n  return zoom;\n}\n","// **Github:** https://github.com/zensh/lrucache\n//\n// **License:** MIT\n\n/* global module, define */\n;(function (root, factory) {\n  'use strict'\n\n  if (typeof module === 'object' && typeof module.exports === 'object') {\n    module.exports = factory()\n  } else if (typeof define === 'function' && define.amd) {\n    define([], factory)\n  } else {\n    root.LRUCache = factory()\n  }\n}(typeof window === 'object' ? window : this, function () {\n  'use strict'\n\n  var undef = void 0\n\n  function LRUCache (capacity) {\n    if (!(this instanceof LRUCache)) return new LRUCache(capacity)\n    this._LRUCacheState = new CacheState(capacity)\n  }\n\n  var proto = LRUCache.prototype\n\n  proto.get = function (key) {\n    var state = this._LRUCacheState\n    var lruEntry = state.hash[key]\n    if (!lruEntry) return\n    refresh(state.linkedList, lruEntry)\n    return state.data[key]\n  }\n\n  proto.set = function (key, value) {\n    var state = this._LRUCacheState\n    var lruEntry = state.hash[key]\n    if (value === undef) return this\n    if (!lruEntry) {\n      state.hash[key] = new LRUEntry(key)\n      state.linkedList.length += 1\n      lruEntry = state.hash[key]\n    }\n    refresh(state.linkedList, lruEntry)\n    state.data[key] = value\n    if (state.linkedList.length > state.capacity) this.remove(state.linkedList.end.key)\n    return this\n  }\n\n  proto.update = function (key, parseFn) {\n    if (this.has(key)) this.set(key, parseFn(this.get(key)))\n    return this\n  }\n\n  proto.remove = function (key) {\n    var state = this._LRUCacheState\n    var lruEntry = state.hash[key]\n    if (!lruEntry) return this\n    if (lruEntry === state.linkedList.head) state.linkedList.head = lruEntry.p\n    if (lruEntry === state.linkedList.end) state.linkedList.end = lruEntry.n\n\n    link(lruEntry.n, lruEntry.p)\n    delete state.hash[key]\n    delete state.data[key]\n    state.linkedList.length -= 1\n    return this\n  }\n\n  proto.removeAll = function () {\n    this._LRUCacheState = new CacheState(this._LRUCacheState.capacity)\n    return this\n  }\n\n  proto.info = function () {\n    var state = this._LRUCacheState\n    return {\n      capacity: state.capacity,\n      length: state.linkedList.length\n    }\n  }\n\n  proto.keys = function () {\n    var keys = []\n    var lruEntry = this._LRUCacheState.linkedList.head\n    while (lruEntry) {\n      keys.push(lruEntry.key)\n      lruEntry = lruEntry.p\n    }\n    return keys\n  }\n\n  proto.has = function (key) {\n    return !!this._LRUCacheState.hash[key]\n  }\n\n  proto.staleKey = function () {\n    return this._LRUCacheState.linkedList.end && this._LRUCacheState.linkedList.end.key\n  }\n\n  proto.popStale = function () {\n    var staleKey = this.staleKey()\n    if (!staleKey) return null\n    var stale = [staleKey, this._LRUCacheState.data[staleKey]]\n    this.remove(staleKey)\n    return stale\n  }\n\n  function CacheState (capacity) {\n    this.capacity = capacity > 0 ? +capacity : (Number.MAX_SAFE_INTEGER || Number.MAX_VALUE)\n    this.data = Object.create ? Object.create(null) : {}\n    this.hash = Object.create ? Object.create(null) : {}\n    this.linkedList = new LinkedList()\n  }\n\n  function LinkedList () {\n    this.length = 0\n    this.head = null\n    this.end = null\n  }\n\n  function LRUEntry (key) {\n    this.key = key\n    this.p = null\n    this.n = null\n  }\n\n  // 更新链表，把get或put方法操作的key提到链表head，即表示最新\n  function refresh (linkedList, entry) {\n    if (entry === linkedList.head) return\n    if (!linkedList.end) {\n      linkedList.end = entry\n    } else if (linkedList.end === entry) {\n      linkedList.end = entry.n\n    }\n\n    link(entry.n, entry.p)\n    link(entry, linkedList.head)\n    linkedList.head = entry\n    linkedList.head.n = null\n  }\n\n  // 对两个链表对象建立链接，形成一条链\n  function link (nextEntry, prevEntry) {\n    if (nextEntry === prevEntry) return\n    if (nextEntry) nextEntry.p = prevEntry\n    if (prevEntry) prevEntry.n = nextEntry\n  }\n\n  return LRUCache\n}))\n","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n/**\n    @external BaseClass\n    @see https://github.com/d3plus/d3plus-common#BaseClass\n*/\nimport { select } from \"d3-selection\";\nimport { accessor, BaseClass, constant, stylize } from \"d3plus-common\";\n/**\n    @class Button\n    @extends external:BaseClass\n    @desc Creates a set of HTML radio input elements.\n*/\n\nvar Button =\n/*#__PURE__*/\nfunction (_BaseClass) {\n  _inherits(Button, _BaseClass);\n\n  /**\n      @memberof Button\n      @desc Invoked when creating a new class instance, and sets any default parameters.\n      @private\n  */\n  function Button() {\n    var _this;\n\n    _classCallCheck(this, Button);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Button).call(this));\n    _this._buttonStyle = {\n      \"font-family\": \"'Roboto', 'Helvetica Neue', 'HelveticaNeue', 'Helvetica', 'Arial', sans-serif\",\n      \"font-size\": \"14px\",\n      \"margin\": \"0 5px\"\n    };\n    _this._data = [];\n    _this._text = accessor(\"text\");\n    _this._value = accessor(\"value\");\n    return _this;\n  }\n  /**\n      @memberof Button\n      @desc Renders the element to the page.\n      @chainable\n  */\n\n\n  _createClass(Button, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      if (this._container === void 0) this.container(select(\"body\").append(\"div\").node());\n\n      var container = this._container.selectAll(\"div#d3plus-Form-\".concat(this._uuid)).data([0]);\n\n      var svg = this._container.node().tagName.toLowerCase() === \"foreignobject\";\n      container = container.enter().append(svg ? \"xhtml:div\" : \"div\").attr(\"id\", \"d3plus-Form-\".concat(this._uuid)).attr(\"class\", \"d3plus-Form d3plus-Form-Button\").merge(container);\n      var button = container.selectAll(\"button\").data(this._data, function (d, i) {\n        return _this2._value(d, i);\n      });\n      button.exit().remove();\n      button = button.enter().append(\"button\").attr(\"class\", \"d3plus-Button\").attr(\"type\", \"button\").merge(button).call(stylize, this._buttonStyle).html(function (d, i) {\n        return _this2._text(d, i);\n      });\n\n      for (var event in this._on) {\n        if ({}.hasOwnProperty.call(this._on, event)) button.on(event, this._on[event]);\n      }\n\n      return this;\n    }\n    /**\n        @memberof Button\n        @desc Sets the css styles for the <input type=\"radio\"> elements.\n        @param {Object} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"buttonStyle\",\n    value: function buttonStyle(_) {\n      return arguments.length ? (this._buttonStyle = _, this) : this._buttonStyle;\n    }\n    /**\n        @memberof Button\n        @desc If *selector* is specified, sets the SVG container element to the specified d3 selector or DOM element and returns the current class instance. If *selector* is not specified, returns the current SVG container element, which is `undefined` by default.\n        @param {String|HTMLElement} [*selector*]\n        @chainable\n    */\n\n  }, {\n    key: \"container\",\n    value: function container(_) {\n      return arguments.length ? (this._container = select(_), this) : this._container;\n    }\n    /**\n        @memberof Radio\n        @desc Defines the array of values to be created as <button> tags. If no value is passed, the current array is returned.\n        @param {Array} [*value* = []]\n        @chainable\n    */\n\n  }, {\n    key: \"data\",\n    value: function data(_) {\n      return arguments.length ? (this._data = _, this) : this._data;\n    }\n    /**\n        @memberof Button\n        @desc Sets the inner text for each <button> element.\n        @param {Function|String} [*value* = function(d) { return d.text; }]\n        @chainable\n    */\n\n  }, {\n    key: \"text\",\n    value: function text(_) {\n      return arguments.length ? (this._text = typeof _ === \"function\" ? _ : constant(_), this) : this._text;\n    }\n    /**\n        @memberof Button\n        @desc Sets the value for each <button> element.\n        @param {Function} [*value* = function(d) { return d.value; }]\n        @chainable\n    */\n\n  }, {\n    key: \"value\",\n    value: function value(_) {\n      return arguments.length ? (this._value = _, this) : this._value;\n    }\n  }]);\n\n  return Button;\n}(BaseClass);\n\nexport { Button as default };","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n/**\n    @external BaseClass\n    @see https://github.com/d3plus/d3plus-common#BaseClass\n*/\nimport { select } from \"d3-selection\";\nimport { accessor, BaseClass, constant, stylize } from \"d3plus-common\";\n/**\n    @class Radio\n    @extends external:BaseClass\n    @desc Creates a set of HTML radio input elements.\n*/\n\nvar Radio =\n/*#__PURE__*/\nfunction (_BaseClass) {\n  _inherits(Radio, _BaseClass);\n\n  /**\n      @memberof Radio\n      @desc Invoked when creating a new class instance, and sets any default parameters.\n      @private\n  */\n  function Radio() {\n    var _this;\n\n    _classCallCheck(this, Radio);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Radio).call(this));\n    _this._labelStyle = {\n      \"font-family\": \"'Roboto', 'Helvetica Neue', 'HelveticaNeue', 'Helvetica', 'Arial', sans-serif\",\n      \"font-size\": \"14px\",\n      \"padding-right\": \"5px\"\n    };\n    _this._legendStyle = {\n      \"font-family\": \"'Roboto', 'Helvetica Neue', 'HelveticaNeue', 'Helvetica', 'Arial', sans-serif\",\n      \"font-size\": \"14px\",\n      \"padding-right\": \"5px\"\n    };\n    _this._options = [];\n    _this._radioStyle = {\n      \"margin-right\": \"10px\"\n    };\n    _this._text = accessor(\"text\");\n    _this._value = accessor(\"value\");\n    return _this;\n  }\n  /**\n      @memberof Radio\n      @desc Renders the element to the page.\n      @chainable\n  */\n\n\n  _createClass(Radio, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      if (this._container === void 0) this.container(select(\"body\").append(\"div\").node());\n      var that = this;\n\n      var container = this._container.selectAll(\"div#d3plus-Form-\".concat(this._uuid)).data([0]);\n\n      var svg = this._container.node().tagName.toLowerCase() === \"foreignobject\";\n      container = container.enter().append(svg ? \"xhtml:div\" : \"div\").attr(\"id\", \"d3plus-Form-\".concat(this._uuid)).attr(\"class\", \"d3plus-Form d3plus-Form-Radio\").merge(container);\n      var radios = container.selectAll(\"label\").data(this._options, function (d, i) {\n        return _this2._value(d, i);\n      });\n      radios.exit().each(function () {\n        select(this.nextSibling).remove();\n      }).remove();\n      radios = radios.enter().append(\"label\").attr(\"class\", \"d3plus-Label\").attr(\"for\", function (d, i) {\n        return \"\".concat(_this2._uuid, \"-\").concat(_this2._value(d, i));\n      }).each(function (d, i) {\n        var input = document.createElement(\"input\");\n        input.setAttribute(\"type\", \"radio\");\n        input.setAttribute(\"name\", \"d3plus-Radio-\".concat(that._uuid));\n        input.setAttribute(\"id\", \"\".concat(that._uuid, \"-\").concat(that._value(d, i)));\n        input.setAttribute(\"value\", that._value(d, i));\n        this.parentNode.insertBefore(input, this.nextSibling);\n      }).merge(radios).call(stylize, this._labelStyle).html(function (d, i) {\n        return _this2._text(d, i);\n      }).each(function (d, i) {\n        var checked = that._checked === void 0 ? !i : \"\".concat(that._value(d, i)) === \"\".concat(that._checked);\n        select(this).classed(\"active\", checked).style(\"cursor\", checked ? \"default\" : \"pointer\");\n        var input = select(this.nextSibling).property(\"checked\", checked).call(stylize, that._radioStyle).style(\"cursor\", checked ? \"default\" : \"pointer\").on(\"change.d3plus\", function () {\n          that.checked(this.value);\n          radios.each(function (d, i) {\n            var checked = \"\".concat(that._value(d, i)) === \"\".concat(that._checked);\n            select(this).classed(\"active\", checked).style(\"cursor\", checked ? \"default\" : \"pointer\");\n            select(this.nextSibling).style(\"cursor\", checked ? \"default\" : \"pointer\");\n          });\n        });\n\n        for (var event in that._on) {\n          if ({}.hasOwnProperty.call(that._on, event)) input.on(event, that._on[event]);\n        }\n      });\n      var legend = container.selectAll(\"legend#d3plus-Legend-\".concat(this._uuid)).data(this._legend ? [0] : []);\n      legend.exit().remove();\n      legend.enter().insert(\"legend\", \".d3plus-Label\").attr(\"id\", \"d3plus-Legend-\".concat(this._uuid)).attr(\"class\", \"d3plus-Legend\").merge(legend).call(stylize, this._legendStyle).html(this._legend);\n      return this;\n    }\n    /**\n        @memberof Radio\n        @desc Defines the checked input.\n        @param {Function} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"checked\",\n    value: function checked(_) {\n      return arguments.length ? (this._checked = _, this) : this._checked;\n    }\n    /**\n        @memberof Radio\n        @desc If *selector* is specified, sets the SVG container element to the specified d3 selector or DOM element and returns the current class instance. If *selector* is not specified, returns the current SVG container element, which is `undefined` by default.\n        @param {String|HTMLElement} [*selector*]\n        @chainable\n    */\n\n  }, {\n    key: \"container\",\n    value: function container(_) {\n      return arguments.length ? (this._container = select(_), this) : this._container;\n    }\n    /**\n        @memberof Radio\n        @desc Sets the css styles for the <label> element.\n        @param {Object} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"labelStyle\",\n    value: function labelStyle(_) {\n      return arguments.length ? (this._labelStyle = _, this) : this._labelStyle;\n    }\n    /**\n        @memberof Radio\n        @desc Creates a <legend> tag for the <select> element.\n        @param {String} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"legend\",\n    value: function legend(_) {\n      return arguments.length ? (this._legend = _, this) : this._legend;\n    }\n    /**\n        @memberof Radio\n        @desc Sets the css styles for the <legend> element.\n        @param {Object} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"legendStyle\",\n    value: function legendStyle(_) {\n      return arguments.length ? (this._legendStyle = _, this) : this._legendStyle;\n    }\n    /**\n        @memberof Radio\n        @desc Defines the array of values to be used as <option> tags inside of the <select> element. If no value is passed, the current array is returned.\n        @param {Array} [*value* = []]\n        @chainable\n    */\n\n  }, {\n    key: \"options\",\n    value: function options(_) {\n      return arguments.length ? (this._options = _, this) : this._options;\n    }\n    /**\n        @memberof Radio\n        @desc Sets the css styles for the <input type=\"radio\"> elements.\n        @param {Object} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"radioStyle\",\n    value: function radioStyle(_) {\n      return arguments.length ? (this._radioStyle = _, this) : this._radioStyle;\n    }\n    /**\n        @memberof Radio\n        @desc Sets the inner text for each <option> element.\n        @param {Function|String} [*value* = function(d) { return d.text; }]\n        @chainable\n    */\n\n  }, {\n    key: \"text\",\n    value: function text(_) {\n      return arguments.length ? (this._text = typeof _ === \"function\" ? _ : constant(_), this) : this._text;\n    }\n    /**\n        @memberof Radio\n        @desc Sets the value for each <option> element.\n        @param {Function} [*value* = function(d) { return d.value; }]\n        @chainable\n    */\n\n  }, {\n    key: \"value\",\n    value: function value(_) {\n      return arguments.length ? (this._value = _, this) : this._value;\n    }\n  }]);\n\n  return Radio;\n}(BaseClass);\n\nexport { Radio as default };","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n/**\n    @external BaseClass\n    @see https://github.com/d3plus/d3plus-common#BaseClass\n*/\nimport { select } from \"d3-selection\";\nimport { accessor, BaseClass, constant, stylize } from \"d3plus-common\";\n/**\n    @class Select\n    @extends external:BaseClass\n    @desc Creates an HTML select element.\n*/\n\nvar Select =\n/*#__PURE__*/\nfunction (_BaseClass) {\n  _inherits(Select, _BaseClass);\n\n  /**\n      @memberof Select\n      @desc Invoked when creating a new class instance, and sets any default parameters.\n      @private\n  */\n  function Select() {\n    var _this;\n\n    _classCallCheck(this, Select);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Select).call(this));\n    _this._labelStyle = {\n      \"font-family\": \"'Roboto', 'Helvetica Neue', 'HelveticaNeue', 'Helvetica', 'Arial', sans-serif\",\n      \"font-size\": \"14px\",\n      \"margin-right\": \"5px\"\n    };\n    _this._options = [];\n    _this._optionStyle = {\n      \"font-family\": \"'Roboto', 'Helvetica Neue', 'HelveticaNeue', 'Helvetica', 'Arial', sans-serif\",\n      \"font-size\": \"14px\"\n    };\n    _this._selectStyle = {\n      \"background\": \"#fafafa\",\n      \"border\": \"1px solid #ccc\",\n      \"border-radius\": \"0\",\n      \"font-family\": \"'Roboto', 'Helvetica Neue', 'HelveticaNeue', 'Helvetica', 'Arial', sans-serif\",\n      \"font-size\": \"14px\",\n      \"outline\": \"0\",\n      \"padding\": \"3px 5px 4px\"\n    };\n    _this._text = accessor(\"text\");\n    _this._value = accessor(\"value\");\n    return _this;\n  }\n  /**\n      @memberof Select\n      @desc Renders the element to the page.\n      @chainable\n  */\n\n\n  _createClass(Select, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      if (this._container === void 0) this.container(select(\"body\").append(\"div\").node());\n      var that = this;\n\n      var container = this._container.selectAll(\"div#d3plus-Form-\".concat(this._uuid)).data([0]);\n\n      var svg = this._container.node().tagName.toLowerCase() === \"foreignobject\";\n      container = container.enter().append(svg ? \"xhtml:div\" : \"div\").attr(\"id\", \"d3plus-Form-\".concat(this._uuid)).attr(\"class\", \"d3plus-Form d3plus-Form-Select\").merge(container);\n      var select = container.selectAll(\"select#d3plus-Select-\".concat(this._uuid)).data([0]);\n      select = select.enter().append(\"select\").attr(\"id\", \"d3plus-Select-\".concat(this._uuid)).attr(\"class\", \"d3plus-Select\").merge(select).call(stylize, this._selectStyle).on(\"change.d3plus\", function () {\n        that.selected(this.value);\n      });\n\n      for (var event in this._on) {\n        if ({}.hasOwnProperty.call(this._on, event)) select.on(event, this._on[event]);\n      }\n\n      var options = select.selectAll(\"option\").data(this._options, function (d, i) {\n        return _this2._value(d, i);\n      });\n      options.exit().remove();\n      options.enter().append(\"option\").attr(\"class\", \"d3plus-Option\").merge(options).call(stylize, this._optionStyle).attr(\"value\", function (d, i) {\n        return _this2._value(d, i);\n      }).html(function (d, i) {\n        return _this2._text(d, i);\n      }).property(\"selected\", function (d, i) {\n        return _this2._selected === void 0 ? !i : \"\".concat(_this2._value(d, i)) === \"\".concat(_this2._selected);\n      });\n      var label = container.selectAll(\"label#d3plus-Label-\".concat(this._uuid)).data(this._label ? [0] : []);\n      label.exit().remove();\n      label.enter().insert(\"label\", \"#d3plus-Select-\".concat(this._uuid)).attr(\"id\", \"d3plus-Label-\".concat(this._uuid)).attr(\"class\", \"d3plus-Label\").attr(\"for\", \"d3plus-Select-\".concat(this._uuid)).merge(label).call(stylize, this._labelStyle).html(this._label);\n      return this;\n    }\n    /**\n        @memberof Select\n        @desc If *selector* is specified, sets the SVG container element to the specified d3 selector or DOM element and returns the current class instance. If *selector* is not specified, returns the current SVG container element, which is `undefined` by default.\n        @param {String|HTMLElement} [*selector*]\n        @chainable\n    */\n\n  }, {\n    key: \"container\",\n    value: function container(_) {\n      return arguments.length ? (this._container = select(_), this) : this._container;\n    }\n    /**\n        @memberof Select\n        @desc Creates a <label> tag for the <select> element.\n        @param {String} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"label\",\n    value: function label(_) {\n      return arguments.length ? (this._label = _, this) : this._label;\n    }\n    /**\n        @memberof Select\n        @desc Sets the css styles for the <label> element.\n        @param {Object} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"labelStyle\",\n    value: function labelStyle(_) {\n      return arguments.length ? (this._labelStyle = _, this) : this._labelStyle;\n    }\n    /**\n        @memberof Select\n        @desc Defines the array of values to be used as <option> tags inside of the <select> element. If no value is passed, the current array is returned.\n        @param {Array} [*value* = []]\n        @chainable\n    */\n\n  }, {\n    key: \"options\",\n    value: function options(_) {\n      return arguments.length ? (this._options = _, this) : this._options;\n    }\n    /**\n        @memberof Select\n        @desc Sets the css styles for the <option> elements.\n        @param {Object} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"optionStyle\",\n    value: function optionStyle(_) {\n      return arguments.length ? (this._optionStyle = _, this) : this._optionStyle;\n    }\n    /**\n        @memberof Select\n        @desc Defines the selected option.\n        @param {Function} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"selected\",\n    value: function selected(_) {\n      return arguments.length ? (this._selected = _, this) : this._selected;\n    }\n    /**\n        @memberof Select\n        @desc Sets the css styles for the <select> element.\n        @param {Object} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"selectStyle\",\n    value: function selectStyle(_) {\n      return arguments.length ? (this._selectStyle = _, this) : this._selectStyle;\n    }\n    /**\n        @memberof Select\n        @desc Sets the inner text for each <option> element.\n        @param {Function|String} [*value* = function(d) { return d.text; }]\n        @chainable\n    */\n\n  }, {\n    key: \"text\",\n    value: function text(_) {\n      return arguments.length ? (this._text = typeof _ === \"function\" ? _ : constant(_), this) : this._text;\n    }\n    /**\n        @memberof Select\n        @desc Sets the value for each <option> element.\n        @param {Function} [*value* = function(d) { return d.value; }]\n        @chainable\n    */\n\n  }, {\n    key: \"value\",\n    value: function value(_) {\n      return arguments.length ? (this._value = _, this) : this._value;\n    }\n  }]);\n\n  return Select;\n}(BaseClass);\n\nexport { Select as default };","/**\n    @desc Sort an array of numbers by their numeric value, ensuring that the array is not changed in place.\n\nThis is necessary because the default behavior of .sort in JavaScript is to sort arrays as string values\n\n[1, 10, 12, 102, 20].sort()\n// output\n[1, 10, 102, 12, 20]\n\n    @param {Array<number>} array input array\n    @return {Array<number>} sorted array\n    @private\n    @example\nnumericSort([3, 2, 1]) // => [1, 2, 3]\n*/\nfunction numericSort(array) {\n  return array.slice().sort(function (a, b) {\n    return a - b;\n  });\n}\n/**\n    For a sorted input, counting the number of unique values is possible in constant time and constant memory. This is a simple implementation of the algorithm.\n\n    Values are compared with `===`, so objects and non-primitive objects are not handled in any special way.\n    @private\n    @param {Array} input an array of primitive values.\n    @returns {number} count of unique values\n    @example\nuniqueCountSorted([1, 2, 3]); // => 3\nuniqueCountSorted([1, 1, 1]); // => 1\n*/\n\n\nfunction uniqueCountSorted(input) {\n  var lastSeenValue,\n      uniqueValueCount = 0;\n\n  for (var i = 0; i < input.length; i++) {\n    if (i === 0 || input[i] !== lastSeenValue) {\n      lastSeenValue = input[i];\n      uniqueValueCount++;\n    }\n  }\n\n  return uniqueValueCount;\n}\n/**\n    Create a new column x row matrix.\n    @private\n    @param {number} columns\n    @param {number} rows\n    @return {Array<Array<number>>} matrix\n    @example\nmakeMatrix(10, 10);\n*/\n\n\nfunction makeMatrix(columns, rows) {\n  var matrix = [];\n\n  for (var i = 0; i < columns; i++) {\n    var column = [];\n\n    for (var j = 0; j < rows; j++) {\n      column.push(0);\n    }\n\n    matrix.push(column);\n  }\n\n  return matrix;\n}\n/**\n    Generates incrementally computed values based on the sums and sums of squares for the data array\n    @private\n    @param {number} j\n    @param {number} i\n    @param {Array<number>} sums\n    @param {Array<number>} sumsOfSquares\n    @return {number}\n    @example\nssq(0, 1, [-1, 0, 2], [1, 1, 5]);\n*/\n\n\nfunction ssq(j, i, sums, sumsOfSquares) {\n  var sji; // s(j, i)\n\n  if (j > 0) {\n    var muji = (sums[i] - sums[j - 1]) / (i - j + 1); // mu(j, i)\n\n    sji = sumsOfSquares[i] - sumsOfSquares[j - 1] - (i - j + 1) * muji * muji;\n  } else sji = sumsOfSquares[i] - sums[i] * sums[i] / (i + 1);\n\n  if (sji < 0) return 0;\n  return sji;\n}\n/**\n    Function that recursively divides and conquers computations for cluster j\n    @private\n    @param {number} iMin Minimum index in cluster to be computed\n    @param {number} iMax Maximum index in cluster to be computed\n    @param {number} cluster Index of the cluster currently being computed\n    @param {Array<Array<number>>} matrix\n    @param {Array<Array<number>>} backtrackMatrix\n    @param {Array<number>} sums\n    @param {Array<number>} sumsOfSquares\n*/\n\n\nfunction fillMatrixColumn(iMin, iMax, cluster, matrix, backtrackMatrix, sums, sumsOfSquares) {\n  if (iMin > iMax) return; // Start at midpoint between iMin and iMax\n\n  var i = Math.floor((iMin + iMax) / 2);\n  matrix[cluster][i] = matrix[cluster - 1][i - 1];\n  backtrackMatrix[cluster][i] = i;\n  var jlow = cluster; // the lower end for j\n\n  if (iMin > cluster) jlow = Math.max(jlow, backtrackMatrix[cluster][iMin - 1] || 0);\n  jlow = Math.max(jlow, backtrackMatrix[cluster - 1][i] || 0);\n  var jhigh = i - 1; // the upper end for j\n\n  if (iMax < matrix.length - 1) jhigh = Math.min(jhigh, backtrackMatrix[cluster][iMax + 1] || 0);\n\n  for (var j = jhigh; j >= jlow; --j) {\n    var sji = ssq(j, i, sums, sumsOfSquares);\n    if (sji + matrix[cluster - 1][jlow - 1] >= matrix[cluster][i]) break; // Examine the lower bound of the cluster border\n\n    var sjlowi = ssq(jlow, i, sums, sumsOfSquares);\n    var ssqjlow = sjlowi + matrix[cluster - 1][jlow - 1];\n\n    if (ssqjlow < matrix[cluster][i]) {\n      // Shrink the lower bound\n      matrix[cluster][i] = ssqjlow;\n      backtrackMatrix[cluster][i] = jlow;\n    }\n\n    jlow++;\n    var ssqj = sji + matrix[cluster - 1][j - 1];\n\n    if (ssqj < matrix[cluster][i]) {\n      matrix[cluster][i] = ssqj;\n      backtrackMatrix[cluster][i] = j;\n    }\n  }\n\n  fillMatrixColumn(iMin, i - 1, cluster, matrix, backtrackMatrix, sums, sumsOfSquares);\n  fillMatrixColumn(i + 1, iMax, cluster, matrix, backtrackMatrix, sums, sumsOfSquares);\n}\n/**\n    Initializes the main matrices used in Ckmeans and kicks off the divide and conquer cluster computation strategy\n    @private\n    @param {Array<number>} data sorted array of values\n    @param {Array<Array<number>>} matrix\n    @param {Array<Array<number>>} backtrackMatrix\n*/\n\n\nfunction fillMatrices(data, matrix, backtrackMatrix) {\n  var nValues = matrix[0] ? matrix[0].length : 0; // Shift values by the median to improve numeric stability\n\n  var shift = data[Math.floor(nValues / 2)]; // Cumulative sum and cumulative sum of squares for all values in data array\n\n  var sums = [];\n  var sumsOfSquares = []; // Initialize first column in matrix & backtrackMatrix\n\n  for (var i = 0, shiftedValue = void 0; i < nValues; ++i) {\n    shiftedValue = data[i] - shift;\n\n    if (i === 0) {\n      sums.push(shiftedValue);\n      sumsOfSquares.push(shiftedValue * shiftedValue);\n    } else {\n      sums.push(sums[i - 1] + shiftedValue);\n      sumsOfSquares.push(sumsOfSquares[i - 1] + shiftedValue * shiftedValue);\n    } // Initialize for cluster = 0\n\n\n    matrix[0][i] = ssq(0, i, sums, sumsOfSquares);\n    backtrackMatrix[0][i] = 0;\n  } // Initialize the rest of the columns\n\n\n  for (var cluster = 1; cluster < matrix.length; ++cluster) {\n    var iMin = nValues - 1;\n    if (cluster < matrix.length - 1) iMin = cluster;\n    fillMatrixColumn(iMin, nValues - 1, cluster, matrix, backtrackMatrix, sums, sumsOfSquares);\n  }\n}\n/**\n    @desc Ported to ES6 from the excellent [simple-statistics](https://github.com/simple-statistics/simple-statistics) packages.\n\nCkmeans clustering is an improvement on heuristic-based clustering approaches like Jenks. The algorithm was developed in [Haizhou Wang and Mingzhou Song](http://journal.r-project.org/archive/2011-2/RJournal_2011-2_Wang+Song.pdf) as a [dynamic programming](https://en.wikipedia.org/wiki/Dynamic_programming) approach to the problem of clustering numeric data into groups with the least within-group sum-of-squared-deviations.\n\nMinimizing the difference within groups - what Wang & Song refer to as `withinss`, or within sum-of-squares, means that groups are optimally homogenous within and the data is split into representative groups. This is very useful for visualization, where you may want to represent a continuous variable in discrete color or style groups. This function can provide groups that emphasize differences between data.\n\nBeing a dynamic approach, this algorithm is based on two matrices that store incrementally-computed values for squared deviations and backtracking indexes.\n\nThis implementation is based on Ckmeans 3.4.6, which introduced a new divide and conquer approach that improved runtime from O(kn^2) to O(kn log(n)).\n\nUnlike the [original implementation](https://cran.r-project.org/web/packages/Ckmeans.1d.dp/index.html), this implementation does not include any code to automatically determine the optimal number of clusters: this information needs to be explicitly provided.\n\n### References\n_Ckmeans.1d.dp: Optimal k-means Clustering in One Dimension by Dynamic\nProgramming_ Haizhou Wang and Mingzhou Song ISSN 2073-4859 from The R Journal Vol. 3/2, December 2011\n    @param {Array<number>} data input data, as an array of number values\n    @param {number} nClusters number of desired classes. This cannot be greater than the number of values in the data array.\n    @returns {Array<Array<number>>} clustered input\n    @example\nckmeans([-1, 2, -1, 2, 4, 5, 6, -1, 2, -1], 3);\n// The input, clustered into groups of similar numbers.\n//= [[-1, -1, -1, -1], [2, 2, 2], [4, 5, 6]]);\n*/\n\n\nexport default function (data, nClusters) {\n  if (nClusters > data.length) {\n    throw new Error(\"Cannot generate more classes than there are data values\");\n  }\n\n  var sorted = numericSort(data); // we'll use this as the maximum number of clusters\n\n  var uniqueCount = uniqueCountSorted(sorted); // if all of the input values are identical, there's one cluster with all of the input in it.\n\n  if (uniqueCount === 1) {\n    return [sorted];\n  }\n\n  var backtrackMatrix = makeMatrix(nClusters, sorted.length),\n      matrix = makeMatrix(nClusters, sorted.length); // This is a dynamic programming way to solve the problem of minimizing within-cluster sum of squares. It's similar to linear regression in this way, and this calculation incrementally computes the sum of squares that are later read.\n\n  fillMatrices(sorted, matrix, backtrackMatrix); // The real work of Ckmeans clustering happens in the matrix generation: the generated matrices encode all possible clustering combinations, and once they're generated we can solve for the best clustering groups very quickly.\n\n  var clusterRight = backtrackMatrix[0] ? backtrackMatrix[0].length - 1 : 0;\n  var clusters = []; // Backtrack the clusters from the dynamic programming matrix. This starts at the bottom-right corner of the matrix (if the top-left is 0, 0), and moves the cluster target with the loop.\n\n  for (var cluster = backtrackMatrix.length - 1; cluster >= 0; cluster--) {\n    var clusterLeft = backtrackMatrix[cluster][clusterRight]; // fill the cluster from the sorted input by taking a slice of the array. the backtrack matrix makes this easy - it stores the indexes where the cluster should start and end.\n\n    clusters[cluster] = sorted.slice(clusterLeft, clusterRight + 1);\n    if (cluster > 0) clusterRight = clusterLeft - 1;\n  }\n\n  return clusters;\n}","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n/**\n    @external BaseClass\n    @see https://github.com/d3plus/d3plus-common#BaseClass\n*/\nimport { max, sum } from \"d3-array\";\nimport { select as _select } from \"d3-selection\";\nimport { accessor, assign, BaseClass, configPrep, constant, elem } from \"d3plus-common\";\nimport * as shapes from \"d3plus-shape\";\nimport { TextBox, textWidth, textWrap } from \"d3plus-text\";\n/**\n    @class Legend\n    @extends external:BaseClass\n    @desc Creates an SVG scale based on an array of data. If *data* is specified, immediately draws based on the specified array and returns the current class instance. If *data* is not specified on instantiation, it can be passed/updated after instantiation using the [data](#shape.data) method.\n*/\n\nvar Legend =\n/*#__PURE__*/\nfunction (_BaseClass) {\n  _inherits(Legend, _BaseClass);\n\n  /**\n      @memberof Legend\n      @desc Invoked when creating a new class instance, and sets any default parameters.\n      @private\n  */\n  function Legend() {\n    var _this;\n\n    _classCallCheck(this, Legend);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Legend).call(this));\n    _this._align = \"center\";\n    _this._data = [];\n    _this._direction = \"row\";\n    _this._duration = 600;\n    _this._height = 200;\n    _this._id = accessor(\"id\");\n    _this._label = accessor(\"id\");\n    _this._lineData = [];\n    _this._outerBounds = {\n      width: 0,\n      height: 0,\n      x: 0,\n      y: 0\n    };\n    _this._padding = 5;\n    _this._shape = constant(\"Rect\");\n    _this._shapes = [];\n    _this._shapeConfig = {\n      duration: _this._duration,\n      fill: accessor(\"color\"),\n      height: constant(10),\n      hitArea: function hitArea(dd, i) {\n        var d = _this._lineData[i],\n            h = max([d.height, d.shapeHeight]);\n        return {\n          width: d.width + d.shapeWidth,\n          height: h,\n          x: -d.shapeWidth / 2,\n          y: -h / 2\n        };\n      },\n      labelBounds: function labelBounds(dd, i) {\n        var d = _this._lineData[i];\n        var x = d.shapeWidth;\n        if (d.shape === \"Circle\") x -= d.shapeR;\n        var height = max([d.shapeHeight, d.height]);\n        return {\n          width: d.width,\n          height: height,\n          x: x,\n          y: -height / 2\n        };\n      },\n      labelConfig: {\n        fontColor: constant(\"#444\"),\n        fontFamily: new TextBox().fontFamily(),\n        fontResize: false,\n        fontSize: constant(10),\n        verticalAlign: \"middle\"\n      },\n      opacity: 1,\n      r: constant(5),\n      width: constant(10),\n      x: function x(d, i) {\n        var datum = _this._lineData[i];\n        var y = datum.y;\n        var pad = _this._align === \"left\" || _this._align === \"right\" && _this._direction === \"column\" ? 0 : _this._align === \"center\" ? (_this._outerBounds.width - _this._rowWidth(_this._lineData.filter(function (l) {\n          return y === l.y;\n        }))) / 2 : _this._outerBounds.width - _this._rowWidth(_this._lineData.filter(function (l) {\n          return y === l.y;\n        }));\n\n        var prevWords = _this._lineData.slice(0, i).filter(function (l) {\n          return y === l.y;\n        });\n\n        return _this._rowWidth(prevWords) + _this._padding * (prevWords.length ? datum.sentence ? 2 : 1 : 0) + _this._outerBounds.x + datum.shapeWidth / 2 + pad;\n      },\n      y: function y(d, i) {\n        var ld = _this._lineData[i];\n        return ld.y + _this._titleHeight + _this._outerBounds.y + max(_this._lineData.filter(function (l) {\n          return ld.y === l.y;\n        }).map(function (l) {\n          return l.height;\n        }).concat(_this._data.map(function (l, x) {\n          return _this._fetchConfig(\"height\", l, x);\n        }))) / 2;\n      }\n    };\n    _this._titleClass = new TextBox();\n    _this._titleConfig = {};\n    _this._verticalAlign = \"middle\";\n    _this._width = 400;\n    return _this;\n  }\n\n  _createClass(Legend, [{\n    key: \"_fetchConfig\",\n    value: function _fetchConfig(key, d, i) {\n      var val = this._shapeConfig[key] || this._shapeConfig.labelConfig[key];\n      if (!val && key === \"lineHeight\") return this._fetchConfig(\"fontSize\", d, i) * 1.4;\n      return typeof val === \"function\" ? val(d, i) : val;\n    }\n  }, {\n    key: \"_rowHeight\",\n    value: function _rowHeight(row) {\n      return max(row.map(function (d) {\n        return d.height;\n      }).concat(row.map(function (d) {\n        return d.shapeHeight;\n      }))) + this._padding;\n    }\n  }, {\n    key: \"_rowWidth\",\n    value: function _rowWidth(row) {\n      var _this2 = this;\n\n      return sum(row.map(function (d, i) {\n        var p = _this2._padding * (i === row.length - 1 ? 0 : d.width ? 2 : 1);\n        return d.shapeWidth + d.width + p;\n      }));\n    }\n    /**\n        @memberof Legend\n        @desc Renders the current Legend to the page. If a *callback* is specified, it will be called once the legend is done drawing.\n        @param {Function} [*callback* = undefined]\n        @chainable\n    */\n\n  }, {\n    key: \"render\",\n    value: function render(callback) {\n      var _this3 = this;\n\n      if (this._select === void 0) this.select(_select(\"body\").append(\"svg\").attr(\"width\", \"\".concat(this._width, \"px\")).attr(\"height\", \"\".concat(this._height, \"px\")).node()); // Shape <g> Group\n\n      this._group = elem(\"g.d3plus-Legend\", {\n        parent: this._select\n      });\n      var availableHeight = this._height;\n      this._titleHeight = 0;\n      this._titleWidth = 0;\n\n      if (this._title) {\n        var f = this._titleConfig.fontFamily || this._titleClass.fontFamily()(),\n            s = this._titleConfig.fontSize || this._titleClass.fontSize()();\n\n        var lH = lH = this._titleConfig.lineHeight || this._titleClass.lineHeight();\n\n        lH = lH ? lH() : s * 1.4;\n        var res = textWrap().fontFamily(f).fontSize(s).lineHeight(lH).width(this._width).height(this._height)(this._title);\n        this._titleHeight = lH + res.lines.length + this._padding;\n        this._titleWidth = max(res.widths);\n        availableHeight -= this._titleHeight;\n      } // Calculate Text Sizes\n\n\n      this._lineData = this._data.map(function (d, i) {\n        var label = _this3._label(d, i);\n\n        var shape = _this3._shape(d, i);\n\n        var r = _this3._fetchConfig(\"r\", d, i);\n\n        var res = {\n          data: d,\n          i: i,\n          id: _this3._id(d, i),\n          shape: shape,\n          shapeR: r,\n          shapeWidth: shape === \"Circle\" ? r * 2 : _this3._fetchConfig(\"width\", d, i),\n          shapeHeight: shape === \"Circle\" ? r * 2 : _this3._fetchConfig(\"height\", d, i),\n          y: 0\n        };\n\n        if (!label) {\n          res.sentence = false;\n          res.words = [];\n          res.height = 0;\n          res.width = 0;\n          return res;\n        }\n\n        var f = _this3._fetchConfig(\"fontFamily\", d, i),\n            lh = _this3._fetchConfig(\"lineHeight\", d, i),\n            s = _this3._fetchConfig(\"fontSize\", d, i);\n\n        var h = availableHeight - (_this3._data.length + 1) * _this3._padding,\n            w = _this3._width;\n        res = Object.assign(res, textWrap().fontFamily(f).fontSize(s).lineHeight(lh).width(w).height(h)(label));\n        res.width = Math.ceil(max(res.lines.map(function (t) {\n          return textWidth(t, {\n            \"font-family\": f,\n            \"font-size\": s\n          });\n        }))) + s * 0.75;\n        res.height = Math.ceil(res.lines.length * (lh + 1));\n        res.og = {\n          height: res.height,\n          width: res.width\n        };\n        res.f = f;\n        res.s = s;\n        res.lh = lh;\n        return res;\n      });\n      var spaceNeeded;\n      var availableWidth = this._width - this._padding * 2;\n      spaceNeeded = this._rowWidth(this._lineData);\n\n      if (this._direction === \"column\" || spaceNeeded > availableWidth) {\n        var lines = 1,\n            newRows = [];\n        var maxLines = max(this._lineData.map(function (d) {\n          return d.words.length;\n        }));\n\n        this._wrapLines = function () {\n          var _this4 = this;\n\n          lines++;\n          if (lines > maxLines) return;\n          var wrappable = lines === 1 ? this._lineData.slice() : this._lineData.filter(function (d) {\n            return d.width + d.shapeWidth + _this4._padding * (d.width ? 2 : 1) > availableWidth && d.words.length >= lines;\n          }).sort(function (a, b) {\n            return b.sentence.length - a.sentence.length;\n          });\n\n          if (wrappable.length && availableHeight > wrappable[0].height * lines) {\n            var truncated = false;\n\n            var _loop = function _loop(x) {\n              var label = wrappable[x];\n              var h = label.og.height * lines,\n                  w = label.og.width * (1.5 * (1 / lines));\n              var res = textWrap().fontFamily(label.f).fontSize(label.s).lineHeight(label.lh).width(w).height(h)(label.sentence);\n\n              if (!res.truncated) {\n                label.width = Math.ceil(max(res.lines.map(function (t) {\n                  return textWidth(t, {\n                    \"font-family\": label.f,\n                    \"font-size\": label.s\n                  });\n                }))) + label.s;\n                label.height = res.lines.length * (label.lh + 1);\n              } else {\n                truncated = true;\n                return \"break\";\n              }\n            };\n\n            for (var x = 0; x < wrappable.length; x++) {\n              var _ret = _loop(x);\n\n              if (_ret === \"break\") break;\n            }\n\n            if (!truncated) this._wrapRows();\n          } else {\n            newRows = [];\n            return;\n          }\n        };\n\n        this._wrapRows = function () {\n          newRows = [];\n          var row = 1,\n              rowWidth = 0;\n\n          for (var i = 0; i < this._lineData.length; i++) {\n            var d = this._lineData[i],\n                w = d.width + this._padding * (d.width ? 2 : 1) + d.shapeWidth;\n\n            if (sum(newRows.map(function (row) {\n              return max(row, function (d) {\n                return max([d.height, d.shapeHeight]);\n              });\n            })) > availableHeight) {\n              newRows = [];\n              break;\n            }\n\n            if (w > availableWidth) {\n              newRows = [];\n\n              this._wrapLines();\n\n              break;\n            } else if (rowWidth + w < availableWidth) {\n              rowWidth += w;\n            } else if (this._direction !== \"column\") {\n              rowWidth = w;\n              row++;\n            }\n\n            if (!newRows[row - 1]) newRows[row - 1] = [];\n            newRows[row - 1].push(d);\n\n            if (this._direction === \"column\") {\n              rowWidth = 0;\n              row++;\n            }\n          }\n        };\n\n        this._wrapRows();\n\n        if (!newRows.length || sum(newRows, this._rowHeight.bind(this)) + this._padding > availableHeight) {\n          spaceNeeded = sum(this._lineData.map(function (d) {\n            return d.shapeWidth + _this3._padding;\n          })) - this._padding;\n\n          for (var i = 0; i < this._lineData.length; i++) {\n            this._lineData[i].width = 0;\n            this._lineData[i].height = 0;\n          }\n\n          this._wrapRows();\n        }\n\n        if (newRows.length && sum(newRows, this._rowHeight.bind(this)) + this._padding < availableHeight) {\n          newRows.forEach(function (row, i) {\n            row.forEach(function (d) {\n              if (i) {\n                d.y = sum(newRows.slice(0, i), _this3._rowHeight.bind(_this3));\n              }\n            });\n          });\n          spaceNeeded = max(newRows, this._rowWidth.bind(this));\n        }\n      }\n\n      var innerHeight = max(this._lineData, function (d, i) {\n        return max([d.height, _this3._fetchConfig(\"height\", d.data, i)]) + d.y;\n      }) + this._titleHeight,\n          innerWidth = max([spaceNeeded, this._titleWidth]);\n\n      this._outerBounds.width = innerWidth;\n      this._outerBounds.height = innerHeight;\n      var xOffset = this._padding,\n          yOffset = this._padding;\n      if (this._align === \"center\") xOffset = (this._width - innerWidth) / 2;else if (this._align === \"right\") xOffset = this._width - this._padding - innerWidth;\n      if (this._verticalAlign === \"middle\") yOffset = (this._height - innerHeight) / 2;else if (this._verticalAlign === \"bottom\") yOffset = this._height - this._padding - innerHeight;\n      this._outerBounds.x = xOffset;\n      this._outerBounds.y = yOffset;\n\n      this._titleClass.data(this._title ? [{\n        text: this._title\n      }] : []).duration(this._duration).select(this._group.node()).textAnchor({\n        left: \"start\",\n        center: \"middle\",\n        right: \"end\"\n      }[this._align]).width(this._width - this._padding * 2).x(this._padding).y(this._outerBounds.y).config(this._titleConfig).render();\n\n      this._shapes = [];\n      var baseConfig = configPrep.bind(this)(this._shapeConfig, \"legend\"),\n          config = {\n        id: function id(d) {\n          return d.id;\n        },\n        label: function label(d) {\n          return d.label;\n        },\n        lineHeight: function lineHeight(d) {\n          return d.lH;\n        }\n      };\n\n      var data = this._data.map(function (d, i) {\n        var obj = {\n          __d3plus__: true,\n          data: d,\n          i: i,\n          id: _this3._id(d, i),\n          label: _this3._lineData[i].width ? _this3._label(d, i) : false,\n          lH: _this3._fetchConfig(\"lineHeight\", d, i),\n          shape: _this3._shape(d, i)\n        };\n        return obj;\n      }); // Legend Shapes\n\n\n      this._shapes = [];\n      [\"Circle\", \"Rect\"].forEach(function (Shape) {\n        _this3._shapes.push(new shapes[Shape]().data(data.filter(function (d) {\n          return d.shape === Shape;\n        })).duration(_this3._duration).labelConfig({\n          padding: 0\n        }).select(_this3._group.node()).verticalAlign(\"top\").config(assign({}, baseConfig, config)).render());\n      });\n      if (callback) setTimeout(callback, this._duration + 100);\n      return this;\n    }\n    /**\n        @memberof Legend\n        @desc If *value* is specified, sets the active method for all shapes to the specified function and returns the current class instance. If *value* is not specified, returns the current active method.\n        @param {Function} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"active\",\n    value: function active(_) {\n      this._shapes.forEach(function (s) {\n        return s.active(_);\n      });\n\n      return this;\n    }\n    /**\n        @memberof Legend\n        @desc If *value* is specified, sets the horizontal alignment to the specified value and returns the current class instance. If *value* is not specified, returns the current horizontal alignment.\n        @param {String} [*value* = \"center\"] Supports `\"left\"` and `\"center\"` and `\"right\"`.\n        @chainable\n    */\n\n  }, {\n    key: \"align\",\n    value: function align(_) {\n      return arguments.length ? (this._align = _, this) : this._align;\n    }\n    /**\n        @memberof Legend\n        @desc If *data* is specified, sets the data array to the specified array and returns the current class instance. If *data* is not specified, returns the current data array. A shape key will be drawn for each object in the array.\n        @param {Array} [*data* = []]\n        @chainable\n    */\n\n  }, {\n    key: \"data\",\n    value: function data(_) {\n      return arguments.length ? (this._data = _, this) : this._data;\n    }\n    /**\n        @memberof Legend\n        @desc Sets the flow of the items inside the legend. If no value is passed, the current flow will be returned.\n        @param {String} [*value* = \"row\"]\n        @chainable\n    */\n\n  }, {\n    key: \"direction\",\n    value: function direction(_) {\n      return arguments.length ? (this._direction = _, this) : this._direction;\n    }\n    /**\n        @memberof Legend\n        @desc If *value* is specified, sets the transition duration of the legend and returns the current class instance. If *value* is not specified, returns the current duration.\n        @param {Number} [*value* = 600]\n        @chainable\n    */\n\n  }, {\n    key: \"duration\",\n    value: function duration(_) {\n      return arguments.length ? (this._duration = _, this) : this._duration;\n    }\n    /**\n        @memberof Legend\n        @desc If *value* is specified, sets the overall height of the legend and returns the current class instance. If *value* is not specified, returns the current height value.\n        @param {Number} [*value* = 100]\n        @chainable\n    */\n\n  }, {\n    key: \"height\",\n    value: function height(_) {\n      return arguments.length ? (this._height = _, this) : this._height;\n    }\n    /**\n        @memberof Legend\n        @desc If *value* is specified, sets the hover method for all shapes to the specified function and returns the current class instance. If *value* is not specified, returns the current hover method.\n        @param {Function} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"hover\",\n    value: function hover(_) {\n      this._shapes.forEach(function (s) {\n        return s.hover(_);\n      });\n\n      return this;\n    }\n    /**\n        @memberof Legend\n        @desc If *value* is specified, sets the id accessor to the specified function and returns the current class instance. If *value* is not specified, returns the current id accessor.\n        @param {Function} [*value*]\n        @chainable\n        @example\n    function value(d) {\n    return d.id;\n    }\n    */\n\n  }, {\n    key: \"id\",\n    value: function id(_) {\n      return arguments.length ? (this._id = _, this) : this._id;\n    }\n    /**\n        @memberof Legend\n        @desc If *value* is specified, sets the label accessor to the specified function or string and returns the current class instance. If *value* is not specified, returns the current label accessor, which is the [id](#shape.id) accessor by default.\n        @param {Function|String} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"label\",\n    value: function label(_) {\n      return arguments.length ? (this._label = typeof _ === \"function\" ? _ : constant(_), this) : this._label;\n    }\n    /**\n        @memberof Legend\n        @desc If called after the elements have been drawn to DOM, will returns the outer bounds of the legend content.\n        @example\n    {\"width\": 180, \"height\": 24, \"x\": 10, \"y\": 20}\n    */\n\n  }, {\n    key: \"outerBounds\",\n    value: function outerBounds() {\n      return this._outerBounds;\n    }\n    /**\n        @memberof Legend\n        @desc If *value* is specified, sets the padding between each key to the specified number and returns the current class instance. If *value* is not specified, returns the current padding value.\n        @param {Number} [*value* = 10]\n        @chainable\n    */\n\n  }, {\n    key: \"padding\",\n    value: function padding(_) {\n      return arguments.length ? (this._padding = _, this) : this._padding;\n    }\n    /**\n        @memberof Legend\n        @desc If *selector* is specified, sets the SVG container element to the specified d3 selector or DOM element and returns the current class instance. If *selector* is not specified, returns the current SVG container element.\n        @param {String|HTMLElement} [*selector* = d3.select(\"body\").append(\"svg\")]\n        @chainable\n    */\n\n  }, {\n    key: \"select\",\n    value: function select(_) {\n      return arguments.length ? (this._select = _select(_), this) : this._select;\n    }\n    /**\n        @memberof Legend\n        @desc If *value* is specified, sets the shape accessor to the specified function or string and returns the current class instance. If *value* is not specified, returns the current shape accessor.\n        @param {Function|String} [*value* = \"Rect\"]\n        @chainable\n    */\n\n  }, {\n    key: \"shape\",\n    value: function shape(_) {\n      return arguments.length ? (this._shape = typeof _ === \"function\" ? _ : constant(_), this) : this._shape;\n    }\n    /**\n        @memberof Legend\n        @desc If *config* is specified, sets the methods that correspond to the key/value pairs for each shape and returns the current class instance. If *config* is not specified, returns the current shape configuration.\n        @param {Object} [*config* = {}]\n        @chainable\n    */\n\n  }, {\n    key: \"shapeConfig\",\n    value: function shapeConfig(_) {\n      return arguments.length ? (this._shapeConfig = assign(this._shapeConfig, _), this) : this._shapeConfig;\n    }\n    /**\n        @memberof Legend\n        @desc If *value* is specified, sets the title of the legend and returns the current class instance. If *value* is not specified, returns the current title.\n        @param {String} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"title\",\n    value: function title(_) {\n      return arguments.length ? (this._title = _, this) : this._title;\n    }\n    /**\n        @memberof Legend\n        @desc If *value* is specified, sets the title configuration of the legend and returns the current class instance. If *value* is not specified, returns the current title configuration.\n        @param {Object} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"titleConfig\",\n    value: function titleConfig(_) {\n      return arguments.length ? (this._titleConfig = assign(this._titleConfig, _), this) : this._titleConfig;\n    }\n    /**\n        @memberof Legend\n        @desc If *value* is specified, sets the vertical alignment to the specified value and returns the current class instance. If *value* is not specified, returns the current vertical alignment.\n        @param {String} [*value* = \"middle\"] Supports `\"top\"` and `\"middle\"` and `\"bottom\"`.\n        @chainable\n    */\n\n  }, {\n    key: \"verticalAlign\",\n    value: function verticalAlign(_) {\n      return arguments.length ? (this._verticalAlign = _, this) : this._verticalAlign;\n    }\n    /**\n        @memberof Legend\n        @desc If *value* is specified, sets the overall width of the legend and returns the current class instance. If *value* is not specified, returns the current width value.\n        @param {Number} [*value* = 400]\n        @chainable\n    */\n\n  }, {\n    key: \"width\",\n    value: function width(_) {\n      return arguments.length ? (this._width = _, this) : this._width;\n    }\n  }]);\n\n  return Legend;\n}(BaseClass);\n\nexport { Legend as default };","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n/**\n    @external BaseClass\n    @see https://github.com/d3plus/d3plus-common#BaseClass\n*/\nimport ckmeans from \"./ckmeans\";\nimport Legend from \"./Legend\";\nimport { extent, merge, range } from \"d3-array\";\nimport { scaleLinear, scaleThreshold } from \"d3-scale\";\nimport { select as _select } from \"d3-selection\";\nimport { Axis } from \"d3plus-axis\";\nimport { colorLighter } from \"d3plus-color\";\nimport { accessor, assign, BaseClass, constant, elem } from \"d3plus-common\";\nimport { Rect } from \"d3plus-shape\";\n/**\n    @class ColorScale\n    @extends external:BaseClass\n    @desc Creates an SVG scale based on an array of data. If *data* is specified, immediately draws based on the specified array and returns the current class instance. If *data* is not specified on instantiation, it can be passed/updated after instantiation using the [data](#shape.data) method.\n*/\n\nvar ColorScale =\n/*#__PURE__*/\nfunction (_BaseClass) {\n  _inherits(ColorScale, _BaseClass);\n\n  /**\n      @memberof ColorScale\n      @desc Invoked when creating a new class instance, and sets any default parameters.\n      @private\n  */\n  function ColorScale() {\n    var _this;\n\n    _classCallCheck(this, ColorScale);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ColorScale).call(this));\n    _this._axisClass = new Axis();\n    _this._axisConfig = {\n      gridSize: 0,\n      shapeConfig: {\n        labelConfig: {\n          fontColor: \"#222\"\n        }\n      },\n      titleConfig: {\n        fontSize: 12\n      }\n    };\n    _this._axisTest = new Axis();\n    _this._align = \"middle\";\n    _this._bucketAxis = false;\n    _this._color = \"#0C8040\";\n    _this._data = [];\n    _this._duration = 600;\n    _this._height = 200;\n    _this._legendClass = new Legend();\n    _this._legendConfig = {\n      shapeConfig: {\n        labelConfig: {\n          fontColor: \"#222\"\n        },\n        stroke: \"#444\",\n        strokeWidth: 1\n      }\n    };\n    _this._orient = \"bottom\";\n    _this._outerBounds = {\n      width: 0,\n      height: 0,\n      x: 0,\n      y: 0\n    };\n    _this._padding = 5;\n    _this._rectClass = new Rect();\n    _this._rectConfig = {\n      stroke: \"#444\",\n      strokeWidth: 1\n    };\n    _this._scale = \"linear\";\n    _this._size = 10;\n    _this._value = accessor(\"value\");\n    _this._width = 400;\n    return _this;\n  }\n  /**\n      @memberof ColorScale\n      @desc Renders the current ColorScale to the page. If a *callback* is specified, it will be called once the ColorScale is done drawing.\n      @param {Function} [*callback* = undefined]\n      @chainable\n  */\n\n\n  _createClass(ColorScale, [{\n    key: \"render\",\n    value: function render(callback) {\n      var _this2 = this;\n\n      if (this._select === void 0) this.select(_select(\"body\").append(\"svg\").attr(\"width\", \"\".concat(this._width, \"px\")).attr(\"height\", \"\".concat(this._height, \"px\")).node());\n      var horizontal = [\"bottom\", \"top\"].includes(this._orient);\n      var height = horizontal ? \"height\" : \"width\",\n          width = horizontal ? \"width\" : \"height\",\n          x = horizontal ? \"x\" : \"y\",\n          y = horizontal ? \"y\" : \"x\"; // Shape <g> Group\n\n      this._group = elem(\"g.d3plus-ColorScale\", {\n        parent: this._select\n      });\n      var domain = extent(this._data, this._value);\n      var colors = this._color,\n          labels,\n          ticks;\n\n      if (!(colors instanceof Array)) {\n        colors = [colorLighter(colors, 0.9), colorLighter(colors, 0.75), colorLighter(colors, 0.5), colorLighter(colors, 0.25), colors];\n      }\n\n      if (this._scale === \"jenks\") {\n        var data = this._data.map(this._value).filter(function (d) {\n          return d !== null && typeof d === \"number\";\n        });\n\n        if (data.length <= colors.length) {\n          colors = colors.slice(colors.length - data.length);\n        }\n\n        var jenks = ckmeans(data, colors.length);\n        ticks = merge(jenks.map(function (c, i) {\n          return i === jenks.length - 1 ? [c[0], c[c.length - 1]] : [c[0]];\n        }));\n        var tickSet = new Set(ticks);\n\n        if (ticks.length !== tickSet.size) {\n          labels = Array.from(tickSet);\n        }\n\n        this._colorScale = scaleThreshold().domain(ticks).range([\"black\"].concat(colors).concat(colors[colors.length - 1]));\n      } else {\n        var step = (domain[1] - domain[0]) / (colors.length - 1);\n        var buckets = range(domain[0], domain[1] + step / 2, step);\n        if (this._scale === \"buckets\") ticks = buckets;\n        this._colorScale = scaleLinear().domain(buckets).range(colors);\n      }\n\n      if (this._bucketAxis || ![\"buckets\", \"jenks\"].includes(this._scale)) {\n        var _this$_rectClass$data;\n\n        var axisConfig = assign({\n          domain: horizontal ? domain : domain.reverse(),\n          duration: this._duration,\n          height: this._height,\n          labels: labels || ticks,\n          orient: this._orient,\n          padding: this._padding,\n          ticks: ticks,\n          width: this._width\n        }, this._axisConfig);\n\n        this._axisTest.select(elem(\"g.d3plus-ColorScale-axisTest\", {\n          enter: {\n            opacity: 0\n          },\n          parent: this._group\n        }).node()).config(axisConfig).duration(0).render();\n\n        var axisBounds = this._axisTest.outerBounds();\n\n        this._outerBounds[width] = this[\"_\".concat(width)] - this._padding * 2;\n        this._outerBounds[height] = axisBounds[height] + this._size;\n        this._outerBounds[x] = this._padding;\n        this._outerBounds[y] = this._padding;\n        if (this._align === \"middle\") this._outerBounds[y] = (this[\"_\".concat(height)] - this._outerBounds[height]) / 2;else if (this._align === \"end\") this._outerBounds[y] = this[\"_\".concat(height)] - this._padding - this._outerBounds[height];\n\n        var groupOffset = this._outerBounds[y] + ([\"bottom\", \"right\"].includes(this._orient) ? this._size : 0) - (axisConfig.padding || this._axisClass.padding());\n\n        this._axisClass.select(elem(\"g.d3plus-ColorScale-axis\", {\n          parent: this._group,\n          update: {\n            transform: \"translate(\".concat(horizontal ? 0 : groupOffset, \", \").concat(horizontal ? groupOffset : 0, \")\")\n          }\n        }).node()).config(axisConfig).align(\"start\").render();\n\n        var axisScale = this._axisTest._getPosition.bind(this._axisTest);\n\n        var scaleRange = this._axisTest._getRange();\n\n        var defs = this._group.selectAll(\"defs\").data([0]);\n\n        var defsEnter = defs.enter().append(\"defs\");\n        defsEnter.append(\"linearGradient\").attr(\"id\", \"gradient-\".concat(this._uuid));\n        defs = defsEnter.merge(defs);\n        defs.select(\"linearGradient\").attr(\"\".concat(x, \"1\"), horizontal ? \"0%\" : \"100%\").attr(\"\".concat(x, \"2\"), horizontal ? \"100%\" : \"0%\").attr(\"\".concat(y, \"1\"), \"0%\").attr(\"\".concat(y, \"2\"), \"0%\");\n        var stops = defs.select(\"linearGradient\").selectAll(\"stop\").data(colors);\n        stops.enter().append(\"stop\").merge(stops).attr(\"offset\", function (d, i) {\n          return \"\".concat(i / (colors.length - 1) * 100, \"%\");\n        }).attr(\"stop-color\", String);\n        /** determines the width of buckets */\n\n        var bucketWidth = function bucketWidth(d, i) {\n          var w = Math.abs(axisScale(ticks[i + 1]) - axisScale(d));\n          return w || 2;\n        };\n\n        this._rectClass.data(ticks ? ticks.slice(0, ticks.length - 1) : [0]).id(function (d, i) {\n          return i;\n        }).select(elem(\"g.d3plus-ColorScale-Rect\", {\n          parent: this._group\n        }).node()).config((_this$_rectClass$data = {\n          duration: this._duration,\n          fill: ticks ? function (d) {\n            return _this2._colorScale(d);\n          } : \"url(#gradient-\".concat(this._uuid, \")\")\n        }, _defineProperty(_this$_rectClass$data, x, ticks ? function (d, i) {\n          return axisScale(d) + bucketWidth(d, i) / 2 - ([\"left\", \"right\"].includes(_this2._orient) ? bucketWidth(d, i) : 0);\n        } : scaleRange[0] + (scaleRange[1] - scaleRange[0]) / 2), _defineProperty(_this$_rectClass$data, y, this._outerBounds[y] + ([\"top\", \"left\"].includes(this._orient) ? axisBounds[height] : 0) + this._size / 2), _defineProperty(_this$_rectClass$data, width, ticks ? bucketWidth : scaleRange[1] - scaleRange[0]), _defineProperty(_this$_rectClass$data, height, this._size), _this$_rectClass$data)).config(this._rectConfig).render();\n      } else {\n        var format = this._axisConfig.tickFormat ? this._axisConfig.tickFormat : function (d) {\n          return d;\n        };\n\n        var _data = ticks.reduce(function (arr, tick, i) {\n          if (i !== ticks.length - 1) {\n            var next = ticks[i + 1];\n            arr.push({\n              color: colors[i],\n              id: tick === next ? \"\".concat(format(tick), \"+\") : \"\".concat(format(tick), \" - \").concat(format(next))\n            });\n          }\n\n          return arr;\n        }, []);\n\n        var legendConfig = assign({\n          align: horizontal ? \"center\" : {\n            start: \"left\",\n            middle: \"center\",\n            end: \"right\"\n          }[this._align],\n          direction: horizontal ? \"row\" : \"column\",\n          duration: this._duration,\n          height: this._height,\n          padding: this._padding,\n          shapeConfig: assign({\n            duration: this._duration\n          }, this._axisConfig.shapeConfig || {}),\n          title: this._axisConfig.title,\n          titleConfig: this._axisConfig.titleConfig || {},\n          width: this._width,\n          verticalAlign: horizontal ? {\n            start: \"top\",\n            middle: \"middle\",\n            end: \"bottom\"\n          }[this._align] : \"middle\"\n        }, this._legendConfig);\n\n        this._legendClass.data(_data).select(elem(\"g.d3plus-ColorScale-legend\", {\n          parent: this._group\n        }).node()).config(legendConfig).render();\n\n        this._outerBounds = this._legendClass.outerBounds();\n      }\n\n      if (callback) setTimeout(callback, this._duration + 100);\n      return this;\n    }\n    /**\n        @memberof ColorScale\n        @desc The [ColorScale](http://d3plus.org/docs/#ColorScale) is constructed by combining an [Axis](http://d3plus.org/docs/#Axis) for the ticks/labels and a [Rect](http://d3plus.org/docs/#Rect) for the actual color box (or multiple boxes, as in a jenks scale). Because of this, there are separate configs for the [Axis](http://d3plus.org/docs/#Axis) class used to display the text ([axisConfig](http://d3plus.org/docs/#ColorScale.axisConfig)) and the [Rect](http://d3plus.org/docs/#Rect) class used to draw the color breaks ([rectConfig](http://d3plus.org/docs/#ColorScale.rectConfig)). This method acts as a pass-through to the config method of the [Axis](http://d3plus.org/docs/#Axis). An example usage of this method can be seen [here](http://d3plus.org/examples/d3plus-legend/colorScale-dark/).\n        @param {Object} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"axisConfig\",\n    value: function axisConfig(_) {\n      return arguments.length ? (this._axisConfig = assign(this._axisConfig, _), this) : this._axisConfig;\n    }\n    /**\n        @memberof ColorScale\n        @desc If *value* is specified, sets the horizontal alignment to the specified value and returns the current class instance. If *value* is not specified, returns the current horizontal alignment.\n        @param {String} [*value* = \"center\"] Supports `\"left\"` and `\"center\"` and `\"right\"`.\n        @chainable\n    */\n\n  }, {\n    key: \"align\",\n    value: function align(_) {\n      return arguments.length ? (this._align = _, this) : this._align;\n    }\n    /**\n        @memberof ColorScale\n        @desc Determines whether or not to use an Axis to display bucket scales (both \"buckets\" and \"jenks\"). When set to `false`, bucketed scales will use the `Legend` class to display squares for each range of data. When set to `true`, bucketed scales will be displayed on an `Axis`, similar to \"linear\" scales.\n        @param {Boolean} [*value* = false]\n        @chainable\n    */\n\n  }, {\n    key: \"bucketAxis\",\n    value: function bucketAxis(_) {\n      return arguments.length ? (this._bucketAxis = _, this) : this._bucketAxis;\n    }\n    /**\n        @memberof ColorScale\n        @desc Defines the color or colors to be used for the scale. If only a single color is given as a String, then the scale is interpolated by lightening that color. Otherwise, the function expects an Array of color values to be used in order for the scale.\n        @param {String|Array} [*value* = \"#0C8040\"]\n        @chainable\n    */\n\n  }, {\n    key: \"color\",\n    value: function color(_) {\n      return arguments.length ? (this._color = _, this) : this._color;\n    }\n    /**\n        @memberof ColorScale\n        @desc If *data* is specified, sets the data array to the specified array and returns the current class instance. If *data* is not specified, returns the current data array. A shape key will be drawn for each object in the array.\n        @param {Array} [*data* = []]\n        @chainable\n    */\n\n  }, {\n    key: \"data\",\n    value: function data(_) {\n      return arguments.length ? (this._data = _, this) : this._data;\n    }\n    /**\n        @memberof ColorScale\n        @desc If *value* is specified, sets the transition duration of the ColorScale and returns the current class instance. If *value* is not specified, returns the current duration.\n        @param {Number} [*value* = 600]\n        @chainable\n    */\n\n  }, {\n    key: \"duration\",\n    value: function duration(_) {\n      return arguments.length ? (this._duration = _, this) : this._duration;\n    }\n    /**\n        @memberof ColorScale\n        @desc If *value* is specified, sets the overall height of the ColorScale and returns the current class instance. If *value* is not specified, returns the current height value.\n        @param {Number} [*value* = 100]\n        @chainable\n    */\n\n  }, {\n    key: \"height\",\n    value: function height(_) {\n      return arguments.length ? (this._height = _, this) : this._height;\n    }\n    /**\n        @memberof ColorScale\n        @desc The [ColorScale](http://d3plus.org/docs/#ColorScale) is constructed by combining an [Axis](http://d3plus.org/docs/#Axis) for the ticks/labels and a [Rect](http://d3plus.org/docs/#Rect) for the actual color box (or multiple boxes, as in a jenks scale). Because of this, there are separate configs for the [Axis](http://d3plus.org/docs/#Axis) class used to display the text ([axisConfig](http://d3plus.org/docs/#ColorScale.axisConfig)) and the [Rect](http://d3plus.org/docs/#Rect) class used to draw the color breaks ([rectConfig](http://d3plus.org/docs/#ColorScale.rectConfig)). This method acts as a pass-through to the config method of the [Axis](http://d3plus.org/docs/#Axis). An example usage of this method can be seen [here](http://d3plus.org/examples/d3plus-legend/colorScale-dark/).\n        @param {Object} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"legendConfig\",\n    value: function legendConfig(_) {\n      return arguments.length ? (this._legendConfig = assign(this._legendConfig, _), this) : this._legendConfig;\n    }\n    /**\n        @memberof ColorScale\n        @desc Sets the flow of the items inside the ColorScale. If no value is passed, the current flow will be returned.\n        @param {String} [*value* = \"bottom\"]\n        @chainable\n    */\n\n  }, {\n    key: \"orient\",\n    value: function orient(_) {\n      return arguments.length ? (this._orient = _, this) : this._orient;\n    }\n    /**\n        @memberof ColorScale\n        @desc If called after the elements have been drawn to DOM, will returns the outer bounds of the ColorScale content.\n        @example\n    {\"width\": 180, \"height\": 24, \"x\": 10, \"y\": 20}\n    */\n\n  }, {\n    key: \"outerBounds\",\n    value: function outerBounds() {\n      return this._outerBounds;\n    }\n    /**\n        @memberof ColorScale\n        @desc If *value* is specified, sets the padding between each key to the specified number and returns the current class instance. If *value* is not specified, returns the current padding value.\n        @param {Number} [*value* = 10]\n        @chainable\n    */\n\n  }, {\n    key: \"padding\",\n    value: function padding(_) {\n      return arguments.length ? (this._padding = _, this) : this._padding;\n    }\n    /**\n        @memberof ColorScale\n        @desc The [ColorScale](http://d3plus.org/docs/#ColorScale) is constructed by combining an [Axis](http://d3plus.org/docs/#Axis) for the ticks/labels and a [Rect](http://d3plus.org/docs/#Rect) for the actual color box (or multiple boxes, as in a jenks scale). Because of this, there are separate configs for the [Axis](http://d3plus.org/docs/#Axis) class used to display the text ([axisConfig](http://d3plus.org/docs/#ColorScale.axisConfig)) and the [Rect](http://d3plus.org/docs/#Rect) class used to draw the color breaks ([rectConfig](http://d3plus.org/docs/#ColorScale.rectConfig)). This method acts as a pass-through to the config method of the [Rect](http://d3plus.org/docs/#Rect). An example usage of this method can be seen [here](http://d3plus.org/examples/d3plus-legend/colorScale-dark/).\n        @param {Object} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"rectConfig\",\n    value: function rectConfig(_) {\n      return arguments.length ? (this._rectConfig = assign(this._rectConfig, _), this) : this._rectConfig;\n    }\n    /**\n        @memberof ColorScale\n        @desc If *value* is specified, sets the scale of the ColorScale and returns the current class instance. If *value* is not specified, returns the current scale value.\n        @param {String} [*value* = \"linear\"] Can either be \"linear\", \"jenks\", or \"buckets\".\n        @chainable\n    */\n\n  }, {\n    key: \"scale\",\n    value: function scale(_) {\n      return arguments.length ? (this._scale = _, this) : this._scale;\n    }\n    /**\n        @memberof ColorScale\n        @desc If *selector* is specified, sets the SVG container element to the specified d3 selector or DOM element and returns the current class instance. If *selector* is not specified, returns the current SVG container element.\n        @param {String|HTMLElement} [*selector* = d3.select(\"body\").append(\"svg\")]\n        @chainable\n    */\n\n  }, {\n    key: \"select\",\n    value: function select(_) {\n      return arguments.length ? (this._select = _select(_), this) : this._select;\n    }\n    /**\n        @memberof ColorScale\n        @desc The height of horizontal color scales, and width when positioned vertical.\n        @param {Number} [*value* = 10]\n        @chainable\n    */\n\n  }, {\n    key: \"size\",\n    value: function size(_) {\n      return arguments.length ? (this._size = _, this) : this._size;\n    }\n    /**\n        @memberof ColorScale\n        @desc If *value* is specified, sets the value accessor to the specified function or string and returns the current class instance. If *value* is not specified, returns the current value accessor.\n        @param {Function|String} [*value*]\n        @chainable\n        @example\n    function value(d) {\n    return d.value;\n    }\n    */\n\n  }, {\n    key: \"value\",\n    value: function value(_) {\n      return arguments.length ? (this._value = typeof _ === \"function\" ? _ : constant(_), this) : this._value;\n    }\n    /**\n        @memberof ColorScale\n        @desc If *value* is specified, sets the overall width of the ColorScale and returns the current class instance. If *value* is not specified, returns the current width value.\n        @param {Number} [*value* = 400]\n        @chainable\n    */\n\n  }, {\n    key: \"width\",\n    value: function width(_) {\n      return arguments.length ? (this._width = _, this) : this._width;\n    }\n  }]);\n\n  return ColorScale;\n}(BaseClass);\n\nexport { ColorScale as default };","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n/**\n    @external Axis\n    @see https://github.com/d3plus/d3plus-axis#Axis\n*/\nimport { max } from \"d3-array\";\nimport { brushX } from \"d3-brush\";\nimport { scaleTime } from \"d3-scale\";\nimport { event, mouse } from \"d3-selection\";\nimport { Axis, date } from \"d3plus-axis\";\nimport { attrize, closest, elem } from \"d3plus-common\";\nimport { textWidth, textWrap } from \"d3plus-text\";\n/**\n    @class Timeline\n    @extends external:Axis\n*/\n\nvar Timeline =\n/*#__PURE__*/\nfunction (_Axis) {\n  _inherits(Timeline, _Axis);\n\n  /**\n      @memberof Timeline\n      @desc Invoked when creating a new class instance, and overrides any default parameters inherited from Axis.\n      @private\n  */\n  function Timeline() {\n    var _this;\n\n    _classCallCheck(this, Timeline);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Timeline).call(this));\n    _this._barConfig = Object.assign({}, _this._barConfig, {\n      \"stroke-width\": function strokeWidth() {\n        return _this._buttonBehaviorCurrent === \"buttons\" ? 0 : 1;\n      }\n    });\n    _this._brushing = true;\n\n    _this._brushFilter = function () {\n      return !event.button && event.detail < 2;\n    };\n\n    _this._buttonAlign = \"middle\";\n    _this._buttonBehavior = \"auto\";\n    _this._buttonPadding = 10;\n    _this._buttonHeight = 30;\n    _this._domain = [2001, 2010];\n    _this._gridSize = 0;\n    _this._handleConfig = {\n      fill: \"#444\"\n    };\n    _this._handleSize = 6;\n    _this._height = 100;\n    _this._labelOffset = false;\n    _this._on = {};\n\n    _this.orient(\"bottom\");\n\n    _this._scale = \"time\";\n    _this._selectionConfig = {\n      \"fill\": \"#777\",\n      \"stroke-width\": 0\n    };\n    _this._shape = \"Rect\";\n    _this._shapeConfig = Object.assign({}, _this._shapeConfig, {\n      labelBounds: function labelBounds(d) {\n        return _this._buttonBehaviorCurrent === \"buttons\" ? {\n          x: d.labelBounds.x,\n          y: -5,\n          width: d.labelBounds.width,\n          height: _this._buttonHeight\n        } : d.labelBounds;\n      },\n      fill: function fill() {\n        return _this._buttonBehaviorCurrent === \"buttons\" ? \"#EEE\" : \"#444\";\n      },\n      height: function height(d) {\n        return _this._buttonBehaviorCurrent === \"buttons\" ? _this._buttonHeight : d.tick ? 10 : 0;\n      },\n      width: function width(d) {\n        return _this._buttonBehaviorCurrent === \"buttons\" ? _this._ticksWidth / _this._availableTicks.length : d.tick ? _this._domain.map(function (t) {\n          return date(t).getTime();\n        }).includes(d.id) ? 2 : 1 : 0;\n      },\n      y: function y(d) {\n        return _this._buttonBehaviorCurrent === \"buttons\" ? _this._align === \"middle\" ? _this._height / 2 : _this._align === \"start\" ? _this._margin.top + _this._buttonHeight / 2 : _this._height - _this._buttonHeight / 2 - _this._margin.bottom : d.y;\n      }\n    });\n    _this._snapping = true;\n    return _this;\n  }\n  /**\n      @memberof Timeline\n      @desc Triggered on brush \"brush\".\n      @private\n  */\n\n\n  _createClass(Timeline, [{\n    key: \"_brushBrush\",\n    value: function _brushBrush() {\n      if (event.sourceEvent && event.sourceEvent.offsetX && event.selection !== null && (!this._brushing || this._snapping)) {\n        var domain = this._updateDomain();\n\n        this._brushGroup.call(this._brush.move, this._updateBrushLimit(domain));\n      }\n\n      this._brushStyle();\n\n      if (this._on.brush) this._on.brush(this._selection);\n    }\n    /**\n        @memberof Timeline\n        @desc Triggered on brush \"end\".\n        @private\n    */\n\n  }, {\n    key: \"_brushEnd\",\n    value: function _brushEnd() {\n      if (!event.sourceEvent) return; // Only transition after input.\n\n      var domain = this._updateDomain();\n\n      this._brushStyle();\n\n      if (this._brushing || !this._snapping) this._brushGroup.transition(this._transition).call(this._brush.move, this._updateBrushLimit(domain));\n      if (this._on.end) this._on.end(this._selection);\n    }\n    /**\n        @memberof Timeline\n        @desc Triggered on brush \"start\".\n        @private\n    */\n\n  }, {\n    key: \"_brushStart\",\n    value: function _brushStart() {\n      if (event.sourceEvent !== null && (!this._brushing || this._snapping)) {\n        var domain = this._updateDomain();\n\n        this._brushGroup.call(this._brush.move, this._updateBrushLimit(domain));\n      }\n\n      this._brushStyle();\n\n      if (this._on.start) this._on.start();\n    }\n    /**\n        @memberof Timeline\n        @desc Overrides the default brush styles.\n        @private\n    */\n\n  }, {\n    key: \"_brushStyle\",\n    value: function _brushStyle() {\n      var height = this._position.height;\n      var timelineHeight = this._shape === \"Circle\" ? typeof this._shapeConfig.r === \"function\" ? this._shapeConfig.r({\n        tick: true\n      }) * 2 : this._shapeConfig.r : this._shape === \"Rect\" ? typeof this._shapeConfig[height] === \"function\" ? this._shapeConfig[height]({\n        tick: true\n      }) : this._shapeConfig[height] : this._tickSize;\n\n      var brushOverlay = this._brushGroup.selectAll(\".overlay\").attr(\"cursor\", this._brushing ? \"crosshair\" : \"pointer\");\n\n      var brushSelection = this._brushGroup.selectAll(\".selection\").call(attrize, this._selectionConfig).attr(\"height\", timelineHeight);\n\n      var brushHandle = this._brushGroup.selectAll(\".handle\").call(attrize, this._handleConfig).attr(\"height\", this._buttonBehaviorCurrent === \"buttons\" ? this._buttonHeight : timelineHeight + this._handleSize);\n\n      if (this._buttonBehaviorCurrent === \"buttons\") {\n        var yTransform = this._align === \"middle\" ? this._height / 2 - this._buttonHeight / 2 : this._align === \"start\" ? this._margin.top : this._height - this._buttonHeight - this._margin.bottom;\n        brushHandle.attr(\"y\", yTransform);\n        brushOverlay.attr(\"x\", this._marginLeft).attr(\"width\", this._ticksWidth);\n        brushSelection.attr(\"y\", yTransform);\n      }\n    }\n    /**\n        @memberof Timeline\n        @desc Updates domain of the timeline used in brush functions.\n        @private\n    */\n\n  }, {\n    key: \"_updateDomain\",\n    value: function _updateDomain() {\n      var x = mouse(this._select.node())[0];\n      var domain = event.selection && this._brushing ? event.selection : [x, x];\n      if (this._buttonBehaviorCurrent === \"ticks\") domain = domain.map(this._d3Scale.invert);\n      domain = domain.map(Number);\n\n      if (event.type === \"brush\" && this._brushing && this._buttonBehaviorCurrent === \"buttons\") {\n        var diffs = event.selection.map(function (d) {\n          return Math.abs(d - event.sourceEvent.offsetX);\n        });\n        domain = diffs[1] <= diffs[0] ? [event.selection[0], event.sourceEvent.offsetX].sort(function (a, b) {\n          return a - b;\n        }) : [event.sourceEvent.offsetX, event.selection[1]].sort(function (a, b) {\n          return a - b;\n        });\n      }\n\n      var ticks = this._buttonBehaviorCurrent === \"ticks\" ? this._availableTicks.map(Number) : this._d3Scale.range();\n\n      if (this._buttonBehaviorCurrent === \"ticks\") {\n        domain[0] = date(closest(domain[0], ticks));\n        domain[1] = date(closest(domain[1], ticks));\n      } else {\n        domain[0] = closest(domain[0], ticks);\n        domain[1] = closest(domain[1], ticks);\n      }\n\n      var single = +domain[0] === +domain[1];\n\n      if (event.type === \"brush\" || event.type === \"end\") {\n        this._selection = this._buttonBehaviorCurrent === \"ticks\" ? single ? domain[0] : domain : single ? date(this._availableTicks[ticks.indexOf(domain[0])]) : [date(this._availableTicks[ticks.indexOf(domain[0])]), date(this._availableTicks[ticks.indexOf(domain[1])])];\n      }\n\n      return domain;\n    }\n    /**\n        @memberof Timeline\n        @desc Updates limits of the brush.\n        @private\n    */\n\n  }, {\n    key: \"_updateBrushLimit\",\n    value: function _updateBrushLimit(domain) {\n      var selection = this._buttonBehaviorCurrent === \"ticks\" ? domain.map(date).map(this._d3Scale) : domain;\n\n      if (selection[0] === selection[1]) {\n        selection[0] -= 0.1;\n        selection[1] += 0.1;\n      }\n\n      if (this._buttonBehaviorCurrent === \"buttons\") {\n        var buttonWidth = 0.5 * (this._ticksWidth / this._availableTicks.length - this._handleSize);\n        selection[0] -= buttonWidth;\n        selection[1] += buttonWidth;\n      }\n\n      return selection;\n    }\n    /**\n        @memberof Timeline\n        @desc Draws the timeline.\n        @param {Function} [*callback* = undefined]\n        @chainable\n    */\n\n  }, {\n    key: \"render\",\n    value: function render(callback) {\n      var _this2 = this;\n\n      var _this$_position = this._position,\n          height = _this$_position.height,\n          y = _this$_position.y;\n\n      if (this._buttonBehavior !== \"ticks\") {\n        var ticks = this._ticks ? this._ticks.map(date) : this._domain.map(date);\n        var d3Scale = scaleTime().domain(ticks).range([0, this._width]);\n        ticks = this._ticks ? ticks : d3Scale.ticks();\n        if (!this._tickFormat) this._tickFormat = d3Scale.tickFormat(ticks.length - 1, this._tickSpecifier); // Measures size of ticks\n\n        var maxLabel = 0;\n        ticks.forEach(function (d, i) {\n          var f = _this2._shapeConfig.labelConfig.fontFamily(d, i),\n              s = _this2._shapeConfig.labelConfig.fontSize(d, i);\n\n          var wrap = textWrap().fontFamily(f).fontSize(s).lineHeight(_this2._shapeConfig.lineHeight ? _this2._shapeConfig.lineHeight(d, i) : undefined);\n          var res = wrap(d3Scale.tickFormat(ticks.length - 1, _this2._tickSpecifier)(d));\n          var width = res.lines.length ? Math.ceil(max(res.lines.map(function (line) {\n            return textWidth(line, {\n              \"font-family\": f,\n              \"font-size\": s\n            });\n          }))) + s / 4 : 0;\n          if (width % 2) width++;\n          if (maxLabel < width) maxLabel = width + 2 * _this2._buttonPadding;\n        });\n        this._ticksWidth = maxLabel * ticks.length;\n      }\n\n      this._buttonBehaviorCurrent = this._buttonBehavior === \"auto\" ? this._ticksWidth < this._width ? \"buttons\" : \"ticks\" : this._buttonBehavior;\n\n      if (this._buttonBehaviorCurrent === \"buttons\") {\n        this._scale = \"ordinal\";\n        this._labelRotation = 0;\n        if (!this._brushing) this._handleSize = 0;\n        var domain = scaleTime().domain(this._domain.map(date)).ticks().map(this._tickFormat).map(Number);\n        this._domain = this._ticks ? this._ticks.map(date) : Array.from(Array(domain[domain.length - 1] - domain[0] + 1), function (_, x) {\n          return domain[0] + x;\n        }).map(date);\n        this._ticks = this._domain;\n        var buttonMargin = 0.5 * this._ticksWidth / this._ticks.length;\n        this._marginLeft = this._buttonAlign === \"middle\" ? (this._width - this._ticksWidth) / 2 : this._buttonAlign === \"end\" ? this._width - this._ticksWidth : 0;\n        var marginRight = this._buttonAlign === \"middle\" ? (this._width + this._ticksWidth) / 2 : this._buttonAlign === \"start\" ? this._ticksWidth : undefined;\n        this._range = [this._buttonAlign === \"start\" ? undefined : this._marginLeft + buttonMargin, this._buttonAlign === \"end\" ? undefined : marginRight - buttonMargin];\n      }\n\n      if (this._ticks) this._domain = this._buttonBehaviorCurrent === \"ticks\" ? [this._ticks[0], this._ticks[this._ticks.length - 1]] : this._ticks.map(date);\n      this._labels = this._ticks;\n\n      _get(_getPrototypeOf(Timeline.prototype), \"render\", this).call(this, callback);\n\n      var offset = this._outerBounds[y],\n          range = this._d3Scale.range();\n\n      var brush = this._brush = brushX().extent([[range[0], offset], [range[range.length - 1], offset + this._outerBounds[height]]]).filter(this._brushFilter).handleSize(this._handleSize).on(\"start\", this._brushStart.bind(this)).on(\"brush\", this._brushBrush.bind(this)).on(\"end\", this._brushEnd.bind(this));\n      var latest = this._buttonBehaviorCurrent === \"ticks\" ? this._availableTicks[this._availableTicks.length - 1] : range[range.length - 1];\n      var selection = this._selection === void 0 ? [latest, latest] : this._selection instanceof Array ? this._buttonBehaviorCurrent === \"buttons\" ? this._selection.map(function (d) {\n        return range[_this2._ticks.map(Number).indexOf(+d)];\n      }).slice() : this._selection.slice() : this._buttonBehaviorCurrent === \"buttons\" ? [range[this._ticks.map(Number).indexOf(+this._selection)], range[this._ticks.map(Number).indexOf(+this._selection)]] : [this._selection, this._selection];\n\n      this._updateBrushLimit(selection);\n\n      this._brushGroup = elem(\"g.brushGroup\", {\n        parent: this._group\n      });\n\n      this._brushGroup.call(brush).transition(this._transition).call(brush.move, this._buttonBehaviorCurrent === \"ticks\" ? this._updateBrushLimit(selection) : selection);\n\n      this._outerBounds.y -= this._handleSize / 2;\n      this._outerBounds.height += this._handleSize / 2;\n      return this;\n    }\n    /**\n          @memberof Timeline\n          @desc If *value* is specified, sets the button padding and returns the current class instance. If *value* is not specified, returns the current button padding.\n          @param {Number} [*value* = 10]\n          @chainable\n      */\n\n  }, {\n    key: \"buttonPadding\",\n    value: function buttonPadding(_) {\n      return arguments.length ? (this._buttonPadding = _, this) : this._buttonPadding;\n    }\n    /**\n        @memberof Timeline\n        @desc If *value* is specified, toggles the brushing value and returns the current class instance. If *value* is not specified, returns the current brushing value.\n        @param {Boolean} [*value* = true]\n        @chainable\n    */\n\n  }, {\n    key: \"brushing\",\n    value: function brushing(_) {\n      return arguments.length ? (this._brushing = _, this) : this._brushing;\n    }\n    /**\n        @memberof Timeline\n        @desc If *value* is specified, sets the brush event filter and returns the current class instance. If *value* is not specified, returns the current brush event filter.\n        @param {Function} [*value*]\n        @chainable\n        @example\n    function() {\n    return !event.button && event.detail < 2;\n    }\n    */\n\n  }, {\n    key: \"brushFilter\",\n    value: function brushFilter(_) {\n      return arguments.length ? (this._brushFilter = _, this) : this._brushFilter;\n    }\n    /**\n        @memberof Timeline\n        @desc If *value* is specified, toggles the horizontal alignment of the button timeline. Accepted values are `\"start\"`, `\"middle\"` and `\"end\"`. If *value* is not specified, returns the current button value.\n        @param {String} [*value* = \"middle\"]\n        @chainable\n    */\n\n  }, {\n    key: \"buttonAlign\",\n    value: function buttonAlign(_) {\n      return arguments.length ? (this._buttonAlign = _, this) : this._buttonAlign;\n    }\n    /**\n        @memberof Timeline\n        @desc If *value* is specified, toggles the style of the timeline. Accepted values are `\"auto\"`, `\"buttons\"` and `\"ticks\"`. If *value* is not specified, returns the current button value.\n        @param {String} [*value* = \"auto\"]\n        @chainable\n    */\n\n  }, {\n    key: \"buttonBehavior\",\n    value: function buttonBehavior(_) {\n      return arguments.length ? (this._buttonBehavior = _, this) : this._buttonBehavior;\n    }\n    /**\n          @memberof Timeline\n          @desc If *value* is specified, sets the button height and returns the current class instance. If *value* is not specified, returns the current button height.\n          @param {Number} [*value* = 30]\n          @chainable\n      */\n\n  }, {\n    key: \"buttonHeight\",\n    value: function buttonHeight(_) {\n      return arguments.length ? (this._buttonHeight = _, this) : this._buttonHeight;\n    }\n    /**\n        @memberof Timeline\n        @desc If *value* is specified, sets the handle style and returns the current class instance. If *value* is not specified, returns the current handle style.\n        @param {Object} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"handleConfig\",\n    value: function handleConfig(_) {\n      return arguments.length ? (this._handleConfig = Object.assign(this._handleConfig, _), this) : this._handleConfig;\n    }\n    /**\n        @memberof Timeline\n        @desc If *value* is specified, sets the handle size and returns the current class instance. If *value* is not specified, returns the current handle size.\n        @param {Number} [*value* = 6]\n        @chainable\n    */\n\n  }, {\n    key: \"handleSize\",\n    value: function handleSize(_) {\n      return arguments.length ? (this._handleSize = _, this) : this._handleSize;\n    }\n    /**\n        @memberof Timeline\n        @desc Adds or removes a *listener* for the specified brush event *typename*. If a *listener* is not specified, returns the currently-assigned listener for the specified event *typename*. Mirrors the core [d3-brush](https://github.com/d3/d3-brush#brush_on) behavior.\n        @param {String|Object} [*typename*]\n        @param {Function} [*listener*]\n        @chainable\n    */\n\n  }, {\n    key: \"on\",\n    value: function on(_, f) {\n      return arguments.length === 2 ? (this._on[_] = f, this) : arguments.length ? typeof _ === \"string\" ? this._on[_] : (this._on = Object.assign({}, this._on, _), this) : this._on;\n    }\n    /**\n        @memberof Timeline\n        @desc If *value* is specified, sets the selection style and returns the current class instance. If *value* is not specified, returns the current selection style.\n        @param {Object} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"selectionConfig\",\n    value: function selectionConfig(_) {\n      return arguments.length ? (this._selectionConfig = Object.assign(this._selectionConfig, _), this) : this._selectionConfig;\n    }\n    /**\n        @memberof Timeline\n        @desc If *value* is specified, sets the selection and returns the current class instance. If *value* is not specified, returns the current selection. Defaults to the most recent year in the timeline.\n        @param {Array|Date|Number|String} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"selection\",\n    value: function selection(_) {\n      return arguments.length ? (this._selection = _, this) : this._selection;\n    }\n    /**\n        @memberof Timeline\n        @desc If *value* is specified, toggles the snapping value and returns the current class instance. If *value* is not specified, returns the current snapping value.\n        @param {Boolean} [*value* = true]\n        @chainable\n    */\n\n  }, {\n    key: \"snapping\",\n    value: function snapping(_) {\n      return arguments.length ? (this._snapping = _, this) : this._snapping;\n    }\n  }]);\n\n  return Timeline;\n}(Axis);\n\nexport { Timeline as default };","/**!\n * @fileOverview Kickass library to create and place poppers near their reference elements.\n * @version 1.15.0\n * @license\n * Copyright (c) 2016 Federico Zivolo and contributors\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined';\n\nvar longerTimeoutBrowsers = ['Edge', 'Trident', 'Firefox'];\nvar timeoutDuration = 0;\nfor (var i = 0; i < longerTimeoutBrowsers.length; i += 1) {\n  if (isBrowser && navigator.userAgent.indexOf(longerTimeoutBrowsers[i]) >= 0) {\n    timeoutDuration = 1;\n    break;\n  }\n}\n\nfunction microtaskDebounce(fn) {\n  var called = false;\n  return function () {\n    if (called) {\n      return;\n    }\n    called = true;\n    window.Promise.resolve().then(function () {\n      called = false;\n      fn();\n    });\n  };\n}\n\nfunction taskDebounce(fn) {\n  var scheduled = false;\n  return function () {\n    if (!scheduled) {\n      scheduled = true;\n      setTimeout(function () {\n        scheduled = false;\n        fn();\n      }, timeoutDuration);\n    }\n  };\n}\n\nvar supportsMicroTasks = isBrowser && window.Promise;\n\n/**\n* Create a debounced version of a method, that's asynchronously deferred\n* but called in the minimum time possible.\n*\n* @method\n* @memberof Popper.Utils\n* @argument {Function} fn\n* @returns {Function}\n*/\nvar debounce = supportsMicroTasks ? microtaskDebounce : taskDebounce;\n\n/**\n * Check if the given variable is a function\n * @method\n * @memberof Popper.Utils\n * @argument {Any} functionToCheck - variable to check\n * @returns {Boolean} answer to: is a function?\n */\nfunction isFunction(functionToCheck) {\n  var getType = {};\n  return functionToCheck && getType.toString.call(functionToCheck) === '[object Function]';\n}\n\n/**\n * Get CSS computed property of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Eement} element\n * @argument {String} property\n */\nfunction getStyleComputedProperty(element, property) {\n  if (element.nodeType !== 1) {\n    return [];\n  }\n  // NOTE: 1 DOM access here\n  var window = element.ownerDocument.defaultView;\n  var css = window.getComputedStyle(element, null);\n  return property ? css[property] : css;\n}\n\n/**\n * Returns the parentNode or the host of the element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} parent\n */\nfunction getParentNode(element) {\n  if (element.nodeName === 'HTML') {\n    return element;\n  }\n  return element.parentNode || element.host;\n}\n\n/**\n * Returns the scrolling parent of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} scroll parent\n */\nfunction getScrollParent(element) {\n  // Return body, `getScroll` will take care to get the correct `scrollTop` from it\n  if (!element) {\n    return document.body;\n  }\n\n  switch (element.nodeName) {\n    case 'HTML':\n    case 'BODY':\n      return element.ownerDocument.body;\n    case '#document':\n      return element.body;\n  }\n\n  // Firefox want us to check `-x` and `-y` variations as well\n\n  var _getStyleComputedProp = getStyleComputedProperty(element),\n      overflow = _getStyleComputedProp.overflow,\n      overflowX = _getStyleComputedProp.overflowX,\n      overflowY = _getStyleComputedProp.overflowY;\n\n  if (/(auto|scroll|overlay)/.test(overflow + overflowY + overflowX)) {\n    return element;\n  }\n\n  return getScrollParent(getParentNode(element));\n}\n\nvar isIE11 = isBrowser && !!(window.MSInputMethodContext && document.documentMode);\nvar isIE10 = isBrowser && /MSIE 10/.test(navigator.userAgent);\n\n/**\n * Determines if the browser is Internet Explorer\n * @method\n * @memberof Popper.Utils\n * @param {Number} version to check\n * @returns {Boolean} isIE\n */\nfunction isIE(version) {\n  if (version === 11) {\n    return isIE11;\n  }\n  if (version === 10) {\n    return isIE10;\n  }\n  return isIE11 || isIE10;\n}\n\n/**\n * Returns the offset parent of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} offset parent\n */\nfunction getOffsetParent(element) {\n  if (!element) {\n    return document.documentElement;\n  }\n\n  var noOffsetParent = isIE(10) ? document.body : null;\n\n  // NOTE: 1 DOM access here\n  var offsetParent = element.offsetParent || null;\n  // Skip hidden elements which don't have an offsetParent\n  while (offsetParent === noOffsetParent && element.nextElementSibling) {\n    offsetParent = (element = element.nextElementSibling).offsetParent;\n  }\n\n  var nodeName = offsetParent && offsetParent.nodeName;\n\n  if (!nodeName || nodeName === 'BODY' || nodeName === 'HTML') {\n    return element ? element.ownerDocument.documentElement : document.documentElement;\n  }\n\n  // .offsetParent will return the closest TH, TD or TABLE in case\n  // no offsetParent is present, I hate this job...\n  if (['TH', 'TD', 'TABLE'].indexOf(offsetParent.nodeName) !== -1 && getStyleComputedProperty(offsetParent, 'position') === 'static') {\n    return getOffsetParent(offsetParent);\n  }\n\n  return offsetParent;\n}\n\nfunction isOffsetContainer(element) {\n  var nodeName = element.nodeName;\n\n  if (nodeName === 'BODY') {\n    return false;\n  }\n  return nodeName === 'HTML' || getOffsetParent(element.firstElementChild) === element;\n}\n\n/**\n * Finds the root node (document, shadowDOM root) of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} node\n * @returns {Element} root node\n */\nfunction getRoot(node) {\n  if (node.parentNode !== null) {\n    return getRoot(node.parentNode);\n  }\n\n  return node;\n}\n\n/**\n * Finds the offset parent common to the two provided nodes\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element1\n * @argument {Element} element2\n * @returns {Element} common offset parent\n */\nfunction findCommonOffsetParent(element1, element2) {\n  // This check is needed to avoid errors in case one of the elements isn't defined for any reason\n  if (!element1 || !element1.nodeType || !element2 || !element2.nodeType) {\n    return document.documentElement;\n  }\n\n  // Here we make sure to give as \"start\" the element that comes first in the DOM\n  var order = element1.compareDocumentPosition(element2) & Node.DOCUMENT_POSITION_FOLLOWING;\n  var start = order ? element1 : element2;\n  var end = order ? element2 : element1;\n\n  // Get common ancestor container\n  var range = document.createRange();\n  range.setStart(start, 0);\n  range.setEnd(end, 0);\n  var commonAncestorContainer = range.commonAncestorContainer;\n\n  // Both nodes are inside #document\n\n  if (element1 !== commonAncestorContainer && element2 !== commonAncestorContainer || start.contains(end)) {\n    if (isOffsetContainer(commonAncestorContainer)) {\n      return commonAncestorContainer;\n    }\n\n    return getOffsetParent(commonAncestorContainer);\n  }\n\n  // one of the nodes is inside shadowDOM, find which one\n  var element1root = getRoot(element1);\n  if (element1root.host) {\n    return findCommonOffsetParent(element1root.host, element2);\n  } else {\n    return findCommonOffsetParent(element1, getRoot(element2).host);\n  }\n}\n\n/**\n * Gets the scroll value of the given element in the given side (top and left)\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @argument {String} side `top` or `left`\n * @returns {number} amount of scrolled pixels\n */\nfunction getScroll(element) {\n  var side = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'top';\n\n  var upperSide = side === 'top' ? 'scrollTop' : 'scrollLeft';\n  var nodeName = element.nodeName;\n\n  if (nodeName === 'BODY' || nodeName === 'HTML') {\n    var html = element.ownerDocument.documentElement;\n    var scrollingElement = element.ownerDocument.scrollingElement || html;\n    return scrollingElement[upperSide];\n  }\n\n  return element[upperSide];\n}\n\n/*\n * Sum or subtract the element scroll values (left and top) from a given rect object\n * @method\n * @memberof Popper.Utils\n * @param {Object} rect - Rect object you want to change\n * @param {HTMLElement} element - The element from the function reads the scroll values\n * @param {Boolean} subtract - set to true if you want to subtract the scroll values\n * @return {Object} rect - The modifier rect object\n */\nfunction includeScroll(rect, element) {\n  var subtract = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  var scrollTop = getScroll(element, 'top');\n  var scrollLeft = getScroll(element, 'left');\n  var modifier = subtract ? -1 : 1;\n  rect.top += scrollTop * modifier;\n  rect.bottom += scrollTop * modifier;\n  rect.left += scrollLeft * modifier;\n  rect.right += scrollLeft * modifier;\n  return rect;\n}\n\n/*\n * Helper to detect borders of a given element\n * @method\n * @memberof Popper.Utils\n * @param {CSSStyleDeclaration} styles\n * Result of `getStyleComputedProperty` on the given element\n * @param {String} axis - `x` or `y`\n * @return {number} borders - The borders size of the given axis\n */\n\nfunction getBordersSize(styles, axis) {\n  var sideA = axis === 'x' ? 'Left' : 'Top';\n  var sideB = sideA === 'Left' ? 'Right' : 'Bottom';\n\n  return parseFloat(styles['border' + sideA + 'Width'], 10) + parseFloat(styles['border' + sideB + 'Width'], 10);\n}\n\nfunction getSize(axis, body, html, computedStyle) {\n  return Math.max(body['offset' + axis], body['scroll' + axis], html['client' + axis], html['offset' + axis], html['scroll' + axis], isIE(10) ? parseInt(html['offset' + axis]) + parseInt(computedStyle['margin' + (axis === 'Height' ? 'Top' : 'Left')]) + parseInt(computedStyle['margin' + (axis === 'Height' ? 'Bottom' : 'Right')]) : 0);\n}\n\nfunction getWindowSizes(document) {\n  var body = document.body;\n  var html = document.documentElement;\n  var computedStyle = isIE(10) && getComputedStyle(html);\n\n  return {\n    height: getSize('Height', body, html, computedStyle),\n    width: getSize('Width', body, html, computedStyle)\n  };\n}\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n\n\n\n\nvar defineProperty = function (obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\n/**\n * Given element offsets, generate an output similar to getBoundingClientRect\n * @method\n * @memberof Popper.Utils\n * @argument {Object} offsets\n * @returns {Object} ClientRect like output\n */\nfunction getClientRect(offsets) {\n  return _extends({}, offsets, {\n    right: offsets.left + offsets.width,\n    bottom: offsets.top + offsets.height\n  });\n}\n\n/**\n * Get bounding client rect of given element\n * @method\n * @memberof Popper.Utils\n * @param {HTMLElement} element\n * @return {Object} client rect\n */\nfunction getBoundingClientRect(element) {\n  var rect = {};\n\n  // IE10 10 FIX: Please, don't ask, the element isn't\n  // considered in DOM in some circumstances...\n  // This isn't reproducible in IE10 compatibility mode of IE11\n  try {\n    if (isIE(10)) {\n      rect = element.getBoundingClientRect();\n      var scrollTop = getScroll(element, 'top');\n      var scrollLeft = getScroll(element, 'left');\n      rect.top += scrollTop;\n      rect.left += scrollLeft;\n      rect.bottom += scrollTop;\n      rect.right += scrollLeft;\n    } else {\n      rect = element.getBoundingClientRect();\n    }\n  } catch (e) {}\n\n  var result = {\n    left: rect.left,\n    top: rect.top,\n    width: rect.right - rect.left,\n    height: rect.bottom - rect.top\n  };\n\n  // subtract scrollbar size from sizes\n  var sizes = element.nodeName === 'HTML' ? getWindowSizes(element.ownerDocument) : {};\n  var width = sizes.width || element.clientWidth || result.right - result.left;\n  var height = sizes.height || element.clientHeight || result.bottom - result.top;\n\n  var horizScrollbar = element.offsetWidth - width;\n  var vertScrollbar = element.offsetHeight - height;\n\n  // if an hypothetical scrollbar is detected, we must be sure it's not a `border`\n  // we make this check conditional for performance reasons\n  if (horizScrollbar || vertScrollbar) {\n    var styles = getStyleComputedProperty(element);\n    horizScrollbar -= getBordersSize(styles, 'x');\n    vertScrollbar -= getBordersSize(styles, 'y');\n\n    result.width -= horizScrollbar;\n    result.height -= vertScrollbar;\n  }\n\n  return getClientRect(result);\n}\n\nfunction getOffsetRectRelativeToArbitraryNode(children, parent) {\n  var fixedPosition = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  var isIE10 = isIE(10);\n  var isHTML = parent.nodeName === 'HTML';\n  var childrenRect = getBoundingClientRect(children);\n  var parentRect = getBoundingClientRect(parent);\n  var scrollParent = getScrollParent(children);\n\n  var styles = getStyleComputedProperty(parent);\n  var borderTopWidth = parseFloat(styles.borderTopWidth, 10);\n  var borderLeftWidth = parseFloat(styles.borderLeftWidth, 10);\n\n  // In cases where the parent is fixed, we must ignore negative scroll in offset calc\n  if (fixedPosition && isHTML) {\n    parentRect.top = Math.max(parentRect.top, 0);\n    parentRect.left = Math.max(parentRect.left, 0);\n  }\n  var offsets = getClientRect({\n    top: childrenRect.top - parentRect.top - borderTopWidth,\n    left: childrenRect.left - parentRect.left - borderLeftWidth,\n    width: childrenRect.width,\n    height: childrenRect.height\n  });\n  offsets.marginTop = 0;\n  offsets.marginLeft = 0;\n\n  // Subtract margins of documentElement in case it's being used as parent\n  // we do this only on HTML because it's the only element that behaves\n  // differently when margins are applied to it. The margins are included in\n  // the box of the documentElement, in the other cases not.\n  if (!isIE10 && isHTML) {\n    var marginTop = parseFloat(styles.marginTop, 10);\n    var marginLeft = parseFloat(styles.marginLeft, 10);\n\n    offsets.top -= borderTopWidth - marginTop;\n    offsets.bottom -= borderTopWidth - marginTop;\n    offsets.left -= borderLeftWidth - marginLeft;\n    offsets.right -= borderLeftWidth - marginLeft;\n\n    // Attach marginTop and marginLeft because in some circumstances we may need them\n    offsets.marginTop = marginTop;\n    offsets.marginLeft = marginLeft;\n  }\n\n  if (isIE10 && !fixedPosition ? parent.contains(scrollParent) : parent === scrollParent && scrollParent.nodeName !== 'BODY') {\n    offsets = includeScroll(offsets, parent);\n  }\n\n  return offsets;\n}\n\nfunction getViewportOffsetRectRelativeToArtbitraryNode(element) {\n  var excludeScroll = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  var html = element.ownerDocument.documentElement;\n  var relativeOffset = getOffsetRectRelativeToArbitraryNode(element, html);\n  var width = Math.max(html.clientWidth, window.innerWidth || 0);\n  var height = Math.max(html.clientHeight, window.innerHeight || 0);\n\n  var scrollTop = !excludeScroll ? getScroll(html) : 0;\n  var scrollLeft = !excludeScroll ? getScroll(html, 'left') : 0;\n\n  var offset = {\n    top: scrollTop - relativeOffset.top + relativeOffset.marginTop,\n    left: scrollLeft - relativeOffset.left + relativeOffset.marginLeft,\n    width: width,\n    height: height\n  };\n\n  return getClientRect(offset);\n}\n\n/**\n * Check if the given element is fixed or is inside a fixed parent\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @argument {Element} customContainer\n * @returns {Boolean} answer to \"isFixed?\"\n */\nfunction isFixed(element) {\n  var nodeName = element.nodeName;\n  if (nodeName === 'BODY' || nodeName === 'HTML') {\n    return false;\n  }\n  if (getStyleComputedProperty(element, 'position') === 'fixed') {\n    return true;\n  }\n  var parentNode = getParentNode(element);\n  if (!parentNode) {\n    return false;\n  }\n  return isFixed(parentNode);\n}\n\n/**\n * Finds the first parent of an element that has a transformed property defined\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} first transformed parent or documentElement\n */\n\nfunction getFixedPositionOffsetParent(element) {\n  // This check is needed to avoid errors in case one of the elements isn't defined for any reason\n  if (!element || !element.parentElement || isIE()) {\n    return document.documentElement;\n  }\n  var el = element.parentElement;\n  while (el && getStyleComputedProperty(el, 'transform') === 'none') {\n    el = el.parentElement;\n  }\n  return el || document.documentElement;\n}\n\n/**\n * Computed the boundaries limits and return them\n * @method\n * @memberof Popper.Utils\n * @param {HTMLElement} popper\n * @param {HTMLElement} reference\n * @param {number} padding\n * @param {HTMLElement} boundariesElement - Element used to define the boundaries\n * @param {Boolean} fixedPosition - Is in fixed position mode\n * @returns {Object} Coordinates of the boundaries\n */\nfunction getBoundaries(popper, reference, padding, boundariesElement) {\n  var fixedPosition = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n\n  // NOTE: 1 DOM access here\n\n  var boundaries = { top: 0, left: 0 };\n  var offsetParent = fixedPosition ? getFixedPositionOffsetParent(popper) : findCommonOffsetParent(popper, reference);\n\n  // Handle viewport case\n  if (boundariesElement === 'viewport') {\n    boundaries = getViewportOffsetRectRelativeToArtbitraryNode(offsetParent, fixedPosition);\n  } else {\n    // Handle other cases based on DOM element used as boundaries\n    var boundariesNode = void 0;\n    if (boundariesElement === 'scrollParent') {\n      boundariesNode = getScrollParent(getParentNode(reference));\n      if (boundariesNode.nodeName === 'BODY') {\n        boundariesNode = popper.ownerDocument.documentElement;\n      }\n    } else if (boundariesElement === 'window') {\n      boundariesNode = popper.ownerDocument.documentElement;\n    } else {\n      boundariesNode = boundariesElement;\n    }\n\n    var offsets = getOffsetRectRelativeToArbitraryNode(boundariesNode, offsetParent, fixedPosition);\n\n    // In case of HTML, we need a different computation\n    if (boundariesNode.nodeName === 'HTML' && !isFixed(offsetParent)) {\n      var _getWindowSizes = getWindowSizes(popper.ownerDocument),\n          height = _getWindowSizes.height,\n          width = _getWindowSizes.width;\n\n      boundaries.top += offsets.top - offsets.marginTop;\n      boundaries.bottom = height + offsets.top;\n      boundaries.left += offsets.left - offsets.marginLeft;\n      boundaries.right = width + offsets.left;\n    } else {\n      // for all the other DOM elements, this one is good\n      boundaries = offsets;\n    }\n  }\n\n  // Add paddings\n  padding = padding || 0;\n  var isPaddingNumber = typeof padding === 'number';\n  boundaries.left += isPaddingNumber ? padding : padding.left || 0;\n  boundaries.top += isPaddingNumber ? padding : padding.top || 0;\n  boundaries.right -= isPaddingNumber ? padding : padding.right || 0;\n  boundaries.bottom -= isPaddingNumber ? padding : padding.bottom || 0;\n\n  return boundaries;\n}\n\nfunction getArea(_ref) {\n  var width = _ref.width,\n      height = _ref.height;\n\n  return width * height;\n}\n\n/**\n * Utility used to transform the `auto` placement to the placement with more\n * available space.\n * @method\n * @memberof Popper.Utils\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction computeAutoPlacement(placement, refRect, popper, reference, boundariesElement) {\n  var padding = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 0;\n\n  if (placement.indexOf('auto') === -1) {\n    return placement;\n  }\n\n  var boundaries = getBoundaries(popper, reference, padding, boundariesElement);\n\n  var rects = {\n    top: {\n      width: boundaries.width,\n      height: refRect.top - boundaries.top\n    },\n    right: {\n      width: boundaries.right - refRect.right,\n      height: boundaries.height\n    },\n    bottom: {\n      width: boundaries.width,\n      height: boundaries.bottom - refRect.bottom\n    },\n    left: {\n      width: refRect.left - boundaries.left,\n      height: boundaries.height\n    }\n  };\n\n  var sortedAreas = Object.keys(rects).map(function (key) {\n    return _extends({\n      key: key\n    }, rects[key], {\n      area: getArea(rects[key])\n    });\n  }).sort(function (a, b) {\n    return b.area - a.area;\n  });\n\n  var filteredAreas = sortedAreas.filter(function (_ref2) {\n    var width = _ref2.width,\n        height = _ref2.height;\n    return width >= popper.clientWidth && height >= popper.clientHeight;\n  });\n\n  var computedPlacement = filteredAreas.length > 0 ? filteredAreas[0].key : sortedAreas[0].key;\n\n  var variation = placement.split('-')[1];\n\n  return computedPlacement + (variation ? '-' + variation : '');\n}\n\n/**\n * Get offsets to the reference element\n * @method\n * @memberof Popper.Utils\n * @param {Object} state\n * @param {Element} popper - the popper element\n * @param {Element} reference - the reference element (the popper will be relative to this)\n * @param {Element} fixedPosition - is in fixed position mode\n * @returns {Object} An object containing the offsets which will be applied to the popper\n */\nfunction getReferenceOffsets(state, popper, reference) {\n  var fixedPosition = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n\n  var commonOffsetParent = fixedPosition ? getFixedPositionOffsetParent(popper) : findCommonOffsetParent(popper, reference);\n  return getOffsetRectRelativeToArbitraryNode(reference, commonOffsetParent, fixedPosition);\n}\n\n/**\n * Get the outer sizes of the given element (offset size + margins)\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Object} object containing width and height properties\n */\nfunction getOuterSizes(element) {\n  var window = element.ownerDocument.defaultView;\n  var styles = window.getComputedStyle(element);\n  var x = parseFloat(styles.marginTop || 0) + parseFloat(styles.marginBottom || 0);\n  var y = parseFloat(styles.marginLeft || 0) + parseFloat(styles.marginRight || 0);\n  var result = {\n    width: element.offsetWidth + y,\n    height: element.offsetHeight + x\n  };\n  return result;\n}\n\n/**\n * Get the opposite placement of the given one\n * @method\n * @memberof Popper.Utils\n * @argument {String} placement\n * @returns {String} flipped placement\n */\nfunction getOppositePlacement(placement) {\n  var hash = { left: 'right', right: 'left', bottom: 'top', top: 'bottom' };\n  return placement.replace(/left|right|bottom|top/g, function (matched) {\n    return hash[matched];\n  });\n}\n\n/**\n * Get offsets to the popper\n * @method\n * @memberof Popper.Utils\n * @param {Object} position - CSS position the Popper will get applied\n * @param {HTMLElement} popper - the popper element\n * @param {Object} referenceOffsets - the reference offsets (the popper will be relative to this)\n * @param {String} placement - one of the valid placement options\n * @returns {Object} popperOffsets - An object containing the offsets which will be applied to the popper\n */\nfunction getPopperOffsets(popper, referenceOffsets, placement) {\n  placement = placement.split('-')[0];\n\n  // Get popper node sizes\n  var popperRect = getOuterSizes(popper);\n\n  // Add position, width and height to our offsets object\n  var popperOffsets = {\n    width: popperRect.width,\n    height: popperRect.height\n  };\n\n  // depending by the popper placement we have to compute its offsets slightly differently\n  var isHoriz = ['right', 'left'].indexOf(placement) !== -1;\n  var mainSide = isHoriz ? 'top' : 'left';\n  var secondarySide = isHoriz ? 'left' : 'top';\n  var measurement = isHoriz ? 'height' : 'width';\n  var secondaryMeasurement = !isHoriz ? 'height' : 'width';\n\n  popperOffsets[mainSide] = referenceOffsets[mainSide] + referenceOffsets[measurement] / 2 - popperRect[measurement] / 2;\n  if (placement === secondarySide) {\n    popperOffsets[secondarySide] = referenceOffsets[secondarySide] - popperRect[secondaryMeasurement];\n  } else {\n    popperOffsets[secondarySide] = referenceOffsets[getOppositePlacement(secondarySide)];\n  }\n\n  return popperOffsets;\n}\n\n/**\n * Mimics the `find` method of Array\n * @method\n * @memberof Popper.Utils\n * @argument {Array} arr\n * @argument prop\n * @argument value\n * @returns index or -1\n */\nfunction find(arr, check) {\n  // use native find if supported\n  if (Array.prototype.find) {\n    return arr.find(check);\n  }\n\n  // use `filter` to obtain the same behavior of `find`\n  return arr.filter(check)[0];\n}\n\n/**\n * Return the index of the matching object\n * @method\n * @memberof Popper.Utils\n * @argument {Array} arr\n * @argument prop\n * @argument value\n * @returns index or -1\n */\nfunction findIndex(arr, prop, value) {\n  // use native findIndex if supported\n  if (Array.prototype.findIndex) {\n    return arr.findIndex(function (cur) {\n      return cur[prop] === value;\n    });\n  }\n\n  // use `find` + `indexOf` if `findIndex` isn't supported\n  var match = find(arr, function (obj) {\n    return obj[prop] === value;\n  });\n  return arr.indexOf(match);\n}\n\n/**\n * Loop trough the list of modifiers and run them in order,\n * each of them will then edit the data object.\n * @method\n * @memberof Popper.Utils\n * @param {dataObject} data\n * @param {Array} modifiers\n * @param {String} ends - Optional modifier name used as stopper\n * @returns {dataObject}\n */\nfunction runModifiers(modifiers, data, ends) {\n  var modifiersToRun = ends === undefined ? modifiers : modifiers.slice(0, findIndex(modifiers, 'name', ends));\n\n  modifiersToRun.forEach(function (modifier) {\n    if (modifier['function']) {\n      // eslint-disable-line dot-notation\n      console.warn('`modifier.function` is deprecated, use `modifier.fn`!');\n    }\n    var fn = modifier['function'] || modifier.fn; // eslint-disable-line dot-notation\n    if (modifier.enabled && isFunction(fn)) {\n      // Add properties to offsets to make them a complete clientRect object\n      // we do this before each modifier to make sure the previous one doesn't\n      // mess with these values\n      data.offsets.popper = getClientRect(data.offsets.popper);\n      data.offsets.reference = getClientRect(data.offsets.reference);\n\n      data = fn(data, modifier);\n    }\n  });\n\n  return data;\n}\n\n/**\n * Updates the position of the popper, computing the new offsets and applying\n * the new style.<br />\n * Prefer `scheduleUpdate` over `update` because of performance reasons.\n * @method\n * @memberof Popper\n */\nfunction update() {\n  // if popper is destroyed, don't perform any further update\n  if (this.state.isDestroyed) {\n    return;\n  }\n\n  var data = {\n    instance: this,\n    styles: {},\n    arrowStyles: {},\n    attributes: {},\n    flipped: false,\n    offsets: {}\n  };\n\n  // compute reference element offsets\n  data.offsets.reference = getReferenceOffsets(this.state, this.popper, this.reference, this.options.positionFixed);\n\n  // compute auto placement, store placement inside the data object,\n  // modifiers will be able to edit `placement` if needed\n  // and refer to originalPlacement to know the original value\n  data.placement = computeAutoPlacement(this.options.placement, data.offsets.reference, this.popper, this.reference, this.options.modifiers.flip.boundariesElement, this.options.modifiers.flip.padding);\n\n  // store the computed placement inside `originalPlacement`\n  data.originalPlacement = data.placement;\n\n  data.positionFixed = this.options.positionFixed;\n\n  // compute the popper offsets\n  data.offsets.popper = getPopperOffsets(this.popper, data.offsets.reference, data.placement);\n\n  data.offsets.popper.position = this.options.positionFixed ? 'fixed' : 'absolute';\n\n  // run the modifiers\n  data = runModifiers(this.modifiers, data);\n\n  // the first `update` will call `onCreate` callback\n  // the other ones will call `onUpdate` callback\n  if (!this.state.isCreated) {\n    this.state.isCreated = true;\n    this.options.onCreate(data);\n  } else {\n    this.options.onUpdate(data);\n  }\n}\n\n/**\n * Helper used to know if the given modifier is enabled.\n * @method\n * @memberof Popper.Utils\n * @returns {Boolean}\n */\nfunction isModifierEnabled(modifiers, modifierName) {\n  return modifiers.some(function (_ref) {\n    var name = _ref.name,\n        enabled = _ref.enabled;\n    return enabled && name === modifierName;\n  });\n}\n\n/**\n * Get the prefixed supported property name\n * @method\n * @memberof Popper.Utils\n * @argument {String} property (camelCase)\n * @returns {String} prefixed property (camelCase or PascalCase, depending on the vendor prefix)\n */\nfunction getSupportedPropertyName(property) {\n  var prefixes = [false, 'ms', 'Webkit', 'Moz', 'O'];\n  var upperProp = property.charAt(0).toUpperCase() + property.slice(1);\n\n  for (var i = 0; i < prefixes.length; i++) {\n    var prefix = prefixes[i];\n    var toCheck = prefix ? '' + prefix + upperProp : property;\n    if (typeof document.body.style[toCheck] !== 'undefined') {\n      return toCheck;\n    }\n  }\n  return null;\n}\n\n/**\n * Destroys the popper.\n * @method\n * @memberof Popper\n */\nfunction destroy() {\n  this.state.isDestroyed = true;\n\n  // touch DOM only if `applyStyle` modifier is enabled\n  if (isModifierEnabled(this.modifiers, 'applyStyle')) {\n    this.popper.removeAttribute('x-placement');\n    this.popper.style.position = '';\n    this.popper.style.top = '';\n    this.popper.style.left = '';\n    this.popper.style.right = '';\n    this.popper.style.bottom = '';\n    this.popper.style.willChange = '';\n    this.popper.style[getSupportedPropertyName('transform')] = '';\n  }\n\n  this.disableEventListeners();\n\n  // remove the popper if user explicity asked for the deletion on destroy\n  // do not use `remove` because IE11 doesn't support it\n  if (this.options.removeOnDestroy) {\n    this.popper.parentNode.removeChild(this.popper);\n  }\n  return this;\n}\n\n/**\n * Get the window associated with the element\n * @argument {Element} element\n * @returns {Window}\n */\nfunction getWindow(element) {\n  var ownerDocument = element.ownerDocument;\n  return ownerDocument ? ownerDocument.defaultView : window;\n}\n\nfunction attachToScrollParents(scrollParent, event, callback, scrollParents) {\n  var isBody = scrollParent.nodeName === 'BODY';\n  var target = isBody ? scrollParent.ownerDocument.defaultView : scrollParent;\n  target.addEventListener(event, callback, { passive: true });\n\n  if (!isBody) {\n    attachToScrollParents(getScrollParent(target.parentNode), event, callback, scrollParents);\n  }\n  scrollParents.push(target);\n}\n\n/**\n * Setup needed event listeners used to update the popper position\n * @method\n * @memberof Popper.Utils\n * @private\n */\nfunction setupEventListeners(reference, options, state, updateBound) {\n  // Resize event listener on window\n  state.updateBound = updateBound;\n  getWindow(reference).addEventListener('resize', state.updateBound, { passive: true });\n\n  // Scroll event listener on scroll parents\n  var scrollElement = getScrollParent(reference);\n  attachToScrollParents(scrollElement, 'scroll', state.updateBound, state.scrollParents);\n  state.scrollElement = scrollElement;\n  state.eventsEnabled = true;\n\n  return state;\n}\n\n/**\n * It will add resize/scroll events and start recalculating\n * position of the popper element when they are triggered.\n * @method\n * @memberof Popper\n */\nfunction enableEventListeners() {\n  if (!this.state.eventsEnabled) {\n    this.state = setupEventListeners(this.reference, this.options, this.state, this.scheduleUpdate);\n  }\n}\n\n/**\n * Remove event listeners used to update the popper position\n * @method\n * @memberof Popper.Utils\n * @private\n */\nfunction removeEventListeners(reference, state) {\n  // Remove resize event listener on window\n  getWindow(reference).removeEventListener('resize', state.updateBound);\n\n  // Remove scroll event listener on scroll parents\n  state.scrollParents.forEach(function (target) {\n    target.removeEventListener('scroll', state.updateBound);\n  });\n\n  // Reset state\n  state.updateBound = null;\n  state.scrollParents = [];\n  state.scrollElement = null;\n  state.eventsEnabled = false;\n  return state;\n}\n\n/**\n * It will remove resize/scroll events and won't recalculate popper position\n * when they are triggered. It also won't trigger `onUpdate` callback anymore,\n * unless you call `update` method manually.\n * @method\n * @memberof Popper\n */\nfunction disableEventListeners() {\n  if (this.state.eventsEnabled) {\n    cancelAnimationFrame(this.scheduleUpdate);\n    this.state = removeEventListeners(this.reference, this.state);\n  }\n}\n\n/**\n * Tells if a given input is a number\n * @method\n * @memberof Popper.Utils\n * @param {*} input to check\n * @return {Boolean}\n */\nfunction isNumeric(n) {\n  return n !== '' && !isNaN(parseFloat(n)) && isFinite(n);\n}\n\n/**\n * Set the style to the given popper\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element - Element to apply the style to\n * @argument {Object} styles\n * Object with a list of properties and values which will be applied to the element\n */\nfunction setStyles(element, styles) {\n  Object.keys(styles).forEach(function (prop) {\n    var unit = '';\n    // add unit if the value is numeric and is one of the following\n    if (['width', 'height', 'top', 'right', 'bottom', 'left'].indexOf(prop) !== -1 && isNumeric(styles[prop])) {\n      unit = 'px';\n    }\n    element.style[prop] = styles[prop] + unit;\n  });\n}\n\n/**\n * Set the attributes to the given popper\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element - Element to apply the attributes to\n * @argument {Object} styles\n * Object with a list of properties and values which will be applied to the element\n */\nfunction setAttributes(element, attributes) {\n  Object.keys(attributes).forEach(function (prop) {\n    var value = attributes[prop];\n    if (value !== false) {\n      element.setAttribute(prop, attributes[prop]);\n    } else {\n      element.removeAttribute(prop);\n    }\n  });\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} data.styles - List of style properties - values to apply to popper element\n * @argument {Object} data.attributes - List of attribute properties - values to apply to popper element\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The same data object\n */\nfunction applyStyle(data) {\n  // any property present in `data.styles` will be applied to the popper,\n  // in this way we can make the 3rd party modifiers add custom styles to it\n  // Be aware, modifiers could override the properties defined in the previous\n  // lines of this modifier!\n  setStyles(data.instance.popper, data.styles);\n\n  // any property present in `data.attributes` will be applied to the popper,\n  // they will be set as HTML attributes of the element\n  setAttributes(data.instance.popper, data.attributes);\n\n  // if arrowElement is defined and arrowStyles has some properties\n  if (data.arrowElement && Object.keys(data.arrowStyles).length) {\n    setStyles(data.arrowElement, data.arrowStyles);\n  }\n\n  return data;\n}\n\n/**\n * Set the x-placement attribute before everything else because it could be used\n * to add margins to the popper margins needs to be calculated to get the\n * correct popper offsets.\n * @method\n * @memberof Popper.modifiers\n * @param {HTMLElement} reference - The reference element used to position the popper\n * @param {HTMLElement} popper - The HTML element used as popper\n * @param {Object} options - Popper.js options\n */\nfunction applyStyleOnLoad(reference, popper, options, modifierOptions, state) {\n  // compute reference element offsets\n  var referenceOffsets = getReferenceOffsets(state, popper, reference, options.positionFixed);\n\n  // compute auto placement, store placement inside the data object,\n  // modifiers will be able to edit `placement` if needed\n  // and refer to originalPlacement to know the original value\n  var placement = computeAutoPlacement(options.placement, referenceOffsets, popper, reference, options.modifiers.flip.boundariesElement, options.modifiers.flip.padding);\n\n  popper.setAttribute('x-placement', placement);\n\n  // Apply `position` to popper before anything else because\n  // without the position applied we can't guarantee correct computations\n  setStyles(popper, { position: options.positionFixed ? 'fixed' : 'absolute' });\n\n  return options;\n}\n\n/**\n * @function\n * @memberof Popper.Utils\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Boolean} shouldRound - If the offsets should be rounded at all\n * @returns {Object} The popper's position offsets rounded\n *\n * The tale of pixel-perfect positioning. It's still not 100% perfect, but as\n * good as it can be within reason.\n * Discussion here: https://github.com/FezVrasta/popper.js/pull/715\n *\n * Low DPI screens cause a popper to be blurry if not using full pixels (Safari\n * as well on High DPI screens).\n *\n * Firefox prefers no rounding for positioning and does not have blurriness on\n * high DPI screens.\n *\n * Only horizontal placement and left/right values need to be considered.\n */\nfunction getRoundedOffsets(data, shouldRound) {\n  var _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n  var round = Math.round,\n      floor = Math.floor;\n\n  var noRound = function noRound(v) {\n    return v;\n  };\n\n  var referenceWidth = round(reference.width);\n  var popperWidth = round(popper.width);\n\n  var isVertical = ['left', 'right'].indexOf(data.placement) !== -1;\n  var isVariation = data.placement.indexOf('-') !== -1;\n  var sameWidthParity = referenceWidth % 2 === popperWidth % 2;\n  var bothOddWidth = referenceWidth % 2 === 1 && popperWidth % 2 === 1;\n\n  var horizontalToInteger = !shouldRound ? noRound : isVertical || isVariation || sameWidthParity ? round : floor;\n  var verticalToInteger = !shouldRound ? noRound : round;\n\n  return {\n    left: horizontalToInteger(bothOddWidth && !isVariation && shouldRound ? popper.left - 1 : popper.left),\n    top: verticalToInteger(popper.top),\n    bottom: verticalToInteger(popper.bottom),\n    right: horizontalToInteger(popper.right)\n  };\n}\n\nvar isFirefox = isBrowser && /Firefox/i.test(navigator.userAgent);\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction computeStyle(data, options) {\n  var x = options.x,\n      y = options.y;\n  var popper = data.offsets.popper;\n\n  // Remove this legacy support in Popper.js v2\n\n  var legacyGpuAccelerationOption = find(data.instance.modifiers, function (modifier) {\n    return modifier.name === 'applyStyle';\n  }).gpuAcceleration;\n  if (legacyGpuAccelerationOption !== undefined) {\n    console.warn('WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!');\n  }\n  var gpuAcceleration = legacyGpuAccelerationOption !== undefined ? legacyGpuAccelerationOption : options.gpuAcceleration;\n\n  var offsetParent = getOffsetParent(data.instance.popper);\n  var offsetParentRect = getBoundingClientRect(offsetParent);\n\n  // Styles\n  var styles = {\n    position: popper.position\n  };\n\n  var offsets = getRoundedOffsets(data, window.devicePixelRatio < 2 || !isFirefox);\n\n  var sideA = x === 'bottom' ? 'top' : 'bottom';\n  var sideB = y === 'right' ? 'left' : 'right';\n\n  // if gpuAcceleration is set to `true` and transform is supported,\n  //  we use `translate3d` to apply the position to the popper we\n  // automatically use the supported prefixed version if needed\n  var prefixedProperty = getSupportedPropertyName('transform');\n\n  // now, let's make a step back and look at this code closely (wtf?)\n  // If the content of the popper grows once it's been positioned, it\n  // may happen that the popper gets misplaced because of the new content\n  // overflowing its reference element\n  // To avoid this problem, we provide two options (x and y), which allow\n  // the consumer to define the offset origin.\n  // If we position a popper on top of a reference element, we can set\n  // `x` to `top` to make the popper grow towards its top instead of\n  // its bottom.\n  var left = void 0,\n      top = void 0;\n  if (sideA === 'bottom') {\n    // when offsetParent is <html> the positioning is relative to the bottom of the screen (excluding the scrollbar)\n    // and not the bottom of the html element\n    if (offsetParent.nodeName === 'HTML') {\n      top = -offsetParent.clientHeight + offsets.bottom;\n    } else {\n      top = -offsetParentRect.height + offsets.bottom;\n    }\n  } else {\n    top = offsets.top;\n  }\n  if (sideB === 'right') {\n    if (offsetParent.nodeName === 'HTML') {\n      left = -offsetParent.clientWidth + offsets.right;\n    } else {\n      left = -offsetParentRect.width + offsets.right;\n    }\n  } else {\n    left = offsets.left;\n  }\n  if (gpuAcceleration && prefixedProperty) {\n    styles[prefixedProperty] = 'translate3d(' + left + 'px, ' + top + 'px, 0)';\n    styles[sideA] = 0;\n    styles[sideB] = 0;\n    styles.willChange = 'transform';\n  } else {\n    // othwerise, we use the standard `top`, `left`, `bottom` and `right` properties\n    var invertTop = sideA === 'bottom' ? -1 : 1;\n    var invertLeft = sideB === 'right' ? -1 : 1;\n    styles[sideA] = top * invertTop;\n    styles[sideB] = left * invertLeft;\n    styles.willChange = sideA + ', ' + sideB;\n  }\n\n  // Attributes\n  var attributes = {\n    'x-placement': data.placement\n  };\n\n  // Update `data` attributes, styles and arrowStyles\n  data.attributes = _extends({}, attributes, data.attributes);\n  data.styles = _extends({}, styles, data.styles);\n  data.arrowStyles = _extends({}, data.offsets.arrow, data.arrowStyles);\n\n  return data;\n}\n\n/**\n * Helper used to know if the given modifier depends from another one.<br />\n * It checks if the needed modifier is listed and enabled.\n * @method\n * @memberof Popper.Utils\n * @param {Array} modifiers - list of modifiers\n * @param {String} requestingName - name of requesting modifier\n * @param {String} requestedName - name of requested modifier\n * @returns {Boolean}\n */\nfunction isModifierRequired(modifiers, requestingName, requestedName) {\n  var requesting = find(modifiers, function (_ref) {\n    var name = _ref.name;\n    return name === requestingName;\n  });\n\n  var isRequired = !!requesting && modifiers.some(function (modifier) {\n    return modifier.name === requestedName && modifier.enabled && modifier.order < requesting.order;\n  });\n\n  if (!isRequired) {\n    var _requesting = '`' + requestingName + '`';\n    var requested = '`' + requestedName + '`';\n    console.warn(requested + ' modifier is required by ' + _requesting + ' modifier in order to work, be sure to include it before ' + _requesting + '!');\n  }\n  return isRequired;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction arrow(data, options) {\n  var _data$offsets$arrow;\n\n  // arrow depends on keepTogether in order to work\n  if (!isModifierRequired(data.instance.modifiers, 'arrow', 'keepTogether')) {\n    return data;\n  }\n\n  var arrowElement = options.element;\n\n  // if arrowElement is a string, suppose it's a CSS selector\n  if (typeof arrowElement === 'string') {\n    arrowElement = data.instance.popper.querySelector(arrowElement);\n\n    // if arrowElement is not found, don't run the modifier\n    if (!arrowElement) {\n      return data;\n    }\n  } else {\n    // if the arrowElement isn't a query selector we must check that the\n    // provided DOM node is child of its popper node\n    if (!data.instance.popper.contains(arrowElement)) {\n      console.warn('WARNING: `arrow.element` must be child of its popper element!');\n      return data;\n    }\n  }\n\n  var placement = data.placement.split('-')[0];\n  var _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n\n  var isVertical = ['left', 'right'].indexOf(placement) !== -1;\n\n  var len = isVertical ? 'height' : 'width';\n  var sideCapitalized = isVertical ? 'Top' : 'Left';\n  var side = sideCapitalized.toLowerCase();\n  var altSide = isVertical ? 'left' : 'top';\n  var opSide = isVertical ? 'bottom' : 'right';\n  var arrowElementSize = getOuterSizes(arrowElement)[len];\n\n  //\n  // extends keepTogether behavior making sure the popper and its\n  // reference have enough pixels in conjunction\n  //\n\n  // top/left side\n  if (reference[opSide] - arrowElementSize < popper[side]) {\n    data.offsets.popper[side] -= popper[side] - (reference[opSide] - arrowElementSize);\n  }\n  // bottom/right side\n  if (reference[side] + arrowElementSize > popper[opSide]) {\n    data.offsets.popper[side] += reference[side] + arrowElementSize - popper[opSide];\n  }\n  data.offsets.popper = getClientRect(data.offsets.popper);\n\n  // compute center of the popper\n  var center = reference[side] + reference[len] / 2 - arrowElementSize / 2;\n\n  // Compute the sideValue using the updated popper offsets\n  // take popper margin in account because we don't have this info available\n  var css = getStyleComputedProperty(data.instance.popper);\n  var popperMarginSide = parseFloat(css['margin' + sideCapitalized], 10);\n  var popperBorderSide = parseFloat(css['border' + sideCapitalized + 'Width'], 10);\n  var sideValue = center - data.offsets.popper[side] - popperMarginSide - popperBorderSide;\n\n  // prevent arrowElement from being placed not contiguously to its popper\n  sideValue = Math.max(Math.min(popper[len] - arrowElementSize, sideValue), 0);\n\n  data.arrowElement = arrowElement;\n  data.offsets.arrow = (_data$offsets$arrow = {}, defineProperty(_data$offsets$arrow, side, Math.round(sideValue)), defineProperty(_data$offsets$arrow, altSide, ''), _data$offsets$arrow);\n\n  return data;\n}\n\n/**\n * Get the opposite placement variation of the given one\n * @method\n * @memberof Popper.Utils\n * @argument {String} placement variation\n * @returns {String} flipped placement variation\n */\nfunction getOppositeVariation(variation) {\n  if (variation === 'end') {\n    return 'start';\n  } else if (variation === 'start') {\n    return 'end';\n  }\n  return variation;\n}\n\n/**\n * List of accepted placements to use as values of the `placement` option.<br />\n * Valid placements are:\n * - `auto`\n * - `top`\n * - `right`\n * - `bottom`\n * - `left`\n *\n * Each placement can have a variation from this list:\n * - `-start`\n * - `-end`\n *\n * Variations are interpreted easily if you think of them as the left to right\n * written languages. Horizontally (`top` and `bottom`), `start` is left and `end`\n * is right.<br />\n * Vertically (`left` and `right`), `start` is top and `end` is bottom.\n *\n * Some valid examples are:\n * - `top-end` (on top of reference, right aligned)\n * - `right-start` (on right of reference, top aligned)\n * - `bottom` (on bottom, centered)\n * - `auto-end` (on the side with more space available, alignment depends by placement)\n *\n * @static\n * @type {Array}\n * @enum {String}\n * @readonly\n * @method placements\n * @memberof Popper\n */\nvar placements = ['auto-start', 'auto', 'auto-end', 'top-start', 'top', 'top-end', 'right-start', 'right', 'right-end', 'bottom-end', 'bottom', 'bottom-start', 'left-end', 'left', 'left-start'];\n\n// Get rid of `auto` `auto-start` and `auto-end`\nvar validPlacements = placements.slice(3);\n\n/**\n * Given an initial placement, returns all the subsequent placements\n * clockwise (or counter-clockwise).\n *\n * @method\n * @memberof Popper.Utils\n * @argument {String} placement - A valid placement (it accepts variations)\n * @argument {Boolean} counter - Set to true to walk the placements counterclockwise\n * @returns {Array} placements including their variations\n */\nfunction clockwise(placement) {\n  var counter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  var index = validPlacements.indexOf(placement);\n  var arr = validPlacements.slice(index + 1).concat(validPlacements.slice(0, index));\n  return counter ? arr.reverse() : arr;\n}\n\nvar BEHAVIORS = {\n  FLIP: 'flip',\n  CLOCKWISE: 'clockwise',\n  COUNTERCLOCKWISE: 'counterclockwise'\n};\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction flip(data, options) {\n  // if `inner` modifier is enabled, we can't use the `flip` modifier\n  if (isModifierEnabled(data.instance.modifiers, 'inner')) {\n    return data;\n  }\n\n  if (data.flipped && data.placement === data.originalPlacement) {\n    // seems like flip is trying to loop, probably there's not enough space on any of the flippable sides\n    return data;\n  }\n\n  var boundaries = getBoundaries(data.instance.popper, data.instance.reference, options.padding, options.boundariesElement, data.positionFixed);\n\n  var placement = data.placement.split('-')[0];\n  var placementOpposite = getOppositePlacement(placement);\n  var variation = data.placement.split('-')[1] || '';\n\n  var flipOrder = [];\n\n  switch (options.behavior) {\n    case BEHAVIORS.FLIP:\n      flipOrder = [placement, placementOpposite];\n      break;\n    case BEHAVIORS.CLOCKWISE:\n      flipOrder = clockwise(placement);\n      break;\n    case BEHAVIORS.COUNTERCLOCKWISE:\n      flipOrder = clockwise(placement, true);\n      break;\n    default:\n      flipOrder = options.behavior;\n  }\n\n  flipOrder.forEach(function (step, index) {\n    if (placement !== step || flipOrder.length === index + 1) {\n      return data;\n    }\n\n    placement = data.placement.split('-')[0];\n    placementOpposite = getOppositePlacement(placement);\n\n    var popperOffsets = data.offsets.popper;\n    var refOffsets = data.offsets.reference;\n\n    // using floor because the reference offsets may contain decimals we are not going to consider here\n    var floor = Math.floor;\n    var overlapsRef = placement === 'left' && floor(popperOffsets.right) > floor(refOffsets.left) || placement === 'right' && floor(popperOffsets.left) < floor(refOffsets.right) || placement === 'top' && floor(popperOffsets.bottom) > floor(refOffsets.top) || placement === 'bottom' && floor(popperOffsets.top) < floor(refOffsets.bottom);\n\n    var overflowsLeft = floor(popperOffsets.left) < floor(boundaries.left);\n    var overflowsRight = floor(popperOffsets.right) > floor(boundaries.right);\n    var overflowsTop = floor(popperOffsets.top) < floor(boundaries.top);\n    var overflowsBottom = floor(popperOffsets.bottom) > floor(boundaries.bottom);\n\n    var overflowsBoundaries = placement === 'left' && overflowsLeft || placement === 'right' && overflowsRight || placement === 'top' && overflowsTop || placement === 'bottom' && overflowsBottom;\n\n    // flip the variation if required\n    var isVertical = ['top', 'bottom'].indexOf(placement) !== -1;\n\n    // flips variation if reference element overflows boundaries\n    var flippedVariationByRef = !!options.flipVariations && (isVertical && variation === 'start' && overflowsLeft || isVertical && variation === 'end' && overflowsRight || !isVertical && variation === 'start' && overflowsTop || !isVertical && variation === 'end' && overflowsBottom);\n\n    // flips variation if popper content overflows boundaries\n    var flippedVariationByContent = !!options.flipVariationsByContent && (isVertical && variation === 'start' && overflowsRight || isVertical && variation === 'end' && overflowsLeft || !isVertical && variation === 'start' && overflowsBottom || !isVertical && variation === 'end' && overflowsTop);\n\n    var flippedVariation = flippedVariationByRef || flippedVariationByContent;\n\n    if (overlapsRef || overflowsBoundaries || flippedVariation) {\n      // this boolean to detect any flip loop\n      data.flipped = true;\n\n      if (overlapsRef || overflowsBoundaries) {\n        placement = flipOrder[index + 1];\n      }\n\n      if (flippedVariation) {\n        variation = getOppositeVariation(variation);\n      }\n\n      data.placement = placement + (variation ? '-' + variation : '');\n\n      // this object contains `position`, we want to preserve it along with\n      // any additional property we may add in the future\n      data.offsets.popper = _extends({}, data.offsets.popper, getPopperOffsets(data.instance.popper, data.offsets.reference, data.placement));\n\n      data = runModifiers(data.instance.modifiers, data, 'flip');\n    }\n  });\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction keepTogether(data) {\n  var _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n\n  var placement = data.placement.split('-')[0];\n  var floor = Math.floor;\n  var isVertical = ['top', 'bottom'].indexOf(placement) !== -1;\n  var side = isVertical ? 'right' : 'bottom';\n  var opSide = isVertical ? 'left' : 'top';\n  var measurement = isVertical ? 'width' : 'height';\n\n  if (popper[side] < floor(reference[opSide])) {\n    data.offsets.popper[opSide] = floor(reference[opSide]) - popper[measurement];\n  }\n  if (popper[opSide] > floor(reference[side])) {\n    data.offsets.popper[opSide] = floor(reference[side]);\n  }\n\n  return data;\n}\n\n/**\n * Converts a string containing value + unit into a px value number\n * @function\n * @memberof {modifiers~offset}\n * @private\n * @argument {String} str - Value + unit string\n * @argument {String} measurement - `height` or `width`\n * @argument {Object} popperOffsets\n * @argument {Object} referenceOffsets\n * @returns {Number|String}\n * Value in pixels, or original string if no values were extracted\n */\nfunction toValue(str, measurement, popperOffsets, referenceOffsets) {\n  // separate value from unit\n  var split = str.match(/((?:\\-|\\+)?\\d*\\.?\\d*)(.*)/);\n  var value = +split[1];\n  var unit = split[2];\n\n  // If it's not a number it's an operator, I guess\n  if (!value) {\n    return str;\n  }\n\n  if (unit.indexOf('%') === 0) {\n    var element = void 0;\n    switch (unit) {\n      case '%p':\n        element = popperOffsets;\n        break;\n      case '%':\n      case '%r':\n      default:\n        element = referenceOffsets;\n    }\n\n    var rect = getClientRect(element);\n    return rect[measurement] / 100 * value;\n  } else if (unit === 'vh' || unit === 'vw') {\n    // if is a vh or vw, we calculate the size based on the viewport\n    var size = void 0;\n    if (unit === 'vh') {\n      size = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n    } else {\n      size = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n    }\n    return size / 100 * value;\n  } else {\n    // if is an explicit pixel unit, we get rid of the unit and keep the value\n    // if is an implicit unit, it's px, and we return just the value\n    return value;\n  }\n}\n\n/**\n * Parse an `offset` string to extrapolate `x` and `y` numeric offsets.\n * @function\n * @memberof {modifiers~offset}\n * @private\n * @argument {String} offset\n * @argument {Object} popperOffsets\n * @argument {Object} referenceOffsets\n * @argument {String} basePlacement\n * @returns {Array} a two cells array with x and y offsets in numbers\n */\nfunction parseOffset(offset, popperOffsets, referenceOffsets, basePlacement) {\n  var offsets = [0, 0];\n\n  // Use height if placement is left or right and index is 0 otherwise use width\n  // in this way the first offset will use an axis and the second one\n  // will use the other one\n  var useHeight = ['right', 'left'].indexOf(basePlacement) !== -1;\n\n  // Split the offset string to obtain a list of values and operands\n  // The regex addresses values with the plus or minus sign in front (+10, -20, etc)\n  var fragments = offset.split(/(\\+|\\-)/).map(function (frag) {\n    return frag.trim();\n  });\n\n  // Detect if the offset string contains a pair of values or a single one\n  // they could be separated by comma or space\n  var divider = fragments.indexOf(find(fragments, function (frag) {\n    return frag.search(/,|\\s/) !== -1;\n  }));\n\n  if (fragments[divider] && fragments[divider].indexOf(',') === -1) {\n    console.warn('Offsets separated by white space(s) are deprecated, use a comma (,) instead.');\n  }\n\n  // If divider is found, we divide the list of values and operands to divide\n  // them by ofset X and Y.\n  var splitRegex = /\\s*,\\s*|\\s+/;\n  var ops = divider !== -1 ? [fragments.slice(0, divider).concat([fragments[divider].split(splitRegex)[0]]), [fragments[divider].split(splitRegex)[1]].concat(fragments.slice(divider + 1))] : [fragments];\n\n  // Convert the values with units to absolute pixels to allow our computations\n  ops = ops.map(function (op, index) {\n    // Most of the units rely on the orientation of the popper\n    var measurement = (index === 1 ? !useHeight : useHeight) ? 'height' : 'width';\n    var mergeWithPrevious = false;\n    return op\n    // This aggregates any `+` or `-` sign that aren't considered operators\n    // e.g.: 10 + +5 => [10, +, +5]\n    .reduce(function (a, b) {\n      if (a[a.length - 1] === '' && ['+', '-'].indexOf(b) !== -1) {\n        a[a.length - 1] = b;\n        mergeWithPrevious = true;\n        return a;\n      } else if (mergeWithPrevious) {\n        a[a.length - 1] += b;\n        mergeWithPrevious = false;\n        return a;\n      } else {\n        return a.concat(b);\n      }\n    }, [])\n    // Here we convert the string values into number values (in px)\n    .map(function (str) {\n      return toValue(str, measurement, popperOffsets, referenceOffsets);\n    });\n  });\n\n  // Loop trough the offsets arrays and execute the operations\n  ops.forEach(function (op, index) {\n    op.forEach(function (frag, index2) {\n      if (isNumeric(frag)) {\n        offsets[index] += frag * (op[index2 - 1] === '-' ? -1 : 1);\n      }\n    });\n  });\n  return offsets;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @argument {Number|String} options.offset=0\n * The offset value as described in the modifier description\n * @returns {Object} The data object, properly modified\n */\nfunction offset(data, _ref) {\n  var offset = _ref.offset;\n  var placement = data.placement,\n      _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n\n  var basePlacement = placement.split('-')[0];\n\n  var offsets = void 0;\n  if (isNumeric(+offset)) {\n    offsets = [+offset, 0];\n  } else {\n    offsets = parseOffset(offset, popper, reference, basePlacement);\n  }\n\n  if (basePlacement === 'left') {\n    popper.top += offsets[0];\n    popper.left -= offsets[1];\n  } else if (basePlacement === 'right') {\n    popper.top += offsets[0];\n    popper.left += offsets[1];\n  } else if (basePlacement === 'top') {\n    popper.left += offsets[0];\n    popper.top -= offsets[1];\n  } else if (basePlacement === 'bottom') {\n    popper.left += offsets[0];\n    popper.top += offsets[1];\n  }\n\n  data.popper = popper;\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction preventOverflow(data, options) {\n  var boundariesElement = options.boundariesElement || getOffsetParent(data.instance.popper);\n\n  // If offsetParent is the reference element, we really want to\n  // go one step up and use the next offsetParent as reference to\n  // avoid to make this modifier completely useless and look like broken\n  if (data.instance.reference === boundariesElement) {\n    boundariesElement = getOffsetParent(boundariesElement);\n  }\n\n  // NOTE: DOM access here\n  // resets the popper's position so that the document size can be calculated excluding\n  // the size of the popper element itself\n  var transformProp = getSupportedPropertyName('transform');\n  var popperStyles = data.instance.popper.style; // assignment to help minification\n  var top = popperStyles.top,\n      left = popperStyles.left,\n      transform = popperStyles[transformProp];\n\n  popperStyles.top = '';\n  popperStyles.left = '';\n  popperStyles[transformProp] = '';\n\n  var boundaries = getBoundaries(data.instance.popper, data.instance.reference, options.padding, boundariesElement, data.positionFixed);\n\n  // NOTE: DOM access here\n  // restores the original style properties after the offsets have been computed\n  popperStyles.top = top;\n  popperStyles.left = left;\n  popperStyles[transformProp] = transform;\n\n  options.boundaries = boundaries;\n\n  var order = options.priority;\n  var popper = data.offsets.popper;\n\n  var check = {\n    primary: function primary(placement) {\n      var value = popper[placement];\n      if (popper[placement] < boundaries[placement] && !options.escapeWithReference) {\n        value = Math.max(popper[placement], boundaries[placement]);\n      }\n      return defineProperty({}, placement, value);\n    },\n    secondary: function secondary(placement) {\n      var mainSide = placement === 'right' ? 'left' : 'top';\n      var value = popper[mainSide];\n      if (popper[placement] > boundaries[placement] && !options.escapeWithReference) {\n        value = Math.min(popper[mainSide], boundaries[placement] - (placement === 'right' ? popper.width : popper.height));\n      }\n      return defineProperty({}, mainSide, value);\n    }\n  };\n\n  order.forEach(function (placement) {\n    var side = ['left', 'top'].indexOf(placement) !== -1 ? 'primary' : 'secondary';\n    popper = _extends({}, popper, check[side](placement));\n  });\n\n  data.offsets.popper = popper;\n\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction shift(data) {\n  var placement = data.placement;\n  var basePlacement = placement.split('-')[0];\n  var shiftvariation = placement.split('-')[1];\n\n  // if shift shiftvariation is specified, run the modifier\n  if (shiftvariation) {\n    var _data$offsets = data.offsets,\n        reference = _data$offsets.reference,\n        popper = _data$offsets.popper;\n\n    var isVertical = ['bottom', 'top'].indexOf(basePlacement) !== -1;\n    var side = isVertical ? 'left' : 'top';\n    var measurement = isVertical ? 'width' : 'height';\n\n    var shiftOffsets = {\n      start: defineProperty({}, side, reference[side]),\n      end: defineProperty({}, side, reference[side] + reference[measurement] - popper[measurement])\n    };\n\n    data.offsets.popper = _extends({}, popper, shiftOffsets[shiftvariation]);\n  }\n\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction hide(data) {\n  if (!isModifierRequired(data.instance.modifiers, 'hide', 'preventOverflow')) {\n    return data;\n  }\n\n  var refRect = data.offsets.reference;\n  var bound = find(data.instance.modifiers, function (modifier) {\n    return modifier.name === 'preventOverflow';\n  }).boundaries;\n\n  if (refRect.bottom < bound.top || refRect.left > bound.right || refRect.top > bound.bottom || refRect.right < bound.left) {\n    // Avoid unnecessary DOM access if visibility hasn't changed\n    if (data.hide === true) {\n      return data;\n    }\n\n    data.hide = true;\n    data.attributes['x-out-of-boundaries'] = '';\n  } else {\n    // Avoid unnecessary DOM access if visibility hasn't changed\n    if (data.hide === false) {\n      return data;\n    }\n\n    data.hide = false;\n    data.attributes['x-out-of-boundaries'] = false;\n  }\n\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction inner(data) {\n  var placement = data.placement;\n  var basePlacement = placement.split('-')[0];\n  var _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n\n  var isHoriz = ['left', 'right'].indexOf(basePlacement) !== -1;\n\n  var subtractLength = ['top', 'left'].indexOf(basePlacement) === -1;\n\n  popper[isHoriz ? 'left' : 'top'] = reference[basePlacement] - (subtractLength ? popper[isHoriz ? 'width' : 'height'] : 0);\n\n  data.placement = getOppositePlacement(placement);\n  data.offsets.popper = getClientRect(popper);\n\n  return data;\n}\n\n/**\n * Modifier function, each modifier can have a function of this type assigned\n * to its `fn` property.<br />\n * These functions will be called on each update, this means that you must\n * make sure they are performant enough to avoid performance bottlenecks.\n *\n * @function ModifierFn\n * @argument {dataObject} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {dataObject} The data object, properly modified\n */\n\n/**\n * Modifiers are plugins used to alter the behavior of your poppers.<br />\n * Popper.js uses a set of 9 modifiers to provide all the basic functionalities\n * needed by the library.\n *\n * Usually you don't want to override the `order`, `fn` and `onLoad` props.\n * All the other properties are configurations that could be tweaked.\n * @namespace modifiers\n */\nvar modifiers = {\n  /**\n   * Modifier used to shift the popper on the start or end of its reference\n   * element.<br />\n   * It will read the variation of the `placement` property.<br />\n   * It can be one either `-end` or `-start`.\n   * @memberof modifiers\n   * @inner\n   */\n  shift: {\n    /** @prop {number} order=100 - Index used to define the order of execution */\n    order: 100,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: shift\n  },\n\n  /**\n   * The `offset` modifier can shift your popper on both its axis.\n   *\n   * It accepts the following units:\n   * - `px` or unit-less, interpreted as pixels\n   * - `%` or `%r`, percentage relative to the length of the reference element\n   * - `%p`, percentage relative to the length of the popper element\n   * - `vw`, CSS viewport width unit\n   * - `vh`, CSS viewport height unit\n   *\n   * For length is intended the main axis relative to the placement of the popper.<br />\n   * This means that if the placement is `top` or `bottom`, the length will be the\n   * `width`. In case of `left` or `right`, it will be the `height`.\n   *\n   * You can provide a single value (as `Number` or `String`), or a pair of values\n   * as `String` divided by a comma or one (or more) white spaces.<br />\n   * The latter is a deprecated method because it leads to confusion and will be\n   * removed in v2.<br />\n   * Additionally, it accepts additions and subtractions between different units.\n   * Note that multiplications and divisions aren't supported.\n   *\n   * Valid examples are:\n   * ```\n   * 10\n   * '10%'\n   * '10, 10'\n   * '10%, 10'\n   * '10 + 10%'\n   * '10 - 5vh + 3%'\n   * '-10px + 5vh, 5px - 6%'\n   * ```\n   * > **NB**: If you desire to apply offsets to your poppers in a way that may make them overlap\n   * > with their reference element, unfortunately, you will have to disable the `flip` modifier.\n   * > You can read more on this at this [issue](https://github.com/FezVrasta/popper.js/issues/373).\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  offset: {\n    /** @prop {number} order=200 - Index used to define the order of execution */\n    order: 200,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: offset,\n    /** @prop {Number|String} offset=0\n     * The offset value as described in the modifier description\n     */\n    offset: 0\n  },\n\n  /**\n   * Modifier used to prevent the popper from being positioned outside the boundary.\n   *\n   * A scenario exists where the reference itself is not within the boundaries.<br />\n   * We can say it has \"escaped the boundaries\" — or just \"escaped\".<br />\n   * In this case we need to decide whether the popper should either:\n   *\n   * - detach from the reference and remain \"trapped\" in the boundaries, or\n   * - if it should ignore the boundary and \"escape with its reference\"\n   *\n   * When `escapeWithReference` is set to`true` and reference is completely\n   * outside its boundaries, the popper will overflow (or completely leave)\n   * the boundaries in order to remain attached to the edge of the reference.\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  preventOverflow: {\n    /** @prop {number} order=300 - Index used to define the order of execution */\n    order: 300,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: preventOverflow,\n    /**\n     * @prop {Array} [priority=['left','right','top','bottom']]\n     * Popper will try to prevent overflow following these priorities by default,\n     * then, it could overflow on the left and on top of the `boundariesElement`\n     */\n    priority: ['left', 'right', 'top', 'bottom'],\n    /**\n     * @prop {number} padding=5\n     * Amount of pixel used to define a minimum distance between the boundaries\n     * and the popper. This makes sure the popper always has a little padding\n     * between the edges of its container\n     */\n    padding: 5,\n    /**\n     * @prop {String|HTMLElement} boundariesElement='scrollParent'\n     * Boundaries used by the modifier. Can be `scrollParent`, `window`,\n     * `viewport` or any DOM element.\n     */\n    boundariesElement: 'scrollParent'\n  },\n\n  /**\n   * Modifier used to make sure the reference and its popper stay near each other\n   * without leaving any gap between the two. Especially useful when the arrow is\n   * enabled and you want to ensure that it points to its reference element.\n   * It cares only about the first axis. You can still have poppers with margin\n   * between the popper and its reference element.\n   * @memberof modifiers\n   * @inner\n   */\n  keepTogether: {\n    /** @prop {number} order=400 - Index used to define the order of execution */\n    order: 400,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: keepTogether\n  },\n\n  /**\n   * This modifier is used to move the `arrowElement` of the popper to make\n   * sure it is positioned between the reference element and its popper element.\n   * It will read the outer size of the `arrowElement` node to detect how many\n   * pixels of conjunction are needed.\n   *\n   * It has no effect if no `arrowElement` is provided.\n   * @memberof modifiers\n   * @inner\n   */\n  arrow: {\n    /** @prop {number} order=500 - Index used to define the order of execution */\n    order: 500,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: arrow,\n    /** @prop {String|HTMLElement} element='[x-arrow]' - Selector or node used as arrow */\n    element: '[x-arrow]'\n  },\n\n  /**\n   * Modifier used to flip the popper's placement when it starts to overlap its\n   * reference element.\n   *\n   * Requires the `preventOverflow` modifier before it in order to work.\n   *\n   * **NOTE:** this modifier will interrupt the current update cycle and will\n   * restart it if it detects the need to flip the placement.\n   * @memberof modifiers\n   * @inner\n   */\n  flip: {\n    /** @prop {number} order=600 - Index used to define the order of execution */\n    order: 600,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: flip,\n    /**\n     * @prop {String|Array} behavior='flip'\n     * The behavior used to change the popper's placement. It can be one of\n     * `flip`, `clockwise`, `counterclockwise` or an array with a list of valid\n     * placements (with optional variations)\n     */\n    behavior: 'flip',\n    /**\n     * @prop {number} padding=5\n     * The popper will flip if it hits the edges of the `boundariesElement`\n     */\n    padding: 5,\n    /**\n     * @prop {String|HTMLElement} boundariesElement='viewport'\n     * The element which will define the boundaries of the popper position.\n     * The popper will never be placed outside of the defined boundaries\n     * (except if `keepTogether` is enabled)\n     */\n    boundariesElement: 'viewport',\n    /**\n     * @prop {Boolean} flipVariations=false\n     * The popper will switch placement variation between `-start` and `-end` when\n     * the reference element overlaps its boundaries.\n     *\n     * The original placement should have a set variation.\n     */\n    flipVariations: false,\n    /**\n     * @prop {Boolean} flipVariationsByContent=false\n     * The popper will switch placement variation between `-start` and `-end` when\n     * the popper element overlaps its reference boundaries.\n     *\n     * The original placement should have a set variation.\n     */\n    flipVariationsByContent: false\n  },\n\n  /**\n   * Modifier used to make the popper flow toward the inner of the reference element.\n   * By default, when this modifier is disabled, the popper will be placed outside\n   * the reference element.\n   * @memberof modifiers\n   * @inner\n   */\n  inner: {\n    /** @prop {number} order=700 - Index used to define the order of execution */\n    order: 700,\n    /** @prop {Boolean} enabled=false - Whether the modifier is enabled or not */\n    enabled: false,\n    /** @prop {ModifierFn} */\n    fn: inner\n  },\n\n  /**\n   * Modifier used to hide the popper when its reference element is outside of the\n   * popper boundaries. It will set a `x-out-of-boundaries` attribute which can\n   * be used to hide with a CSS selector the popper when its reference is\n   * out of boundaries.\n   *\n   * Requires the `preventOverflow` modifier before it in order to work.\n   * @memberof modifiers\n   * @inner\n   */\n  hide: {\n    /** @prop {number} order=800 - Index used to define the order of execution */\n    order: 800,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: hide\n  },\n\n  /**\n   * Computes the style that will be applied to the popper element to gets\n   * properly positioned.\n   *\n   * Note that this modifier will not touch the DOM, it just prepares the styles\n   * so that `applyStyle` modifier can apply it. This separation is useful\n   * in case you need to replace `applyStyle` with a custom implementation.\n   *\n   * This modifier has `850` as `order` value to maintain backward compatibility\n   * with previous versions of Popper.js. Expect the modifiers ordering method\n   * to change in future major versions of the library.\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  computeStyle: {\n    /** @prop {number} order=850 - Index used to define the order of execution */\n    order: 850,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: computeStyle,\n    /**\n     * @prop {Boolean} gpuAcceleration=true\n     * If true, it uses the CSS 3D transformation to position the popper.\n     * Otherwise, it will use the `top` and `left` properties\n     */\n    gpuAcceleration: true,\n    /**\n     * @prop {string} [x='bottom']\n     * Where to anchor the X axis (`bottom` or `top`). AKA X offset origin.\n     * Change this if your popper should grow in a direction different from `bottom`\n     */\n    x: 'bottom',\n    /**\n     * @prop {string} [x='left']\n     * Where to anchor the Y axis (`left` or `right`). AKA Y offset origin.\n     * Change this if your popper should grow in a direction different from `right`\n     */\n    y: 'right'\n  },\n\n  /**\n   * Applies the computed styles to the popper element.\n   *\n   * All the DOM manipulations are limited to this modifier. This is useful in case\n   * you want to integrate Popper.js inside a framework or view library and you\n   * want to delegate all the DOM manipulations to it.\n   *\n   * Note that if you disable this modifier, you must make sure the popper element\n   * has its position set to `absolute` before Popper.js can do its work!\n   *\n   * Just disable this modifier and define your own to achieve the desired effect.\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  applyStyle: {\n    /** @prop {number} order=900 - Index used to define the order of execution */\n    order: 900,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: applyStyle,\n    /** @prop {Function} */\n    onLoad: applyStyleOnLoad,\n    /**\n     * @deprecated since version 1.10.0, the property moved to `computeStyle` modifier\n     * @prop {Boolean} gpuAcceleration=true\n     * If true, it uses the CSS 3D transformation to position the popper.\n     * Otherwise, it will use the `top` and `left` properties\n     */\n    gpuAcceleration: undefined\n  }\n};\n\n/**\n * The `dataObject` is an object containing all the information used by Popper.js.\n * This object is passed to modifiers and to the `onCreate` and `onUpdate` callbacks.\n * @name dataObject\n * @property {Object} data.instance The Popper.js instance\n * @property {String} data.placement Placement applied to popper\n * @property {String} data.originalPlacement Placement originally defined on init\n * @property {Boolean} data.flipped True if popper has been flipped by flip modifier\n * @property {Boolean} data.hide True if the reference element is out of boundaries, useful to know when to hide the popper\n * @property {HTMLElement} data.arrowElement Node used as arrow by arrow modifier\n * @property {Object} data.styles Any CSS property defined here will be applied to the popper. It expects the JavaScript nomenclature (eg. `marginBottom`)\n * @property {Object} data.arrowStyles Any CSS property defined here will be applied to the popper arrow. It expects the JavaScript nomenclature (eg. `marginBottom`)\n * @property {Object} data.boundaries Offsets of the popper boundaries\n * @property {Object} data.offsets The measurements of popper, reference and arrow elements\n * @property {Object} data.offsets.popper `top`, `left`, `width`, `height` values\n * @property {Object} data.offsets.reference `top`, `left`, `width`, `height` values\n * @property {Object} data.offsets.arrow] `top` and `left` offsets, only one of them will be different from 0\n */\n\n/**\n * Default options provided to Popper.js constructor.<br />\n * These can be overridden using the `options` argument of Popper.js.<br />\n * To override an option, simply pass an object with the same\n * structure of the `options` object, as the 3rd argument. For example:\n * ```\n * new Popper(ref, pop, {\n *   modifiers: {\n *     preventOverflow: { enabled: false }\n *   }\n * })\n * ```\n * @type {Object}\n * @static\n * @memberof Popper\n */\nvar Defaults = {\n  /**\n   * Popper's placement.\n   * @prop {Popper.placements} placement='bottom'\n   */\n  placement: 'bottom',\n\n  /**\n   * Set this to true if you want popper to position it self in 'fixed' mode\n   * @prop {Boolean} positionFixed=false\n   */\n  positionFixed: false,\n\n  /**\n   * Whether events (resize, scroll) are initially enabled.\n   * @prop {Boolean} eventsEnabled=true\n   */\n  eventsEnabled: true,\n\n  /**\n   * Set to true if you want to automatically remove the popper when\n   * you call the `destroy` method.\n   * @prop {Boolean} removeOnDestroy=false\n   */\n  removeOnDestroy: false,\n\n  /**\n   * Callback called when the popper is created.<br />\n   * By default, it is set to no-op.<br />\n   * Access Popper.js instance with `data.instance`.\n   * @prop {onCreate}\n   */\n  onCreate: function onCreate() {},\n\n  /**\n   * Callback called when the popper is updated. This callback is not called\n   * on the initialization/creation of the popper, but only on subsequent\n   * updates.<br />\n   * By default, it is set to no-op.<br />\n   * Access Popper.js instance with `data.instance`.\n   * @prop {onUpdate}\n   */\n  onUpdate: function onUpdate() {},\n\n  /**\n   * List of modifiers used to modify the offsets before they are applied to the popper.\n   * They provide most of the functionalities of Popper.js.\n   * @prop {modifiers}\n   */\n  modifiers: modifiers\n};\n\n/**\n * @callback onCreate\n * @param {dataObject} data\n */\n\n/**\n * @callback onUpdate\n * @param {dataObject} data\n */\n\n// Utils\n// Methods\nvar Popper = function () {\n  /**\n   * Creates a new Popper.js instance.\n   * @class Popper\n   * @param {Element|referenceObject} reference - The reference element used to position the popper\n   * @param {Element} popper - The HTML / XML element used as the popper\n   * @param {Object} options - Your custom options to override the ones defined in [Defaults](#defaults)\n   * @return {Object} instance - The generated Popper.js instance\n   */\n  function Popper(reference, popper) {\n    var _this = this;\n\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    classCallCheck(this, Popper);\n\n    this.scheduleUpdate = function () {\n      return requestAnimationFrame(_this.update);\n    };\n\n    // make update() debounced, so that it only runs at most once-per-tick\n    this.update = debounce(this.update.bind(this));\n\n    // with {} we create a new object with the options inside it\n    this.options = _extends({}, Popper.Defaults, options);\n\n    // init state\n    this.state = {\n      isDestroyed: false,\n      isCreated: false,\n      scrollParents: []\n    };\n\n    // get reference and popper elements (allow jQuery wrappers)\n    this.reference = reference && reference.jquery ? reference[0] : reference;\n    this.popper = popper && popper.jquery ? popper[0] : popper;\n\n    // Deep merge modifiers options\n    this.options.modifiers = {};\n    Object.keys(_extends({}, Popper.Defaults.modifiers, options.modifiers)).forEach(function (name) {\n      _this.options.modifiers[name] = _extends({}, Popper.Defaults.modifiers[name] || {}, options.modifiers ? options.modifiers[name] : {});\n    });\n\n    // Refactoring modifiers' list (Object => Array)\n    this.modifiers = Object.keys(this.options.modifiers).map(function (name) {\n      return _extends({\n        name: name\n      }, _this.options.modifiers[name]);\n    })\n    // sort the modifiers by order\n    .sort(function (a, b) {\n      return a.order - b.order;\n    });\n\n    // modifiers have the ability to execute arbitrary code when Popper.js get inited\n    // such code is executed in the same order of its modifier\n    // they could add new properties to their options configuration\n    // BE AWARE: don't add options to `options.modifiers.name` but to `modifierOptions`!\n    this.modifiers.forEach(function (modifierOptions) {\n      if (modifierOptions.enabled && isFunction(modifierOptions.onLoad)) {\n        modifierOptions.onLoad(_this.reference, _this.popper, _this.options, modifierOptions, _this.state);\n      }\n    });\n\n    // fire the first update to position the popper in the right place\n    this.update();\n\n    var eventsEnabled = this.options.eventsEnabled;\n    if (eventsEnabled) {\n      // setup event listeners, they will take care of update the position in specific situations\n      this.enableEventListeners();\n    }\n\n    this.state.eventsEnabled = eventsEnabled;\n  }\n\n  // We can't use class properties because they don't get listed in the\n  // class prototype and break stuff like Sinon stubs\n\n\n  createClass(Popper, [{\n    key: 'update',\n    value: function update$$1() {\n      return update.call(this);\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy$$1() {\n      return destroy.call(this);\n    }\n  }, {\n    key: 'enableEventListeners',\n    value: function enableEventListeners$$1() {\n      return enableEventListeners.call(this);\n    }\n  }, {\n    key: 'disableEventListeners',\n    value: function disableEventListeners$$1() {\n      return disableEventListeners.call(this);\n    }\n\n    /**\n     * Schedules an update. It will run on the next UI update available.\n     * @method scheduleUpdate\n     * @memberof Popper\n     */\n\n\n    /**\n     * Collection of utilities useful when writing custom modifiers.\n     * Starting from version 1.7, this method is available only if you\n     * include `popper-utils.js` before `popper.js`.\n     *\n     * **DEPRECATION**: This way to access PopperUtils is deprecated\n     * and will be removed in v2! Use the PopperUtils module directly instead.\n     * Due to the high instability of the methods contained in Utils, we can't\n     * guarantee them to follow semver. Use them at your own risk!\n     * @static\n     * @private\n     * @type {Object}\n     * @deprecated since version 1.8\n     * @member Utils\n     * @memberof Popper\n     */\n\n  }]);\n  return Popper;\n}();\n\n/**\n * The `referenceObject` is an object that provides an interface compatible with Popper.js\n * and lets you use it as replacement of a real DOM node.<br />\n * You can use this method to position a popper relatively to a set of coordinates\n * in case you don't have a DOM node to use as reference.\n *\n * ```\n * new Popper(referenceObject, popperNode);\n * ```\n *\n * NB: This feature isn't supported in Internet Explorer 10.\n * @name referenceObject\n * @property {Function} data.getBoundingClientRect\n * A function that returns a set of coordinates compatible with the native `getBoundingClientRect` method.\n * @property {number} data.clientWidth\n * An ES6 getter that will return the width of the virtual reference element.\n * @property {number} data.clientHeight\n * An ES6 getter that will return the height of the virtual reference element.\n */\n\n\nPopper.Utils = (typeof window !== 'undefined' ? window : global).PopperUtils;\nPopper.placements = placements;\nPopper.Defaults = Defaults;\n\nexport default Popper;\n//# sourceMappingURL=popper.js.map\n","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport { select } from \"d3-selection\";\nimport { accessor, BaseClass, constant, prefix, stylize } from \"d3plus-common\";\nimport Popper from \"popper.js\";\n/**\n    @class Tooltip\n    @extends BaseClass\n    @desc Creates HTML tooltips in the body of a webpage.\n*/\n\nvar Tooltip =\n/*#__PURE__*/\nfunction (_BaseClass) {\n  _inherits(Tooltip, _BaseClass);\n\n  /**\n      @memberof Tooltip\n      @desc Invoked when creating a new class instance, and sets any default parameters.\n      @private\n  */\n  function Tooltip() {\n    var _this;\n\n    _classCallCheck(this, Tooltip);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Tooltip).call(this));\n    _this._arrow = accessor(\"arrow\", \"\");\n    _this._arrowStyle = {\n      \"content\": \"\",\n      \"background\": \"inherit\",\n      \"border\": \"inherit\",\n      \"border-width\": \"0 1px 1px 0\",\n      \"height\": \"10px\",\n      \"position\": \"absolute\",\n      \"transform\": \"rotate(45deg)\",\n      \"width\": \"10px\",\n      \"z-index\": \"-1\"\n    };\n    _this._background = constant(\"rgba(255, 255, 255, 1)\");\n    _this._body = accessor(\"body\", \"\");\n    _this._bodyStyle = {\n      \"font-family\": \"'Roboto', 'Helvetica Neue', 'HelveticaNeue', 'Helvetica', 'Arial', sans-serif\",\n      \"font-size\": \"12px\",\n      \"font-weight\": \"400\",\n      \"z-index\": \"1\"\n    };\n    _this._border = constant(\"1px solid rgba(0, 0, 0, 0.1)\");\n    _this._borderRadius = constant(\"2px\");\n    _this._className = \"d3plus-tooltip\";\n    _this._data = [];\n    _this._footer = accessor(\"footer\", \"\");\n    _this._footerStyle = {\n      \"font-family\": \"'Roboto', 'Helvetica Neue', 'HelveticaNeue', 'Helvetica', 'Arial', sans-serif\",\n      \"font-size\": \"12px\",\n      \"font-weight\": \"400\",\n      \"z-index\": \"1\"\n    };\n    _this._height = constant(\"auto\");\n\n    _this._id = function (d, i) {\n      return \"\".concat(i);\n    };\n\n    _this._offset = constant(5);\n    _this._padding = constant(\"5px\");\n    _this._pointerEvents = constant(\"auto\");\n    _this._popperClasses = {};\n\n    _this._position = function (d) {\n      return [d.x, d.y];\n    };\n\n    _this._prefix = prefix();\n    _this._tableStyle = {\n      \"border-collapse\": \"collapse\",\n      \"border-spacing\": \"0\",\n      \"width\": \"100%\"\n    };\n    _this._tbody = [];\n    _this._tbodyStyle = {\n      \"font-family\": \"'Roboto', 'Helvetica Neue', 'HelveticaNeue', 'Helvetica', 'Arial', sans-serif\",\n      \"font-size\": \"12px\",\n      \"text-align\": \"center\"\n    };\n    _this._thead = [];\n    _this._theadStyle = {\n      \"font-family\": \"'Roboto', 'Helvetica Neue', 'HelveticaNeue', 'Helvetica', 'Arial', sans-serif\",\n      \"font-size\": \"12px\",\n      \"font-weight\": \"600\",\n      \"text-align\": \"center\"\n    };\n    _this._title = accessor(\"title\", \"\");\n    _this._titleStyle = {\n      \"font-family\": \"'Roboto', 'Helvetica Neue', 'HelveticaNeue', 'Helvetica', 'Arial', sans-serif\",\n      \"font-size\": \"14px\",\n      \"font-weight\": \"600\"\n    };\n    _this._trStyle = {\n      \"border-top\": \"1px solid rgba(0, 0, 0, 0.1)\"\n    };\n    _this._width = constant(\"auto\");\n    return _this;\n  }\n  /**\n      The inner return object and draw function that gets assigned the public methods.\n      @private\n  */\n\n\n  _createClass(Tooltip, [{\n    key: \"render\",\n    value: function render(callback) {\n      var _this2 = this;\n\n      var that = this;\n      var tooltips = select(\"body\").selectAll(\".\".concat(this._className)).data(this._data, this._id);\n      var enter = tooltips.enter().append(\"div\").attr(\"class\", this._className);\n      var update = tooltips.merge(enter);\n      /**\n          Creates DIV elements with a unique class and styles.\n          @private\n      */\n\n      function divElement(cat) {\n        enter.append(\"div\").attr(\"class\", \"d3plus-tooltip-\".concat(cat)).attr(\"id\", function (d, i) {\n          return \"d3plus-tooltip-\".concat(cat, \"-\").concat(d ? that._id(d, i) : \"\");\n        });\n        var div = update.select(\".d3plus-tooltip-\".concat(cat)).html(function (d, i) {\n          return that[\"_\".concat(cat)](d, i);\n        }).style(\"display\", function (d, i) {\n          var val = that[\"_\".concat(cat)](d, i);\n          var visible = val !== false && val !== undefined && val !== null;\n          return visible ? \"block\" : \"none\";\n        });\n        stylize(div, that[\"_\".concat(cat, \"Style\")]);\n      }\n      /**\n          Fetches table contents given functions or values.\n          @private\n      */\n\n\n      function cellContent(d) {\n        if (typeof d === \"function\") {\n          var datum = select(this.parentNode.parentNode).datum();\n          return d(datum, that._data.indexOf(datum));\n        } else return d;\n      }\n      /**\n          Sets styles for both enter and update.\n          @private\n      */\n\n\n      function boxStyles(box) {\n        box.style(\"background\", that._background).style(\"\".concat(that._prefix, \"border-radius\"), that._borderRadius).style(\"pointer-events\", that._pointerEvents).style(\"padding\", that._padding).style(\"width\", that._width).style(\"height\", that._height).style(\"border\", function (d, i) {\n          var b = select(this).style(\"border\");\n          return b !== \"0px none rgb(0, 0, 0)\" ? b : that._border(d, i);\n        });\n      }\n\n      divElement(\"title\");\n      divElement(\"body\");\n      var tableEnter = enter.append(\"table\").attr(\"class\", \"d3plus-tooltip-table\");\n      var table = update.select(\".d3plus-tooltip-table\");\n      stylize(table, this._tableStyle);\n      tableEnter.append(\"thead\").attr(\"class\", \"d3plus-tooltip-thead\");\n      var tableHead = update.select(\".d3plus-tooltip-thead\");\n      stylize(tableHead, this._theadStyle);\n      var th = tableHead.selectAll(\"th\").data(this._thead);\n      th.enter().append(\"th\").merge(th).html(cellContent);\n      th.exit().remove();\n      tableEnter.append(\"tbody\").attr(\"class\", \"d3plus-tooltip-tbody\");\n      var tableBody = update.select(\".d3plus-tooltip-tbody\");\n      stylize(tableBody, this._tbodyStyle);\n      var tr = tableBody.selectAll(\"tr\").data(this._tbody);\n      var trEnter = tr.enter().append(\"tr\");\n      tr.exit().remove();\n      var trUpdate = tr.merge(trEnter);\n      stylize(trUpdate, this._trStyle);\n      var td = trUpdate.selectAll(\"td\").data(function (d) {\n        return d;\n      });\n      td.enter().append(\"td\").merge(td).html(cellContent);\n      divElement(\"footer\");\n      divElement(\"arrow\");\n      enter.attr(\"id\", function (d, i) {\n        return \"d3plus-tooltip-\".concat(d ? _this2._id(d, i) : \"\");\n      }).call(boxStyles).each(function (d, i) {\n        var id = that._id(d, i);\n\n        var tooltip = document.getElementById(\"d3plus-tooltip-\".concat(id));\n        var arrow = document.getElementById(\"d3plus-tooltip-arrow-\".concat(id));\n        var arrowHeight = arrow.offsetHeight;\n        var arrowDistance = arrow.getBoundingClientRect().height / 2;\n        arrow.style.bottom = \"-\".concat(arrowHeight / 2, \"px\");\n\n        var position = that._position(d, i);\n\n        var referenceObject = Array.isArray(position) ? {\n          clientWidth: 0,\n          clientHeight: 0,\n          getBoundingClientRect: function getBoundingClientRect() {\n            return {\n              top: position[1],\n              right: position[0],\n              bottom: position[1],\n              left: position[0],\n              width: 0,\n              height: 0\n            };\n          }\n        } : position;\n        _this2._popperClasses[id] = new Popper(referenceObject, tooltip, {\n          placement: \"top\",\n          placements: [\"top\", \"bottom\", \"left\", \"right\"],\n          modifiers: {\n            arrow: {\n              element: arrow\n            },\n            offset: {\n              offset: \"0,\".concat(that._offset(d, i) + arrowDistance)\n            },\n            preventOverflow: {\n              boundariesElement: \"scrollParent\"\n            },\n            flip: {\n              behavior: \"flip\",\n              boundariesElement: \"viewport\"\n            }\n          },\n          onUpdate: function onUpdate(_ref) {\n            var arrowElement = _ref.arrowElement,\n                flipped = _ref.flipped;\n\n            if (flipped) {\n              arrowElement.style.transform = \"rotate(225deg)\";\n              arrowElement.style.top = \"-\".concat(arrowHeight / 2, \"px\");\n            } else {\n              arrowElement.style.transform = \"rotate(45deg)\";\n              arrowElement.style.bottom = \"-\".concat(arrowHeight / 2, \"px\");\n            }\n          },\n          removeOnDestroy: true\n        });\n      });\n      update.each(function (d, i) {\n        var id = that._id(d, i);\n\n        var position = that._position(d, i);\n\n        var instance = _this2._popperClasses[id];\n\n        if (instance) {\n          var referenceObject = Array.isArray(position) ? {\n            clientWidth: 0,\n            clientHeight: 0,\n            getBoundingClientRect: function getBoundingClientRect() {\n              return {\n                top: position[1],\n                right: position[0],\n                bottom: position[1],\n                left: position[0],\n                width: 0,\n                height: 0\n              };\n            }\n          } : position;\n          instance.reference = referenceObject;\n          instance.scheduleUpdate();\n        }\n      }).call(boxStyles);\n      tooltips.exit().each(function (d, i) {\n        var id = that._id(d, i);\n\n        var instance = _this2._popperClasses[id];\n\n        if (instance) {\n          instance.destroy();\n          delete _this2._popperClasses[id];\n        }\n      }).remove();\n      if (callback) setTimeout(callback, 100);\n      return this;\n    }\n    /**\n     @memberof Tooltip\n     @desc Sets the inner HTML content of the arrow element, which by default is empty.\n     @param {Function|String} [*value*]\n     @example <caption>default accessor</caption>\n     function value(d) {\n    return d.arrow || \"\";\n    }\n     */\n\n  }, {\n    key: \"arrow\",\n    value: function arrow(_) {\n      return arguments.length ? (this._arrow = typeof _ === \"function\" ? _ : constant(_), this) : this._arrow;\n    }\n    /**\n     @memberof Tooltip\n     @desc If *value* is specified, sets the arrow styles to the specified values and returns this generator. If *value* is not specified, returns the current arrow styles.\n     @param {Object} [*value*]\n     @example <caption>default styles</caption>\n     {\n       \"content\": \"\",\n       \"border-width\": \"10px\",\n       \"border-style\": \"solid\",\n       \"border-color\": \"rgba(255, 255, 255, 0.75) transparent transparent transparent\",\n       \"position\": \"absolute\"\n     }\n     */\n\n  }, {\n    key: \"arrowStyle\",\n    value: function arrowStyle(_) {\n      return arguments.length ? (this._arrowStyle = Object.assign(this._arrowStyle, _), this) : this._arrowStyle;\n    }\n    /**\n        @memberof Tooltip\n        @desc If *value* is specified, sets the background accessor to the specified function or string and returns this generator. If *value* is not specified, returns the current background accessor.\n        @param {Function|String} [*value* = \"rgba(255, 255, 255, 0.75)\"]\n    */\n\n  }, {\n    key: \"background\",\n    value: function background(_) {\n      return arguments.length ? (this._background = typeof _ === \"function\" ? _ : constant(_), this) : this._background;\n    }\n    /**\n        @memberof Tooltip\n        @desc If *value* is specified, sets the body accessor to the specified function or string and returns this generator. If *value* is not specified, returns the current body accessor.\n        @param {Function|String} [*value*]\n        @example <caption>default accessor</caption>\n    function value(d) {\n    return d.body || \"\";\n    }\n    */\n\n  }, {\n    key: \"body\",\n    value: function body(_) {\n      return arguments.length ? (this._body = typeof _ === \"function\" ? _ : constant(_), this) : this._body;\n    }\n    /**\n        @memberof Tooltip\n        @desc If *value* is specified, sets the body styles to the specified values and returns this generator. If *value* is not specified, returns the current body styles.\n        @param {Object} [*value*]\n        @example <caption>default styles</caption>\n    {\n    \"font-family\": \"'Roboto', 'Helvetica Neue', 'HelveticaNeue', 'Helvetica', 'Arial', sans-serif\",\n    \"font-size\": \"12px\",\n    \"font-weight\": \"400\"\n    }\n    */\n\n  }, {\n    key: \"bodyStyle\",\n    value: function bodyStyle(_) {\n      return arguments.length ? (this._bodyStyle = Object.assign(this._bodyStyle, _), this) : this._bodyStyle;\n    }\n    /**\n        @memberof Tooltip\n        @desc If *value* is specified, sets the border accessor to the specified function or string and returns this generator. If *value* is not specified, returns the current border accessor.\n        @param {Function|String} [*value* = \"1px solid rgba(0, 0, 0, 0.1)\"]\n    */\n\n  }, {\n    key: \"border\",\n    value: function border(_) {\n      return arguments.length ? (this._border = typeof _ === \"function\" ? _ : constant(_), this) : this._border;\n    }\n    /**\n        @memberof Tooltip\n        @desc If *value* is specified, sets the border-radius accessor to the specified function or string and returns this generator. If *value* is not specified, returns the current border-radius accessor.\n        @param {Function|String} [*value* = \"2px\"]\n    */\n\n  }, {\n    key: \"borderRadius\",\n    value: function borderRadius(_) {\n      return arguments.length ? (this._borderRadius = typeof _ === \"function\" ? _ : constant(_), this) : this._borderRadius;\n    }\n    /**\n        @memberof Tooltip\n        @desc If *value* is specified, sets the class name to the specified string and returns this generator. If *value* is not specified, returns the current class name.\n        @param {String} [*value* = \"d3plus-tooltip\"]\n    */\n\n  }, {\n    key: \"className\",\n    value: function className(_) {\n      return arguments.length ? (this._className = _, this) : this._className;\n    }\n    /**\n        @memberof Tooltip\n        @desc If *data* is specified, sets the data array to the specified array and returns this generator. If *data* is not specified, returns the current data array.\n        @param {Array} [*data* = []]\n    */\n\n  }, {\n    key: \"data\",\n    value: function data(_) {\n      return arguments.length ? (this._data = _, this) : this._data;\n    }\n    /**\n        @memberof Tooltip\n        @desc If *value* is specified, sets the footer accessor to the specified function or string and returns this generator. If *value* is not specified, returns the current footer accessor.\n        @param {Function|String} [*value*]\n        @example <caption>default accessor</caption>\n    function value(d) {\n    return d.footer || \"\";\n    }\n    */\n\n  }, {\n    key: \"footer\",\n    value: function footer(_) {\n      return arguments.length ? (this._footer = typeof _ === \"function\" ? _ : constant(_), this) : this._footer;\n    }\n    /**\n        @memberof Tooltip\n        @desc If *value* is specified, sets the footer styles to the specified values and returns this generator. If *value* is not specified, returns the current footer styles.\n        @param {Object} [*value*]\n        @example <caption>default styles</caption>\n    {\n    \"font-family\": \"'Roboto', 'Helvetica Neue', 'HelveticaNeue', 'Helvetica', 'Arial', sans-serif\",\n    \"font-size\": \"12px\",\n    \"font-weight\": \"400\"\n    }\n    */\n\n  }, {\n    key: \"footerStyle\",\n    value: function footerStyle(_) {\n      return arguments.length ? (this._footerStyle = Object.assign(this._footerStyle, _), this) : this._footerStyle;\n    }\n    /**\n        @memberof Tooltip\n        @desc If *value* is specified, sets the height accessor to the specified function or string and returns this generator. If *value* is not specified, returns the current height accessor.\n        @param {Function|String} [*value* = \"auto\"]\n    */\n\n  }, {\n    key: \"height\",\n    value: function height(_) {\n      return arguments.length ? (this._height = typeof _ === \"function\" ? _ : constant(_), this) : this._height;\n    }\n    /**\n        @memberof Tooltip\n        @desc If *value* is specified, sets the id accessor to the specified function or string and returns this generator. If *value* is not specified, returns the current id accessor.\n        @param {Function|String} [*value*]\n        @example <caption>default accessor</caption>\n    function value(d, i) {\n    return d.id || \"\" + i;\n    }\n    */\n\n  }, {\n    key: \"id\",\n    value: function id(_) {\n      return arguments.length ? (this._id = typeof _ === \"function\" ? _ : constant(_), this) : this._id;\n    }\n    /**\n        @memberof Tooltip\n        @desc If *value* is specified, sets the offset accessor to the specified function or number and returns this generator. If *value* is not specified, returns the current offset accessor.\n        @param {Function|Number} [*value* = 10]\n    */\n\n  }, {\n    key: \"offset\",\n    value: function offset(_) {\n      return arguments.length ? (this._offset = typeof _ === \"function\" ? _ : constant(_), this) : this._offset;\n    }\n    /**\n        @memberof Tooltip\n        @desc If *value* is specified, sets the padding accessor to the specified function or string and returns this generator. If *value* is not specified, returns the current padding accessor.\n        @param {Function|String} [*value* = \"5px\"]\n    */\n\n  }, {\n    key: \"padding\",\n    value: function padding(_) {\n      return arguments.length ? (this._padding = typeof _ === \"function\" ? _ : constant(_), this) : this._padding;\n    }\n    /**\n        @memberof Tooltip\n        @desc If *value* is specified, sets the pointer-events accessor to the specified function or string and returns this generator. If *value* is not specified, returns the current pointer-events accessor.\n        @param {Function|String} [*value* = \"auto\"]\n    */\n\n  }, {\n    key: \"pointerEvents\",\n    value: function pointerEvents(_) {\n      return arguments.length ? (this._pointerEvents = typeof _ === \"function\" ? _ : constant(_), this) : this._pointerEvents;\n    }\n    /**\n        @memberof Tooltip\n        @desc If *value* is specified, sets the position accessor to the specified function or array and returns this generator. If *value* is not specified, returns the current position accessor. If *value* is an HTMLElement, anchors the Tooltip to that HTMLElement. If *value* is a selection string, anchors the Tooltip to the HTMLElement selected by that string. Otherwise, coordinate points must be in reference to the client viewport, not the overall page.\n        @param {Function|Array|HTMLElement|String} [*value*]\n        @example <caption>default accessor</caption>\n     function value(d) {\n      return [d.x, d.y];\n    }\n     */\n\n  }, {\n    key: \"position\",\n    value: function position(_) {\n      return arguments.length ? (this._position = typeof _ === \"string\" ? constant(select(_).node() || [0, 0]) : typeof _ === \"function\" ? _ : constant(_), this) : this._position;\n    }\n    /**\n        @memberof Tooltip\n        @desc If *value* is specified, sets the table styles to the specified values and returns this generator. If *value* is not specified, returns the current table styles.\n        @param {Object} [*value*]\n        @example <caption>default styles</caption>\n    {\n    \"border-collapse\": \"collapse\",\n    \"border-spacing\": \"0\",\n    \"width\": \"100%\"\n    }\n    */\n\n  }, {\n    key: \"tableStyle\",\n    value: function tableStyle(_) {\n      return arguments.length ? (this._tableStyle = Object.assign(this._tableStyle, _), this) : this._tableStyle;\n    }\n    /**\n        @memberof Tooltip\n        @desc If *value* is specified, sets the contents of the table body to the specified array of functions or strings and returns this generator. If *value* is not specified, returns the current table body data.\n        @param {Array} [*value* = []]\n    */\n\n  }, {\n    key: \"tbody\",\n    value: function tbody(_) {\n      return arguments.length ? (this._tbody = _, this) : this._tbody;\n    }\n    /**\n        @memberof Tooltip\n        @desc If *value* is specified, sets the table body styles to the specified values and returns this generator. If *value* is not specified, returns the current table body styles.\n        @param {Object} [*value*]\n        @example <caption>default styles</caption>\n    {\n    \"font-family\": \"'Roboto', 'Helvetica Neue', 'HelveticaNeue', 'Helvetica', 'Arial', sans-serif\",\n    \"font-size\": \"12px\",\n    \"font-weight\": \"600\",\n    \"text-align\": \"center\"\n    }\n    */\n\n  }, {\n    key: \"tbodyStyle\",\n    value: function tbodyStyle(_) {\n      return arguments.length ? (this._tbodyStyle = Object.assign(this._tbodyStyle, _), this) : this._tbodyStyle;\n    }\n    /**\n        @memberof Tooltip\n        @desc If *value* is specified, sets the contents of the table head to the specified array of functions or strings and returns this generator. If *value* is not specified, returns the current table head data.\n        @param {Array} [*value* = []]\n    */\n\n  }, {\n    key: \"thead\",\n    value: function thead(_) {\n      return arguments.length ? (this._thead = _, this) : this._thead;\n    }\n    /**\n        @memberof Tooltip\n        @desc If *value* is specified, sets the table head styles to the specified values and returns this generator. If *value* is not specified, returns the current table head styles.\n        @param {Object} [*value*]\n        @example <caption>default styles</caption>\n    {\n    \"font-family\": \"'Roboto', 'Helvetica Neue', 'HelveticaNeue', 'Helvetica', 'Arial', sans-serif\",\n    \"font-size\": \"12px\",\n    \"font-weight\": \"600\",\n    \"text-align\": \"center\"\n    }\n    */\n\n  }, {\n    key: \"theadStyle\",\n    value: function theadStyle(_) {\n      return arguments.length ? (this._theadStyle = Object.assign(this._theadStyle, _), this) : this._theadStyle;\n    }\n    /**\n        @memberof Tooltip\n        @desc If *value* is specified, sets the title accessor to the specified function or string and returns this generator. If *value* is not specified, returns the current title accessor.\n        @param {Function|String} [*value*]\n        @example <caption>default accessor</caption>\n    function value(d) {\n    return d.title || \"\";\n    }\n    */\n\n  }, {\n    key: \"title\",\n    value: function title(_) {\n      return arguments.length ? (this._title = typeof _ === \"function\" ? _ : constant(_), this) : this._title;\n    }\n    /**\n        @memberof Tooltip\n        @desc If *value* is specified, sets the title styles to the specified values and returns this generator. If *value* is not specified, returns the current title styles.\n        @param {Object} [*value*]\n        @example <caption>default styles</caption>\n    {\n    \"font-family\": \"'Roboto', 'Helvetica Neue', 'HelveticaNeue', 'Helvetica', 'Arial', sans-serif\",\n    \"font-size\": \"14px\",\n    \"font-weight\": \"600\",\n    \"padding-bottom\": \"5px\"\n    }\n    */\n\n  }, {\n    key: \"titleStyle\",\n    value: function titleStyle(_) {\n      return arguments.length ? (this._titleStyle = Object.assign(this._titleStyle, _), this) : this._titleStyle;\n    }\n    /**\n        @memberof Tooltip\n        @desc If *value* is specified, sets the table row styles to the specified values and returns this generator. If *value* is not specified, returns the current table row styles.\n        @param {Object} [*value*]\n        @example <caption>default styles</caption>\n    {\n      \"border-top\": \"1px solid rgba(0, 0, 0, 0.1)\"\n    }\n     */\n\n  }, {\n    key: \"trStyle\",\n    value: function trStyle(_) {\n      return arguments.length ? (this._trStyle = Object.assign(this._trStyle, _), this) : this._trStyle;\n    }\n    /**\n        @memberof Tooltip\n        @desc If *value* is specified, sets the width accessor to the specified function or string and returns this generator. If *value* is not specified, returns the current width accessor.\n        @param {Function|String} [*value* = \"auto\"]\n    */\n\n  }, {\n    key: \"width\",\n    value: function width(_) {\n      return arguments.length ? (this._width = typeof _ === \"function\" ? _ : constant(_), this) : this._width;\n    }\n  }]);\n\n  return Tooltip;\n}(BaseClass);\n\nexport { Tooltip as default };","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { select } from \"d3-selection\";\nimport { stylize } from \"d3plus-common\";\n/**\n    @class Message\n    @desc Displays a message using plain HTML.\n    @private\n*/\n\nvar Message =\n/*#__PURE__*/\nfunction () {\n  /**\n      @memberof Message\n      @desc Invoked when creating a new class instance, and sets any default parameters.\n      @private\n  */\n  function Message() {\n    _classCallCheck(this, Message);\n\n    this._isVisible = false;\n  }\n  /**\n      @memberof Message\n      @desc Removes the message from the page.\n      @chainable\n  */\n\n\n  _createClass(Message, [{\n    key: \"exit\",\n    value: function exit(elem, duration) {\n      elem.transition().duration(duration).style(\"opacity\", 0).transition().remove();\n      this._isVisible = false;\n    }\n    /**\n        @memberof Message\n        @desc Removes the message from the page.\n        @chainable\n    */\n\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref$duration = _ref.duration,\n          duration = _ref$duration === void 0 ? 600 : _ref$duration,\n          callback = _ref.callback;\n\n      this.mask.call(this.exit.bind(this), duration);\n      this.elem.call(this.exit.bind(this), duration);\n      if (callback) setTimeout(callback, duration + 100);\n      this._isVisible = false;\n      return this;\n    }\n    /**\n        @memberof Message\n        @desc Draws the message given the specified configuration.\n        @param {Object} [*config*]\n        @chainable\n    */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          callback = _ref2.callback,\n          _ref2$container = _ref2.container,\n          container = _ref2$container === void 0 ? \"body\" : _ref2$container,\n          _ref2$duration = _ref2.duration,\n          duration = _ref2$duration === void 0 ? 600 : _ref2$duration,\n          _ref2$html = _ref2.html,\n          html = _ref2$html === void 0 ? \"Please Wait\" : _ref2$html,\n          _ref2$mask = _ref2.mask,\n          mask = _ref2$mask === void 0 ? \"rgba(0, 0, 0, 0.05)\" : _ref2$mask,\n          _ref2$style = _ref2.style,\n          style = _ref2$style === void 0 ? {} : _ref2$style;\n\n      var parent = select(container).style(\"position\", \"relative\");\n      this.mask = parent.selectAll(\"div.d3plus-Mask\").data(mask ? [mask] : []);\n      this.mask = this.mask.enter().append(\"div\").attr(\"class\", \"d3plus-Mask\").style(\"opacity\", 1).merge(this.mask);\n      this.mask.exit().call(this.exit.bind(this), duration);\n      stylize(this.mask, {\n        \"background-color\": String,\n        \"bottom\": \"0px\",\n        \"left\": \"0px\",\n        \"position\": \"absolute\",\n        \"right\": \"0px\",\n        \"top\": \"0px\"\n      });\n      this.elem = parent.selectAll(\"div.d3plus-Message\").data([html]);\n      this.elem = this.elem.enter().append(\"div\").attr(\"class\", \"d3plus-Message\").style(\"opacity\", 1).merge(this.elem).html(String);\n      stylize(this.elem, style);\n      if (callback) setTimeout(callback, 100);\n      this._isVisible = true;\n      return this;\n    }\n  }]);\n\n  return Message;\n}();\n\nexport { Message as default };","import { elem } from \"d3plus-common\";\n/**\n    @function _drawBack\n    @desc Draws a back button if there are states in this._history.\n    @private\n*/\n\nexport default function () {\n  var visible = this._history.length;\n  var backGroup = elem(\"g.d3plus-viz-back\", {\n    parent: this._select,\n    transition: this._transition,\n    update: {\n      transform: \"translate(\".concat(this._margin.left, \", \").concat(this._margin.top, \")\")\n    }\n  }).node();\n\n  this._backClass.data(visible ? [{\n    text: \"\\u2190 \".concat(this._translate(\"Back\")),\n    x: 0,\n    y: 0\n  }] : []).select(backGroup).config(this._backConfig).render();\n\n  this._margin.top += visible ? this._backClass.fontSize()() + this._backClass.padding()() * 2 : 0;\n}","import { min } from \"d3-array\";\nimport { elem } from \"d3plus-common\";\n/**\n    @function _drawColorScale\n    @desc Renders the color scale if this._colorScale is not falsey.\n    @private\n*/\n\nexport default function () {\n  var _this = this;\n\n  var data = this._data;\n  var position = this._colorScalePosition || \"bottom\";\n  var wide = [\"top\", \"bottom\"].includes(position);\n  var padding = this._colorScalePadding() ? this._padding : {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  };\n  var availableWidth = this._width - (this._margin.left + this._margin.right + padding.left + padding.right);\n  var width = wide ? min([this._colorScaleMaxSize, availableWidth]) : this._width - (this._margin.left + this._margin.right);\n  var availableHeight = this._height - (this._margin.bottom + this._margin.top + padding.bottom + padding.top);\n  var height = !wide ? min([this._colorScaleMaxSize, availableHeight]) : this._height - (this._margin.bottom + this._margin.top);\n  var transform = {\n    opacity: this._colorScalePosition ? 1 : 0,\n    transform: \"translate(\".concat(wide ? this._margin.left + padding.left + (availableWidth - width) / 2 : this._margin.left, \", \").concat(wide ? this._margin.top : this._margin.top + padding.top + (availableHeight - height) / 2, \")\")\n  };\n  var showColorScale = this._colorScale && data && data.length > 1;\n  var scaleGroup = elem(\"g.d3plus-viz-colorScale\", {\n    condition: showColorScale && !this._colorScaleConfig.select,\n    enter: transform,\n    parent: this._select,\n    transition: this._transition,\n    update: transform\n  }).node();\n\n  if (showColorScale) {\n    var scaleData = data.filter(function (d, i) {\n      var c = _this._colorScale(d, i);\n\n      return c !== undefined && c !== null;\n    });\n\n    this._colorScaleClass.align({\n      bottom: \"end\",\n      left: \"start\",\n      right: \"end\",\n      top: \"start\"\n    }[position] || \"bottom\").duration(this._duration).data(scaleData).height(height).locale(this._locale).orient(position).select(scaleGroup).value(this._colorScale).width(width).config(this._colorScaleConfig).render();\n\n    var scaleBounds = this._colorScaleClass.outerBounds();\n\n    if (this._colorScalePosition && !this._colorScaleConfig.select && scaleBounds.height) {\n      if (wide) this._margin[position] += scaleBounds.height + this._legendClass.padding() * 2;else this._margin[position] += scaleBounds.width + this._legendClass.padding() * 2;\n    }\n  } else {\n    this._colorScaleClass.config(this._colorScaleConfig);\n  }\n}","/*\n  html2canvas 0.5.0-beta4 <http://html2canvas.hertzen.com>\n  Copyright (c) 2016 Niklas von Hertzen\n\n  Released under  License\n*/\n\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.html2canvas = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\n(function (global){\n/*! https://mths.be/punycode v1.4.0 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow new RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * https://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.3.2',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine('punycode', function() {\n\t\t\treturn punycode;\n\t\t});\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) {\n\t\t\t// in Node.js, io.js, or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else {\n\t\t\t// in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\t// in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],2:[function(_dereq_,module,exports){\nvar log = _dereq_('./log');\n\nfunction restoreOwnerScroll(ownerDocument, x, y) {\n    if (ownerDocument.defaultView && (x !== ownerDocument.defaultView.pageXOffset || y !== ownerDocument.defaultView.pageYOffset)) {\n        ownerDocument.defaultView.scrollTo(x, y);\n    }\n}\n\nfunction cloneCanvasContents(canvas, clonedCanvas) {\n    try {\n        if (clonedCanvas) {\n            clonedCanvas.width = canvas.width;\n            clonedCanvas.height = canvas.height;\n            clonedCanvas.getContext(\"2d\").putImageData(canvas.getContext(\"2d\").getImageData(0, 0, canvas.width, canvas.height), 0, 0);\n        }\n    } catch(e) {\n        log(\"Unable to copy canvas content from\", canvas, e);\n    }\n}\n\nfunction cloneNode(node, javascriptEnabled) {\n    var clone = node.nodeType === 3 ? document.createTextNode(node.nodeValue) : node.cloneNode(false);\n\n    var child = node.firstChild;\n    while(child) {\n        if (javascriptEnabled === true || child.nodeType !== 1 || child.nodeName !== 'SCRIPT') {\n            clone.appendChild(cloneNode(child, javascriptEnabled));\n        }\n        child = child.nextSibling;\n    }\n\n    if (node.nodeType === 1) {\n        clone._scrollTop = node.scrollTop;\n        clone._scrollLeft = node.scrollLeft;\n        if (node.nodeName === \"CANVAS\") {\n            cloneCanvasContents(node, clone);\n        } else if (node.nodeName === \"TEXTAREA\" || node.nodeName === \"SELECT\") {\n            clone.value = node.value;\n        }\n    }\n\n    return clone;\n}\n\nfunction initNode(node) {\n    if (node.nodeType === 1) {\n        node.scrollTop = node._scrollTop;\n        node.scrollLeft = node._scrollLeft;\n\n        var child = node.firstChild;\n        while(child) {\n            initNode(child);\n            child = child.nextSibling;\n        }\n    }\n}\n\nmodule.exports = function(ownerDocument, containerDocument, width, height, options, x ,y) {\n    var documentElement = cloneNode(ownerDocument.documentElement, options.javascriptEnabled);\n    var container = containerDocument.createElement(\"iframe\");\n\n    container.className = \"html2canvas-container\";\n    container.style.visibility = \"hidden\";\n    container.style.position = \"fixed\";\n    container.style.left = \"-10000px\";\n    container.style.top = \"0px\";\n    container.style.border = \"0\";\n    container.width = width;\n    container.height = height;\n    container.scrolling = \"no\"; // ios won't scroll without it\n    containerDocument.body.appendChild(container);\n\n    return new Promise(function(resolve) {\n        var documentClone = container.contentWindow.document;\n\n        /* Chrome doesn't detect relative background-images assigned in inline <style> sheets when fetched through getComputedStyle\n         if window url is about:blank, we can assign the url to current by writing onto the document\n         */\n        container.contentWindow.onload = container.onload = function() {\n            var interval = setInterval(function() {\n                if (documentClone.body.childNodes.length > 0) {\n                    initNode(documentClone.documentElement);\n                    clearInterval(interval);\n                    if (options.type === \"view\") {\n                        container.contentWindow.scrollTo(x, y);\n                        if ((/(iPad|iPhone|iPod)/g).test(navigator.userAgent) && (container.contentWindow.scrollY !== y || container.contentWindow.scrollX !== x)) {\n                            documentClone.documentElement.style.top = (-y) + \"px\";\n                            documentClone.documentElement.style.left = (-x) + \"px\";\n                            documentClone.documentElement.style.position = 'absolute';\n                        }\n                    }\n                    resolve(container);\n                }\n            }, 50);\n        };\n\n        documentClone.open();\n        documentClone.write(\"<!DOCTYPE html><html></html>\");\n        // Chrome scrolls the parent document for some reason after the write to the cloned window???\n        restoreOwnerScroll(ownerDocument, x, y);\n        documentClone.replaceChild(documentClone.adoptNode(documentElement), documentClone.documentElement);\n        documentClone.close();\n    });\n};\n\n},{\"./log\":13}],3:[function(_dereq_,module,exports){\n// http://dev.w3.org/csswg/css-color/\n\nfunction Color(value) {\n    this.r = 0;\n    this.g = 0;\n    this.b = 0;\n    this.a = null;\n    var result = this.fromArray(value) ||\n        this.namedColor(value) ||\n        this.rgb(value) ||\n        this.rgba(value) ||\n        this.hex6(value) ||\n        this.hex3(value);\n}\n\nColor.prototype.darken = function(amount) {\n    var a = 1 - amount;\n    return  new Color([\n        Math.round(this.r * a),\n        Math.round(this.g * a),\n        Math.round(this.b * a),\n        this.a\n    ]);\n};\n\nColor.prototype.isTransparent = function() {\n    return this.a === 0;\n};\n\nColor.prototype.isBlack = function() {\n    return this.r === 0 && this.g === 0 && this.b === 0;\n};\n\nColor.prototype.fromArray = function(array) {\n    if (Array.isArray(array)) {\n        this.r = Math.min(array[0], 255);\n        this.g = Math.min(array[1], 255);\n        this.b = Math.min(array[2], 255);\n        if (array.length > 3) {\n            this.a = array[3];\n        }\n    }\n\n    return (Array.isArray(array));\n};\n\nvar _hex3 = /^#([a-f0-9]{3})$/i;\n\nColor.prototype.hex3 = function(value) {\n    var match = null;\n    if ((match = value.match(_hex3)) !== null) {\n        this.r = parseInt(match[1][0] + match[1][0], 16);\n        this.g = parseInt(match[1][1] + match[1][1], 16);\n        this.b = parseInt(match[1][2] + match[1][2], 16);\n    }\n    return match !== null;\n};\n\nvar _hex6 = /^#([a-f0-9]{6})$/i;\n\nColor.prototype.hex6 = function(value) {\n    var match = null;\n    if ((match = value.match(_hex6)) !== null) {\n        this.r = parseInt(match[1].substring(0, 2), 16);\n        this.g = parseInt(match[1].substring(2, 4), 16);\n        this.b = parseInt(match[1].substring(4, 6), 16);\n    }\n    return match !== null;\n};\n\n\nvar _rgb = /^rgb\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*\\)$/;\n\nColor.prototype.rgb = function(value) {\n    var match = null;\n    if ((match = value.match(_rgb)) !== null) {\n        this.r = Number(match[1]);\n        this.g = Number(match[2]);\n        this.b = Number(match[3]);\n    }\n    return match !== null;\n};\n\nvar _rgba = /^rgba\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d?\\.?\\d+)\\s*\\)$/;\n\nColor.prototype.rgba = function(value) {\n    var match = null;\n    if ((match = value.match(_rgba)) !== null) {\n        this.r = Number(match[1]);\n        this.g = Number(match[2]);\n        this.b = Number(match[3]);\n        this.a = Number(match[4]);\n    }\n    return match !== null;\n};\n\nColor.prototype.toString = function() {\n    return this.a !== null && this.a !== 1 ?\n    \"rgba(\" + [this.r, this.g, this.b, this.a].join(\",\") + \")\" :\n    \"rgb(\" + [this.r, this.g, this.b].join(\",\") + \")\";\n};\n\nColor.prototype.namedColor = function(value) {\n    value = value.toLowerCase();\n    var color = colors[value];\n    if (color) {\n        this.r = color[0];\n        this.g = color[1];\n        this.b = color[2];\n    } else if (value === \"transparent\") {\n        this.r = this.g = this.b = this.a = 0;\n        return true;\n    }\n\n    return !!color;\n};\n\nColor.prototype.isColor = true;\n\n// JSON.stringify([].slice.call($$('.named-color-table tr'), 1).map(function(row) { return [row.childNodes[3].textContent, row.childNodes[5].textContent.trim().split(\",\").map(Number)] }).reduce(function(data, row) {data[row[0]] = row[1]; return data}, {}))\nvar colors = {\n    \"aliceblue\": [240, 248, 255],\n    \"antiquewhite\": [250, 235, 215],\n    \"aqua\": [0, 255, 255],\n    \"aquamarine\": [127, 255, 212],\n    \"azure\": [240, 255, 255],\n    \"beige\": [245, 245, 220],\n    \"bisque\": [255, 228, 196],\n    \"black\": [0, 0, 0],\n    \"blanchedalmond\": [255, 235, 205],\n    \"blue\": [0, 0, 255],\n    \"blueviolet\": [138, 43, 226],\n    \"brown\": [165, 42, 42],\n    \"burlywood\": [222, 184, 135],\n    \"cadetblue\": [95, 158, 160],\n    \"chartreuse\": [127, 255, 0],\n    \"chocolate\": [210, 105, 30],\n    \"coral\": [255, 127, 80],\n    \"cornflowerblue\": [100, 149, 237],\n    \"cornsilk\": [255, 248, 220],\n    \"crimson\": [220, 20, 60],\n    \"cyan\": [0, 255, 255],\n    \"darkblue\": [0, 0, 139],\n    \"darkcyan\": [0, 139, 139],\n    \"darkgoldenrod\": [184, 134, 11],\n    \"darkgray\": [169, 169, 169],\n    \"darkgreen\": [0, 100, 0],\n    \"darkgrey\": [169, 169, 169],\n    \"darkkhaki\": [189, 183, 107],\n    \"darkmagenta\": [139, 0, 139],\n    \"darkolivegreen\": [85, 107, 47],\n    \"darkorange\": [255, 140, 0],\n    \"darkorchid\": [153, 50, 204],\n    \"darkred\": [139, 0, 0],\n    \"darksalmon\": [233, 150, 122],\n    \"darkseagreen\": [143, 188, 143],\n    \"darkslateblue\": [72, 61, 139],\n    \"darkslategray\": [47, 79, 79],\n    \"darkslategrey\": [47, 79, 79],\n    \"darkturquoise\": [0, 206, 209],\n    \"darkviolet\": [148, 0, 211],\n    \"deeppink\": [255, 20, 147],\n    \"deepskyblue\": [0, 191, 255],\n    \"dimgray\": [105, 105, 105],\n    \"dimgrey\": [105, 105, 105],\n    \"dodgerblue\": [30, 144, 255],\n    \"firebrick\": [178, 34, 34],\n    \"floralwhite\": [255, 250, 240],\n    \"forestgreen\": [34, 139, 34],\n    \"fuchsia\": [255, 0, 255],\n    \"gainsboro\": [220, 220, 220],\n    \"ghostwhite\": [248, 248, 255],\n    \"gold\": [255, 215, 0],\n    \"goldenrod\": [218, 165, 32],\n    \"gray\": [128, 128, 128],\n    \"green\": [0, 128, 0],\n    \"greenyellow\": [173, 255, 47],\n    \"grey\": [128, 128, 128],\n    \"honeydew\": [240, 255, 240],\n    \"hotpink\": [255, 105, 180],\n    \"indianred\": [205, 92, 92],\n    \"indigo\": [75, 0, 130],\n    \"ivory\": [255, 255, 240],\n    \"khaki\": [240, 230, 140],\n    \"lavender\": [230, 230, 250],\n    \"lavenderblush\": [255, 240, 245],\n    \"lawngreen\": [124, 252, 0],\n    \"lemonchiffon\": [255, 250, 205],\n    \"lightblue\": [173, 216, 230],\n    \"lightcoral\": [240, 128, 128],\n    \"lightcyan\": [224, 255, 255],\n    \"lightgoldenrodyellow\": [250, 250, 210],\n    \"lightgray\": [211, 211, 211],\n    \"lightgreen\": [144, 238, 144],\n    \"lightgrey\": [211, 211, 211],\n    \"lightpink\": [255, 182, 193],\n    \"lightsalmon\": [255, 160, 122],\n    \"lightseagreen\": [32, 178, 170],\n    \"lightskyblue\": [135, 206, 250],\n    \"lightslategray\": [119, 136, 153],\n    \"lightslategrey\": [119, 136, 153],\n    \"lightsteelblue\": [176, 196, 222],\n    \"lightyellow\": [255, 255, 224],\n    \"lime\": [0, 255, 0],\n    \"limegreen\": [50, 205, 50],\n    \"linen\": [250, 240, 230],\n    \"magenta\": [255, 0, 255],\n    \"maroon\": [128, 0, 0],\n    \"mediumaquamarine\": [102, 205, 170],\n    \"mediumblue\": [0, 0, 205],\n    \"mediumorchid\": [186, 85, 211],\n    \"mediumpurple\": [147, 112, 219],\n    \"mediumseagreen\": [60, 179, 113],\n    \"mediumslateblue\": [123, 104, 238],\n    \"mediumspringgreen\": [0, 250, 154],\n    \"mediumturquoise\": [72, 209, 204],\n    \"mediumvioletred\": [199, 21, 133],\n    \"midnightblue\": [25, 25, 112],\n    \"mintcream\": [245, 255, 250],\n    \"mistyrose\": [255, 228, 225],\n    \"moccasin\": [255, 228, 181],\n    \"navajowhite\": [255, 222, 173],\n    \"navy\": [0, 0, 128],\n    \"oldlace\": [253, 245, 230],\n    \"olive\": [128, 128, 0],\n    \"olivedrab\": [107, 142, 35],\n    \"orange\": [255, 165, 0],\n    \"orangered\": [255, 69, 0],\n    \"orchid\": [218, 112, 214],\n    \"palegoldenrod\": [238, 232, 170],\n    \"palegreen\": [152, 251, 152],\n    \"paleturquoise\": [175, 238, 238],\n    \"palevioletred\": [219, 112, 147],\n    \"papayawhip\": [255, 239, 213],\n    \"peachpuff\": [255, 218, 185],\n    \"peru\": [205, 133, 63],\n    \"pink\": [255, 192, 203],\n    \"plum\": [221, 160, 221],\n    \"powderblue\": [176, 224, 230],\n    \"purple\": [128, 0, 128],\n    \"rebeccapurple\": [102, 51, 153],\n    \"red\": [255, 0, 0],\n    \"rosybrown\": [188, 143, 143],\n    \"royalblue\": [65, 105, 225],\n    \"saddlebrown\": [139, 69, 19],\n    \"salmon\": [250, 128, 114],\n    \"sandybrown\": [244, 164, 96],\n    \"seagreen\": [46, 139, 87],\n    \"seashell\": [255, 245, 238],\n    \"sienna\": [160, 82, 45],\n    \"silver\": [192, 192, 192],\n    \"skyblue\": [135, 206, 235],\n    \"slateblue\": [106, 90, 205],\n    \"slategray\": [112, 128, 144],\n    \"slategrey\": [112, 128, 144],\n    \"snow\": [255, 250, 250],\n    \"springgreen\": [0, 255, 127],\n    \"steelblue\": [70, 130, 180],\n    \"tan\": [210, 180, 140],\n    \"teal\": [0, 128, 128],\n    \"thistle\": [216, 191, 216],\n    \"tomato\": [255, 99, 71],\n    \"turquoise\": [64, 224, 208],\n    \"violet\": [238, 130, 238],\n    \"wheat\": [245, 222, 179],\n    \"white\": [255, 255, 255],\n    \"whitesmoke\": [245, 245, 245],\n    \"yellow\": [255, 255, 0],\n    \"yellowgreen\": [154, 205, 50]\n};\n\nmodule.exports = Color;\n\n},{}],4:[function(_dereq_,module,exports){\nvar Support = _dereq_('./support');\nvar CanvasRenderer = _dereq_('./renderers/canvas');\nvar ImageLoader = _dereq_('./imageloader');\nvar NodeParser = _dereq_('./nodeparser');\nvar NodeContainer = _dereq_('./nodecontainer');\nvar log = _dereq_('./log');\nvar utils = _dereq_('./utils');\nvar createWindowClone = _dereq_('./clone');\nvar loadUrlDocument = _dereq_('./proxy').loadUrlDocument;\nvar getBounds = utils.getBounds;\n\nvar html2canvasNodeAttribute = \"data-html2canvas-node\";\nvar html2canvasCloneIndex = 0;\n\nfunction html2canvas(nodeList, options) {\n    var index = html2canvasCloneIndex++;\n    options = options || {};\n    if (options.logging) {\n        log.options.logging = true;\n        log.options.start = Date.now();\n    }\n\n    options.async = typeof(options.async) === \"undefined\" ? true : options.async;\n    options.allowTaint = typeof(options.allowTaint) === \"undefined\" ? false : options.allowTaint;\n    options.removeContainer = typeof(options.removeContainer) === \"undefined\" ? true : options.removeContainer;\n    options.javascriptEnabled = typeof(options.javascriptEnabled) === \"undefined\" ? false : options.javascriptEnabled;\n    options.imageTimeout = typeof(options.imageTimeout) === \"undefined\" ? 10000 : options.imageTimeout;\n    options.renderer = typeof(options.renderer) === \"function\" ? options.renderer : CanvasRenderer;\n    options.strict = !!options.strict;\n\n    if (typeof(nodeList) === \"string\") {\n        if (typeof(options.proxy) !== \"string\") {\n            return Promise.reject(\"Proxy must be used when rendering url\");\n        }\n        var width = options.width != null ? options.width : window.innerWidth;\n        var height = options.height != null ? options.height : window.innerHeight;\n        return loadUrlDocument(absoluteUrl(nodeList), options.proxy, document, width, height, options).then(function(container) {\n            return renderWindow(container.contentWindow.document.documentElement, container, options, width, height);\n        });\n    }\n\n    var node = ((nodeList === undefined) ? [document.documentElement] : ((nodeList.length) ? nodeList : [nodeList]))[0];\n    node.setAttribute(html2canvasNodeAttribute + index, index);\n    return renderDocument(node.ownerDocument, options, node.ownerDocument.defaultView.innerWidth, node.ownerDocument.defaultView.innerHeight, index).then(function(canvas) {\n        if (typeof(options.onrendered) === \"function\") {\n            log(\"options.onrendered is deprecated, html2canvas returns a Promise containing the canvas\");\n            options.onrendered(canvas);\n        }\n        return canvas;\n    });\n}\n\nhtml2canvas.CanvasRenderer = CanvasRenderer;\nhtml2canvas.NodeContainer = NodeContainer;\nhtml2canvas.log = log;\nhtml2canvas.utils = utils;\n\nvar html2canvasExport = (typeof(document) === \"undefined\" || typeof(Object.create) !== \"function\" || typeof(document.createElement(\"canvas\").getContext) !== \"function\") ? function() {\n    return Promise.reject(\"No canvas support\");\n} : html2canvas;\n\nmodule.exports = html2canvasExport;\n\nif (typeof(define) === 'function' && define.amd) {\n    define('html2canvas', [], function() {\n        return html2canvasExport;\n    });\n}\n\nfunction renderDocument(document, options, windowWidth, windowHeight, html2canvasIndex) {\n    return createWindowClone(document, document, windowWidth, windowHeight, options, document.defaultView.pageXOffset, document.defaultView.pageYOffset).then(function(container) {\n        log(\"Document cloned\");\n        var attributeName = html2canvasNodeAttribute + html2canvasIndex;\n        var selector = \"[\" + attributeName + \"='\" + html2canvasIndex + \"']\";\n        document.querySelector(selector).removeAttribute(attributeName);\n        var clonedWindow = container.contentWindow;\n        var node = clonedWindow.document.querySelector(selector);\n        var oncloneHandler = (typeof(options.onclone) === \"function\") ? Promise.resolve(options.onclone(clonedWindow.document)) : Promise.resolve(true);\n        return oncloneHandler.then(function() {\n            return renderWindow(node, container, options, windowWidth, windowHeight);\n        });\n    });\n}\n\nfunction renderWindow(node, container, options, windowWidth, windowHeight) {\n    var clonedWindow = container.contentWindow;\n    var support = new Support(clonedWindow.document);\n    var imageLoader = new ImageLoader(options, support);\n    var bounds = getBounds(node);\n    var width = options.type === \"view\" ? windowWidth : documentWidth(clonedWindow.document);\n    var height = options.type === \"view\" ? windowHeight : documentHeight(clonedWindow.document);\n    var renderer = new options.renderer(width, height, imageLoader, options, document);\n    var parser = new NodeParser(node, renderer, support, imageLoader, options);\n    return parser.ready.then(function() {\n        log(\"Finished rendering\");\n        var canvas;\n\n        if (options.type === \"view\") {\n            canvas = crop(renderer.canvas, {width: renderer.canvas.width, height: renderer.canvas.height, top: 0, left: 0, x: 0, y: 0});\n        } else if (node === clonedWindow.document.body || node === clonedWindow.document.documentElement || options.canvas != null) {\n            canvas = renderer.canvas;\n        } else {\n            canvas = crop(renderer.canvas, {width:  options.width != null ? options.width : bounds.width, height: options.height != null ? options.height : bounds.height, top: bounds.top, left: bounds.left, x: 0, y: 0});\n        }\n\n        cleanupContainer(container, options);\n        return canvas;\n    });\n}\n\nfunction cleanupContainer(container, options) {\n    if (options.removeContainer) {\n        container.parentNode.removeChild(container);\n        log(\"Cleaned up container\");\n    }\n}\n\nfunction crop(canvas, bounds) {\n    var croppedCanvas = document.createElement(\"canvas\");\n    var x1 = Math.min(canvas.width - 1, Math.max(0, bounds.left));\n    var x2 = Math.min(canvas.width, Math.max(1, bounds.left + bounds.width));\n    var y1 = Math.min(canvas.height - 1, Math.max(0, bounds.top));\n    var y2 = Math.min(canvas.height, Math.max(1, bounds.top + bounds.height));\n    croppedCanvas.width = bounds.width;\n    croppedCanvas.height =  bounds.height;\n    var width = x2-x1;\n    var height = y2-y1;\n    log(\"Cropping canvas at:\", \"left:\", bounds.left, \"top:\", bounds.top, \"width:\", width, \"height:\", height);\n    log(\"Resulting crop with width\", bounds.width, \"and height\", bounds.height, \"with x\", x1, \"and y\", y1);\n    croppedCanvas.getContext(\"2d\").drawImage(canvas, x1, y1, width, height, bounds.x, bounds.y, width, height);\n    return croppedCanvas;\n}\n\nfunction documentWidth (doc) {\n    return Math.max(\n        Math.max(doc.body.scrollWidth, doc.documentElement.scrollWidth),\n        Math.max(doc.body.offsetWidth, doc.documentElement.offsetWidth),\n        Math.max(doc.body.clientWidth, doc.documentElement.clientWidth)\n    );\n}\n\nfunction documentHeight (doc) {\n    return Math.max(\n        Math.max(doc.body.scrollHeight, doc.documentElement.scrollHeight),\n        Math.max(doc.body.offsetHeight, doc.documentElement.offsetHeight),\n        Math.max(doc.body.clientHeight, doc.documentElement.clientHeight)\n    );\n}\n\nfunction absoluteUrl(url) {\n    var link = document.createElement(\"a\");\n    link.href = url;\n    link.href = link.href;\n    return link;\n}\n\n},{\"./clone\":2,\"./imageloader\":11,\"./log\":13,\"./nodecontainer\":14,\"./nodeparser\":15,\"./proxy\":16,\"./renderers/canvas\":20,\"./support\":22,\"./utils\":26}],5:[function(_dereq_,module,exports){\nvar log = _dereq_('./log');\nvar smallImage = _dereq_('./utils').smallImage;\n\nfunction DummyImageContainer(src) {\n    this.src = src;\n    log(\"DummyImageContainer for\", src);\n    if (!this.promise || !this.image) {\n        log(\"Initiating DummyImageContainer\");\n        DummyImageContainer.prototype.image = new Image();\n        var image = this.image;\n        DummyImageContainer.prototype.promise = new Promise(function(resolve, reject) {\n            image.onload = resolve;\n            image.onerror = reject;\n            image.src = smallImage();\n            if (image.complete === true) {\n                resolve(image);\n            }\n        });\n    }\n}\n\nmodule.exports = DummyImageContainer;\n\n},{\"./log\":13,\"./utils\":26}],6:[function(_dereq_,module,exports){\nvar smallImage = _dereq_('./utils').smallImage;\n\nfunction Font(family, size) {\n    var container = document.createElement('div'),\n        img = document.createElement('img'),\n        span = document.createElement('span'),\n        sampleText = 'Hidden Text',\n        baseline,\n        middle;\n\n    container.style.visibility = \"hidden\";\n    container.style.fontFamily = family;\n    container.style.fontSize = size;\n    container.style.margin = 0;\n    container.style.padding = 0;\n\n    document.body.appendChild(container);\n\n    img.src = smallImage();\n    img.width = 1;\n    img.height = 1;\n\n    img.style.margin = 0;\n    img.style.padding = 0;\n    img.style.verticalAlign = \"baseline\";\n\n    span.style.fontFamily = family;\n    span.style.fontSize = size;\n    span.style.margin = 0;\n    span.style.padding = 0;\n\n    span.appendChild(document.createTextNode(sampleText));\n    container.appendChild(span);\n    container.appendChild(img);\n    baseline = (img.offsetTop - span.offsetTop) + 1;\n\n    container.removeChild(span);\n    container.appendChild(document.createTextNode(sampleText));\n\n    container.style.lineHeight = \"normal\";\n    img.style.verticalAlign = \"super\";\n\n    middle = (img.offsetTop-container.offsetTop) + 1;\n\n    document.body.removeChild(container);\n\n    this.baseline = baseline;\n    this.lineWidth = 1;\n    this.middle = middle;\n}\n\nmodule.exports = Font;\n\n},{\"./utils\":26}],7:[function(_dereq_,module,exports){\nvar Font = _dereq_('./font');\n\nfunction FontMetrics() {\n    this.data = {};\n}\n\nFontMetrics.prototype.getMetrics = function(family, size) {\n    if (this.data[family + \"-\" + size] === undefined) {\n        this.data[family + \"-\" + size] = new Font(family, size);\n    }\n    return this.data[family + \"-\" + size];\n};\n\nmodule.exports = FontMetrics;\n\n},{\"./font\":6}],8:[function(_dereq_,module,exports){\nvar utils = _dereq_('./utils');\nvar getBounds = utils.getBounds;\nvar loadUrlDocument = _dereq_('./proxy').loadUrlDocument;\n\nfunction FrameContainer(container, sameOrigin, options) {\n    this.image = null;\n    this.src = container;\n    var self = this;\n    var bounds = getBounds(container);\n    this.promise = (!sameOrigin ? this.proxyLoad(options.proxy, bounds, options) : new Promise(function(resolve) {\n        if (container.contentWindow.document.URL === \"about:blank\" || container.contentWindow.document.documentElement == null) {\n            container.contentWindow.onload = container.onload = function() {\n                resolve(container);\n            };\n        } else {\n            resolve(container);\n        }\n    })).then(function(container) {\n        var html2canvas = _dereq_('./core');\n        return html2canvas(container.contentWindow.document.documentElement, {type: 'view', width: container.width, height: container.height, proxy: options.proxy, javascriptEnabled: options.javascriptEnabled, removeContainer: options.removeContainer, allowTaint: options.allowTaint, imageTimeout: options.imageTimeout / 2});\n    }).then(function(canvas) {\n        return self.image = canvas;\n    });\n}\n\nFrameContainer.prototype.proxyLoad = function(proxy, bounds, options) {\n    var container = this.src;\n    return loadUrlDocument(container.src, proxy, container.ownerDocument, bounds.width, bounds.height, options);\n};\n\nmodule.exports = FrameContainer;\n\n},{\"./core\":4,\"./proxy\":16,\"./utils\":26}],9:[function(_dereq_,module,exports){\nfunction GradientContainer(imageData) {\n    this.src = imageData.value;\n    this.colorStops = [];\n    this.type = null;\n    this.x0 = 0.5;\n    this.y0 = 0.5;\n    this.x1 = 0.5;\n    this.y1 = 0.5;\n    this.promise = Promise.resolve(true);\n}\n\nGradientContainer.TYPES = {\n    LINEAR: 1,\n    RADIAL: 2\n};\n\n// TODO: support hsl[a], negative %/length values\n// TODO: support <angle> (e.g. -?\\d{1,3}(?:\\.\\d+)deg, etc. : https://developer.mozilla.org/docs/Web/CSS/angle )\nGradientContainer.REGEXP_COLORSTOP = /^\\s*(rgba?\\(\\s*\\d{1,3},\\s*\\d{1,3},\\s*\\d{1,3}(?:,\\s*[0-9\\.]+)?\\s*\\)|[a-z]{3,20}|#[a-f0-9]{3,6})(?:\\s+(\\d{1,3}(?:\\.\\d+)?)(%|px)?)?(?:\\s|$)/i;\n\nmodule.exports = GradientContainer;\n\n},{}],10:[function(_dereq_,module,exports){\nfunction ImageContainer(src, cors) {\n    this.src = src;\n    this.image = new Image();\n    var self = this;\n    this.tainted = null;\n    this.promise = new Promise(function(resolve, reject) {\n        self.image.onload = resolve;\n        self.image.onerror = reject;\n        if (cors) {\n            self.image.crossOrigin = \"anonymous\";\n        }\n        self.image.src = src;\n        if (self.image.complete === true) {\n            resolve(self.image);\n        }\n    });\n}\n\nmodule.exports = ImageContainer;\n\n},{}],11:[function(_dereq_,module,exports){\nvar log = _dereq_('./log');\nvar ImageContainer = _dereq_('./imagecontainer');\nvar DummyImageContainer = _dereq_('./dummyimagecontainer');\nvar ProxyImageContainer = _dereq_('./proxyimagecontainer');\nvar FrameContainer = _dereq_('./framecontainer');\nvar SVGContainer = _dereq_('./svgcontainer');\nvar SVGNodeContainer = _dereq_('./svgnodecontainer');\nvar LinearGradientContainer = _dereq_('./lineargradientcontainer');\nvar WebkitGradientContainer = _dereq_('./webkitgradientcontainer');\nvar bind = _dereq_('./utils').bind;\n\nfunction ImageLoader(options, support) {\n    this.link = null;\n    this.options = options;\n    this.support = support;\n    this.origin = this.getOrigin(window.location.href);\n}\n\nImageLoader.prototype.findImages = function(nodes) {\n    var images = [];\n    nodes.reduce(function(imageNodes, container) {\n        switch(container.node.nodeName) {\n        case \"IMG\":\n            return imageNodes.concat([{\n                args: [container.node.src],\n                method: \"url\"\n            }]);\n        case \"svg\":\n        case \"IFRAME\":\n            return imageNodes.concat([{\n                args: [container.node],\n                method: container.node.nodeName\n            }]);\n        }\n        return imageNodes;\n    }, []).forEach(this.addImage(images, this.loadImage), this);\n    return images;\n};\n\nImageLoader.prototype.findBackgroundImage = function(images, container) {\n    container.parseBackgroundImages().filter(this.hasImageBackground).forEach(this.addImage(images, this.loadImage), this);\n    return images;\n};\n\nImageLoader.prototype.addImage = function(images, callback) {\n    return function(newImage) {\n        newImage.args.forEach(function(image) {\n            if (!this.imageExists(images, image)) {\n                images.splice(0, 0, callback.call(this, newImage));\n                log('Added image #' + (images.length), typeof(image) === \"string\" ? image.substring(0, 100) : image);\n            }\n        }, this);\n    };\n};\n\nImageLoader.prototype.hasImageBackground = function(imageData) {\n    return imageData.method !== \"none\";\n};\n\nImageLoader.prototype.loadImage = function(imageData) {\n    if (imageData.method === \"url\") {\n        var src = imageData.args[0];\n        if (this.isSVG(src) && !this.support.svg && !this.options.allowTaint) {\n            return new SVGContainer(src);\n        } else if (src.match(/data:image\\/.*;base64,/i)) {\n            return new ImageContainer(src.replace(/url\\(['\"]{0,}|['\"]{0,}\\)$/ig, ''), false);\n        } else if (this.isSameOrigin(src) || this.options.allowTaint === true || this.isSVG(src)) {\n            return new ImageContainer(src, false);\n        } else if (this.support.cors && !this.options.allowTaint && this.options.useCORS) {\n            return new ImageContainer(src, true);\n        } else if (this.options.proxy) {\n            return new ProxyImageContainer(src, this.options.proxy);\n        } else {\n            return new DummyImageContainer(src);\n        }\n    } else if (imageData.method === \"linear-gradient\") {\n        return new LinearGradientContainer(imageData);\n    } else if (imageData.method === \"gradient\") {\n        return new WebkitGradientContainer(imageData);\n    } else if (imageData.method === \"svg\") {\n        return new SVGNodeContainer(imageData.args[0], this.support.svg);\n    } else if (imageData.method === \"IFRAME\") {\n        return new FrameContainer(imageData.args[0], this.isSameOrigin(imageData.args[0].src), this.options);\n    } else {\n        return new DummyImageContainer(imageData);\n    }\n};\n\nImageLoader.prototype.isSVG = function(src) {\n    return src.substring(src.length - 3).toLowerCase() === \"svg\" || SVGContainer.prototype.isInline(src);\n};\n\nImageLoader.prototype.imageExists = function(images, src) {\n    return images.some(function(image) {\n        return image.src === src;\n    });\n};\n\nImageLoader.prototype.isSameOrigin = function(url) {\n    return (this.getOrigin(url) === this.origin);\n};\n\nImageLoader.prototype.getOrigin = function(url) {\n    var link = this.link || (this.link = document.createElement(\"a\"));\n    link.href = url;\n    link.href = link.href; // IE9, LOL! - http://jsfiddle.net/niklasvh/2e48b/\n    return link.protocol + link.hostname + link.port;\n};\n\nImageLoader.prototype.getPromise = function(container) {\n    return this.timeout(container, this.options.imageTimeout)['catch'](function() {\n        var dummy = new DummyImageContainer(container.src);\n        return dummy.promise.then(function(image) {\n            container.image = image;\n        });\n    });\n};\n\nImageLoader.prototype.get = function(src) {\n    var found = null;\n    return this.images.some(function(img) {\n        return (found = img).src === src;\n    }) ? found : null;\n};\n\nImageLoader.prototype.fetch = function(nodes) {\n    this.images = nodes.reduce(bind(this.findBackgroundImage, this), this.findImages(nodes));\n    this.images.forEach(function(image, index) {\n        image.promise.then(function() {\n            log(\"Succesfully loaded image #\"+ (index+1), image);\n        }, function(e) {\n            log(\"Failed loading image #\"+ (index+1), image, e);\n        });\n    });\n    this.ready = Promise.all(this.images.map(this.getPromise, this));\n    log(\"Finished searching images\");\n    return this;\n};\n\nImageLoader.prototype.timeout = function(container, timeout) {\n    var timer;\n    var promise = Promise.race([container.promise, new Promise(function(res, reject) {\n        timer = setTimeout(function() {\n            log(\"Timed out loading image\", container);\n            reject(container);\n        }, timeout);\n    })]).then(function(container) {\n        clearTimeout(timer);\n        return container;\n    });\n    promise['catch'](function() {\n        clearTimeout(timer);\n    });\n    return promise;\n};\n\nmodule.exports = ImageLoader;\n\n},{\"./dummyimagecontainer\":5,\"./framecontainer\":8,\"./imagecontainer\":10,\"./lineargradientcontainer\":12,\"./log\":13,\"./proxyimagecontainer\":17,\"./svgcontainer\":23,\"./svgnodecontainer\":24,\"./utils\":26,\"./webkitgradientcontainer\":27}],12:[function(_dereq_,module,exports){\nvar GradientContainer = _dereq_('./gradientcontainer');\nvar Color = _dereq_('./color');\n\nfunction LinearGradientContainer(imageData) {\n    GradientContainer.apply(this, arguments);\n    this.type = GradientContainer.TYPES.LINEAR;\n\n    var hasDirection = LinearGradientContainer.REGEXP_DIRECTION.test( imageData.args[0] ) ||\n        !GradientContainer.REGEXP_COLORSTOP.test( imageData.args[0] );\n\n    if (hasDirection) {\n        imageData.args[0].split(/\\s+/).reverse().forEach(function(position, index) {\n            switch(position) {\n            case \"left\":\n                this.x0 = 0;\n                this.x1 = 1;\n                break;\n            case \"top\":\n                this.y0 = 0;\n                this.y1 = 1;\n                break;\n            case \"right\":\n                this.x0 = 1;\n                this.x1 = 0;\n                break;\n            case \"bottom\":\n                this.y0 = 1;\n                this.y1 = 0;\n                break;\n            case \"to\":\n                var y0 = this.y0;\n                var x0 = this.x0;\n                this.y0 = this.y1;\n                this.x0 = this.x1;\n                this.x1 = x0;\n                this.y1 = y0;\n                break;\n            case \"center\":\n                break; // centered by default\n            // Firefox internally converts position keywords to percentages:\n            // http://www.w3.org/TR/2010/WD-CSS2-20101207/colors.html#propdef-background-position\n            default: // percentage or absolute length\n                // TODO: support absolute start point positions (e.g., use bounds to convert px to a ratio)\n                var ratio = parseFloat(position, 10) * 1e-2;\n                if (isNaN(ratio)) { // invalid or unhandled value\n                    break;\n                }\n                if (index === 0) {\n                    this.y0 = ratio;\n                    this.y1 = 1 - this.y0;\n                } else {\n                    this.x0 = ratio;\n                    this.x1 = 1 - this.x0;\n                }\n                break;\n            }\n        }, this);\n    } else {\n        this.y0 = 0;\n        this.y1 = 1;\n    }\n\n    this.colorStops = imageData.args.slice(hasDirection ? 1 : 0).map(function(colorStop) {\n        var colorStopMatch = colorStop.match(GradientContainer.REGEXP_COLORSTOP);\n        var value = +colorStopMatch[2];\n        var unit = value === 0 ? \"%\" : colorStopMatch[3]; // treat \"0\" as \"0%\"\n        return {\n            color: new Color(colorStopMatch[1]),\n            // TODO: support absolute stop positions (e.g., compute gradient line length & convert px to ratio)\n            stop: unit === \"%\" ? value / 100 : null\n        };\n    });\n\n    if (this.colorStops[0].stop === null) {\n        this.colorStops[0].stop = 0;\n    }\n\n    if (this.colorStops[this.colorStops.length - 1].stop === null) {\n        this.colorStops[this.colorStops.length - 1].stop = 1;\n    }\n\n    // calculates and fills-in explicit stop positions when omitted from rule\n    this.colorStops.forEach(function(colorStop, index) {\n        if (colorStop.stop === null) {\n            this.colorStops.slice(index).some(function(find, count) {\n                if (find.stop !== null) {\n                    colorStop.stop = ((find.stop - this.colorStops[index - 1].stop) / (count + 1)) + this.colorStops[index - 1].stop;\n                    return true;\n                } else {\n                    return false;\n                }\n            }, this);\n        }\n    }, this);\n}\n\nLinearGradientContainer.prototype = Object.create(GradientContainer.prototype);\n\n// TODO: support <angle> (e.g. -?\\d{1,3}(?:\\.\\d+)deg, etc. : https://developer.mozilla.org/docs/Web/CSS/angle )\nLinearGradientContainer.REGEXP_DIRECTION = /^\\s*(?:to|left|right|top|bottom|center|\\d{1,3}(?:\\.\\d+)?%?)(?:\\s|$)/i;\n\nmodule.exports = LinearGradientContainer;\n\n},{\"./color\":3,\"./gradientcontainer\":9}],13:[function(_dereq_,module,exports){\nvar logger = function() {\n    if (logger.options.logging && window.console && window.console.log) {\n        Function.prototype.bind.call(window.console.log, (window.console)).apply(window.console, [(Date.now() - logger.options.start) + \"ms\", \"html2canvas:\"].concat([].slice.call(arguments, 0)));\n    }\n};\n\nlogger.options = {logging: false};\nmodule.exports = logger;\n\n},{}],14:[function(_dereq_,module,exports){\nvar Color = _dereq_('./color');\nvar utils = _dereq_('./utils');\nvar getBounds = utils.getBounds;\nvar parseBackgrounds = utils.parseBackgrounds;\nvar offsetBounds = utils.offsetBounds;\n\nfunction NodeContainer(node, parent) {\n    this.node = node;\n    this.parent = parent;\n    this.stack = null;\n    this.bounds = null;\n    this.borders = null;\n    this.clip = [];\n    this.backgroundClip = [];\n    this.offsetBounds = null;\n    this.visible = null;\n    this.computedStyles = null;\n    this.colors = {};\n    this.styles = {};\n    this.backgroundImages = null;\n    this.transformData = null;\n    this.transformMatrix = null;\n    this.isPseudoElement = false;\n    this.opacity = null;\n}\n\nNodeContainer.prototype.cloneTo = function(stack) {\n    stack.visible = this.visible;\n    stack.borders = this.borders;\n    stack.bounds = this.bounds;\n    stack.clip = this.clip;\n    stack.backgroundClip = this.backgroundClip;\n    stack.computedStyles = this.computedStyles;\n    stack.styles = this.styles;\n    stack.backgroundImages = this.backgroundImages;\n    stack.opacity = this.opacity;\n};\n\nNodeContainer.prototype.getOpacity = function() {\n    return this.opacity === null ? (this.opacity = this.cssFloat('opacity')) : this.opacity;\n};\n\nNodeContainer.prototype.assignStack = function(stack) {\n    this.stack = stack;\n    stack.children.push(this);\n};\n\nNodeContainer.prototype.isElementVisible = function() {\n    return this.node.nodeType === Node.TEXT_NODE ? this.parent.visible : (\n        this.css('display') !== \"none\" &&\n        this.css('visibility') !== \"hidden\" &&\n        !this.node.hasAttribute(\"data-html2canvas-ignore\") &&\n        (this.node.nodeName !== \"INPUT\" || this.node.getAttribute(\"type\") !== \"hidden\")\n    );\n};\n\nNodeContainer.prototype.css = function(attribute) {\n    if (!this.computedStyles) {\n        this.computedStyles = this.isPseudoElement ? this.parent.computedStyle(this.before ? \":before\" : \":after\") : this.computedStyle(null);\n    }\n\n    return this.styles[attribute] || (this.styles[attribute] = this.computedStyles[attribute]);\n};\n\nNodeContainer.prototype.prefixedCss = function(attribute) {\n    var prefixes = [\"webkit\", \"moz\", \"ms\", \"o\"];\n    var value = this.css(attribute);\n    if (value === undefined) {\n        prefixes.some(function(prefix) {\n            value = this.css(prefix + attribute.substr(0, 1).toUpperCase() + attribute.substr(1));\n            return value !== undefined;\n        }, this);\n    }\n    return value === undefined ? null : value;\n};\n\nNodeContainer.prototype.computedStyle = function(type) {\n    return this.node.ownerDocument.defaultView.getComputedStyle(this.node, type);\n};\n\nNodeContainer.prototype.cssInt = function(attribute) {\n    var value = parseInt(this.css(attribute), 10);\n    return (isNaN(value)) ? 0 : value; // borders in old IE are throwing 'medium' for demo.html\n};\n\nNodeContainer.prototype.color = function(attribute) {\n    return this.colors[attribute] || (this.colors[attribute] = new Color(this.css(attribute)));\n};\n\nNodeContainer.prototype.cssFloat = function(attribute) {\n    var value = parseFloat(this.css(attribute));\n    return (isNaN(value)) ? 0 : value;\n};\n\nNodeContainer.prototype.fontWeight = function() {\n    var weight = this.css(\"fontWeight\");\n    switch(parseInt(weight, 10)){\n    case 401:\n        weight = \"bold\";\n        break;\n    case 400:\n        weight = \"normal\";\n        break;\n    }\n    return weight;\n};\n\nNodeContainer.prototype.parseClip = function() {\n    var matches = this.css('clip').match(this.CLIP);\n    if (matches) {\n        return {\n            top: parseInt(matches[1], 10),\n            right: parseInt(matches[2], 10),\n            bottom: parseInt(matches[3], 10),\n            left: parseInt(matches[4], 10)\n        };\n    }\n    return null;\n};\n\nNodeContainer.prototype.parseBackgroundImages = function() {\n    return this.backgroundImages || (this.backgroundImages = parseBackgrounds(this.css(\"backgroundImage\")));\n};\n\nNodeContainer.prototype.cssList = function(property, index) {\n    var value = (this.css(property) || '').split(',');\n    value = value[index || 0] || value[0] || 'auto';\n    value = value.trim().split(' ');\n    if (value.length === 1) {\n        value = [value[0], isPercentage(value[0]) ? 'auto' : value[0]];\n    }\n    return value;\n};\n\nNodeContainer.prototype.parseBackgroundSize = function(bounds, image, index) {\n    var size = this.cssList(\"backgroundSize\", index);\n    var width, height;\n\n    if (isPercentage(size[0])) {\n        width = bounds.width * parseFloat(size[0]) / 100;\n    } else if (/contain|cover/.test(size[0])) {\n        var targetRatio = bounds.width / bounds.height, currentRatio = image.width / image.height;\n        return (targetRatio < currentRatio ^ size[0] === 'contain') ?  {width: bounds.height * currentRatio, height: bounds.height} : {width: bounds.width, height: bounds.width / currentRatio};\n    } else {\n        width = parseInt(size[0], 10);\n    }\n\n    if (size[0] === 'auto' && size[1] === 'auto') {\n        height = image.height;\n    } else if (size[1] === 'auto') {\n        height = width / image.width * image.height;\n    } else if (isPercentage(size[1])) {\n        height =  bounds.height * parseFloat(size[1]) / 100;\n    } else {\n        height = parseInt(size[1], 10);\n    }\n\n    if (size[0] === 'auto') {\n        width = height / image.height * image.width;\n    }\n\n    return {width: width, height: height};\n};\n\nNodeContainer.prototype.parseBackgroundPosition = function(bounds, image, index, backgroundSize) {\n    var position = this.cssList('backgroundPosition', index);\n    var left, top;\n\n    if (isPercentage(position[0])){\n        left = (bounds.width - (backgroundSize || image).width) * (parseFloat(position[0]) / 100);\n    } else {\n        left = parseInt(position[0], 10);\n    }\n\n    if (position[1] === 'auto') {\n        top = left / image.width * image.height;\n    } else if (isPercentage(position[1])){\n        top =  (bounds.height - (backgroundSize || image).height) * parseFloat(position[1]) / 100;\n    } else {\n        top = parseInt(position[1], 10);\n    }\n\n    if (position[0] === 'auto') {\n        left = top / image.height * image.width;\n    }\n\n    return {left: left, top: top};\n};\n\nNodeContainer.prototype.parseBackgroundRepeat = function(index) {\n    return this.cssList(\"backgroundRepeat\", index)[0];\n};\n\nNodeContainer.prototype.parseTextShadows = function() {\n    var textShadow = this.css(\"textShadow\");\n    var results = [];\n\n    if (textShadow && textShadow !== 'none') {\n        var shadows = textShadow.match(this.TEXT_SHADOW_PROPERTY);\n        for (var i = 0; shadows && (i < shadows.length); i++) {\n            var s = shadows[i].match(this.TEXT_SHADOW_VALUES);\n            results.push({\n                color: new Color(s[0]),\n                offsetX: s[1] ? parseFloat(s[1].replace('px', '')) : 0,\n                offsetY: s[2] ? parseFloat(s[2].replace('px', '')) : 0,\n                blur: s[3] ? s[3].replace('px', '') : 0\n            });\n        }\n    }\n    return results;\n};\n\nNodeContainer.prototype.parseTransform = function() {\n    if (!this.transformData) {\n        if (this.hasTransform()) {\n            var offset = this.parseBounds();\n            var origin = this.prefixedCss(\"transformOrigin\").split(\" \").map(removePx).map(asFloat);\n            origin[0] += offset.left;\n            origin[1] += offset.top;\n            this.transformData = {\n                origin: origin,\n                matrix: this.parseTransformMatrix()\n            };\n        } else {\n            this.transformData = {\n                origin: [0, 0],\n                matrix: [1, 0, 0, 1, 0, 0]\n            };\n        }\n    }\n    return this.transformData;\n};\n\nNodeContainer.prototype.parseTransformMatrix = function() {\n    if (!this.transformMatrix) {\n        var transform = this.prefixedCss(\"transform\");\n        var matrix = transform ? parseMatrix(transform.match(this.MATRIX_PROPERTY)) : null;\n        this.transformMatrix = matrix ? matrix : [1, 0, 0, 1, 0, 0];\n    }\n    return this.transformMatrix;\n};\n\nNodeContainer.prototype.parseBounds = function() {\n    return this.bounds || (this.bounds = this.hasTransform() ? offsetBounds(this.node) : getBounds(this.node));\n};\n\nNodeContainer.prototype.hasTransform = function() {\n    return this.parseTransformMatrix().join(\",\") !== \"1,0,0,1,0,0\" || (this.parent && this.parent.hasTransform());\n};\n\nNodeContainer.prototype.getValue = function() {\n    var value = this.node.value || \"\";\n    if (this.node.tagName === \"SELECT\") {\n        value = selectionValue(this.node);\n    } else if (this.node.type === \"password\") {\n        value = Array(value.length + 1).join('\\u2022'); // jshint ignore:line\n    }\n    return value.length === 0 ? (this.node.placeholder || \"\") : value;\n};\n\nNodeContainer.prototype.MATRIX_PROPERTY = /(matrix|matrix3d)\\((.+)\\)/;\nNodeContainer.prototype.TEXT_SHADOW_PROPERTY = /((rgba|rgb)\\([^\\)]+\\)(\\s-?\\d+px){0,})/g;\nNodeContainer.prototype.TEXT_SHADOW_VALUES = /(-?\\d+px)|(#.+)|(rgb\\(.+\\))|(rgba\\(.+\\))/g;\nNodeContainer.prototype.CLIP = /^rect\\((\\d+)px,? (\\d+)px,? (\\d+)px,? (\\d+)px\\)$/;\n\nfunction selectionValue(node) {\n    var option = node.options[node.selectedIndex || 0];\n    return option ? (option.text || \"\") : \"\";\n}\n\nfunction parseMatrix(match) {\n    if (match && match[1] === \"matrix\") {\n        return match[2].split(\",\").map(function(s) {\n            return parseFloat(s.trim());\n        });\n    } else if (match && match[1] === \"matrix3d\") {\n        var matrix3d = match[2].split(\",\").map(function(s) {\n          return parseFloat(s.trim());\n        });\n        return [matrix3d[0], matrix3d[1], matrix3d[4], matrix3d[5], matrix3d[12], matrix3d[13]];\n    }\n}\n\nfunction isPercentage(value) {\n    return value.toString().indexOf(\"%\") !== -1;\n}\n\nfunction removePx(str) {\n    return str.replace(\"px\", \"\");\n}\n\nfunction asFloat(str) {\n    return parseFloat(str);\n}\n\nmodule.exports = NodeContainer;\n\n},{\"./color\":3,\"./utils\":26}],15:[function(_dereq_,module,exports){\nvar log = _dereq_('./log');\nvar punycode = _dereq_('punycode');\nvar NodeContainer = _dereq_('./nodecontainer');\nvar TextContainer = _dereq_('./textcontainer');\nvar PseudoElementContainer = _dereq_('./pseudoelementcontainer');\nvar FontMetrics = _dereq_('./fontmetrics');\nvar Color = _dereq_('./color');\nvar StackingContext = _dereq_('./stackingcontext');\nvar utils = _dereq_('./utils');\nvar bind = utils.bind;\nvar getBounds = utils.getBounds;\nvar parseBackgrounds = utils.parseBackgrounds;\nvar offsetBounds = utils.offsetBounds;\n\nfunction NodeParser(element, renderer, support, imageLoader, options) {\n    log(\"Starting NodeParser\");\n    this.renderer = renderer;\n    this.options = options;\n    this.range = null;\n    this.support = support;\n    this.renderQueue = [];\n    this.stack = new StackingContext(true, 1, element.ownerDocument, null);\n    var parent = new NodeContainer(element, null);\n    if (options.background) {\n        renderer.rectangle(0, 0, renderer.width, renderer.height, new Color(options.background));\n    }\n    if (element === element.ownerDocument.documentElement) {\n        // http://www.w3.org/TR/css3-background/#special-backgrounds\n        var canvasBackground = new NodeContainer(parent.color('backgroundColor').isTransparent() ? element.ownerDocument.body : element.ownerDocument.documentElement, null);\n        renderer.rectangle(0, 0, renderer.width, renderer.height, canvasBackground.color('backgroundColor'));\n    }\n    parent.visibile = parent.isElementVisible();\n    this.createPseudoHideStyles(element.ownerDocument);\n    this.disableAnimations(element.ownerDocument);\n    this.nodes = flatten([parent].concat(this.getChildren(parent)).filter(function(container) {\n        return container.visible = container.isElementVisible();\n    }).map(this.getPseudoElements, this));\n    this.fontMetrics = new FontMetrics();\n    log(\"Fetched nodes, total:\", this.nodes.length);\n    log(\"Calculate overflow clips\");\n    this.calculateOverflowClips();\n    log(\"Start fetching images\");\n    this.images = imageLoader.fetch(this.nodes.filter(isElement));\n    this.ready = this.images.ready.then(bind(function() {\n        log(\"Images loaded, starting parsing\");\n        log(\"Creating stacking contexts\");\n        this.createStackingContexts();\n        log(\"Sorting stacking contexts\");\n        this.sortStackingContexts(this.stack);\n        this.parse(this.stack);\n        log(\"Render queue created with \" + this.renderQueue.length + \" items\");\n        return new Promise(bind(function(resolve) {\n            if (!options.async) {\n                this.renderQueue.forEach(this.paint, this);\n                resolve();\n            } else if (typeof(options.async) === \"function\") {\n                options.async.call(this, this.renderQueue, resolve);\n            } else if (this.renderQueue.length > 0){\n                this.renderIndex = 0;\n                this.asyncRenderer(this.renderQueue, resolve);\n            } else {\n                resolve();\n            }\n        }, this));\n    }, this));\n}\n\nNodeParser.prototype.calculateOverflowClips = function() {\n    this.nodes.forEach(function(container) {\n        if (isElement(container)) {\n            if (isPseudoElement(container)) {\n                container.appendToDOM();\n            }\n            container.borders = this.parseBorders(container);\n            var clip = (container.css('overflow') === \"hidden\") ? [container.borders.clip] : [];\n            var cssClip = container.parseClip();\n            if (cssClip && [\"absolute\", \"fixed\"].indexOf(container.css('position')) !== -1) {\n                clip.push([[\"rect\",\n                        container.bounds.left + cssClip.left,\n                        container.bounds.top + cssClip.top,\n                        cssClip.right - cssClip.left,\n                        cssClip.bottom - cssClip.top\n                ]]);\n            }\n            container.clip = hasParentClip(container) ? container.parent.clip.concat(clip) : clip;\n            container.backgroundClip = (container.css('overflow') !== \"hidden\") ? container.clip.concat([container.borders.clip]) : container.clip;\n            if (isPseudoElement(container)) {\n                container.cleanDOM();\n            }\n        } else if (isTextNode(container)) {\n            container.clip = hasParentClip(container) ? container.parent.clip : [];\n        }\n        if (!isPseudoElement(container)) {\n            container.bounds = null;\n        }\n    }, this);\n};\n\nfunction hasParentClip(container) {\n    return container.parent && container.parent.clip.length;\n}\n\nNodeParser.prototype.asyncRenderer = function(queue, resolve, asyncTimer) {\n    asyncTimer = asyncTimer || Date.now();\n    this.paint(queue[this.renderIndex++]);\n    if (queue.length === this.renderIndex) {\n        resolve();\n    } else if (asyncTimer + 20 > Date.now()) {\n        this.asyncRenderer(queue, resolve, asyncTimer);\n    } else {\n        setTimeout(bind(function() {\n            this.asyncRenderer(queue, resolve);\n        }, this), 0);\n    }\n};\n\nNodeParser.prototype.createPseudoHideStyles = function(document) {\n    this.createStyles(document, '.' + PseudoElementContainer.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE + ':before { content: \"\" !important; display: none !important; }' +\n        '.' + PseudoElementContainer.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER + ':after { content: \"\" !important; display: none !important; }');\n};\n\nNodeParser.prototype.disableAnimations = function(document) {\n    this.createStyles(document, '* { -webkit-animation: none !important; -moz-animation: none !important; -o-animation: none !important; animation: none !important; ' +\n        '-webkit-transition: none !important; -moz-transition: none !important; -o-transition: none !important; transition: none !important;}');\n};\n\nNodeParser.prototype.createStyles = function(document, styles) {\n    var hidePseudoElements = document.createElement('style');\n    hidePseudoElements.innerHTML = styles;\n    document.body.appendChild(hidePseudoElements);\n};\n\nNodeParser.prototype.getPseudoElements = function(container) {\n    var nodes = [[container]];\n    if (container.node.nodeType === Node.ELEMENT_NODE) {\n        var before = this.getPseudoElement(container, \":before\");\n        var after = this.getPseudoElement(container, \":after\");\n\n        if (before) {\n            nodes.push(before);\n        }\n\n        if (after) {\n            nodes.push(after);\n        }\n    }\n    return flatten(nodes);\n};\n\nfunction toCamelCase(str) {\n    return str.replace(/(\\-[a-z])/g, function(match){\n        return match.toUpperCase().replace('-','');\n    });\n}\n\nNodeParser.prototype.getPseudoElement = function(container, type) {\n    var style = container.computedStyle(type);\n    if(!style || !style.content || style.content === \"none\" || style.content === \"-moz-alt-content\" || style.display === \"none\") {\n        return null;\n    }\n\n    var content = stripQuotes(style.content);\n    var isImage = content.substr(0, 3) === 'url';\n    var pseudoNode = document.createElement(isImage ? 'img' : 'html2canvaspseudoelement');\n    var pseudoContainer = new PseudoElementContainer(pseudoNode, container, type);\n\n    for (var i = style.length-1; i >= 0; i--) {\n        var property = toCamelCase(style.item(i));\n        pseudoNode.style[property] = style[property];\n    }\n\n    pseudoNode.className = PseudoElementContainer.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE + \" \" + PseudoElementContainer.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER;\n\n    if (isImage) {\n        pseudoNode.src = parseBackgrounds(content)[0].args[0];\n        return [pseudoContainer];\n    } else {\n        var text = document.createTextNode(content);\n        pseudoNode.appendChild(text);\n        return [pseudoContainer, new TextContainer(text, pseudoContainer)];\n    }\n};\n\n\nNodeParser.prototype.getChildren = function(parentContainer) {\n    return flatten([].filter.call(parentContainer.node.childNodes, renderableNode).map(function(node) {\n        var container = [node.nodeType === Node.TEXT_NODE ? new TextContainer(node, parentContainer) : new NodeContainer(node, parentContainer)].filter(nonIgnoredElement);\n        return node.nodeType === Node.ELEMENT_NODE && container.length && node.tagName !== \"TEXTAREA\" ? (container[0].isElementVisible() ? container.concat(this.getChildren(container[0])) : []) : container;\n    }, this));\n};\n\nNodeParser.prototype.newStackingContext = function(container, hasOwnStacking) {\n    var stack = new StackingContext(hasOwnStacking, container.getOpacity(), container.node, container.parent);\n    container.cloneTo(stack);\n    var parentStack = hasOwnStacking ? stack.getParentStack(this) : stack.parent.stack;\n    parentStack.contexts.push(stack);\n    container.stack = stack;\n};\n\nNodeParser.prototype.createStackingContexts = function() {\n    this.nodes.forEach(function(container) {\n        if (isElement(container) && (this.isRootElement(container) || hasOpacity(container) || isPositionedForStacking(container) || this.isBodyWithTransparentRoot(container) || container.hasTransform())) {\n            this.newStackingContext(container, true);\n        } else if (isElement(container) && ((isPositioned(container) && zIndex0(container)) || isInlineBlock(container) || isFloating(container))) {\n            this.newStackingContext(container, false);\n        } else {\n            container.assignStack(container.parent.stack);\n        }\n    }, this);\n};\n\nNodeParser.prototype.isBodyWithTransparentRoot = function(container) {\n    return container.node.nodeName === \"BODY\" && container.parent.color('backgroundColor').isTransparent();\n};\n\nNodeParser.prototype.isRootElement = function(container) {\n    return container.parent === null;\n};\n\nNodeParser.prototype.sortStackingContexts = function(stack) {\n    stack.contexts.sort(zIndexSort(stack.contexts.slice(0)));\n    stack.contexts.forEach(this.sortStackingContexts, this);\n};\n\nNodeParser.prototype.parseTextBounds = function(container) {\n    return function(text, index, textList) {\n        if (container.parent.css(\"textDecoration\").substr(0, 4) !== \"none\" || text.trim().length !== 0) {\n            if (this.support.rangeBounds && !container.parent.hasTransform()) {\n                var offset = textList.slice(0, index).join(\"\").length;\n                return this.getRangeBounds(container.node, offset, text.length);\n            } else if (container.node && typeof(container.node.data) === \"string\") {\n                var replacementNode = container.node.splitText(text.length);\n                var bounds = this.getWrapperBounds(container.node, container.parent.hasTransform());\n                container.node = replacementNode;\n                return bounds;\n            }\n        } else if(!this.support.rangeBounds || container.parent.hasTransform()){\n            container.node = container.node.splitText(text.length);\n        }\n        return {};\n    };\n};\n\nNodeParser.prototype.getWrapperBounds = function(node, transform) {\n    var wrapper = node.ownerDocument.createElement('html2canvaswrapper');\n    var parent = node.parentNode,\n        backupText = node.cloneNode(true);\n\n    wrapper.appendChild(node.cloneNode(true));\n    parent.replaceChild(wrapper, node);\n    var bounds = transform ? offsetBounds(wrapper) : getBounds(wrapper);\n    parent.replaceChild(backupText, wrapper);\n    return bounds;\n};\n\nNodeParser.prototype.getRangeBounds = function(node, offset, length) {\n    var range = this.range || (this.range = node.ownerDocument.createRange());\n    range.setStart(node, offset);\n    range.setEnd(node, offset + length);\n    return range.getBoundingClientRect();\n};\n\nfunction ClearTransform() {}\n\nNodeParser.prototype.parse = function(stack) {\n    // http://www.w3.org/TR/CSS21/visuren.html#z-index\n    var negativeZindex = stack.contexts.filter(negativeZIndex); // 2. the child stacking contexts with negative stack levels (most negative first).\n    var descendantElements = stack.children.filter(isElement);\n    var descendantNonFloats = descendantElements.filter(not(isFloating));\n    var nonInlineNonPositionedDescendants = descendantNonFloats.filter(not(isPositioned)).filter(not(inlineLevel)); // 3 the in-flow, non-inline-level, non-positioned descendants.\n    var nonPositionedFloats = descendantElements.filter(not(isPositioned)).filter(isFloating); // 4. the non-positioned floats.\n    var inFlow = descendantNonFloats.filter(not(isPositioned)).filter(inlineLevel); // 5. the in-flow, inline-level, non-positioned descendants, including inline tables and inline blocks.\n    var stackLevel0 = stack.contexts.concat(descendantNonFloats.filter(isPositioned)).filter(zIndex0); // 6. the child stacking contexts with stack level 0 and the positioned descendants with stack level 0.\n    var text = stack.children.filter(isTextNode).filter(hasText);\n    var positiveZindex = stack.contexts.filter(positiveZIndex); // 7. the child stacking contexts with positive stack levels (least positive first).\n    negativeZindex.concat(nonInlineNonPositionedDescendants).concat(nonPositionedFloats)\n        .concat(inFlow).concat(stackLevel0).concat(text).concat(positiveZindex).forEach(function(container) {\n            this.renderQueue.push(container);\n            if (isStackingContext(container)) {\n                this.parse(container);\n                this.renderQueue.push(new ClearTransform());\n            }\n        }, this);\n};\n\nNodeParser.prototype.paint = function(container) {\n    try {\n        if (container instanceof ClearTransform) {\n            this.renderer.ctx.restore();\n        } else if (isTextNode(container)) {\n            if (isPseudoElement(container.parent)) {\n                container.parent.appendToDOM();\n            }\n            this.paintText(container);\n            if (isPseudoElement(container.parent)) {\n                container.parent.cleanDOM();\n            }\n        } else {\n            this.paintNode(container);\n        }\n    } catch(e) {\n        log(e);\n        if (this.options.strict) {\n            throw e;\n        }\n    }\n};\n\nNodeParser.prototype.paintNode = function(container) {\n    if (isStackingContext(container)) {\n        this.renderer.setOpacity(container.opacity);\n        this.renderer.ctx.save();\n        if (container.hasTransform()) {\n            this.renderer.setTransform(container.parseTransform());\n        }\n    }\n\n    if (container.node.nodeName === \"INPUT\" && container.node.type === \"checkbox\") {\n        this.paintCheckbox(container);\n    } else if (container.node.nodeName === \"INPUT\" && container.node.type === \"radio\") {\n        this.paintRadio(container);\n    } else {\n        this.paintElement(container);\n    }\n};\n\nNodeParser.prototype.paintElement = function(container) {\n    var bounds = container.parseBounds();\n    this.renderer.clip(container.backgroundClip, function() {\n        this.renderer.renderBackground(container, bounds, container.borders.borders.map(getWidth));\n    }, this);\n\n    this.renderer.clip(container.clip, function() {\n        this.renderer.renderBorders(container.borders.borders);\n    }, this);\n\n    this.renderer.clip(container.backgroundClip, function() {\n        switch (container.node.nodeName) {\n        case \"svg\":\n        case \"IFRAME\":\n            var imgContainer = this.images.get(container.node);\n            if (imgContainer) {\n                this.renderer.renderImage(container, bounds, container.borders, imgContainer);\n            } else {\n                log(\"Error loading <\" + container.node.nodeName + \">\", container.node);\n            }\n            break;\n        case \"IMG\":\n            var imageContainer = this.images.get(container.node.src);\n            if (imageContainer) {\n                this.renderer.renderImage(container, bounds, container.borders, imageContainer);\n            } else {\n                log(\"Error loading <img>\", container.node.src);\n            }\n            break;\n        case \"CANVAS\":\n            this.renderer.renderImage(container, bounds, container.borders, {image: container.node});\n            break;\n        case \"SELECT\":\n        case \"INPUT\":\n        case \"TEXTAREA\":\n            this.paintFormValue(container);\n            break;\n        }\n    }, this);\n};\n\nNodeParser.prototype.paintCheckbox = function(container) {\n    var b = container.parseBounds();\n\n    var size = Math.min(b.width, b.height);\n    var bounds = {width: size - 1, height: size - 1, top: b.top, left: b.left};\n    var r = [3, 3];\n    var radius = [r, r, r, r];\n    var borders = [1,1,1,1].map(function(w) {\n        return {color: new Color('#A5A5A5'), width: w};\n    });\n\n    var borderPoints = calculateCurvePoints(bounds, radius, borders);\n\n    this.renderer.clip(container.backgroundClip, function() {\n        this.renderer.rectangle(bounds.left + 1, bounds.top + 1, bounds.width - 2, bounds.height - 2, new Color(\"#DEDEDE\"));\n        this.renderer.renderBorders(calculateBorders(borders, bounds, borderPoints, radius));\n        if (container.node.checked) {\n            this.renderer.font(new Color('#424242'), 'normal', 'normal', 'bold', (size - 3) + \"px\", 'arial');\n            this.renderer.text(\"\\u2714\", bounds.left + size / 6, bounds.top + size - 1);\n        }\n    }, this);\n};\n\nNodeParser.prototype.paintRadio = function(container) {\n    var bounds = container.parseBounds();\n\n    var size = Math.min(bounds.width, bounds.height) - 2;\n\n    this.renderer.clip(container.backgroundClip, function() {\n        this.renderer.circleStroke(bounds.left + 1, bounds.top + 1, size, new Color('#DEDEDE'), 1, new Color('#A5A5A5'));\n        if (container.node.checked) {\n            this.renderer.circle(Math.ceil(bounds.left + size / 4) + 1, Math.ceil(bounds.top + size / 4) + 1, Math.floor(size / 2), new Color('#424242'));\n        }\n    }, this);\n};\n\nNodeParser.prototype.paintFormValue = function(container) {\n    var value = container.getValue();\n    if (value.length > 0) {\n        var document = container.node.ownerDocument;\n        var wrapper = document.createElement('html2canvaswrapper');\n        var properties = ['lineHeight', 'textAlign', 'fontFamily', 'fontWeight', 'fontSize', 'color',\n            'paddingLeft', 'paddingTop', 'paddingRight', 'paddingBottom',\n            'width', 'height', 'borderLeftStyle', 'borderTopStyle', 'borderLeftWidth', 'borderTopWidth',\n            'boxSizing', 'whiteSpace', 'wordWrap'];\n\n        properties.forEach(function(property) {\n            try {\n                wrapper.style[property] = container.css(property);\n            } catch(e) {\n                // Older IE has issues with \"border\"\n                log(\"html2canvas: Parse: Exception caught in renderFormValue: \" + e.message);\n            }\n        });\n        var bounds = container.parseBounds();\n        wrapper.style.position = \"fixed\";\n        wrapper.style.left = bounds.left + \"px\";\n        wrapper.style.top = bounds.top + \"px\";\n        wrapper.textContent = value;\n        document.body.appendChild(wrapper);\n        this.paintText(new TextContainer(wrapper.firstChild, container));\n        document.body.removeChild(wrapper);\n    }\n};\n\nNodeParser.prototype.paintText = function(container) {\n    container.applyTextTransform();\n    var characters = punycode.ucs2.decode(container.node.data);\n    var textList = (!this.options.letterRendering || noLetterSpacing(container)) && !hasUnicode(container.node.data) ? getWords(characters) : characters.map(function(character) {\n        return punycode.ucs2.encode([character]);\n    });\n\n    var weight = container.parent.fontWeight();\n    var size = container.parent.css('fontSize');\n    var family = container.parent.css('fontFamily');\n    var shadows = container.parent.parseTextShadows();\n\n    this.renderer.font(container.parent.color('color'), container.parent.css('fontStyle'), container.parent.css('fontVariant'), weight, size, family);\n    if (shadows.length) {\n        // TODO: support multiple text shadows\n        this.renderer.fontShadow(shadows[0].color, shadows[0].offsetX, shadows[0].offsetY, shadows[0].blur);\n    } else {\n        this.renderer.clearShadow();\n    }\n\n    this.renderer.clip(container.parent.clip, function() {\n        textList.map(this.parseTextBounds(container), this).forEach(function(bounds, index) {\n            if (bounds) {\n                this.renderer.text(textList[index], bounds.left, bounds.bottom);\n                this.renderTextDecoration(container.parent, bounds, this.fontMetrics.getMetrics(family, size));\n            }\n        }, this);\n    }, this);\n};\n\nNodeParser.prototype.renderTextDecoration = function(container, bounds, metrics) {\n    switch(container.css(\"textDecoration\").split(\" \")[0]) {\n    case \"underline\":\n        // Draws a line at the baseline of the font\n        // TODO As some browsers display the line as more than 1px if the font-size is big, need to take that into account both in position and size\n        this.renderer.rectangle(bounds.left, Math.round(bounds.top + metrics.baseline + metrics.lineWidth), bounds.width, 1, container.color(\"color\"));\n        break;\n    case \"overline\":\n        this.renderer.rectangle(bounds.left, Math.round(bounds.top), bounds.width, 1, container.color(\"color\"));\n        break;\n    case \"line-through\":\n        // TODO try and find exact position for line-through\n        this.renderer.rectangle(bounds.left, Math.ceil(bounds.top + metrics.middle + metrics.lineWidth), bounds.width, 1, container.color(\"color\"));\n        break;\n    }\n};\n\nvar borderColorTransforms = {\n    inset: [\n        [\"darken\", 0.60],\n        [\"darken\", 0.10],\n        [\"darken\", 0.10],\n        [\"darken\", 0.60]\n    ]\n};\n\nNodeParser.prototype.parseBorders = function(container) {\n    var nodeBounds = container.parseBounds();\n    var radius = getBorderRadiusData(container);\n    var borders = [\"Top\", \"Right\", \"Bottom\", \"Left\"].map(function(side, index) {\n        var style = container.css('border' + side + 'Style');\n        var color = container.color('border' + side + 'Color');\n        if (style === \"inset\" && color.isBlack()) {\n            color = new Color([255, 255, 255, color.a]); // this is wrong, but\n        }\n        var colorTransform = borderColorTransforms[style] ? borderColorTransforms[style][index] : null;\n        return {\n            width: container.cssInt('border' + side + 'Width'),\n            color: colorTransform ? color[colorTransform[0]](colorTransform[1]) : color,\n            args: null\n        };\n    });\n    var borderPoints = calculateCurvePoints(nodeBounds, radius, borders);\n\n    return {\n        clip: this.parseBackgroundClip(container, borderPoints, borders, radius, nodeBounds),\n        borders: calculateBorders(borders, nodeBounds, borderPoints, radius)\n    };\n};\n\nfunction calculateBorders(borders, nodeBounds, borderPoints, radius) {\n    return borders.map(function(border, borderSide) {\n        if (border.width > 0) {\n            var bx = nodeBounds.left;\n            var by = nodeBounds.top;\n            var bw = nodeBounds.width;\n            var bh = nodeBounds.height - (borders[2].width);\n\n            switch(borderSide) {\n            case 0:\n                // top border\n                bh = borders[0].width;\n                border.args = drawSide({\n                        c1: [bx, by],\n                        c2: [bx + bw, by],\n                        c3: [bx + bw - borders[1].width, by + bh],\n                        c4: [bx + borders[3].width, by + bh]\n                    }, radius[0], radius[1],\n                    borderPoints.topLeftOuter, borderPoints.topLeftInner, borderPoints.topRightOuter, borderPoints.topRightInner);\n                break;\n            case 1:\n                // right border\n                bx = nodeBounds.left + nodeBounds.width - (borders[1].width);\n                bw = borders[1].width;\n\n                border.args = drawSide({\n                        c1: [bx + bw, by],\n                        c2: [bx + bw, by + bh + borders[2].width],\n                        c3: [bx, by + bh],\n                        c4: [bx, by + borders[0].width]\n                    }, radius[1], radius[2],\n                    borderPoints.topRightOuter, borderPoints.topRightInner, borderPoints.bottomRightOuter, borderPoints.bottomRightInner);\n                break;\n            case 2:\n                // bottom border\n                by = (by + nodeBounds.height) - (borders[2].width);\n                bh = borders[2].width;\n                border.args = drawSide({\n                        c1: [bx + bw, by + bh],\n                        c2: [bx, by + bh],\n                        c3: [bx + borders[3].width, by],\n                        c4: [bx + bw - borders[3].width, by]\n                    }, radius[2], radius[3],\n                    borderPoints.bottomRightOuter, borderPoints.bottomRightInner, borderPoints.bottomLeftOuter, borderPoints.bottomLeftInner);\n                break;\n            case 3:\n                // left border\n                bw = borders[3].width;\n                border.args = drawSide({\n                        c1: [bx, by + bh + borders[2].width],\n                        c2: [bx, by],\n                        c3: [bx + bw, by + borders[0].width],\n                        c4: [bx + bw, by + bh]\n                    }, radius[3], radius[0],\n                    borderPoints.bottomLeftOuter, borderPoints.bottomLeftInner, borderPoints.topLeftOuter, borderPoints.topLeftInner);\n                break;\n            }\n        }\n        return border;\n    });\n}\n\nNodeParser.prototype.parseBackgroundClip = function(container, borderPoints, borders, radius, bounds) {\n    var backgroundClip = container.css('backgroundClip'),\n        borderArgs = [];\n\n    switch(backgroundClip) {\n    case \"content-box\":\n    case \"padding-box\":\n        parseCorner(borderArgs, radius[0], radius[1], borderPoints.topLeftInner, borderPoints.topRightInner, bounds.left + borders[3].width, bounds.top + borders[0].width);\n        parseCorner(borderArgs, radius[1], radius[2], borderPoints.topRightInner, borderPoints.bottomRightInner, bounds.left + bounds.width - borders[1].width, bounds.top + borders[0].width);\n        parseCorner(borderArgs, radius[2], radius[3], borderPoints.bottomRightInner, borderPoints.bottomLeftInner, bounds.left + bounds.width - borders[1].width, bounds.top + bounds.height - borders[2].width);\n        parseCorner(borderArgs, radius[3], radius[0], borderPoints.bottomLeftInner, borderPoints.topLeftInner, bounds.left + borders[3].width, bounds.top + bounds.height - borders[2].width);\n        break;\n\n    default:\n        parseCorner(borderArgs, radius[0], radius[1], borderPoints.topLeftOuter, borderPoints.topRightOuter, bounds.left, bounds.top);\n        parseCorner(borderArgs, radius[1], radius[2], borderPoints.topRightOuter, borderPoints.bottomRightOuter, bounds.left + bounds.width, bounds.top);\n        parseCorner(borderArgs, radius[2], radius[3], borderPoints.bottomRightOuter, borderPoints.bottomLeftOuter, bounds.left + bounds.width, bounds.top + bounds.height);\n        parseCorner(borderArgs, radius[3], radius[0], borderPoints.bottomLeftOuter, borderPoints.topLeftOuter, bounds.left, bounds.top + bounds.height);\n        break;\n    }\n\n    return borderArgs;\n};\n\nfunction getCurvePoints(x, y, r1, r2) {\n    var kappa = 4 * ((Math.sqrt(2) - 1) / 3);\n    var ox = (r1) * kappa, // control point offset horizontal\n        oy = (r2) * kappa, // control point offset vertical\n        xm = x + r1, // x-middle\n        ym = y + r2; // y-middle\n    return {\n        topLeft: bezierCurve({x: x, y: ym}, {x: x, y: ym - oy}, {x: xm - ox, y: y}, {x: xm, y: y}),\n        topRight: bezierCurve({x: x, y: y}, {x: x + ox,y: y}, {x: xm, y: ym - oy}, {x: xm, y: ym}),\n        bottomRight: bezierCurve({x: xm, y: y}, {x: xm, y: y + oy}, {x: x + ox, y: ym}, {x: x, y: ym}),\n        bottomLeft: bezierCurve({x: xm, y: ym}, {x: xm - ox, y: ym}, {x: x, y: y + oy}, {x: x, y:y})\n    };\n}\n\nfunction calculateCurvePoints(bounds, borderRadius, borders) {\n    var x = bounds.left,\n        y = bounds.top,\n        width = bounds.width,\n        height = bounds.height,\n\n        tlh = borderRadius[0][0] < width / 2 ? borderRadius[0][0] : width / 2,\n        tlv = borderRadius[0][1] < height / 2 ? borderRadius[0][1] : height / 2,\n        trh = borderRadius[1][0] < width / 2 ? borderRadius[1][0] : width / 2,\n        trv = borderRadius[1][1] < height / 2 ? borderRadius[1][1] : height / 2,\n        brh = borderRadius[2][0] < width / 2 ? borderRadius[2][0] : width / 2,\n        brv = borderRadius[2][1] < height / 2 ? borderRadius[2][1] : height / 2,\n        blh = borderRadius[3][0] < width / 2 ? borderRadius[3][0] : width / 2,\n        blv = borderRadius[3][1] < height / 2 ? borderRadius[3][1] : height / 2;\n\n    var topWidth = width - trh,\n        rightHeight = height - brv,\n        bottomWidth = width - brh,\n        leftHeight = height - blv;\n\n    return {\n        topLeftOuter: getCurvePoints(x, y, tlh, tlv).topLeft.subdivide(0.5),\n        topLeftInner: getCurvePoints(x + borders[3].width, y + borders[0].width, Math.max(0, tlh - borders[3].width), Math.max(0, tlv - borders[0].width)).topLeft.subdivide(0.5),\n        topRightOuter: getCurvePoints(x + topWidth, y, trh, trv).topRight.subdivide(0.5),\n        topRightInner: getCurvePoints(x + Math.min(topWidth, width + borders[3].width), y + borders[0].width, (topWidth > width + borders[3].width) ? 0 :trh - borders[3].width, trv - borders[0].width).topRight.subdivide(0.5),\n        bottomRightOuter: getCurvePoints(x + bottomWidth, y + rightHeight, brh, brv).bottomRight.subdivide(0.5),\n        bottomRightInner: getCurvePoints(x + Math.min(bottomWidth, width - borders[3].width), y + Math.min(rightHeight, height + borders[0].width), Math.max(0, brh - borders[1].width),  brv - borders[2].width).bottomRight.subdivide(0.5),\n        bottomLeftOuter: getCurvePoints(x, y + leftHeight, blh, blv).bottomLeft.subdivide(0.5),\n        bottomLeftInner: getCurvePoints(x + borders[3].width, y + leftHeight, Math.max(0, blh - borders[3].width), blv - borders[2].width).bottomLeft.subdivide(0.5)\n    };\n}\n\nfunction bezierCurve(start, startControl, endControl, end) {\n    var lerp = function (a, b, t) {\n        return {\n            x: a.x + (b.x - a.x) * t,\n            y: a.y + (b.y - a.y) * t\n        };\n    };\n\n    return {\n        start: start,\n        startControl: startControl,\n        endControl: endControl,\n        end: end,\n        subdivide: function(t) {\n            var ab = lerp(start, startControl, t),\n                bc = lerp(startControl, endControl, t),\n                cd = lerp(endControl, end, t),\n                abbc = lerp(ab, bc, t),\n                bccd = lerp(bc, cd, t),\n                dest = lerp(abbc, bccd, t);\n            return [bezierCurve(start, ab, abbc, dest), bezierCurve(dest, bccd, cd, end)];\n        },\n        curveTo: function(borderArgs) {\n            borderArgs.push([\"bezierCurve\", startControl.x, startControl.y, endControl.x, endControl.y, end.x, end.y]);\n        },\n        curveToReversed: function(borderArgs) {\n            borderArgs.push([\"bezierCurve\", endControl.x, endControl.y, startControl.x, startControl.y, start.x, start.y]);\n        }\n    };\n}\n\nfunction drawSide(borderData, radius1, radius2, outer1, inner1, outer2, inner2) {\n    var borderArgs = [];\n\n    if (radius1[0] > 0 || radius1[1] > 0) {\n        borderArgs.push([\"line\", outer1[1].start.x, outer1[1].start.y]);\n        outer1[1].curveTo(borderArgs);\n    } else {\n        borderArgs.push([ \"line\", borderData.c1[0], borderData.c1[1]]);\n    }\n\n    if (radius2[0] > 0 || radius2[1] > 0) {\n        borderArgs.push([\"line\", outer2[0].start.x, outer2[0].start.y]);\n        outer2[0].curveTo(borderArgs);\n        borderArgs.push([\"line\", inner2[0].end.x, inner2[0].end.y]);\n        inner2[0].curveToReversed(borderArgs);\n    } else {\n        borderArgs.push([\"line\", borderData.c2[0], borderData.c2[1]]);\n        borderArgs.push([\"line\", borderData.c3[0], borderData.c3[1]]);\n    }\n\n    if (radius1[0] > 0 || radius1[1] > 0) {\n        borderArgs.push([\"line\", inner1[1].end.x, inner1[1].end.y]);\n        inner1[1].curveToReversed(borderArgs);\n    } else {\n        borderArgs.push([\"line\", borderData.c4[0], borderData.c4[1]]);\n    }\n\n    return borderArgs;\n}\n\nfunction parseCorner(borderArgs, radius1, radius2, corner1, corner2, x, y) {\n    if (radius1[0] > 0 || radius1[1] > 0) {\n        borderArgs.push([\"line\", corner1[0].start.x, corner1[0].start.y]);\n        corner1[0].curveTo(borderArgs);\n        corner1[1].curveTo(borderArgs);\n    } else {\n        borderArgs.push([\"line\", x, y]);\n    }\n\n    if (radius2[0] > 0 || radius2[1] > 0) {\n        borderArgs.push([\"line\", corner2[0].start.x, corner2[0].start.y]);\n    }\n}\n\nfunction negativeZIndex(container) {\n    return container.cssInt(\"zIndex\") < 0;\n}\n\nfunction positiveZIndex(container) {\n    return container.cssInt(\"zIndex\") > 0;\n}\n\nfunction zIndex0(container) {\n    return container.cssInt(\"zIndex\") === 0;\n}\n\nfunction inlineLevel(container) {\n    return [\"inline\", \"inline-block\", \"inline-table\"].indexOf(container.css(\"display\")) !== -1;\n}\n\nfunction isStackingContext(container) {\n    return (container instanceof StackingContext);\n}\n\nfunction hasText(container) {\n    return container.node.data.trim().length > 0;\n}\n\nfunction noLetterSpacing(container) {\n    return (/^(normal|none|0px)$/.test(container.parent.css(\"letterSpacing\")));\n}\n\nfunction getBorderRadiusData(container) {\n    return [\"TopLeft\", \"TopRight\", \"BottomRight\", \"BottomLeft\"].map(function(side) {\n        var value = container.css('border' + side + 'Radius');\n        var arr = value.split(\" \");\n        if (arr.length <= 1) {\n            arr[1] = arr[0];\n        }\n        return arr.map(asInt);\n    });\n}\n\nfunction renderableNode(node) {\n    return (node.nodeType === Node.TEXT_NODE || node.nodeType === Node.ELEMENT_NODE);\n}\n\nfunction isPositionedForStacking(container) {\n    var position = container.css(\"position\");\n    var zIndex = ([\"absolute\", \"relative\", \"fixed\"].indexOf(position) !== -1) ? container.css(\"zIndex\") : \"auto\";\n    return zIndex !== \"auto\";\n}\n\nfunction isPositioned(container) {\n    return container.css(\"position\") !== \"static\";\n}\n\nfunction isFloating(container) {\n    return container.css(\"float\") !== \"none\";\n}\n\nfunction isInlineBlock(container) {\n    return [\"inline-block\", \"inline-table\"].indexOf(container.css(\"display\")) !== -1;\n}\n\nfunction not(callback) {\n    var context = this;\n    return function() {\n        return !callback.apply(context, arguments);\n    };\n}\n\nfunction isElement(container) {\n    return container.node.nodeType === Node.ELEMENT_NODE;\n}\n\nfunction isPseudoElement(container) {\n    return container.isPseudoElement === true;\n}\n\nfunction isTextNode(container) {\n    return container.node.nodeType === Node.TEXT_NODE;\n}\n\nfunction zIndexSort(contexts) {\n    return function(a, b) {\n        return (a.cssInt(\"zIndex\") + (contexts.indexOf(a) / contexts.length)) - (b.cssInt(\"zIndex\") + (contexts.indexOf(b) / contexts.length));\n    };\n}\n\nfunction hasOpacity(container) {\n    return container.getOpacity() < 1;\n}\n\nfunction asInt(value) {\n    return parseInt(value, 10);\n}\n\nfunction getWidth(border) {\n    return border.width;\n}\n\nfunction nonIgnoredElement(nodeContainer) {\n    return (nodeContainer.node.nodeType !== Node.ELEMENT_NODE || [\"SCRIPT\", \"HEAD\", \"TITLE\", \"OBJECT\", \"BR\", \"OPTION\"].indexOf(nodeContainer.node.nodeName) === -1);\n}\n\nfunction flatten(arrays) {\n    return [].concat.apply([], arrays);\n}\n\nfunction stripQuotes(content) {\n    var first = content.substr(0, 1);\n    return (first === content.substr(content.length - 1) && first.match(/'|\"/)) ? content.substr(1, content.length - 2) : content;\n}\n\nfunction getWords(characters) {\n    var words = [], i = 0, onWordBoundary = false, word;\n    while(characters.length) {\n        if (isWordBoundary(characters[i]) === onWordBoundary) {\n            word = characters.splice(0, i);\n            if (word.length) {\n                words.push(punycode.ucs2.encode(word));\n            }\n            onWordBoundary =! onWordBoundary;\n            i = 0;\n        } else {\n            i++;\n        }\n\n        if (i >= characters.length) {\n            word = characters.splice(0, i);\n            if (word.length) {\n                words.push(punycode.ucs2.encode(word));\n            }\n        }\n    }\n    return words;\n}\n\nfunction isWordBoundary(characterCode) {\n    return [\n        32, // <space>\n        13, // \\r\n        10, // \\n\n        9, // \\t\n        45 // -\n    ].indexOf(characterCode) !== -1;\n}\n\nfunction hasUnicode(string) {\n    return (/[^\\u0000-\\u00ff]/).test(string);\n}\n\nmodule.exports = NodeParser;\n\n},{\"./color\":3,\"./fontmetrics\":7,\"./log\":13,\"./nodecontainer\":14,\"./pseudoelementcontainer\":18,\"./stackingcontext\":21,\"./textcontainer\":25,\"./utils\":26,\"punycode\":1}],16:[function(_dereq_,module,exports){\nvar XHR = _dereq_('./xhr');\nvar utils = _dereq_('./utils');\nvar log = _dereq_('./log');\nvar createWindowClone = _dereq_('./clone');\nvar decode64 = utils.decode64;\n\nfunction Proxy(src, proxyUrl, document) {\n    var supportsCORS = ('withCredentials' in new XMLHttpRequest());\n    if (!proxyUrl) {\n        return Promise.reject(\"No proxy configured\");\n    }\n    var callback = createCallback(supportsCORS);\n    var url = createProxyUrl(proxyUrl, src, callback);\n\n    return supportsCORS ? XHR(url) : (jsonp(document, url, callback).then(function(response) {\n        return decode64(response.content);\n    }));\n}\nvar proxyCount = 0;\n\nfunction ProxyURL(src, proxyUrl, document) {\n    var supportsCORSImage = ('crossOrigin' in new Image());\n    var callback = createCallback(supportsCORSImage);\n    var url = createProxyUrl(proxyUrl, src, callback);\n    return (supportsCORSImage ? Promise.resolve(url) : jsonp(document, url, callback).then(function(response) {\n        return \"data:\" + response.type + \";base64,\" + response.content;\n    }));\n}\n\nfunction jsonp(document, url, callback) {\n    return new Promise(function(resolve, reject) {\n        var s = document.createElement(\"script\");\n        var cleanup = function() {\n            delete window.html2canvas.proxy[callback];\n            document.body.removeChild(s);\n        };\n        window.html2canvas.proxy[callback] = function(response) {\n            cleanup();\n            resolve(response);\n        };\n        s.src = url;\n        s.onerror = function(e) {\n            cleanup();\n            reject(e);\n        };\n        document.body.appendChild(s);\n    });\n}\n\nfunction createCallback(useCORS) {\n    return !useCORS ? \"html2canvas_\" + Date.now() + \"_\" + (++proxyCount) + \"_\" + Math.round(Math.random() * 100000) : \"\";\n}\n\nfunction createProxyUrl(proxyUrl, src, callback) {\n    return proxyUrl + \"?url=\" + encodeURIComponent(src) + (callback.length ? \"&callback=html2canvas.proxy.\" + callback : \"\");\n}\n\nfunction documentFromHTML(src) {\n    return function(html) {\n        var parser = new DOMParser(), doc;\n        try {\n            doc = parser.parseFromString(html, \"text/html\");\n        } catch(e) {\n            log(\"DOMParser not supported, falling back to createHTMLDocument\");\n            doc = document.implementation.createHTMLDocument(\"\");\n            try {\n                doc.open();\n                doc.write(html);\n                doc.close();\n            } catch(ee) {\n                log(\"createHTMLDocument write not supported, falling back to document.body.innerHTML\");\n                doc.body.innerHTML = html; // ie9 doesnt support writing to documentElement\n            }\n        }\n\n        var b = doc.querySelector(\"base\");\n        if (!b || !b.href.host) {\n            var base = doc.createElement(\"base\");\n            base.href = src;\n            doc.head.insertBefore(base, doc.head.firstChild);\n        }\n\n        return doc;\n    };\n}\n\nfunction loadUrlDocument(src, proxy, document, width, height, options) {\n    return new Proxy(src, proxy, window.document).then(documentFromHTML(src)).then(function(doc) {\n        return createWindowClone(doc, document, width, height, options, 0, 0);\n    });\n}\n\nexports.Proxy = Proxy;\nexports.ProxyURL = ProxyURL;\nexports.loadUrlDocument = loadUrlDocument;\n\n},{\"./clone\":2,\"./log\":13,\"./utils\":26,\"./xhr\":28}],17:[function(_dereq_,module,exports){\nvar ProxyURL = _dereq_('./proxy').ProxyURL;\n\nfunction ProxyImageContainer(src, proxy) {\n    var link = document.createElement(\"a\");\n    link.href = src;\n    src = link.href;\n    this.src = src;\n    this.image = new Image();\n    var self = this;\n    this.promise = new Promise(function(resolve, reject) {\n        self.image.crossOrigin = \"Anonymous\";\n        self.image.onload = resolve;\n        self.image.onerror = reject;\n\n        new ProxyURL(src, proxy, document).then(function(url) {\n            self.image.src = url;\n        })['catch'](reject);\n    });\n}\n\nmodule.exports = ProxyImageContainer;\n\n},{\"./proxy\":16}],18:[function(_dereq_,module,exports){\nvar NodeContainer = _dereq_('./nodecontainer');\n\nfunction PseudoElementContainer(node, parent, type) {\n    NodeContainer.call(this, node, parent);\n    this.isPseudoElement = true;\n    this.before = type === \":before\";\n}\n\nPseudoElementContainer.prototype.cloneTo = function(stack) {\n    PseudoElementContainer.prototype.cloneTo.call(this, stack);\n    stack.isPseudoElement = true;\n    stack.before = this.before;\n};\n\nPseudoElementContainer.prototype = Object.create(NodeContainer.prototype);\n\nPseudoElementContainer.prototype.appendToDOM = function() {\n    if (this.before) {\n        this.parent.node.insertBefore(this.node, this.parent.node.firstChild);\n    } else {\n        this.parent.node.appendChild(this.node);\n    }\n    this.parent.node.className += \" \" + this.getHideClass();\n};\n\nPseudoElementContainer.prototype.cleanDOM = function() {\n    this.node.parentNode.removeChild(this.node);\n    this.parent.node.className = this.parent.node.className.replace(this.getHideClass(), \"\");\n};\n\nPseudoElementContainer.prototype.getHideClass = function() {\n    return this[\"PSEUDO_HIDE_ELEMENT_CLASS_\" + (this.before ? \"BEFORE\" : \"AFTER\")];\n};\n\nPseudoElementContainer.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE = \"___html2canvas___pseudoelement_before\";\nPseudoElementContainer.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER = \"___html2canvas___pseudoelement_after\";\n\nmodule.exports = PseudoElementContainer;\n\n},{\"./nodecontainer\":14}],19:[function(_dereq_,module,exports){\nvar log = _dereq_('./log');\n\nfunction Renderer(width, height, images, options, document) {\n    this.width = width;\n    this.height = height;\n    this.images = images;\n    this.options = options;\n    this.document = document;\n}\n\nRenderer.prototype.renderImage = function(container, bounds, borderData, imageContainer) {\n    var paddingLeft = container.cssInt('paddingLeft'),\n        paddingTop = container.cssInt('paddingTop'),\n        paddingRight = container.cssInt('paddingRight'),\n        paddingBottom = container.cssInt('paddingBottom'),\n        borders = borderData.borders;\n\n    var width = bounds.width - (borders[1].width + borders[3].width + paddingLeft + paddingRight);\n    var height = bounds.height - (borders[0].width + borders[2].width + paddingTop + paddingBottom);\n    this.drawImage(\n        imageContainer,\n        0,\n        0,\n        imageContainer.image.width || width,\n        imageContainer.image.height || height,\n        bounds.left + paddingLeft + borders[3].width,\n        bounds.top + paddingTop + borders[0].width,\n        width,\n        height\n    );\n};\n\nRenderer.prototype.renderBackground = function(container, bounds, borderData) {\n    if (bounds.height > 0 && bounds.width > 0) {\n        this.renderBackgroundColor(container, bounds);\n        this.renderBackgroundImage(container, bounds, borderData);\n    }\n};\n\nRenderer.prototype.renderBackgroundColor = function(container, bounds) {\n    var color = container.color(\"backgroundColor\");\n    if (!color.isTransparent()) {\n        this.rectangle(bounds.left, bounds.top, bounds.width, bounds.height, color);\n    }\n};\n\nRenderer.prototype.renderBorders = function(borders) {\n    borders.forEach(this.renderBorder, this);\n};\n\nRenderer.prototype.renderBorder = function(data) {\n    if (!data.color.isTransparent() && data.args !== null) {\n        this.drawShape(data.args, data.color);\n    }\n};\n\nRenderer.prototype.renderBackgroundImage = function(container, bounds, borderData) {\n    var backgroundImages = container.parseBackgroundImages();\n    backgroundImages.reverse().forEach(function(backgroundImage, index, arr) {\n        switch(backgroundImage.method) {\n        case \"url\":\n            var image = this.images.get(backgroundImage.args[0]);\n            if (image) {\n                this.renderBackgroundRepeating(container, bounds, image, arr.length - (index+1), borderData);\n            } else {\n                log(\"Error loading background-image\", backgroundImage.args[0]);\n            }\n            break;\n        case \"linear-gradient\":\n        case \"gradient\":\n            var gradientImage = this.images.get(backgroundImage.value);\n            if (gradientImage) {\n                this.renderBackgroundGradient(gradientImage, bounds, borderData);\n            } else {\n                log(\"Error loading background-image\", backgroundImage.args[0]);\n            }\n            break;\n        case \"none\":\n            break;\n        default:\n            log(\"Unknown background-image type\", backgroundImage.args[0]);\n        }\n    }, this);\n};\n\nRenderer.prototype.renderBackgroundRepeating = function(container, bounds, imageContainer, index, borderData) {\n    var size = container.parseBackgroundSize(bounds, imageContainer.image, index);\n    var position = container.parseBackgroundPosition(bounds, imageContainer.image, index, size);\n    var repeat = container.parseBackgroundRepeat(index);\n    switch (repeat) {\n    case \"repeat-x\":\n    case \"repeat no-repeat\":\n        this.backgroundRepeatShape(imageContainer, position, size, bounds, bounds.left + borderData[3], bounds.top + position.top + borderData[0], 99999, size.height, borderData);\n        break;\n    case \"repeat-y\":\n    case \"no-repeat repeat\":\n        this.backgroundRepeatShape(imageContainer, position, size, bounds, bounds.left + position.left + borderData[3], bounds.top + borderData[0], size.width, 99999, borderData);\n        break;\n    case \"no-repeat\":\n        this.backgroundRepeatShape(imageContainer, position, size, bounds, bounds.left + position.left + borderData[3], bounds.top + position.top + borderData[0], size.width, size.height, borderData);\n        break;\n    default:\n        this.renderBackgroundRepeat(imageContainer, position, size, {top: bounds.top, left: bounds.left}, borderData[3], borderData[0]);\n        break;\n    }\n};\n\nmodule.exports = Renderer;\n\n},{\"./log\":13}],20:[function(_dereq_,module,exports){\nvar Renderer = _dereq_('../renderer');\nvar LinearGradientContainer = _dereq_('../lineargradientcontainer');\nvar log = _dereq_('../log');\n\nfunction CanvasRenderer(width, height) {\n    Renderer.apply(this, arguments);\n    this.canvas = this.options.canvas || this.document.createElement(\"canvas\");\n    if (!this.options.canvas) {\n        this.canvas.width = width;\n        this.canvas.height = height;\n    }\n    this.ctx = this.canvas.getContext(\"2d\");\n    this.taintCtx = this.document.createElement(\"canvas\").getContext(\"2d\");\n    this.ctx.textBaseline = \"bottom\";\n    this.variables = {};\n    log(\"Initialized CanvasRenderer with size\", width, \"x\", height);\n}\n\nCanvasRenderer.prototype = Object.create(Renderer.prototype);\n\nCanvasRenderer.prototype.setFillStyle = function(fillStyle) {\n    this.ctx.fillStyle = typeof(fillStyle) === \"object\" && !!fillStyle.isColor ? fillStyle.toString() : fillStyle;\n    return this.ctx;\n};\n\nCanvasRenderer.prototype.rectangle = function(left, top, width, height, color) {\n    this.setFillStyle(color).fillRect(left, top, width, height);\n};\n\nCanvasRenderer.prototype.circle = function(left, top, size, color) {\n    this.setFillStyle(color);\n    this.ctx.beginPath();\n    this.ctx.arc(left + size / 2, top + size / 2, size / 2, 0, Math.PI*2, true);\n    this.ctx.closePath();\n    this.ctx.fill();\n};\n\nCanvasRenderer.prototype.circleStroke = function(left, top, size, color, stroke, strokeColor) {\n    this.circle(left, top, size, color);\n    this.ctx.strokeStyle = strokeColor.toString();\n    this.ctx.stroke();\n};\n\nCanvasRenderer.prototype.drawShape = function(shape, color) {\n    this.shape(shape);\n    this.setFillStyle(color).fill();\n};\n\nCanvasRenderer.prototype.taints = function(imageContainer) {\n    if (imageContainer.tainted === null) {\n        this.taintCtx.drawImage(imageContainer.image, 0, 0);\n        try {\n            this.taintCtx.getImageData(0, 0, 1, 1);\n            imageContainer.tainted = false;\n        } catch(e) {\n            this.taintCtx = document.createElement(\"canvas\").getContext(\"2d\");\n            imageContainer.tainted = true;\n        }\n    }\n\n    return imageContainer.tainted;\n};\n\nCanvasRenderer.prototype.drawImage = function(imageContainer, sx, sy, sw, sh, dx, dy, dw, dh) {\n    if (!this.taints(imageContainer) || this.options.allowTaint) {\n        this.ctx.drawImage(imageContainer.image, sx, sy, sw, sh, dx, dy, dw, dh);\n    }\n};\n\nCanvasRenderer.prototype.clip = function(shapes, callback, context) {\n    this.ctx.save();\n    shapes.filter(hasEntries).forEach(function(shape) {\n        this.shape(shape).clip();\n    }, this);\n    callback.call(context);\n    this.ctx.restore();\n};\n\nCanvasRenderer.prototype.shape = function(shape) {\n    this.ctx.beginPath();\n    shape.forEach(function(point, index) {\n        if (point[0] === \"rect\") {\n            this.ctx.rect.apply(this.ctx, point.slice(1));\n        } else {\n            this.ctx[(index === 0) ? \"moveTo\" : point[0] + \"To\" ].apply(this.ctx, point.slice(1));\n        }\n    }, this);\n    this.ctx.closePath();\n    return this.ctx;\n};\n\nCanvasRenderer.prototype.font = function(color, style, variant, weight, size, family) {\n    this.setFillStyle(color).font = [style, variant, weight, size, family].join(\" \").split(\",\")[0];\n};\n\nCanvasRenderer.prototype.fontShadow = function(color, offsetX, offsetY, blur) {\n    this.setVariable(\"shadowColor\", color.toString())\n        .setVariable(\"shadowOffsetY\", offsetX)\n        .setVariable(\"shadowOffsetX\", offsetY)\n        .setVariable(\"shadowBlur\", blur);\n};\n\nCanvasRenderer.prototype.clearShadow = function() {\n    this.setVariable(\"shadowColor\", \"rgba(0,0,0,0)\");\n};\n\nCanvasRenderer.prototype.setOpacity = function(opacity) {\n    this.ctx.globalAlpha = opacity;\n};\n\nCanvasRenderer.prototype.setTransform = function(transform) {\n    this.ctx.translate(transform.origin[0], transform.origin[1]);\n    this.ctx.transform.apply(this.ctx, transform.matrix);\n    this.ctx.translate(-transform.origin[0], -transform.origin[1]);\n};\n\nCanvasRenderer.prototype.setVariable = function(property, value) {\n    if (this.variables[property] !== value) {\n        this.variables[property] = this.ctx[property] = value;\n    }\n\n    return this;\n};\n\nCanvasRenderer.prototype.text = function(text, left, bottom) {\n    this.ctx.fillText(text, left, bottom);\n};\n\nCanvasRenderer.prototype.backgroundRepeatShape = function(imageContainer, backgroundPosition, size, bounds, left, top, width, height, borderData) {\n    var shape = [\n        [\"line\", Math.round(left), Math.round(top)],\n        [\"line\", Math.round(left + width), Math.round(top)],\n        [\"line\", Math.round(left + width), Math.round(height + top)],\n        [\"line\", Math.round(left), Math.round(height + top)]\n    ];\n    this.clip([shape], function() {\n        this.renderBackgroundRepeat(imageContainer, backgroundPosition, size, bounds, borderData[3], borderData[0]);\n    }, this);\n};\n\nCanvasRenderer.prototype.renderBackgroundRepeat = function(imageContainer, backgroundPosition, size, bounds, borderLeft, borderTop) {\n    var offsetX = Math.round(bounds.left + backgroundPosition.left + borderLeft), offsetY = Math.round(bounds.top + backgroundPosition.top + borderTop);\n    this.setFillStyle(this.ctx.createPattern(this.resizeImage(imageContainer, size), \"repeat\"));\n    this.ctx.translate(offsetX, offsetY);\n    this.ctx.fill();\n    this.ctx.translate(-offsetX, -offsetY);\n};\n\nCanvasRenderer.prototype.renderBackgroundGradient = function(gradientImage, bounds) {\n    if (gradientImage instanceof LinearGradientContainer) {\n        var gradient = this.ctx.createLinearGradient(\n            bounds.left + bounds.width * gradientImage.x0,\n            bounds.top + bounds.height * gradientImage.y0,\n            bounds.left +  bounds.width * gradientImage.x1,\n            bounds.top +  bounds.height * gradientImage.y1);\n        gradientImage.colorStops.forEach(function(colorStop) {\n            gradient.addColorStop(colorStop.stop, colorStop.color.toString());\n        });\n        this.rectangle(bounds.left, bounds.top, bounds.width, bounds.height, gradient);\n    }\n};\n\nCanvasRenderer.prototype.resizeImage = function(imageContainer, size) {\n    var image = imageContainer.image;\n    if(image.width === size.width && image.height === size.height) {\n        return image;\n    }\n\n    var ctx, canvas = document.createElement('canvas');\n    canvas.width = size.width;\n    canvas.height = size.height;\n    ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(image, 0, 0, image.width, image.height, 0, 0, size.width, size.height );\n    return canvas;\n};\n\nfunction hasEntries(array) {\n    return array.length > 0;\n}\n\nmodule.exports = CanvasRenderer;\n\n},{\"../lineargradientcontainer\":12,\"../log\":13,\"../renderer\":19}],21:[function(_dereq_,module,exports){\nvar NodeContainer = _dereq_('./nodecontainer');\n\nfunction StackingContext(hasOwnStacking, opacity, element, parent) {\n    NodeContainer.call(this, element, parent);\n    this.ownStacking = hasOwnStacking;\n    this.contexts = [];\n    this.children = [];\n    this.opacity = (this.parent ? this.parent.stack.opacity : 1) * opacity;\n}\n\nStackingContext.prototype = Object.create(NodeContainer.prototype);\n\nStackingContext.prototype.getParentStack = function(context) {\n    var parentStack = (this.parent) ? this.parent.stack : null;\n    return parentStack ? (parentStack.ownStacking ? parentStack : parentStack.getParentStack(context)) : context.stack;\n};\n\nmodule.exports = StackingContext;\n\n},{\"./nodecontainer\":14}],22:[function(_dereq_,module,exports){\nfunction Support(document) {\n    this.rangeBounds = this.testRangeBounds(document);\n    this.cors = this.testCORS();\n    this.svg = this.testSVG();\n}\n\nSupport.prototype.testRangeBounds = function(document) {\n    var range, testElement, rangeBounds, rangeHeight, support = false;\n\n    if (document.createRange) {\n        range = document.createRange();\n        if (range.getBoundingClientRect) {\n            testElement = document.createElement('boundtest');\n            testElement.style.height = \"123px\";\n            testElement.style.display = \"block\";\n            document.body.appendChild(testElement);\n\n            range.selectNode(testElement);\n            rangeBounds = range.getBoundingClientRect();\n            rangeHeight = rangeBounds.height;\n\n            if (rangeHeight === 123) {\n                support = true;\n            }\n            document.body.removeChild(testElement);\n        }\n    }\n\n    return support;\n};\n\nSupport.prototype.testCORS = function() {\n    return typeof((new Image()).crossOrigin) !== \"undefined\";\n};\n\nSupport.prototype.testSVG = function() {\n    var img = new Image();\n    var canvas = document.createElement(\"canvas\");\n    var ctx =  canvas.getContext(\"2d\");\n    img.src = \"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>\";\n\n    try {\n        ctx.drawImage(img, 0, 0);\n        canvas.toDataURL();\n    } catch(e) {\n        return false;\n    }\n    return true;\n};\n\nmodule.exports = Support;\n\n},{}],23:[function(_dereq_,module,exports){\nvar XHR = _dereq_('./xhr');\nvar decode64 = _dereq_('./utils').decode64;\n\nfunction SVGContainer(src) {\n    this.src = src;\n    this.image = null;\n    var self = this;\n\n    this.promise = this.hasFabric().then(function() {\n        return (self.isInline(src) ? Promise.resolve(self.inlineFormatting(src)) : XHR(src));\n    }).then(function(svg) {\n        return new Promise(function(resolve) {\n            window.html2canvas.svg.fabric.loadSVGFromString(svg, self.createCanvas.call(self, resolve));\n        });\n    });\n}\n\nSVGContainer.prototype.hasFabric = function() {\n    return !window.html2canvas.svg || !window.html2canvas.svg.fabric ? Promise.reject(new Error(\"html2canvas.svg.js is not loaded, cannot render svg\")) : Promise.resolve();\n};\n\nSVGContainer.prototype.inlineFormatting = function(src) {\n    return (/^data:image\\/svg\\+xml;base64,/.test(src)) ? this.decode64(this.removeContentType(src)) : this.removeContentType(src);\n};\n\nSVGContainer.prototype.removeContentType = function(src) {\n    return src.replace(/^data:image\\/svg\\+xml(;base64)?,/,'');\n};\n\nSVGContainer.prototype.isInline = function(src) {\n    return (/^data:image\\/svg\\+xml/i.test(src));\n};\n\nSVGContainer.prototype.createCanvas = function(resolve) {\n    var self = this;\n    return function (objects, options) {\n        var canvas = new window.html2canvas.svg.fabric.StaticCanvas('c');\n        self.image = canvas.lowerCanvasEl;\n        canvas\n            .setWidth(options.width)\n            .setHeight(options.height)\n            .add(window.html2canvas.svg.fabric.util.groupSVGElements(objects, options))\n            .renderAll();\n        resolve(canvas.lowerCanvasEl);\n    };\n};\n\nSVGContainer.prototype.decode64 = function(str) {\n    return (typeof(window.atob) === \"function\") ? window.atob(str) : decode64(str);\n};\n\nmodule.exports = SVGContainer;\n\n},{\"./utils\":26,\"./xhr\":28}],24:[function(_dereq_,module,exports){\nvar SVGContainer = _dereq_('./svgcontainer');\n\nfunction SVGNodeContainer(node, _native) {\n    this.src = node;\n    this.image = null;\n    var self = this;\n\n    this.promise = _native ? new Promise(function(resolve, reject) {\n        self.image = new Image();\n        self.image.onload = resolve;\n        self.image.onerror = reject;\n        self.image.src = \"data:image/svg+xml,\" + (new XMLSerializer()).serializeToString(node);\n        if (self.image.complete === true) {\n            resolve(self.image);\n        }\n    }) : this.hasFabric().then(function() {\n        return new Promise(function(resolve) {\n            window.html2canvas.svg.fabric.parseSVGDocument(node, self.createCanvas.call(self, resolve));\n        });\n    });\n}\n\nSVGNodeContainer.prototype = Object.create(SVGContainer.prototype);\n\nmodule.exports = SVGNodeContainer;\n\n},{\"./svgcontainer\":23}],25:[function(_dereq_,module,exports){\nvar NodeContainer = _dereq_('./nodecontainer');\n\nfunction TextContainer(node, parent) {\n    NodeContainer.call(this, node, parent);\n}\n\nTextContainer.prototype = Object.create(NodeContainer.prototype);\n\nTextContainer.prototype.applyTextTransform = function() {\n    this.node.data = this.transform(this.parent.css(\"textTransform\"));\n};\n\nTextContainer.prototype.transform = function(transform) {\n    var text = this.node.data;\n    switch(transform){\n        case \"lowercase\":\n            return text.toLowerCase();\n        case \"capitalize\":\n            return text.replace(/(^|\\s|:|-|\\(|\\))([a-z])/g, capitalize);\n        case \"uppercase\":\n            return text.toUpperCase();\n        default:\n            return text;\n    }\n};\n\nfunction capitalize(m, p1, p2) {\n    if (m.length > 0) {\n        return p1 + p2.toUpperCase();\n    }\n}\n\nmodule.exports = TextContainer;\n\n},{\"./nodecontainer\":14}],26:[function(_dereq_,module,exports){\nexports.smallImage = function smallImage() {\n    return \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\";\n};\n\nexports.bind = function(callback, context) {\n    return function() {\n        return callback.apply(context, arguments);\n    };\n};\n\n/*\n * base64-arraybuffer\n * https://github.com/niklasvh/base64-arraybuffer\n *\n * Copyright (c) 2012 Niklas von Hertzen\n * Licensed under the MIT license.\n */\n\nexports.decode64 = function(base64) {\n    var chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n    var len = base64.length, i, encoded1, encoded2, encoded3, encoded4, byte1, byte2, byte3;\n\n    var output = \"\";\n\n    for (i = 0; i < len; i+=4) {\n        encoded1 = chars.indexOf(base64[i]);\n        encoded2 = chars.indexOf(base64[i+1]);\n        encoded3 = chars.indexOf(base64[i+2]);\n        encoded4 = chars.indexOf(base64[i+3]);\n\n        byte1 = (encoded1 << 2) | (encoded2 >> 4);\n        byte2 = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n        byte3 = ((encoded3 & 3) << 6) | encoded4;\n        if (encoded3 === 64) {\n            output += String.fromCharCode(byte1);\n        } else if (encoded4 === 64 || encoded4 === -1) {\n            output += String.fromCharCode(byte1, byte2);\n        } else{\n            output += String.fromCharCode(byte1, byte2, byte3);\n        }\n    }\n\n    return output;\n};\n\nexports.getBounds = function(node) {\n    if (node.getBoundingClientRect) {\n        var clientRect = node.getBoundingClientRect();\n        var width = node.offsetWidth == null ? clientRect.width : node.offsetWidth;\n        return {\n            top: clientRect.top,\n            bottom: clientRect.bottom || (clientRect.top + clientRect.height),\n            right: clientRect.left + width,\n            left: clientRect.left,\n            width:  width,\n            height: node.offsetHeight == null ? clientRect.height : node.offsetHeight\n        };\n    }\n    return {};\n};\n\nexports.offsetBounds = function(node) {\n    var parent = node.offsetParent ? exports.offsetBounds(node.offsetParent) : {top: 0, left: 0};\n\n    return {\n        top: node.offsetTop + parent.top,\n        bottom: node.offsetTop + node.offsetHeight + parent.top,\n        right: node.offsetLeft + parent.left + node.offsetWidth,\n        left: node.offsetLeft + parent.left,\n        width: node.offsetWidth,\n        height: node.offsetHeight\n    };\n};\n\nexports.parseBackgrounds = function(backgroundImage) {\n    var whitespace = ' \\r\\n\\t',\n        method, definition, prefix, prefix_i, block, results = [],\n        mode = 0, numParen = 0, quote, args;\n    var appendResult = function() {\n        if(method) {\n            if (definition.substr(0, 1) === '\"') {\n                definition = definition.substr(1, definition.length - 2);\n            }\n            if (definition) {\n                args.push(definition);\n            }\n            if (method.substr(0, 1) === '-' && (prefix_i = method.indexOf('-', 1 ) + 1) > 0) {\n                prefix = method.substr(0, prefix_i);\n                method = method.substr(prefix_i);\n            }\n            results.push({\n                prefix: prefix,\n                method: method.toLowerCase(),\n                value: block,\n                args: args,\n                image: null\n            });\n        }\n        args = [];\n        method = prefix = definition = block = '';\n    };\n    args = [];\n    method = prefix = definition = block = '';\n    backgroundImage.split(\"\").forEach(function(c) {\n        if (mode === 0 && whitespace.indexOf(c) > -1) {\n            return;\n        }\n        switch(c) {\n        case '\"':\n            if(!quote) {\n                quote = c;\n            } else if(quote === c) {\n                quote = null;\n            }\n            break;\n        case '(':\n            if(quote) {\n                break;\n            } else if(mode === 0) {\n                mode = 1;\n                block += c;\n                return;\n            } else {\n                numParen++;\n            }\n            break;\n        case ')':\n            if (quote) {\n                break;\n            } else if(mode === 1) {\n                if(numParen === 0) {\n                    mode = 0;\n                    block += c;\n                    appendResult();\n                    return;\n                } else {\n                    numParen--;\n                }\n            }\n            break;\n\n        case ',':\n            if (quote) {\n                break;\n            } else if(mode === 0) {\n                appendResult();\n                return;\n            } else if (mode === 1) {\n                if (numParen === 0 && !method.match(/^url$/i)) {\n                    args.push(definition);\n                    definition = '';\n                    block += c;\n                    return;\n                }\n            }\n            break;\n        }\n\n        block += c;\n        if (mode === 0) {\n            method += c;\n        } else {\n            definition += c;\n        }\n    });\n\n    appendResult();\n    return results;\n};\n\n},{}],27:[function(_dereq_,module,exports){\nvar GradientContainer = _dereq_('./gradientcontainer');\n\nfunction WebkitGradientContainer(imageData) {\n    GradientContainer.apply(this, arguments);\n    this.type = imageData.args[0] === \"linear\" ? GradientContainer.TYPES.LINEAR : GradientContainer.TYPES.RADIAL;\n}\n\nWebkitGradientContainer.prototype = Object.create(GradientContainer.prototype);\n\nmodule.exports = WebkitGradientContainer;\n\n},{\"./gradientcontainer\":9}],28:[function(_dereq_,module,exports){\nfunction XHR(url) {\n    return new Promise(function(resolve, reject) {\n        var xhr = new XMLHttpRequest();\n        xhr.open('GET', url);\n\n        xhr.onload = function() {\n            if (xhr.status === 200) {\n                resolve(xhr.responseText);\n            } else {\n                reject(new Error(xhr.statusText));\n            }\n        };\n\n        xhr.onerror = function() {\n            reject(new Error(\"Network Error\"));\n        };\n\n        xhr.send();\n    });\n}\n\nmodule.exports = XHR;\n\n},{}]},{},[4])(4)\n});","/*\n\tBased on rgbcolor.js by Stoyan Stefanov <sstoo@gmail.com>\n\thttp://www.phpied.com/rgb-color-parser-in-javascript/\n*/\n\nmodule.exports = function(color_string) {\n    this.ok = false;\n    this.alpha = 1.0;\n\n    // strip any leading #\n    if (color_string.charAt(0) == '#') { // remove # if any\n        color_string = color_string.substr(1,6);\n    }\n\n    color_string = color_string.replace(/ /g,'');\n    color_string = color_string.toLowerCase();\n\n    // before getting into regexps, try simple matches\n    // and overwrite the input\n    var simple_colors = {\n        aliceblue: 'f0f8ff',\n        antiquewhite: 'faebd7',\n        aqua: '00ffff',\n        aquamarine: '7fffd4',\n        azure: 'f0ffff',\n        beige: 'f5f5dc',\n        bisque: 'ffe4c4',\n        black: '000000',\n        blanchedalmond: 'ffebcd',\n        blue: '0000ff',\n        blueviolet: '8a2be2',\n        brown: 'a52a2a',\n        burlywood: 'deb887',\n        cadetblue: '5f9ea0',\n        chartreuse: '7fff00',\n        chocolate: 'd2691e',\n        coral: 'ff7f50',\n        cornflowerblue: '6495ed',\n        cornsilk: 'fff8dc',\n        crimson: 'dc143c',\n        cyan: '00ffff',\n        darkblue: '00008b',\n        darkcyan: '008b8b',\n        darkgoldenrod: 'b8860b',\n        darkgray: 'a9a9a9',\n        darkgreen: '006400',\n        darkkhaki: 'bdb76b',\n        darkmagenta: '8b008b',\n        darkolivegreen: '556b2f',\n        darkorange: 'ff8c00',\n        darkorchid: '9932cc',\n        darkred: '8b0000',\n        darksalmon: 'e9967a',\n        darkseagreen: '8fbc8f',\n        darkslateblue: '483d8b',\n        darkslategray: '2f4f4f',\n        darkturquoise: '00ced1',\n        darkviolet: '9400d3',\n        deeppink: 'ff1493',\n        deepskyblue: '00bfff',\n        dimgray: '696969',\n        dodgerblue: '1e90ff',\n        feldspar: 'd19275',\n        firebrick: 'b22222',\n        floralwhite: 'fffaf0',\n        forestgreen: '228b22',\n        fuchsia: 'ff00ff',\n        gainsboro: 'dcdcdc',\n        ghostwhite: 'f8f8ff',\n        gold: 'ffd700',\n        goldenrod: 'daa520',\n        gray: '808080',\n        green: '008000',\n        greenyellow: 'adff2f',\n        honeydew: 'f0fff0',\n        hotpink: 'ff69b4',\n        indianred : 'cd5c5c',\n        indigo : '4b0082',\n        ivory: 'fffff0',\n        khaki: 'f0e68c',\n        lavender: 'e6e6fa',\n        lavenderblush: 'fff0f5',\n        lawngreen: '7cfc00',\n        lemonchiffon: 'fffacd',\n        lightblue: 'add8e6',\n        lightcoral: 'f08080',\n        lightcyan: 'e0ffff',\n        lightgoldenrodyellow: 'fafad2',\n        lightgrey: 'd3d3d3',\n        lightgreen: '90ee90',\n        lightpink: 'ffb6c1',\n        lightsalmon: 'ffa07a',\n        lightseagreen: '20b2aa',\n        lightskyblue: '87cefa',\n        lightslateblue: '8470ff',\n        lightslategray: '778899',\n        lightsteelblue: 'b0c4de',\n        lightyellow: 'ffffe0',\n        lime: '00ff00',\n        limegreen: '32cd32',\n        linen: 'faf0e6',\n        magenta: 'ff00ff',\n        maroon: '800000',\n        mediumaquamarine: '66cdaa',\n        mediumblue: '0000cd',\n        mediumorchid: 'ba55d3',\n        mediumpurple: '9370d8',\n        mediumseagreen: '3cb371',\n        mediumslateblue: '7b68ee',\n        mediumspringgreen: '00fa9a',\n        mediumturquoise: '48d1cc',\n        mediumvioletred: 'c71585',\n        midnightblue: '191970',\n        mintcream: 'f5fffa',\n        mistyrose: 'ffe4e1',\n        moccasin: 'ffe4b5',\n        navajowhite: 'ffdead',\n        navy: '000080',\n        oldlace: 'fdf5e6',\n        olive: '808000',\n        olivedrab: '6b8e23',\n        orange: 'ffa500',\n        orangered: 'ff4500',\n        orchid: 'da70d6',\n        palegoldenrod: 'eee8aa',\n        palegreen: '98fb98',\n        paleturquoise: 'afeeee',\n        palevioletred: 'd87093',\n        papayawhip: 'ffefd5',\n        peachpuff: 'ffdab9',\n        peru: 'cd853f',\n        pink: 'ffc0cb',\n        plum: 'dda0dd',\n        powderblue: 'b0e0e6',\n        purple: '800080',\n        red: 'ff0000',\n        rosybrown: 'bc8f8f',\n        royalblue: '4169e1',\n        saddlebrown: '8b4513',\n        salmon: 'fa8072',\n        sandybrown: 'f4a460',\n        seagreen: '2e8b57',\n        seashell: 'fff5ee',\n        sienna: 'a0522d',\n        silver: 'c0c0c0',\n        skyblue: '87ceeb',\n        slateblue: '6a5acd',\n        slategray: '708090',\n        snow: 'fffafa',\n        springgreen: '00ff7f',\n        steelblue: '4682b4',\n        tan: 'd2b48c',\n        teal: '008080',\n        thistle: 'd8bfd8',\n        tomato: 'ff6347',\n        turquoise: '40e0d0',\n        violet: 'ee82ee',\n        violetred: 'd02090',\n        wheat: 'f5deb3',\n        white: 'ffffff',\n        whitesmoke: 'f5f5f5',\n        yellow: 'ffff00',\n        yellowgreen: '9acd32'\n    };\n    color_string = simple_colors[color_string] || color_string;\n    // emd of simple type-in colors\n\n    // array of color definition objects\n    var color_defs = [\n        {\n            re: /^rgba\\((\\d{1,3}),\\s*(\\d{1,3}),\\s*(\\d{1,3}),\\s*((?:\\d?\\.)?\\d)\\)$/,\n            example: ['rgba(123, 234, 45, 0.8)', 'rgba(255,234,245,1.0)'],\n            process: function (bits){\n                return [\n                    parseInt(bits[1]),\n                    parseInt(bits[2]),\n                    parseInt(bits[3]),\n                    parseFloat(bits[4])\n                ];\n            }\n        },\n        {\n            re: /^rgb\\((\\d{1,3}),\\s*(\\d{1,3}),\\s*(\\d{1,3})\\)$/,\n            example: ['rgb(123, 234, 45)', 'rgb(255,234,245)'],\n            process: function (bits){\n                return [\n                    parseInt(bits[1]),\n                    parseInt(bits[2]),\n                    parseInt(bits[3])\n                ];\n            }\n        },\n        {\n            re: /^(\\w{2})(\\w{2})(\\w{2})$/,\n            example: ['#00ff00', '336699'],\n            process: function (bits){\n                return [\n                    parseInt(bits[1], 16),\n                    parseInt(bits[2], 16),\n                    parseInt(bits[3], 16)\n                ];\n            }\n        },\n        {\n            re: /^(\\w{1})(\\w{1})(\\w{1})$/,\n            example: ['#fb0', 'f0f'],\n            process: function (bits){\n                return [\n                    parseInt(bits[1] + bits[1], 16),\n                    parseInt(bits[2] + bits[2], 16),\n                    parseInt(bits[3] + bits[3], 16)\n                ];\n            }\n        }\n    ];\n\n    // search through the definitions to find a match\n    for (var i = 0; i < color_defs.length; i++) {\n        var re = color_defs[i].re;\n        var processor = color_defs[i].process;\n        var bits = re.exec(color_string);\n        if (bits) {\n            var channels = processor(bits);\n            this.r = channels[0];\n            this.g = channels[1];\n            this.b = channels[2];\n            if (channels.length > 3) {\n                this.alpha = channels[3];\n            }\n            this.ok = true;\n        }\n\n    }\n\n    // validate/cleanup values\n    this.r = (this.r < 0 || isNaN(this.r)) ? 0 : ((this.r > 255) ? 255 : this.r);\n    this.g = (this.g < 0 || isNaN(this.g)) ? 0 : ((this.g > 255) ? 255 : this.g);\n    this.b = (this.b < 0 || isNaN(this.b)) ? 0 : ((this.b > 255) ? 255 : this.b);\n    this.alpha = (this.alpha < 0) ? 0 : ((this.alpha > 1.0 || isNaN(this.alpha)) ? 1.0 : this.alpha);\n\n    // some getters\n    this.toRGB = function () {\n        return 'rgb(' + this.r + ', ' + this.g + ', ' + this.b + ')';\n    }\n    this.toRGBA = function () {\n        return 'rgba(' + this.r + ', ' + this.g + ', ' + this.b + ', ' + this.alpha + ')';\n    }\n    this.toHex = function () {\n        var r = this.r.toString(16);\n        var g = this.g.toString(16);\n        var b = this.b.toString(16);\n        if (r.length == 1) r = '0' + r;\n        if (g.length == 1) g = '0' + g;\n        if (b.length == 1) b = '0' + b;\n        return '#' + r + g + b;\n    }\n\n    // help\n    this.getHelpXML = function () {\n\n        var examples = new Array();\n        // add regexps\n        for (var i = 0; i < color_defs.length; i++) {\n            var example = color_defs[i].example;\n            for (var j = 0; j < example.length; j++) {\n                examples[examples.length] = example[j];\n            }\n        }\n        // add type-in colors\n        for (var sc in simple_colors) {\n            examples[examples.length] = sc;\n        }\n\n        var xml = document.createElement('ul');\n        xml.setAttribute('id', 'rgbcolor-examples');\n        for (var i = 0; i < examples.length; i++) {\n            try {\n                var list_item = document.createElement('li');\n                var list_color = new RGBColor(examples[i]);\n                var example_div = document.createElement('div');\n                example_div.style.cssText =\n                        'margin: 3px; '\n                        + 'border: 1px solid black; '\n                        + 'background:' + list_color.toHex() + '; '\n                        + 'color:' + list_color.toHex()\n                ;\n                example_div.appendChild(document.createTextNode('test'));\n                var list_item_value = document.createTextNode(\n                    ' ' + examples[i] + ' -> ' + list_color.toRGB() + ' -> ' + list_color.toHex()\n                );\n                list_item.appendChild(example_div);\n                list_item.appendChild(list_item_value);\n                xml.appendChild(list_item);\n\n            } catch(e){}\n        }\n        return xml;\n\n    }\n\n}\n","/*\n\nStackBlur - a fast almost Gaussian Blur For Canvas\n\nVersion: \t0.5\nAuthor:\t\tMario Klingemann\nContact: \tmario@quasimondo.com\nWebsite:\thttp://www.quasimondo.com/StackBlurForCanvas\nTwitter:\t@quasimondo\n\nIn case you find this class useful - especially in commercial projects -\nI am not totally unhappy for a small donation to my PayPal account\nmario@quasimondo.de\n\nOr support me on flattr: \nhttps://flattr.com/thing/72791/StackBlur-a-fast-almost-Gaussian-Blur-Effect-for-CanvasJavascript\n\nCopyright (c) 2010 Mario Klingemann\n\nPermission is hereby granted, free of charge, to any person\nobtaining a copy of this software and associated documentation\nfiles (the \"Software\"), to deal in the Software without\nrestriction, including without limitation the rights to use,\ncopy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the\nSoftware is furnished to do so, subject to the following\nconditions:\n\nThe above copyright notice and this permission notice shall be\nincluded in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\nOF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\nNONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\nHOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\nWHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\nFROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\nOTHER DEALINGS IN THE SOFTWARE.\n*/\n\nvar mul_table = [\n        512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,\n        454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,\n        482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,\n        437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,\n        497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,\n        320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,\n        446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,\n        329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,\n        505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,\n        399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,\n        324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,\n        268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,\n        451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,\n        385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,\n        332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,\n        289,287,285,282,280,278,275,273,271,269,267,265,263,261,259];\n        \n   \nvar shg_table = [\n\t     9, 11, 12, 13, 13, 14, 14, 15, 15, 15, 15, 16, 16, 16, 16, 17, \n\t\t17, 17, 17, 17, 17, 17, 18, 18, 18, 18, 18, 18, 18, 18, 18, 19, \n\t\t19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 20, 20, 20,\n\t\t20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 21,\n\t\t21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21,\n\t\t21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 22, 22, 22, 22, 22, 22, \n\t\t22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22,\n\t\t22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 23, \n\t\t23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,\n\t\t23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,\n\t\t23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, \n\t\t23, 23, 23, 23, 23, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, \n\t\t24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n\t\t24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n\t\t24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n\t\t24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24 ];\n\nfunction blur( pixels, width, height, radius )\n{\n\tif ( isNaN(radius) || radius < 1 ) return;\n\tradius |= 0;\n\n\tvar x, y, i, p, yp, yi, yw, r_sum, g_sum, b_sum, a_sum, \n\tr_out_sum, g_out_sum, b_out_sum, a_out_sum,\n\tr_in_sum, g_in_sum, b_in_sum, a_in_sum, \n\tpr, pg, pb, pa, rbs;\n\t\t\t\n\tvar div = radius + radius + 1;\n\tvar w4 = width << 2;\n\tvar widthMinus1  = width - 1;\n\tvar heightMinus1 = height - 1;\n\tvar radiusPlus1  = radius + 1;\n\tvar sumFactor = radiusPlus1 * ( radiusPlus1 + 1 ) / 2;\n\t\n\tvar stackStart = new BlurStack();\n\tvar stack = stackStart;\n\tfor ( i = 1; i < div; i++ )\n\t{\n\t\tstack = stack.next = new BlurStack();\n\t\tif ( i == radiusPlus1 ) var stackEnd = stack;\n\t}\n\tstack.next = stackStart;\n\tvar stackIn = null;\n\tvar stackOut = null;\n\t\n\tyw = yi = 0;\n\t\n\tvar mul_sum = mul_table[radius];\n\tvar shg_sum = shg_table[radius];\n\t\n\tfor ( y = 0; y < height; y++ )\n\t{\n\t\tr_in_sum = g_in_sum = b_in_sum = a_in_sum = r_sum = g_sum = b_sum = a_sum = 0;\n\t\t\n\t\tr_out_sum = radiusPlus1 * ( pr = pixels[yi] );\n\t\tg_out_sum = radiusPlus1 * ( pg = pixels[yi+1] );\n\t\tb_out_sum = radiusPlus1 * ( pb = pixels[yi+2] );\n\t\ta_out_sum = radiusPlus1 * ( pa = pixels[yi+3] );\n\t\t\n\t\tr_sum += sumFactor * pr;\n\t\tg_sum += sumFactor * pg;\n\t\tb_sum += sumFactor * pb;\n\t\ta_sum += sumFactor * pa;\n\t\t\n\t\tstack = stackStart;\n\t\t\n\t\tfor( i = 0; i < radiusPlus1; i++ )\n\t\t{\n\t\t\tstack.r = pr;\n\t\t\tstack.g = pg;\n\t\t\tstack.b = pb;\n\t\t\tstack.a = pa;\n\t\t\tstack = stack.next;\n\t\t}\n\t\t\n\t\tfor( i = 1; i < radiusPlus1; i++ )\n\t\t{\n\t\t\tp = yi + (( widthMinus1 < i ? widthMinus1 : i ) << 2 );\n\t\t\tr_sum += ( stack.r = ( pr = pixels[p])) * ( rbs = radiusPlus1 - i );\n\t\t\tg_sum += ( stack.g = ( pg = pixels[p+1])) * rbs;\n\t\t\tb_sum += ( stack.b = ( pb = pixels[p+2])) * rbs;\n\t\t\ta_sum += ( stack.a = ( pa = pixels[p+3])) * rbs;\n\t\t\t\n\t\t\tr_in_sum += pr;\n\t\t\tg_in_sum += pg;\n\t\t\tb_in_sum += pb;\n\t\t\ta_in_sum += pa;\n\t\t\t\n\t\t\tstack = stack.next;\n\t\t}\n\t\t\n\t\t\n\t\tstackIn = stackStart;\n\t\tstackOut = stackEnd;\n\t\tfor ( x = 0; x < width; x++ )\n\t\t{\n\t\t\tpixels[yi+3] = pa = (a_sum * mul_sum) >> shg_sum;\n\t\t\tif ( pa != 0 )\n\t\t\t{\n\t\t\t\tpa = 255 / pa;\n\t\t\t\tpixels[yi]   = ((r_sum * mul_sum) >> shg_sum) * pa;\n\t\t\t\tpixels[yi+1] = ((g_sum * mul_sum) >> shg_sum) * pa;\n\t\t\t\tpixels[yi+2] = ((b_sum * mul_sum) >> shg_sum) * pa;\n\t\t\t} else {\n\t\t\t\tpixels[yi] = pixels[yi+1] = pixels[yi+2] = 0;\n\t\t\t}\n\t\t\t\n\t\t\tr_sum -= r_out_sum;\n\t\t\tg_sum -= g_out_sum;\n\t\t\tb_sum -= b_out_sum;\n\t\t\ta_sum -= a_out_sum;\n\t\t\t\n\t\t\tr_out_sum -= stackIn.r;\n\t\t\tg_out_sum -= stackIn.g;\n\t\t\tb_out_sum -= stackIn.b;\n\t\t\ta_out_sum -= stackIn.a;\n\t\t\t\n\t\t\tp =  ( yw + ( ( p = x + radius + 1 ) < widthMinus1 ? p : widthMinus1 ) ) << 2;\n\t\t\t\n\t\t\tr_in_sum += ( stackIn.r = pixels[p]);\n\t\t\tg_in_sum += ( stackIn.g = pixels[p+1]);\n\t\t\tb_in_sum += ( stackIn.b = pixels[p+2]);\n\t\t\ta_in_sum += ( stackIn.a = pixels[p+3]);\n\t\t\t\n\t\t\tr_sum += r_in_sum;\n\t\t\tg_sum += g_in_sum;\n\t\t\tb_sum += b_in_sum;\n\t\t\ta_sum += a_in_sum;\n\t\t\t\n\t\t\tstackIn = stackIn.next;\n\t\t\t\n\t\t\tr_out_sum += ( pr = stackOut.r );\n\t\t\tg_out_sum += ( pg = stackOut.g );\n\t\t\tb_out_sum += ( pb = stackOut.b );\n\t\t\ta_out_sum += ( pa = stackOut.a );\n\t\t\t\n\t\t\tr_in_sum -= pr;\n\t\t\tg_in_sum -= pg;\n\t\t\tb_in_sum -= pb;\n\t\t\ta_in_sum -= pa;\n\t\t\t\n\t\t\tstackOut = stackOut.next;\n\n\t\t\tyi += 4;\n\t\t}\n\t\tyw += width;\n\t}\n\n\t\n\tfor ( x = 0; x < width; x++ )\n\t{\n\t\tg_in_sum = b_in_sum = a_in_sum = r_in_sum = g_sum = b_sum = a_sum = r_sum = 0;\n\t\t\n\t\tyi = x << 2;\n\t\tr_out_sum = radiusPlus1 * ( pr = pixels[yi]);\n\t\tg_out_sum = radiusPlus1 * ( pg = pixels[yi+1]);\n\t\tb_out_sum = radiusPlus1 * ( pb = pixels[yi+2]);\n\t\ta_out_sum = radiusPlus1 * ( pa = pixels[yi+3]);\n\t\t\n\t\tr_sum += sumFactor * pr;\n\t\tg_sum += sumFactor * pg;\n\t\tb_sum += sumFactor * pb;\n\t\ta_sum += sumFactor * pa;\n\t\t\n\t\tstack = stackStart;\n\t\t\n\t\tfor( i = 0; i < radiusPlus1; i++ )\n\t\t{\n\t\t\tstack.r = pr;\n\t\t\tstack.g = pg;\n\t\t\tstack.b = pb;\n\t\t\tstack.a = pa;\n\t\t\tstack = stack.next;\n\t\t}\n\t\t\n\t\typ = width;\n\t\t\n\t\tfor( i = 1; i <= radius; i++ )\n\t\t{\n\t\t\tyi = ( yp + x ) << 2;\n\t\t\t\n\t\t\tr_sum += ( stack.r = ( pr = pixels[yi])) * ( rbs = radiusPlus1 - i );\n\t\t\tg_sum += ( stack.g = ( pg = pixels[yi+1])) * rbs;\n\t\t\tb_sum += ( stack.b = ( pb = pixels[yi+2])) * rbs;\n\t\t\ta_sum += ( stack.a = ( pa = pixels[yi+3])) * rbs;\n\t\t   \n\t\t\tr_in_sum += pr;\n\t\t\tg_in_sum += pg;\n\t\t\tb_in_sum += pb;\n\t\t\ta_in_sum += pa;\n\t\t\t\n\t\t\tstack = stack.next;\n\t\t\n\t\t\tif( i < heightMinus1 )\n\t\t\t{\n\t\t\t\typ += width;\n\t\t\t}\n\t\t}\n\t\t\n\t\tyi = x;\n\t\tstackIn = stackStart;\n\t\tstackOut = stackEnd;\n\t\tfor ( y = 0; y < height; y++ )\n\t\t{\n\t\t\tp = yi << 2;\n\t\t\tpixels[p+3] = pa = (a_sum * mul_sum) >> shg_sum;\n\t\t\tif ( pa > 0 )\n\t\t\t{\n\t\t\t\tpa = 255 / pa;\n\t\t\t\tpixels[p]   = ((r_sum * mul_sum) >> shg_sum ) * pa;\n\t\t\t\tpixels[p+1] = ((g_sum * mul_sum) >> shg_sum ) * pa;\n\t\t\t\tpixels[p+2] = ((b_sum * mul_sum) >> shg_sum ) * pa;\n\t\t\t} else {\n\t\t\t\tpixels[p] = pixels[p+1] = pixels[p+2] = 0;\n\t\t\t}\n\t\t\t\n\t\t\tr_sum -= r_out_sum;\n\t\t\tg_sum -= g_out_sum;\n\t\t\tb_sum -= b_out_sum;\n\t\t\ta_sum -= a_out_sum;\n\t\t   \n\t\t\tr_out_sum -= stackIn.r;\n\t\t\tg_out_sum -= stackIn.g;\n\t\t\tb_out_sum -= stackIn.b;\n\t\t\ta_out_sum -= stackIn.a;\n\t\t\t\n\t\t\tp = ( x + (( ( p = y + radiusPlus1) < heightMinus1 ? p : heightMinus1 ) * width )) << 2;\n\t\t\t\n\t\t\tr_sum += ( r_in_sum += ( stackIn.r = pixels[p]));\n\t\t\tg_sum += ( g_in_sum += ( stackIn.g = pixels[p+1]));\n\t\t\tb_sum += ( b_in_sum += ( stackIn.b = pixels[p+2]));\n\t\t\ta_sum += ( a_in_sum += ( stackIn.a = pixels[p+3]));\n\t\t   \n\t\t\tstackIn = stackIn.next;\n\t\t\t\n\t\t\tr_out_sum += ( pr = stackOut.r );\n\t\t\tg_out_sum += ( pg = stackOut.g );\n\t\t\tb_out_sum += ( pb = stackOut.b );\n\t\t\ta_out_sum += ( pa = stackOut.a );\n\t\t\t\n\t\t\tr_in_sum -= pr;\n\t\t\tg_in_sum -= pg;\n\t\t\tb_in_sum -= pb;\n\t\t\ta_in_sum -= pa;\n\t\t\t\n\t\t\tstackOut = stackOut.next;\n\t\t\t\n\t\t\tyi += width;\n\t\t}\n\t}\n}\n\nfunction BlurStack()\n{\n\tthis.r = 0;\n\tthis.g = 0;\n\tthis.b = 0;\n\tthis.a = 0;\n\tthis.next = null;\n}\n\nmodule.exports = blur;","//[4]   \tNameStartChar\t   ::=   \t\":\" | [A-Z] | \"_\" | [a-z] | [#xC0-#xD6] | [#xD8-#xF6] | [#xF8-#x2FF] | [#x370-#x37D] | [#x37F-#x1FFF] | [#x200C-#x200D] | [#x2070-#x218F] | [#x2C00-#x2FEF] | [#x3001-#xD7FF] | [#xF900-#xFDCF] | [#xFDF0-#xFFFD] | [#x10000-#xEFFFF]\r\n//[4a]   \tNameChar\t   ::=   \tNameStartChar | \"-\" | \".\" | [0-9] | #xB7 | [#x0300-#x036F] | [#x203F-#x2040]\r\n//[5]   \tName\t   ::=   \tNameStartChar (NameChar)*\r\nvar nameStartChar = /[A-Z_a-z\\xC0-\\xD6\\xD8-\\xF6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]///\\u10000-\\uEFFFF\r\nvar nameChar = new RegExp(\"[\\\\-\\\\.0-9\"+nameStartChar.source.slice(1,-1)+\"\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040]\");\r\nvar tagNamePattern = new RegExp('^'+nameStartChar.source+nameChar.source+'*(?:\\:'+nameStartChar.source+nameChar.source+'*)?$');\r\n//var tagNamePattern = /^[a-zA-Z_][\\w\\-\\.]*(?:\\:[a-zA-Z_][\\w\\-\\.]*)?$/\r\n//var handlers = 'resolveEntity,getExternalSubset,characters,endDocument,endElement,endPrefixMapping,ignorableWhitespace,processingInstruction,setDocumentLocator,skippedEntity,startDocument,startElement,startPrefixMapping,notationDecl,unparsedEntityDecl,error,fatalError,warning,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,comment,endCDATA,endDTD,endEntity,startCDATA,startDTD,startEntity'.split(',')\r\n\r\n//S_TAG,\tS_ATTR,\tS_EQ,\tS_ATTR_NOQUOT_VALUE\r\n//S_ATTR_SPACE,\tS_ATTR_END,\tS_TAG_SPACE, S_TAG_CLOSE\r\nvar S_TAG = 0;//tag name offerring\r\nvar S_ATTR = 1;//attr name offerring \r\nvar S_ATTR_SPACE=2;//attr name end and space offer\r\nvar S_EQ = 3;//=space?\r\nvar S_ATTR_NOQUOT_VALUE = 4;//attr value(no quot value only)\r\nvar S_ATTR_END = 5;//attr value end and no space(quot end)\r\nvar S_TAG_SPACE = 6;//(attr value end || tag end ) && (space offer)\r\nvar S_TAG_CLOSE = 7;//closed el<el />\r\n\r\nfunction XMLReader(){\r\n\t\r\n}\r\n\r\nXMLReader.prototype = {\r\n\tparse:function(source,defaultNSMap,entityMap){\r\n\t\tvar domBuilder = this.domBuilder;\r\n\t\tdomBuilder.startDocument();\r\n\t\t_copy(defaultNSMap ,defaultNSMap = {})\r\n\t\tparse(source,defaultNSMap,entityMap,\r\n\t\t\t\tdomBuilder,this.errorHandler);\r\n\t\tdomBuilder.endDocument();\r\n\t}\r\n}\r\nfunction parse(source,defaultNSMapCopy,entityMap,domBuilder,errorHandler){\r\n\tfunction fixedFromCharCode(code) {\r\n\t\t// String.prototype.fromCharCode does not supports\r\n\t\t// > 2 bytes unicode chars directly\r\n\t\tif (code > 0xffff) {\r\n\t\t\tcode -= 0x10000;\r\n\t\t\tvar surrogate1 = 0xd800 + (code >> 10)\r\n\t\t\t\t, surrogate2 = 0xdc00 + (code & 0x3ff);\r\n\r\n\t\t\treturn String.fromCharCode(surrogate1, surrogate2);\r\n\t\t} else {\r\n\t\t\treturn String.fromCharCode(code);\r\n\t\t}\r\n\t}\r\n\tfunction entityReplacer(a){\r\n\t\tvar k = a.slice(1,-1);\r\n\t\tif(k in entityMap){\r\n\t\t\treturn entityMap[k]; \r\n\t\t}else if(k.charAt(0) === '#'){\r\n\t\t\treturn fixedFromCharCode(parseInt(k.substr(1).replace('x','0x')))\r\n\t\t}else{\r\n\t\t\terrorHandler.error('entity not found:'+a);\r\n\t\t\treturn a;\r\n\t\t}\r\n\t}\r\n\tfunction appendText(end){//has some bugs\r\n\t\tif(end>start){\r\n\t\t\tvar xt = source.substring(start,end).replace(/&#?\\w+;/g,entityReplacer);\r\n\t\t\tlocator&&position(start);\r\n\t\t\tdomBuilder.characters(xt,0,end-start);\r\n\t\t\tstart = end\r\n\t\t}\r\n\t}\r\n\tfunction position(p,m){\r\n\t\twhile(p>=lineEnd && (m = linePattern.exec(source))){\r\n\t\t\tlineStart = m.index;\r\n\t\t\tlineEnd = lineStart + m[0].length;\r\n\t\t\tlocator.lineNumber++;\r\n\t\t\t//console.log('line++:',locator,startPos,endPos)\r\n\t\t}\r\n\t\tlocator.columnNumber = p-lineStart+1;\r\n\t}\r\n\tvar lineStart = 0;\r\n\tvar lineEnd = 0;\r\n\tvar linePattern = /.*(?:\\r\\n?|\\n)|.*$/g\r\n\tvar locator = domBuilder.locator;\r\n\t\r\n\tvar parseStack = [{currentNSMap:defaultNSMapCopy}]\r\n\tvar closeMap = {};\r\n\tvar start = 0;\r\n\twhile(true){\r\n\t\ttry{\r\n\t\t\tvar tagStart = source.indexOf('<',start);\r\n\t\t\tif(tagStart<0){\r\n\t\t\t\tif(!source.substr(start).match(/^\\s*$/)){\r\n\t\t\t\t\tvar doc = domBuilder.doc;\r\n\t    \t\t\tvar text = doc.createTextNode(source.substr(start));\r\n\t    \t\t\tdoc.appendChild(text);\r\n\t    \t\t\tdomBuilder.currentElement = text;\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(tagStart>start){\r\n\t\t\t\tappendText(tagStart);\r\n\t\t\t}\r\n\t\t\tswitch(source.charAt(tagStart+1)){\r\n\t\t\tcase '/':\r\n\t\t\t\tvar end = source.indexOf('>',tagStart+3);\r\n\t\t\t\tvar tagName = source.substring(tagStart+2,end);\r\n\t\t\t\tvar config = parseStack.pop();\r\n\t\t\t\tif(end<0){\r\n\t\t\t\t\t\r\n\t        \t\ttagName = source.substring(tagStart+2).replace(/[\\s<].*/,'');\r\n\t        \t\t//console.error('#@@@@@@'+tagName)\r\n\t        \t\terrorHandler.error(\"end tag name: \"+tagName+' is not complete:'+config.tagName);\r\n\t        \t\tend = tagStart+1+tagName.length;\r\n\t        \t}else if(tagName.match(/\\s</)){\r\n\t        \t\ttagName = tagName.replace(/[\\s<].*/,'');\r\n\t        \t\terrorHandler.error(\"end tag name: \"+tagName+' maybe not complete');\r\n\t        \t\tend = tagStart+1+tagName.length;\r\n\t\t\t\t}\r\n\t\t\t\t//console.error(parseStack.length,parseStack)\r\n\t\t\t\t//console.error(config);\r\n\t\t\t\tvar localNSMap = config.localNSMap;\r\n\t\t\t\tvar endMatch = config.tagName == tagName;\r\n\t\t\t\tvar endIgnoreCaseMach = endMatch || config.tagName&&config.tagName.toLowerCase() == tagName.toLowerCase()\r\n\t\t        if(endIgnoreCaseMach){\r\n\t\t        \tdomBuilder.endElement(config.uri,config.localName,tagName);\r\n\t\t\t\t\tif(localNSMap){\r\n\t\t\t\t\t\tfor(var prefix in localNSMap){\r\n\t\t\t\t\t\t\tdomBuilder.endPrefixMapping(prefix) ;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(!endMatch){\r\n\t\t            \terrorHandler.fatalError(\"end tag name: \"+tagName+' is not match the current start tagName:'+config.tagName );\r\n\t\t\t\t\t}\r\n\t\t        }else{\r\n\t\t        \tparseStack.push(config)\r\n\t\t        }\r\n\t\t\t\t\r\n\t\t\t\tend++;\r\n\t\t\t\tbreak;\r\n\t\t\t\t// end elment\r\n\t\t\tcase '?':// <?...?>\r\n\t\t\t\tlocator&&position(tagStart);\r\n\t\t\t\tend = parseInstruction(source,tagStart,domBuilder);\r\n\t\t\t\tbreak;\r\n\t\t\tcase '!':// <!doctype,<![CDATA,<!--\r\n\t\t\t\tlocator&&position(tagStart);\r\n\t\t\t\tend = parseDCC(source,tagStart,domBuilder,errorHandler);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tlocator&&position(tagStart);\r\n\t\t\t\tvar el = new ElementAttributes();\r\n\t\t\t\tvar currentNSMap = parseStack[parseStack.length-1].currentNSMap;\r\n\t\t\t\t//elStartEnd\r\n\t\t\t\tvar end = parseElementStartPart(source,tagStart,el,currentNSMap,entityReplacer,errorHandler);\r\n\t\t\t\tvar len = el.length;\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tif(!el.closed && fixSelfClosed(source,end,el.tagName,closeMap)){\r\n\t\t\t\t\tel.closed = true;\r\n\t\t\t\t\tif(!entityMap.nbsp){\r\n\t\t\t\t\t\terrorHandler.warning('unclosed xml attribute');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(locator && len){\r\n\t\t\t\t\tvar locator2 = copyLocator(locator,{});\r\n\t\t\t\t\t//try{//attribute position fixed\r\n\t\t\t\t\tfor(var i = 0;i<len;i++){\r\n\t\t\t\t\t\tvar a = el[i];\r\n\t\t\t\t\t\tposition(a.offset);\r\n\t\t\t\t\t\ta.locator = copyLocator(locator,{});\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//}catch(e){console.error('@@@@@'+e)}\r\n\t\t\t\t\tdomBuilder.locator = locator2\r\n\t\t\t\t\tif(appendElement(el,domBuilder,currentNSMap)){\r\n\t\t\t\t\t\tparseStack.push(el)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdomBuilder.locator = locator;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tif(appendElement(el,domBuilder,currentNSMap)){\r\n\t\t\t\t\t\tparseStack.push(el)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tif(el.uri === 'http://www.w3.org/1999/xhtml' && !el.closed){\r\n\t\t\t\t\tend = parseHtmlSpecialContent(source,end,el.tagName,entityReplacer,domBuilder)\r\n\t\t\t\t}else{\r\n\t\t\t\t\tend++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}catch(e){\r\n\t\t\terrorHandler.error('element parse error: '+e)\r\n\t\t\t//errorHandler.error('element parse error: '+e);\r\n\t\t\tend = -1;\r\n\t\t\t//throw e;\r\n\t\t}\r\n\t\tif(end>start){\r\n\t\t\tstart = end;\r\n\t\t}else{\r\n\t\t\t//TODO: 这里有可能sax回退，有位置错误风险\r\n\t\t\tappendText(Math.max(tagStart,start)+1);\r\n\t\t}\r\n\t}\r\n}\r\nfunction copyLocator(f,t){\r\n\tt.lineNumber = f.lineNumber;\r\n\tt.columnNumber = f.columnNumber;\r\n\treturn t;\r\n}\r\n\r\n/**\r\n * @see #appendElement(source,elStartEnd,el,selfClosed,entityReplacer,domBuilder,parseStack);\r\n * @return end of the elementStartPart(end of elementEndPart for selfClosed el)\r\n */\r\nfunction parseElementStartPart(source,start,el,currentNSMap,entityReplacer,errorHandler){\r\n\tvar attrName;\r\n\tvar value;\r\n\tvar p = ++start;\r\n\tvar s = S_TAG;//status\r\n\twhile(true){\r\n\t\tvar c = source.charAt(p);\r\n\t\tswitch(c){\r\n\t\tcase '=':\r\n\t\t\tif(s === S_ATTR){//attrName\r\n\t\t\t\tattrName = source.slice(start,p);\r\n\t\t\t\ts = S_EQ;\r\n\t\t\t}else if(s === S_ATTR_SPACE){\r\n\t\t\t\ts = S_EQ;\r\n\t\t\t}else{\r\n\t\t\t\t//fatalError: equal must after attrName or space after attrName\r\n\t\t\t\tthrow new Error('attribute equal must after attrName');\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase '\\'':\r\n\t\tcase '\"':\r\n\t\t\tif(s === S_EQ || s === S_ATTR //|| s == S_ATTR_SPACE\r\n\t\t\t\t){//equal\r\n\t\t\t\tif(s === S_ATTR){\r\n\t\t\t\t\terrorHandler.warning('attribute value must after \"=\"')\r\n\t\t\t\t\tattrName = source.slice(start,p)\r\n\t\t\t\t}\r\n\t\t\t\tstart = p+1;\r\n\t\t\t\tp = source.indexOf(c,start)\r\n\t\t\t\tif(p>0){\r\n\t\t\t\t\tvalue = source.slice(start,p).replace(/&#?\\w+;/g,entityReplacer);\r\n\t\t\t\t\tel.add(attrName,value,start-1);\r\n\t\t\t\t\ts = S_ATTR_END;\r\n\t\t\t\t}else{\r\n\t\t\t\t\t//fatalError: no end quot match\r\n\t\t\t\t\tthrow new Error('attribute value no end \\''+c+'\\' match');\r\n\t\t\t\t}\r\n\t\t\t}else if(s == S_ATTR_NOQUOT_VALUE){\r\n\t\t\t\tvalue = source.slice(start,p).replace(/&#?\\w+;/g,entityReplacer);\r\n\t\t\t\t//console.log(attrName,value,start,p)\r\n\t\t\t\tel.add(attrName,value,start);\r\n\t\t\t\t//console.dir(el)\r\n\t\t\t\terrorHandler.warning('attribute \"'+attrName+'\" missed start quot('+c+')!!');\r\n\t\t\t\tstart = p+1;\r\n\t\t\t\ts = S_ATTR_END\r\n\t\t\t}else{\r\n\t\t\t\t//fatalError: no equal before\r\n\t\t\t\tthrow new Error('attribute value must after \"=\"');\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase '/':\r\n\t\t\tswitch(s){\r\n\t\t\tcase S_TAG:\r\n\t\t\t\tel.setTagName(source.slice(start,p));\r\n\t\t\tcase S_ATTR_END:\r\n\t\t\tcase S_TAG_SPACE:\r\n\t\t\tcase S_TAG_CLOSE:\r\n\t\t\t\ts =S_TAG_CLOSE;\r\n\t\t\t\tel.closed = true;\r\n\t\t\tcase S_ATTR_NOQUOT_VALUE:\r\n\t\t\tcase S_ATTR:\r\n\t\t\tcase S_ATTR_SPACE:\r\n\t\t\t\tbreak;\r\n\t\t\t//case S_EQ:\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new Error(\"attribute invalid close char('/')\")\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase ''://end document\r\n\t\t\t//throw new Error('unexpected end of input')\r\n\t\t\terrorHandler.error('unexpected end of input');\r\n\t\t\tif(s == S_TAG){\r\n\t\t\t\tel.setTagName(source.slice(start,p));\r\n\t\t\t}\r\n\t\t\treturn p;\r\n\t\tcase '>':\r\n\t\t\tswitch(s){\r\n\t\t\tcase S_TAG:\r\n\t\t\t\tel.setTagName(source.slice(start,p));\r\n\t\t\tcase S_ATTR_END:\r\n\t\t\tcase S_TAG_SPACE:\r\n\t\t\tcase S_TAG_CLOSE:\r\n\t\t\t\tbreak;//normal\r\n\t\t\tcase S_ATTR_NOQUOT_VALUE://Compatible state\r\n\t\t\tcase S_ATTR:\r\n\t\t\t\tvalue = source.slice(start,p);\r\n\t\t\t\tif(value.slice(-1) === '/'){\r\n\t\t\t\t\tel.closed  = true;\r\n\t\t\t\t\tvalue = value.slice(0,-1)\r\n\t\t\t\t}\r\n\t\t\tcase S_ATTR_SPACE:\r\n\t\t\t\tif(s === S_ATTR_SPACE){\r\n\t\t\t\t\tvalue = attrName;\r\n\t\t\t\t}\r\n\t\t\t\tif(s == S_ATTR_NOQUOT_VALUE){\r\n\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed quot(\")!!');\r\n\t\t\t\t\tel.add(attrName,value.replace(/&#?\\w+;/g,entityReplacer),start)\r\n\t\t\t\t}else{\r\n\t\t\t\t\tif(currentNSMap[''] !== 'http://www.w3.org/1999/xhtml' || !value.match(/^(?:disabled|checked|selected)$/i)){\r\n\t\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed value!! \"'+value+'\" instead!!')\r\n\t\t\t\t\t}\r\n\t\t\t\t\tel.add(value,value,start)\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase S_EQ:\r\n\t\t\t\tthrow new Error('attribute value missed!!');\r\n\t\t\t}\r\n//\t\t\tconsole.log(tagName,tagNamePattern,tagNamePattern.test(tagName))\r\n\t\t\treturn p;\r\n\t\t/*xml space '\\x20' | #x9 | #xD | #xA; */\r\n\t\tcase '\\u0080':\r\n\t\t\tc = ' ';\r\n\t\tdefault:\r\n\t\t\tif(c<= ' '){//space\r\n\t\t\t\tswitch(s){\r\n\t\t\t\tcase S_TAG:\r\n\t\t\t\t\tel.setTagName(source.slice(start,p));//tagName\r\n\t\t\t\t\ts = S_TAG_SPACE;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase S_ATTR:\r\n\t\t\t\t\tattrName = source.slice(start,p)\r\n\t\t\t\t\ts = S_ATTR_SPACE;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase S_ATTR_NOQUOT_VALUE:\r\n\t\t\t\t\tvar value = source.slice(start,p).replace(/&#?\\w+;/g,entityReplacer);\r\n\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed quot(\")!!');\r\n\t\t\t\t\tel.add(attrName,value,start)\r\n\t\t\t\tcase S_ATTR_END:\r\n\t\t\t\t\ts = S_TAG_SPACE;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t//case S_TAG_SPACE:\r\n\t\t\t\t//case S_EQ:\r\n\t\t\t\t//case S_ATTR_SPACE:\r\n\t\t\t\t//\tvoid();break;\r\n\t\t\t\t//case S_TAG_CLOSE:\r\n\t\t\t\t\t//ignore warning\r\n\t\t\t\t}\r\n\t\t\t}else{//not space\r\n//S_TAG,\tS_ATTR,\tS_EQ,\tS_ATTR_NOQUOT_VALUE\r\n//S_ATTR_SPACE,\tS_ATTR_END,\tS_TAG_SPACE, S_TAG_CLOSE\r\n\t\t\t\tswitch(s){\r\n\t\t\t\t//case S_TAG:void();break;\r\n\t\t\t\t//case S_ATTR:void();break;\r\n\t\t\t\t//case S_ATTR_NOQUOT_VALUE:void();break;\r\n\t\t\t\tcase S_ATTR_SPACE:\r\n\t\t\t\t\tvar tagName =  el.tagName;\r\n\t\t\t\t\tif(currentNSMap[''] !== 'http://www.w3.org/1999/xhtml' || !attrName.match(/^(?:disabled|checked|selected)$/i)){\r\n\t\t\t\t\t\terrorHandler.warning('attribute \"'+attrName+'\" missed value!! \"'+attrName+'\" instead2!!')\r\n\t\t\t\t\t}\r\n\t\t\t\t\tel.add(attrName,attrName,start);\r\n\t\t\t\t\tstart = p;\r\n\t\t\t\t\ts = S_ATTR;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase S_ATTR_END:\r\n\t\t\t\t\terrorHandler.warning('attribute space is required\"'+attrName+'\"!!')\r\n\t\t\t\tcase S_TAG_SPACE:\r\n\t\t\t\t\ts = S_ATTR;\r\n\t\t\t\t\tstart = p;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase S_EQ:\r\n\t\t\t\t\ts = S_ATTR_NOQUOT_VALUE;\r\n\t\t\t\t\tstart = p;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase S_TAG_CLOSE:\r\n\t\t\t\t\tthrow new Error(\"elements closed character '/' and '>' must be connected to\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}//end outer switch\r\n\t\t//console.log('p++',p)\r\n\t\tp++;\r\n\t}\r\n}\r\n/**\r\n * @return true if has new namespace define\r\n */\r\nfunction appendElement(el,domBuilder,currentNSMap){\r\n\tvar tagName = el.tagName;\r\n\tvar localNSMap = null;\r\n\t//var currentNSMap = parseStack[parseStack.length-1].currentNSMap;\r\n\tvar i = el.length;\r\n\twhile(i--){\r\n\t\tvar a = el[i];\r\n\t\tvar qName = a.qName;\r\n\t\tvar value = a.value;\r\n\t\tvar nsp = qName.indexOf(':');\r\n\t\tif(nsp>0){\r\n\t\t\tvar prefix = a.prefix = qName.slice(0,nsp);\r\n\t\t\tvar localName = qName.slice(nsp+1);\r\n\t\t\tvar nsPrefix = prefix === 'xmlns' && localName\r\n\t\t}else{\r\n\t\t\tlocalName = qName;\r\n\t\t\tprefix = null\r\n\t\t\tnsPrefix = qName === 'xmlns' && ''\r\n\t\t}\r\n\t\t//can not set prefix,because prefix !== ''\r\n\t\ta.localName = localName ;\r\n\t\t//prefix == null for no ns prefix attribute \r\n\t\tif(nsPrefix !== false){//hack!!\r\n\t\t\tif(localNSMap == null){\r\n\t\t\t\tlocalNSMap = {}\r\n\t\t\t\t//console.log(currentNSMap,0)\r\n\t\t\t\t_copy(currentNSMap,currentNSMap={})\r\n\t\t\t\t//console.log(currentNSMap,1)\r\n\t\t\t}\r\n\t\t\tcurrentNSMap[nsPrefix] = localNSMap[nsPrefix] = value;\r\n\t\t\ta.uri = 'http://www.w3.org/2000/xmlns/'\r\n\t\t\tdomBuilder.startPrefixMapping(nsPrefix, value) \r\n\t\t}\r\n\t}\r\n\tvar i = el.length;\r\n\twhile(i--){\r\n\t\ta = el[i];\r\n\t\tvar prefix = a.prefix;\r\n\t\tif(prefix){//no prefix attribute has no namespace\r\n\t\t\tif(prefix === 'xml'){\r\n\t\t\t\ta.uri = 'http://www.w3.org/XML/1998/namespace';\r\n\t\t\t}if(prefix !== 'xmlns'){\r\n\t\t\t\ta.uri = currentNSMap[prefix || '']\r\n\t\t\t\t\r\n\t\t\t\t//{console.log('###'+a.qName,domBuilder.locator.systemId+'',currentNSMap,a.uri)}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tvar nsp = tagName.indexOf(':');\r\n\tif(nsp>0){\r\n\t\tprefix = el.prefix = tagName.slice(0,nsp);\r\n\t\tlocalName = el.localName = tagName.slice(nsp+1);\r\n\t}else{\r\n\t\tprefix = null;//important!!\r\n\t\tlocalName = el.localName = tagName;\r\n\t}\r\n\t//no prefix element has default namespace\r\n\tvar ns = el.uri = currentNSMap[prefix || ''];\r\n\tdomBuilder.startElement(ns,localName,tagName,el);\r\n\t//endPrefixMapping and startPrefixMapping have not any help for dom builder\r\n\t//localNSMap = null\r\n\tif(el.closed){\r\n\t\tdomBuilder.endElement(ns,localName,tagName);\r\n\t\tif(localNSMap){\r\n\t\t\tfor(prefix in localNSMap){\r\n\t\t\t\tdomBuilder.endPrefixMapping(prefix) \r\n\t\t\t}\r\n\t\t}\r\n\t}else{\r\n\t\tel.currentNSMap = currentNSMap;\r\n\t\tel.localNSMap = localNSMap;\r\n\t\t//parseStack.push(el);\r\n\t\treturn true;\r\n\t}\r\n}\r\nfunction parseHtmlSpecialContent(source,elStartEnd,tagName,entityReplacer,domBuilder){\r\n\tif(/^(?:script|textarea)$/i.test(tagName)){\r\n\t\tvar elEndStart =  source.indexOf('</'+tagName+'>',elStartEnd);\r\n\t\tvar text = source.substring(elStartEnd+1,elEndStart);\r\n\t\tif(/[&<]/.test(text)){\r\n\t\t\tif(/^script$/i.test(tagName)){\r\n\t\t\t\t//if(!/\\]\\]>/.test(text)){\r\n\t\t\t\t\t//lexHandler.startCDATA();\r\n\t\t\t\t\tdomBuilder.characters(text,0,text.length);\r\n\t\t\t\t\t//lexHandler.endCDATA();\r\n\t\t\t\t\treturn elEndStart;\r\n\t\t\t\t//}\r\n\t\t\t}//}else{//text area\r\n\t\t\t\ttext = text.replace(/&#?\\w+;/g,entityReplacer);\r\n\t\t\t\tdomBuilder.characters(text,0,text.length);\r\n\t\t\t\treturn elEndStart;\r\n\t\t\t//}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\treturn elStartEnd+1;\r\n}\r\nfunction fixSelfClosed(source,elStartEnd,tagName,closeMap){\r\n\t//if(tagName in closeMap){\r\n\tvar pos = closeMap[tagName];\r\n\tif(pos == null){\r\n\t\t//console.log(tagName)\r\n\t\tpos =  source.lastIndexOf('</'+tagName+'>')\r\n\t\tif(pos<elStartEnd){//忘记闭合\r\n\t\t\tpos = source.lastIndexOf('</'+tagName)\r\n\t\t}\r\n\t\tcloseMap[tagName] =pos\r\n\t}\r\n\treturn pos<elStartEnd;\r\n\t//} \r\n}\r\nfunction _copy(source,target){\r\n\tfor(var n in source){target[n] = source[n]}\r\n}\r\nfunction parseDCC(source,start,domBuilder,errorHandler){//sure start with '<!'\r\n\tvar next= source.charAt(start+2)\r\n\tswitch(next){\r\n\tcase '-':\r\n\t\tif(source.charAt(start + 3) === '-'){\r\n\t\t\tvar end = source.indexOf('-->',start+4);\r\n\t\t\t//append comment source.substring(4,end)//<!--\r\n\t\t\tif(end>start){\r\n\t\t\t\tdomBuilder.comment(source,start+4,end-start-4);\r\n\t\t\t\treturn end+3;\r\n\t\t\t}else{\r\n\t\t\t\terrorHandler.error(\"Unclosed comment\");\r\n\t\t\t\treturn -1;\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\t//error\r\n\t\t\treturn -1;\r\n\t\t}\r\n\tdefault:\r\n\t\tif(source.substr(start+3,6) == 'CDATA['){\r\n\t\t\tvar end = source.indexOf(']]>',start+9);\r\n\t\t\tdomBuilder.startCDATA();\r\n\t\t\tdomBuilder.characters(source,start+9,end-start-9);\r\n\t\t\tdomBuilder.endCDATA() \r\n\t\t\treturn end+3;\r\n\t\t}\r\n\t\t//<!DOCTYPE\r\n\t\t//startDTD(java.lang.String name, java.lang.String publicId, java.lang.String systemId) \r\n\t\tvar matchs = split(source,start);\r\n\t\tvar len = matchs.length;\r\n\t\tif(len>1 && /!doctype/i.test(matchs[0][0])){\r\n\t\t\tvar name = matchs[1][0];\r\n\t\t\tvar pubid = len>3 && /^public$/i.test(matchs[2][0]) && matchs[3][0]\r\n\t\t\tvar sysid = len>4 && matchs[4][0];\r\n\t\t\tvar lastMatch = matchs[len-1]\r\n\t\t\tdomBuilder.startDTD(name,pubid && pubid.replace(/^(['\"])(.*?)\\1$/,'$2'),\r\n\t\t\t\t\tsysid && sysid.replace(/^(['\"])(.*?)\\1$/,'$2'));\r\n\t\t\tdomBuilder.endDTD();\r\n\t\t\t\r\n\t\t\treturn lastMatch.index+lastMatch[0].length\r\n\t\t}\r\n\t}\r\n\treturn -1;\r\n}\r\n\r\n\r\n\r\nfunction parseInstruction(source,start,domBuilder){\r\n\tvar end = source.indexOf('?>',start);\r\n\tif(end){\r\n\t\tvar match = source.substring(start,end).match(/^<\\?(\\S*)\\s*([\\s\\S]*?)\\s*$/);\r\n\t\tif(match){\r\n\t\t\tvar len = match[0].length;\r\n\t\t\tdomBuilder.processingInstruction(match[1], match[2]) ;\r\n\t\t\treturn end+2;\r\n\t\t}else{//error\r\n\t\t\treturn -1;\r\n\t\t}\r\n\t}\r\n\treturn -1;\r\n}\r\n\r\n/**\r\n * @param source\r\n */\r\nfunction ElementAttributes(source){\r\n\t\r\n}\r\nElementAttributes.prototype = {\r\n\tsetTagName:function(tagName){\r\n\t\tif(!tagNamePattern.test(tagName)){\r\n\t\t\tthrow new Error('invalid tagName:'+tagName)\r\n\t\t}\r\n\t\tthis.tagName = tagName\r\n\t},\r\n\tadd:function(qName,value,offset){\r\n\t\tif(!tagNamePattern.test(qName)){\r\n\t\t\tthrow new Error('invalid attribute:'+qName)\r\n\t\t}\r\n\t\tthis[this.length++] = {qName:qName,value:value,offset:offset}\r\n\t},\r\n\tlength:0,\r\n\tgetLocalName:function(i){return this[i].localName},\r\n\tgetLocator:function(i){return this[i].locator},\r\n\tgetQName:function(i){return this[i].qName},\r\n\tgetURI:function(i){return this[i].uri},\r\n\tgetValue:function(i){return this[i].value}\r\n//\t,getIndex:function(uri, localName)){\r\n//\t\tif(localName){\r\n//\t\t\t\r\n//\t\t}else{\r\n//\t\t\tvar qName = uri\r\n//\t\t}\r\n//\t},\r\n//\tgetValue:function(){return this.getValue(this.getIndex.apply(this,arguments))},\r\n//\tgetType:function(uri,localName){}\r\n//\tgetType:function(i){},\r\n}\r\n\r\n\r\n\r\n\r\nfunction _set_proto_(thiz,parent){\r\n\tthiz.__proto__ = parent;\r\n\treturn thiz;\r\n}\r\nif(!(_set_proto_({},_set_proto_.prototype) instanceof _set_proto_)){\r\n\t_set_proto_ = function(thiz,parent){\r\n\t\tfunction p(){};\r\n\t\tp.prototype = parent;\r\n\t\tp = new p();\r\n\t\tfor(parent in thiz){\r\n\t\t\tp[parent] = thiz[parent];\r\n\t\t}\r\n\t\treturn p;\r\n\t}\r\n}\r\n\r\nfunction split(source,start){\r\n\tvar match;\r\n\tvar buf = [];\r\n\tvar reg = /'[^']+'|\"[^\"]+\"|[^\\s<>\\/=]+=?|(\\/?\\s*>|<)/g;\r\n\treg.lastIndex = start;\r\n\treg.exec(source);//skip <\r\n\twhile(match = reg.exec(source)){\r\n\t\tbuf.push(match);\r\n\t\tif(match[1])return buf;\r\n\t}\r\n}\r\n\r\nexports.XMLReader = XMLReader;\r\n\r\n","/*\n * DOM Level 2\n * Object DOMException\n * @see http://www.w3.org/TR/REC-DOM-Level-1/ecma-script-language-binding.html\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/ecma-script-binding.html\n */\n\nfunction copy(src,dest){\n\tfor(var p in src){\n\t\tdest[p] = src[p];\n\t}\n}\n/**\n^\\w+\\.prototype\\.([_\\w]+)\\s*=\\s*((?:.*\\{\\s*?[\\r\\n][\\s\\S]*?^})|\\S.*?(?=[;\\r\\n]));?\n^\\w+\\.prototype\\.([_\\w]+)\\s*=\\s*(\\S.*?(?=[;\\r\\n]));?\n */\nfunction _extends(Class,Super){\n\tvar pt = Class.prototype;\n\tif(Object.create){\n\t\tvar ppt = Object.create(Super.prototype)\n\t\tpt.__proto__ = ppt;\n\t}\n\tif(!(pt instanceof Super)){\n\t\tfunction t(){};\n\t\tt.prototype = Super.prototype;\n\t\tt = new t();\n\t\tcopy(pt,t);\n\t\tClass.prototype = pt = t;\n\t}\n\tif(pt.constructor != Class){\n\t\tif(typeof Class != 'function'){\n\t\t\tconsole.error(\"unknow Class:\"+Class)\n\t\t}\n\t\tpt.constructor = Class\n\t}\n}\nvar htmlns = 'http://www.w3.org/1999/xhtml' ;\n// Node Types\nvar NodeType = {}\nvar ELEMENT_NODE                = NodeType.ELEMENT_NODE                = 1;\nvar ATTRIBUTE_NODE              = NodeType.ATTRIBUTE_NODE              = 2;\nvar TEXT_NODE                   = NodeType.TEXT_NODE                   = 3;\nvar CDATA_SECTION_NODE          = NodeType.CDATA_SECTION_NODE          = 4;\nvar ENTITY_REFERENCE_NODE       = NodeType.ENTITY_REFERENCE_NODE       = 5;\nvar ENTITY_NODE                 = NodeType.ENTITY_NODE                 = 6;\nvar PROCESSING_INSTRUCTION_NODE = NodeType.PROCESSING_INSTRUCTION_NODE = 7;\nvar COMMENT_NODE                = NodeType.COMMENT_NODE                = 8;\nvar DOCUMENT_NODE               = NodeType.DOCUMENT_NODE               = 9;\nvar DOCUMENT_TYPE_NODE          = NodeType.DOCUMENT_TYPE_NODE          = 10;\nvar DOCUMENT_FRAGMENT_NODE      = NodeType.DOCUMENT_FRAGMENT_NODE      = 11;\nvar NOTATION_NODE               = NodeType.NOTATION_NODE               = 12;\n\n// ExceptionCode\nvar ExceptionCode = {}\nvar ExceptionMessage = {};\nvar INDEX_SIZE_ERR              = ExceptionCode.INDEX_SIZE_ERR              = ((ExceptionMessage[1]=\"Index size error\"),1);\nvar DOMSTRING_SIZE_ERR          = ExceptionCode.DOMSTRING_SIZE_ERR          = ((ExceptionMessage[2]=\"DOMString size error\"),2);\nvar HIERARCHY_REQUEST_ERR       = ExceptionCode.HIERARCHY_REQUEST_ERR       = ((ExceptionMessage[3]=\"Hierarchy request error\"),3);\nvar WRONG_DOCUMENT_ERR          = ExceptionCode.WRONG_DOCUMENT_ERR          = ((ExceptionMessage[4]=\"Wrong document\"),4);\nvar INVALID_CHARACTER_ERR       = ExceptionCode.INVALID_CHARACTER_ERR       = ((ExceptionMessage[5]=\"Invalid character\"),5);\nvar NO_DATA_ALLOWED_ERR         = ExceptionCode.NO_DATA_ALLOWED_ERR         = ((ExceptionMessage[6]=\"No data allowed\"),6);\nvar NO_MODIFICATION_ALLOWED_ERR = ExceptionCode.NO_MODIFICATION_ALLOWED_ERR = ((ExceptionMessage[7]=\"No modification allowed\"),7);\nvar NOT_FOUND_ERR               = ExceptionCode.NOT_FOUND_ERR               = ((ExceptionMessage[8]=\"Not found\"),8);\nvar NOT_SUPPORTED_ERR           = ExceptionCode.NOT_SUPPORTED_ERR           = ((ExceptionMessage[9]=\"Not supported\"),9);\nvar INUSE_ATTRIBUTE_ERR         = ExceptionCode.INUSE_ATTRIBUTE_ERR         = ((ExceptionMessage[10]=\"Attribute in use\"),10);\n//level2\nvar INVALID_STATE_ERR        \t= ExceptionCode.INVALID_STATE_ERR        \t= ((ExceptionMessage[11]=\"Invalid state\"),11);\nvar SYNTAX_ERR               \t= ExceptionCode.SYNTAX_ERR               \t= ((ExceptionMessage[12]=\"Syntax error\"),12);\nvar INVALID_MODIFICATION_ERR \t= ExceptionCode.INVALID_MODIFICATION_ERR \t= ((ExceptionMessage[13]=\"Invalid modification\"),13);\nvar NAMESPACE_ERR            \t= ExceptionCode.NAMESPACE_ERR           \t= ((ExceptionMessage[14]=\"Invalid namespace\"),14);\nvar INVALID_ACCESS_ERR       \t= ExceptionCode.INVALID_ACCESS_ERR      \t= ((ExceptionMessage[15]=\"Invalid access\"),15);\n\n\nfunction DOMException(code, message) {\n\tif(message instanceof Error){\n\t\tvar error = message;\n\t}else{\n\t\terror = this;\n\t\tError.call(this, ExceptionMessage[code]);\n\t\tthis.message = ExceptionMessage[code];\n\t\tif(Error.captureStackTrace) Error.captureStackTrace(this, DOMException);\n\t}\n\terror.code = code;\n\tif(message) this.message = this.message + \": \" + message;\n\treturn error;\n};\nDOMException.prototype = Error.prototype;\ncopy(ExceptionCode,DOMException)\n/**\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#ID-536297177\n * The NodeList interface provides the abstraction of an ordered collection of nodes, without defining or constraining how this collection is implemented. NodeList objects in the DOM are live.\n * The items in the NodeList are accessible via an integral index, starting from 0.\n */\nfunction NodeList() {\n};\nNodeList.prototype = {\n\t/**\n\t * The number of nodes in the list. The range of valid child node indices is 0 to length-1 inclusive.\n\t * @standard level1\n\t */\n\tlength:0, \n\t/**\n\t * Returns the indexth item in the collection. If index is greater than or equal to the number of nodes in the list, this returns null.\n\t * @standard level1\n\t * @param index  unsigned long \n\t *   Index into the collection.\n\t * @return Node\n\t * \tThe node at the indexth position in the NodeList, or null if that is not a valid index. \n\t */\n\titem: function(index) {\n\t\treturn this[index] || null;\n\t},\n\ttoString:function(isHTML,nodeFilter){\n\t\tfor(var buf = [], i = 0;i<this.length;i++){\n\t\t\tserializeToString(this[i],buf,isHTML,nodeFilter);\n\t\t}\n\t\treturn buf.join('');\n\t}\n};\nfunction LiveNodeList(node,refresh){\n\tthis._node = node;\n\tthis._refresh = refresh\n\t_updateLiveList(this);\n}\nfunction _updateLiveList(list){\n\tvar inc = list._node._inc || list._node.ownerDocument._inc;\n\tif(list._inc != inc){\n\t\tvar ls = list._refresh(list._node);\n\t\t//console.log(ls.length)\n\t\t__set__(list,'length',ls.length);\n\t\tcopy(ls,list);\n\t\tlist._inc = inc;\n\t}\n}\nLiveNodeList.prototype.item = function(i){\n\t_updateLiveList(this);\n\treturn this[i];\n}\n\n_extends(LiveNodeList,NodeList);\n/**\n * \n * Objects implementing the NamedNodeMap interface are used to represent collections of nodes that can be accessed by name. Note that NamedNodeMap does not inherit from NodeList; NamedNodeMaps are not maintained in any particular order. Objects contained in an object implementing NamedNodeMap may also be accessed by an ordinal index, but this is simply to allow convenient enumeration of the contents of a NamedNodeMap, and does not imply that the DOM specifies an order to these Nodes.\n * NamedNodeMap objects in the DOM are live.\n * used for attributes or DocumentType entities \n */\nfunction NamedNodeMap() {\n};\n\nfunction _findNodeIndex(list,node){\n\tvar i = list.length;\n\twhile(i--){\n\t\tif(list[i] === node){return i}\n\t}\n}\n\nfunction _addNamedNode(el,list,newAttr,oldAttr){\n\tif(oldAttr){\n\t\tlist[_findNodeIndex(list,oldAttr)] = newAttr;\n\t}else{\n\t\tlist[list.length++] = newAttr;\n\t}\n\tif(el){\n\t\tnewAttr.ownerElement = el;\n\t\tvar doc = el.ownerDocument;\n\t\tif(doc){\n\t\t\toldAttr && _onRemoveAttribute(doc,el,oldAttr);\n\t\t\t_onAddAttribute(doc,el,newAttr);\n\t\t}\n\t}\n}\nfunction _removeNamedNode(el,list,attr){\n\t//console.log('remove attr:'+attr)\n\tvar i = _findNodeIndex(list,attr);\n\tif(i>=0){\n\t\tvar lastIndex = list.length-1\n\t\twhile(i<lastIndex){\n\t\t\tlist[i] = list[++i]\n\t\t}\n\t\tlist.length = lastIndex;\n\t\tif(el){\n\t\t\tvar doc = el.ownerDocument;\n\t\t\tif(doc){\n\t\t\t\t_onRemoveAttribute(doc,el,attr);\n\t\t\t\tattr.ownerElement = null;\n\t\t\t}\n\t\t}\n\t}else{\n\t\tthrow DOMException(NOT_FOUND_ERR,new Error(el.tagName+'@'+attr))\n\t}\n}\nNamedNodeMap.prototype = {\n\tlength:0,\n\titem:NodeList.prototype.item,\n\tgetNamedItem: function(key) {\n//\t\tif(key.indexOf(':')>0 || key == 'xmlns'){\n//\t\t\treturn null;\n//\t\t}\n\t\t//console.log()\n\t\tvar i = this.length;\n\t\twhile(i--){\n\t\t\tvar attr = this[i];\n\t\t\t//console.log(attr.nodeName,key)\n\t\t\tif(attr.nodeName == key){\n\t\t\t\treturn attr;\n\t\t\t}\n\t\t}\n\t},\n\tsetNamedItem: function(attr) {\n\t\tvar el = attr.ownerElement;\n\t\tif(el && el!=this._ownerElement){\n\t\t\tthrow new DOMException(INUSE_ATTRIBUTE_ERR);\n\t\t}\n\t\tvar oldAttr = this.getNamedItem(attr.nodeName);\n\t\t_addNamedNode(this._ownerElement,this,attr,oldAttr);\n\t\treturn oldAttr;\n\t},\n\t/* returns Node */\n\tsetNamedItemNS: function(attr) {// raises: WRONG_DOCUMENT_ERR,NO_MODIFICATION_ALLOWED_ERR,INUSE_ATTRIBUTE_ERR\n\t\tvar el = attr.ownerElement, oldAttr;\n\t\tif(el && el!=this._ownerElement){\n\t\t\tthrow new DOMException(INUSE_ATTRIBUTE_ERR);\n\t\t}\n\t\toldAttr = this.getNamedItemNS(attr.namespaceURI,attr.localName);\n\t\t_addNamedNode(this._ownerElement,this,attr,oldAttr);\n\t\treturn oldAttr;\n\t},\n\n\t/* returns Node */\n\tremoveNamedItem: function(key) {\n\t\tvar attr = this.getNamedItem(key);\n\t\t_removeNamedNode(this._ownerElement,this,attr);\n\t\treturn attr;\n\t\t\n\t\t\n\t},// raises: NOT_FOUND_ERR,NO_MODIFICATION_ALLOWED_ERR\n\t\n\t//for level2\n\tremoveNamedItemNS:function(namespaceURI,localName){\n\t\tvar attr = this.getNamedItemNS(namespaceURI,localName);\n\t\t_removeNamedNode(this._ownerElement,this,attr);\n\t\treturn attr;\n\t},\n\tgetNamedItemNS: function(namespaceURI, localName) {\n\t\tvar i = this.length;\n\t\twhile(i--){\n\t\t\tvar node = this[i];\n\t\t\tif(node.localName == localName && node.namespaceURI == namespaceURI){\n\t\t\t\treturn node;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n};\n/**\n * @see http://www.w3.org/TR/REC-DOM-Level-1/level-one-core.html#ID-102161490\n */\nfunction DOMImplementation(/* Object */ features) {\n\tthis._features = {};\n\tif (features) {\n\t\tfor (var feature in features) {\n\t\t\t this._features = features[feature];\n\t\t}\n\t}\n};\n\nDOMImplementation.prototype = {\n\thasFeature: function(/* string */ feature, /* string */ version) {\n\t\tvar versions = this._features[feature.toLowerCase()];\n\t\tif (versions && (!version || version in versions)) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t},\n\t// Introduced in DOM Level 2:\n\tcreateDocument:function(namespaceURI,  qualifiedName, doctype){// raises:INVALID_CHARACTER_ERR,NAMESPACE_ERR,WRONG_DOCUMENT_ERR\n\t\tvar doc = new Document();\n\t\tdoc.implementation = this;\n\t\tdoc.childNodes = new NodeList();\n\t\tdoc.doctype = doctype;\n\t\tif(doctype){\n\t\t\tdoc.appendChild(doctype);\n\t\t}\n\t\tif(qualifiedName){\n\t\t\tvar root = doc.createElementNS(namespaceURI,qualifiedName);\n\t\t\tdoc.appendChild(root);\n\t\t}\n\t\treturn doc;\n\t},\n\t// Introduced in DOM Level 2:\n\tcreateDocumentType:function(qualifiedName, publicId, systemId){// raises:INVALID_CHARACTER_ERR,NAMESPACE_ERR\n\t\tvar node = new DocumentType();\n\t\tnode.name = qualifiedName;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.publicId = publicId;\n\t\tnode.systemId = systemId;\n\t\t// Introduced in DOM Level 2:\n\t\t//readonly attribute DOMString        internalSubset;\n\t\t\n\t\t//TODO:..\n\t\t//  readonly attribute NamedNodeMap     entities;\n\t\t//  readonly attribute NamedNodeMap     notations;\n\t\treturn node;\n\t}\n};\n\n\n/**\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#ID-1950641247\n */\n\nfunction Node() {\n};\n\nNode.prototype = {\n\tfirstChild : null,\n\tlastChild : null,\n\tpreviousSibling : null,\n\tnextSibling : null,\n\tattributes : null,\n\tparentNode : null,\n\tchildNodes : null,\n\townerDocument : null,\n\tnodeValue : null,\n\tnamespaceURI : null,\n\tprefix : null,\n\tlocalName : null,\n\t// Modified in DOM Level 2:\n\tinsertBefore:function(newChild, refChild){//raises \n\t\treturn _insertBefore(this,newChild,refChild);\n\t},\n\treplaceChild:function(newChild, oldChild){//raises \n\t\tthis.insertBefore(newChild,oldChild);\n\t\tif(oldChild){\n\t\t\tthis.removeChild(oldChild);\n\t\t}\n\t},\n\tremoveChild:function(oldChild){\n\t\treturn _removeChild(this,oldChild);\n\t},\n\tappendChild:function(newChild){\n\t\treturn this.insertBefore(newChild,null);\n\t},\n\thasChildNodes:function(){\n\t\treturn this.firstChild != null;\n\t},\n\tcloneNode:function(deep){\n\t\treturn cloneNode(this.ownerDocument||this,this,deep);\n\t},\n\t// Modified in DOM Level 2:\n\tnormalize:function(){\n\t\tvar child = this.firstChild;\n\t\twhile(child){\n\t\t\tvar next = child.nextSibling;\n\t\t\tif(next && next.nodeType == TEXT_NODE && child.nodeType == TEXT_NODE){\n\t\t\t\tthis.removeChild(next);\n\t\t\t\tchild.appendData(next.data);\n\t\t\t}else{\n\t\t\t\tchild.normalize();\n\t\t\t\tchild = next;\n\t\t\t}\n\t\t}\n\t},\n  \t// Introduced in DOM Level 2:\n\tisSupported:function(feature, version){\n\t\treturn this.ownerDocument.implementation.hasFeature(feature,version);\n\t},\n    // Introduced in DOM Level 2:\n    hasAttributes:function(){\n    \treturn this.attributes.length>0;\n    },\n    lookupPrefix:function(namespaceURI){\n    \tvar el = this;\n    \twhile(el){\n    \t\tvar map = el._nsMap;\n    \t\t//console.dir(map)\n    \t\tif(map){\n    \t\t\tfor(var n in map){\n    \t\t\t\tif(map[n] == namespaceURI){\n    \t\t\t\t\treturn n;\n    \t\t\t\t}\n    \t\t\t}\n    \t\t}\n    \t\tel = el.nodeType == ATTRIBUTE_NODE?el.ownerDocument : el.parentNode;\n    \t}\n    \treturn null;\n    },\n    // Introduced in DOM Level 3:\n    lookupNamespaceURI:function(prefix){\n    \tvar el = this;\n    \twhile(el){\n    \t\tvar map = el._nsMap;\n    \t\t//console.dir(map)\n    \t\tif(map){\n    \t\t\tif(prefix in map){\n    \t\t\t\treturn map[prefix] ;\n    \t\t\t}\n    \t\t}\n    \t\tel = el.nodeType == ATTRIBUTE_NODE?el.ownerDocument : el.parentNode;\n    \t}\n    \treturn null;\n    },\n    // Introduced in DOM Level 3:\n    isDefaultNamespace:function(namespaceURI){\n    \tvar prefix = this.lookupPrefix(namespaceURI);\n    \treturn prefix == null;\n    }\n};\n\n\nfunction _xmlEncoder(c){\n\treturn c == '<' && '&lt;' ||\n         c == '>' && '&gt;' ||\n         c == '&' && '&amp;' ||\n         c == '\"' && '&quot;' ||\n         '&#'+c.charCodeAt()+';'\n}\n\n\ncopy(NodeType,Node);\ncopy(NodeType,Node.prototype);\n\n/**\n * @param callback return true for continue,false for break\n * @return boolean true: break visit;\n */\nfunction _visitNode(node,callback){\n\tif(callback(node)){\n\t\treturn true;\n\t}\n\tif(node = node.firstChild){\n\t\tdo{\n\t\t\tif(_visitNode(node,callback)){return true}\n        }while(node=node.nextSibling)\n    }\n}\n\n\n\nfunction Document(){\n}\nfunction _onAddAttribute(doc,el,newAttr){\n\tdoc && doc._inc++;\n\tvar ns = newAttr.namespaceURI ;\n\tif(ns == 'http://www.w3.org/2000/xmlns/'){\n\t\t//update namespace\n\t\tel._nsMap[newAttr.prefix?newAttr.localName:''] = newAttr.value\n\t}\n}\nfunction _onRemoveAttribute(doc,el,newAttr,remove){\n\tdoc && doc._inc++;\n\tvar ns = newAttr.namespaceURI ;\n\tif(ns == 'http://www.w3.org/2000/xmlns/'){\n\t\t//update namespace\n\t\tdelete el._nsMap[newAttr.prefix?newAttr.localName:'']\n\t}\n}\nfunction _onUpdateChild(doc,el,newChild){\n\tif(doc && doc._inc){\n\t\tdoc._inc++;\n\t\t//update childNodes\n\t\tvar cs = el.childNodes;\n\t\tif(newChild){\n\t\t\tcs[cs.length++] = newChild;\n\t\t}else{\n\t\t\t//console.log(1)\n\t\t\tvar child = el.firstChild;\n\t\t\tvar i = 0;\n\t\t\twhile(child){\n\t\t\t\tcs[i++] = child;\n\t\t\t\tchild =child.nextSibling;\n\t\t\t}\n\t\t\tcs.length = i;\n\t\t}\n\t}\n}\n\n/**\n * attributes;\n * children;\n * \n * writeable properties:\n * nodeValue,Attr:value,CharacterData:data\n * prefix\n */\nfunction _removeChild(parentNode,child){\n\tvar previous = child.previousSibling;\n\tvar next = child.nextSibling;\n\tif(previous){\n\t\tprevious.nextSibling = next;\n\t}else{\n\t\tparentNode.firstChild = next\n\t}\n\tif(next){\n\t\tnext.previousSibling = previous;\n\t}else{\n\t\tparentNode.lastChild = previous;\n\t}\n\t_onUpdateChild(parentNode.ownerDocument,parentNode);\n\treturn child;\n}\n/**\n * preformance key(refChild == null)\n */\nfunction _insertBefore(parentNode,newChild,nextChild){\n\tvar cp = newChild.parentNode;\n\tif(cp){\n\t\tcp.removeChild(newChild);//remove and update\n\t}\n\tif(newChild.nodeType === DOCUMENT_FRAGMENT_NODE){\n\t\tvar newFirst = newChild.firstChild;\n\t\tif (newFirst == null) {\n\t\t\treturn newChild;\n\t\t}\n\t\tvar newLast = newChild.lastChild;\n\t}else{\n\t\tnewFirst = newLast = newChild;\n\t}\n\tvar pre = nextChild ? nextChild.previousSibling : parentNode.lastChild;\n\n\tnewFirst.previousSibling = pre;\n\tnewLast.nextSibling = nextChild;\n\t\n\t\n\tif(pre){\n\t\tpre.nextSibling = newFirst;\n\t}else{\n\t\tparentNode.firstChild = newFirst;\n\t}\n\tif(nextChild == null){\n\t\tparentNode.lastChild = newLast;\n\t}else{\n\t\tnextChild.previousSibling = newLast;\n\t}\n\tdo{\n\t\tnewFirst.parentNode = parentNode;\n\t}while(newFirst !== newLast && (newFirst= newFirst.nextSibling))\n\t_onUpdateChild(parentNode.ownerDocument||parentNode,parentNode);\n\t//console.log(parentNode.lastChild.nextSibling == null)\n\tif (newChild.nodeType == DOCUMENT_FRAGMENT_NODE) {\n\t\tnewChild.firstChild = newChild.lastChild = null;\n\t}\n\treturn newChild;\n}\nfunction _appendSingleChild(parentNode,newChild){\n\tvar cp = newChild.parentNode;\n\tif(cp){\n\t\tvar pre = parentNode.lastChild;\n\t\tcp.removeChild(newChild);//remove and update\n\t\tvar pre = parentNode.lastChild;\n\t}\n\tvar pre = parentNode.lastChild;\n\tnewChild.parentNode = parentNode;\n\tnewChild.previousSibling = pre;\n\tnewChild.nextSibling = null;\n\tif(pre){\n\t\tpre.nextSibling = newChild;\n\t}else{\n\t\tparentNode.firstChild = newChild;\n\t}\n\tparentNode.lastChild = newChild;\n\t_onUpdateChild(parentNode.ownerDocument,parentNode,newChild);\n\treturn newChild;\n\t//console.log(\"__aa\",parentNode.lastChild.nextSibling == null)\n}\nDocument.prototype = {\n\t//implementation : null,\n\tnodeName :  '#document',\n\tnodeType :  DOCUMENT_NODE,\n\tdoctype :  null,\n\tdocumentElement :  null,\n\t_inc : 1,\n\t\n\tinsertBefore :  function(newChild, refChild){//raises \n\t\tif(newChild.nodeType == DOCUMENT_FRAGMENT_NODE){\n\t\t\tvar child = newChild.firstChild;\n\t\t\twhile(child){\n\t\t\t\tvar next = child.nextSibling;\n\t\t\t\tthis.insertBefore(child,refChild);\n\t\t\t\tchild = next;\n\t\t\t}\n\t\t\treturn newChild;\n\t\t}\n\t\tif(this.documentElement == null && newChild.nodeType == ELEMENT_NODE){\n\t\t\tthis.documentElement = newChild;\n\t\t}\n\t\t\n\t\treturn _insertBefore(this,newChild,refChild),(newChild.ownerDocument = this),newChild;\n\t},\n\tremoveChild :  function(oldChild){\n\t\tif(this.documentElement == oldChild){\n\t\t\tthis.documentElement = null;\n\t\t}\n\t\treturn _removeChild(this,oldChild);\n\t},\n\t// Introduced in DOM Level 2:\n\timportNode : function(importedNode,deep){\n\t\treturn importNode(this,importedNode,deep);\n\t},\n\t// Introduced in DOM Level 2:\n\tgetElementById :\tfunction(id){\n\t\tvar rtv = null;\n\t\t_visitNode(this.documentElement,function(node){\n\t\t\tif(node.nodeType == ELEMENT_NODE){\n\t\t\t\tif(node.getAttribute('id') == id){\n\t\t\t\t\trtv = node;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\treturn rtv;\n\t},\n\t\n\t//document factory method:\n\tcreateElement :\tfunction(tagName){\n\t\tvar node = new Element();\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = tagName;\n\t\tnode.tagName = tagName;\n\t\tnode.childNodes = new NodeList();\n\t\tvar attrs\t= node.attributes = new NamedNodeMap();\n\t\tattrs._ownerElement = node;\n\t\treturn node;\n\t},\n\tcreateDocumentFragment :\tfunction(){\n\t\tvar node = new DocumentFragment();\n\t\tnode.ownerDocument = this;\n\t\tnode.childNodes = new NodeList();\n\t\treturn node;\n\t},\n\tcreateTextNode :\tfunction(data){\n\t\tvar node = new Text();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data)\n\t\treturn node;\n\t},\n\tcreateComment :\tfunction(data){\n\t\tvar node = new Comment();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data)\n\t\treturn node;\n\t},\n\tcreateCDATASection :\tfunction(data){\n\t\tvar node = new CDATASection();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data)\n\t\treturn node;\n\t},\n\tcreateProcessingInstruction :\tfunction(target,data){\n\t\tvar node = new ProcessingInstruction();\n\t\tnode.ownerDocument = this;\n\t\tnode.tagName = node.target = target;\n\t\tnode.nodeValue= node.data = data;\n\t\treturn node;\n\t},\n\tcreateAttribute :\tfunction(name){\n\t\tvar node = new Attr();\n\t\tnode.ownerDocument\t= this;\n\t\tnode.name = name;\n\t\tnode.nodeName\t= name;\n\t\tnode.localName = name;\n\t\tnode.specified = true;\n\t\treturn node;\n\t},\n\tcreateEntityReference :\tfunction(name){\n\t\tvar node = new EntityReference();\n\t\tnode.ownerDocument\t= this;\n\t\tnode.nodeName\t= name;\n\t\treturn node;\n\t},\n\t// Introduced in DOM Level 2:\n\tcreateElementNS :\tfunction(namespaceURI,qualifiedName){\n\t\tvar node = new Element();\n\t\tvar pl = qualifiedName.split(':');\n\t\tvar attrs\t= node.attributes = new NamedNodeMap();\n\t\tnode.childNodes = new NodeList();\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.tagName = qualifiedName;\n\t\tnode.namespaceURI = namespaceURI;\n\t\tif(pl.length == 2){\n\t\t\tnode.prefix = pl[0];\n\t\t\tnode.localName = pl[1];\n\t\t}else{\n\t\t\t//el.prefix = null;\n\t\t\tnode.localName = qualifiedName;\n\t\t}\n\t\tattrs._ownerElement = node;\n\t\treturn node;\n\t},\n\t// Introduced in DOM Level 2:\n\tcreateAttributeNS :\tfunction(namespaceURI,qualifiedName){\n\t\tvar node = new Attr();\n\t\tvar pl = qualifiedName.split(':');\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.name = qualifiedName;\n\t\tnode.namespaceURI = namespaceURI;\n\t\tnode.specified = true;\n\t\tif(pl.length == 2){\n\t\t\tnode.prefix = pl[0];\n\t\t\tnode.localName = pl[1];\n\t\t}else{\n\t\t\t//el.prefix = null;\n\t\t\tnode.localName = qualifiedName;\n\t\t}\n\t\treturn node;\n\t}\n};\n_extends(Document,Node);\n\n\nfunction Element() {\n\tthis._nsMap = {};\n};\nElement.prototype = {\n\tnodeType : ELEMENT_NODE,\n\thasAttribute : function(name){\n\t\treturn this.getAttributeNode(name)!=null;\n\t},\n\tgetAttribute : function(name){\n\t\tvar attr = this.getAttributeNode(name);\n\t\treturn attr && attr.value || '';\n\t},\n\tgetAttributeNode : function(name){\n\t\treturn this.attributes.getNamedItem(name);\n\t},\n\tsetAttribute : function(name, value){\n\t\tvar attr = this.ownerDocument.createAttribute(name);\n\t\tattr.value = attr.nodeValue = \"\" + value;\n\t\tthis.setAttributeNode(attr)\n\t},\n\tremoveAttribute : function(name){\n\t\tvar attr = this.getAttributeNode(name)\n\t\tattr && this.removeAttributeNode(attr);\n\t},\n\t\n\t//four real opeartion method\n\tappendChild:function(newChild){\n\t\tif(newChild.nodeType === DOCUMENT_FRAGMENT_NODE){\n\t\t\treturn this.insertBefore(newChild,null);\n\t\t}else{\n\t\t\treturn _appendSingleChild(this,newChild);\n\t\t}\n\t},\n\tsetAttributeNode : function(newAttr){\n\t\treturn this.attributes.setNamedItem(newAttr);\n\t},\n\tsetAttributeNodeNS : function(newAttr){\n\t\treturn this.attributes.setNamedItemNS(newAttr);\n\t},\n\tremoveAttributeNode : function(oldAttr){\n\t\t//console.log(this == oldAttr.ownerElement)\n\t\treturn this.attributes.removeNamedItem(oldAttr.nodeName);\n\t},\n\t//get real attribute name,and remove it by removeAttributeNode\n\tremoveAttributeNS : function(namespaceURI, localName){\n\t\tvar old = this.getAttributeNodeNS(namespaceURI, localName);\n\t\told && this.removeAttributeNode(old);\n\t},\n\t\n\thasAttributeNS : function(namespaceURI, localName){\n\t\treturn this.getAttributeNodeNS(namespaceURI, localName)!=null;\n\t},\n\tgetAttributeNS : function(namespaceURI, localName){\n\t\tvar attr = this.getAttributeNodeNS(namespaceURI, localName);\n\t\treturn attr && attr.value || '';\n\t},\n\tsetAttributeNS : function(namespaceURI, qualifiedName, value){\n\t\tvar attr = this.ownerDocument.createAttributeNS(namespaceURI, qualifiedName);\n\t\tattr.value = attr.nodeValue = \"\" + value;\n\t\tthis.setAttributeNode(attr)\n\t},\n\tgetAttributeNodeNS : function(namespaceURI, localName){\n\t\treturn this.attributes.getNamedItemNS(namespaceURI, localName);\n\t},\n\t\n\tgetElementsByTagName : function(tagName){\n\t\treturn new LiveNodeList(this,function(base){\n\t\t\tvar ls = [];\n\t\t\t_visitNode(base,function(node){\n\t\t\t\tif(node !== base && node.nodeType == ELEMENT_NODE && (tagName === '*' || node.tagName == tagName)){\n\t\t\t\t\tls.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn ls;\n\t\t});\n\t},\n\tgetElementsByTagNameNS : function(namespaceURI, localName){\n\t\treturn new LiveNodeList(this,function(base){\n\t\t\tvar ls = [];\n\t\t\t_visitNode(base,function(node){\n\t\t\t\tif(node !== base && node.nodeType === ELEMENT_NODE && (namespaceURI === '*' || node.namespaceURI === namespaceURI) && (localName === '*' || node.localName == localName)){\n\t\t\t\t\tls.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn ls;\n\t\t\t\n\t\t});\n\t}\n};\nDocument.prototype.getElementsByTagName = Element.prototype.getElementsByTagName;\nDocument.prototype.getElementsByTagNameNS = Element.prototype.getElementsByTagNameNS;\n\n\n_extends(Element,Node);\nfunction Attr() {\n};\nAttr.prototype.nodeType = ATTRIBUTE_NODE;\n_extends(Attr,Node);\n\n\nfunction CharacterData() {\n};\nCharacterData.prototype = {\n\tdata : '',\n\tsubstringData : function(offset, count) {\n\t\treturn this.data.substring(offset, offset+count);\n\t},\n\tappendData: function(text) {\n\t\ttext = this.data+text;\n\t\tthis.nodeValue = this.data = text;\n\t\tthis.length = text.length;\n\t},\n\tinsertData: function(offset,text) {\n\t\tthis.replaceData(offset,0,text);\n\t\n\t},\n\tappendChild:function(newChild){\n\t\tthrow new Error(ExceptionMessage[HIERARCHY_REQUEST_ERR])\n\t},\n\tdeleteData: function(offset, count) {\n\t\tthis.replaceData(offset,count,\"\");\n\t},\n\treplaceData: function(offset, count, text) {\n\t\tvar start = this.data.substring(0,offset);\n\t\tvar end = this.data.substring(offset+count);\n\t\ttext = start + text + end;\n\t\tthis.nodeValue = this.data = text;\n\t\tthis.length = text.length;\n\t}\n}\n_extends(CharacterData,Node);\nfunction Text() {\n};\nText.prototype = {\n\tnodeName : \"#text\",\n\tnodeType : TEXT_NODE,\n\tsplitText : function(offset) {\n\t\tvar text = this.data;\n\t\tvar newText = text.substring(offset);\n\t\ttext = text.substring(0, offset);\n\t\tthis.data = this.nodeValue = text;\n\t\tthis.length = text.length;\n\t\tvar newNode = this.ownerDocument.createTextNode(newText);\n\t\tif(this.parentNode){\n\t\t\tthis.parentNode.insertBefore(newNode, this.nextSibling);\n\t\t}\n\t\treturn newNode;\n\t}\n}\n_extends(Text,CharacterData);\nfunction Comment() {\n};\nComment.prototype = {\n\tnodeName : \"#comment\",\n\tnodeType : COMMENT_NODE\n}\n_extends(Comment,CharacterData);\n\nfunction CDATASection() {\n};\nCDATASection.prototype = {\n\tnodeName : \"#cdata-section\",\n\tnodeType : CDATA_SECTION_NODE\n}\n_extends(CDATASection,CharacterData);\n\n\nfunction DocumentType() {\n};\nDocumentType.prototype.nodeType = DOCUMENT_TYPE_NODE;\n_extends(DocumentType,Node);\n\nfunction Notation() {\n};\nNotation.prototype.nodeType = NOTATION_NODE;\n_extends(Notation,Node);\n\nfunction Entity() {\n};\nEntity.prototype.nodeType = ENTITY_NODE;\n_extends(Entity,Node);\n\nfunction EntityReference() {\n};\nEntityReference.prototype.nodeType = ENTITY_REFERENCE_NODE;\n_extends(EntityReference,Node);\n\nfunction DocumentFragment() {\n};\nDocumentFragment.prototype.nodeName =\t\"#document-fragment\";\nDocumentFragment.prototype.nodeType =\tDOCUMENT_FRAGMENT_NODE;\n_extends(DocumentFragment,Node);\n\n\nfunction ProcessingInstruction() {\n}\nProcessingInstruction.prototype.nodeType = PROCESSING_INSTRUCTION_NODE;\n_extends(ProcessingInstruction,Node);\nfunction XMLSerializer(){}\nXMLSerializer.prototype.serializeToString = function(node,isHtml,nodeFilter){\n\treturn nodeSerializeToString.call(node,isHtml,nodeFilter);\n}\nNode.prototype.toString = nodeSerializeToString;\nfunction nodeSerializeToString(isHtml,nodeFilter){\n\tvar buf = [];\n\tvar refNode = this.nodeType == 9?this.documentElement:this;\n\tvar prefix = refNode.prefix;\n\tvar uri = refNode.namespaceURI;\n\t\n\tif(uri && prefix == null){\n\t\t//console.log(prefix)\n\t\tvar prefix = refNode.lookupPrefix(uri);\n\t\tif(prefix == null){\n\t\t\t//isHTML = true;\n\t\t\tvar visibleNamespaces=[\n\t\t\t{namespace:uri,prefix:null}\n\t\t\t//{namespace:uri,prefix:''}\n\t\t\t]\n\t\t}\n\t}\n\tserializeToString(this,buf,isHtml,nodeFilter,visibleNamespaces);\n\t//console.log('###',this.nodeType,uri,prefix,buf.join(''))\n\treturn buf.join('');\n}\nfunction needNamespaceDefine(node,isHTML, visibleNamespaces) {\n\tvar prefix = node.prefix||'';\n\tvar uri = node.namespaceURI;\n\tif (!prefix && !uri){\n\t\treturn false;\n\t}\n\tif (prefix === \"xml\" && uri === \"http://www.w3.org/XML/1998/namespace\" \n\t\t|| uri == 'http://www.w3.org/2000/xmlns/'){\n\t\treturn false;\n\t}\n\t\n\tvar i = visibleNamespaces.length \n\t//console.log('@@@@',node.tagName,prefix,uri,visibleNamespaces)\n\twhile (i--) {\n\t\tvar ns = visibleNamespaces[i];\n\t\t// get namespace prefix\n\t\t//console.log(node.nodeType,node.tagName,ns.prefix,prefix)\n\t\tif (ns.prefix == prefix){\n\t\t\treturn ns.namespace != uri;\n\t\t}\n\t}\n\t//console.log(isHTML,uri,prefix=='')\n\t//if(isHTML && prefix ==null && uri == 'http://www.w3.org/1999/xhtml'){\n\t//\treturn false;\n\t//}\n\t//node.flag = '11111'\n\t//console.error(3,true,node.flag,node.prefix,node.namespaceURI)\n\treturn true;\n}\nfunction serializeToString(node,buf,isHTML,nodeFilter,visibleNamespaces){\n\tif(nodeFilter){\n\t\tnode = nodeFilter(node);\n\t\tif(node){\n\t\t\tif(typeof node == 'string'){\n\t\t\t\tbuf.push(node);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}else{\n\t\t\treturn;\n\t\t}\n\t\t//buf.sort.apply(attrs, attributeSorter);\n\t}\n\tswitch(node.nodeType){\n\tcase ELEMENT_NODE:\n\t\tif (!visibleNamespaces) visibleNamespaces = [];\n\t\tvar startVisibleNamespaces = visibleNamespaces.length;\n\t\tvar attrs = node.attributes;\n\t\tvar len = attrs.length;\n\t\tvar child = node.firstChild;\n\t\tvar nodeName = node.tagName;\n\t\t\n\t\tisHTML =  (htmlns === node.namespaceURI) ||isHTML \n\t\tbuf.push('<',nodeName);\n\t\t\n\t\t\n\t\t\n\t\tfor(var i=0;i<len;i++){\n\t\t\t// add namespaces for attributes\n\t\t\tvar attr = attrs.item(i);\n\t\t\tif (attr.prefix == 'xmlns') {\n\t\t\t\tvisibleNamespaces.push({ prefix: attr.localName, namespace: attr.value });\n\t\t\t}else if(attr.nodeName == 'xmlns'){\n\t\t\t\tvisibleNamespaces.push({ prefix: '', namespace: attr.value });\n\t\t\t}\n\t\t}\n\t\tfor(var i=0;i<len;i++){\n\t\t\tvar attr = attrs.item(i);\n\t\t\tif (needNamespaceDefine(attr,isHTML, visibleNamespaces)) {\n\t\t\t\tvar prefix = attr.prefix||'';\n\t\t\t\tvar uri = attr.namespaceURI;\n\t\t\t\tvar ns = prefix ? ' xmlns:' + prefix : \" xmlns\";\n\t\t\t\tbuf.push(ns, '=\"' , uri , '\"');\n\t\t\t\tvisibleNamespaces.push({ prefix: prefix, namespace:uri });\n\t\t\t}\n\t\t\tserializeToString(attr,buf,isHTML,nodeFilter,visibleNamespaces);\n\t\t}\n\t\t// add namespace for current node\t\t\n\t\tif (needNamespaceDefine(node,isHTML, visibleNamespaces)) {\n\t\t\tvar prefix = node.prefix||'';\n\t\t\tvar uri = node.namespaceURI;\n\t\t\tvar ns = prefix ? ' xmlns:' + prefix : \" xmlns\";\n\t\t\tbuf.push(ns, '=\"' , uri , '\"');\n\t\t\tvisibleNamespaces.push({ prefix: prefix, namespace:uri });\n\t\t}\n\t\t\n\t\tif(child || isHTML && !/^(?:meta|link|img|br|hr|input)$/i.test(nodeName)){\n\t\t\tbuf.push('>');\n\t\t\t//if is cdata child node\n\t\t\tif(isHTML && /^script$/i.test(nodeName)){\n\t\t\t\twhile(child){\n\t\t\t\t\tif(child.data){\n\t\t\t\t\t\tbuf.push(child.data);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tserializeToString(child,buf,isHTML,nodeFilter,visibleNamespaces);\n\t\t\t\t\t}\n\t\t\t\t\tchild = child.nextSibling;\n\t\t\t\t}\n\t\t\t}else\n\t\t\t{\n\t\t\t\twhile(child){\n\t\t\t\t\tserializeToString(child,buf,isHTML,nodeFilter,visibleNamespaces);\n\t\t\t\t\tchild = child.nextSibling;\n\t\t\t\t}\n\t\t\t}\n\t\t\tbuf.push('</',nodeName,'>');\n\t\t}else{\n\t\t\tbuf.push('/>');\n\t\t}\n\t\t// remove added visible namespaces\n\t\t//visibleNamespaces.length = startVisibleNamespaces;\n\t\treturn;\n\tcase DOCUMENT_NODE:\n\tcase DOCUMENT_FRAGMENT_NODE:\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tserializeToString(child,buf,isHTML,nodeFilter,visibleNamespaces);\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t\treturn;\n\tcase ATTRIBUTE_NODE:\n\t\treturn buf.push(' ',node.name,'=\"',node.value.replace(/[<&\"]/g,_xmlEncoder),'\"');\n\tcase TEXT_NODE:\n\t\treturn buf.push(node.data.replace(/[<&]/g,_xmlEncoder));\n\tcase CDATA_SECTION_NODE:\n\t\treturn buf.push( '<![CDATA[',node.data,']]>');\n\tcase COMMENT_NODE:\n\t\treturn buf.push( \"<!--\",node.data,\"-->\");\n\tcase DOCUMENT_TYPE_NODE:\n\t\tvar pubid = node.publicId;\n\t\tvar sysid = node.systemId;\n\t\tbuf.push('<!DOCTYPE ',node.name);\n\t\tif(pubid){\n\t\t\tbuf.push(' PUBLIC \"',pubid);\n\t\t\tif (sysid && sysid!='.') {\n\t\t\t\tbuf.push( '\" \"',sysid);\n\t\t\t}\n\t\t\tbuf.push('\">');\n\t\t}else if(sysid && sysid!='.'){\n\t\t\tbuf.push(' SYSTEM \"',sysid,'\">');\n\t\t}else{\n\t\t\tvar sub = node.internalSubset;\n\t\t\tif(sub){\n\t\t\t\tbuf.push(\" [\",sub,\"]\");\n\t\t\t}\n\t\t\tbuf.push(\">\");\n\t\t}\n\t\treturn;\n\tcase PROCESSING_INSTRUCTION_NODE:\n\t\treturn buf.push( \"<?\",node.target,\" \",node.data,\"?>\");\n\tcase ENTITY_REFERENCE_NODE:\n\t\treturn buf.push( '&',node.nodeName,';');\n\t//case ENTITY_NODE:\n\t//case NOTATION_NODE:\n\tdefault:\n\t\tbuf.push('??',node.nodeName);\n\t}\n}\nfunction importNode(doc,node,deep){\n\tvar node2;\n\tswitch (node.nodeType) {\n\tcase ELEMENT_NODE:\n\t\tnode2 = node.cloneNode(false);\n\t\tnode2.ownerDocument = doc;\n\t\t//var attrs = node2.attributes;\n\t\t//var len = attrs.length;\n\t\t//for(var i=0;i<len;i++){\n\t\t\t//node2.setAttributeNodeNS(importNode(doc,attrs.item(i),deep));\n\t\t//}\n\tcase DOCUMENT_FRAGMENT_NODE:\n\t\tbreak;\n\tcase ATTRIBUTE_NODE:\n\t\tdeep = true;\n\t\tbreak;\n\t//case ENTITY_REFERENCE_NODE:\n\t//case PROCESSING_INSTRUCTION_NODE:\n\t////case TEXT_NODE:\n\t//case CDATA_SECTION_NODE:\n\t//case COMMENT_NODE:\n\t//\tdeep = false;\n\t//\tbreak;\n\t//case DOCUMENT_NODE:\n\t//case DOCUMENT_TYPE_NODE:\n\t//cannot be imported.\n\t//case ENTITY_NODE:\n\t//case NOTATION_NODE：\n\t//can not hit in level3\n\t//default:throw e;\n\t}\n\tif(!node2){\n\t\tnode2 = node.cloneNode(false);//false\n\t}\n\tnode2.ownerDocument = doc;\n\tnode2.parentNode = null;\n\tif(deep){\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tnode2.appendChild(importNode(doc,child,deep));\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t}\n\treturn node2;\n}\n//\n//var _relationMap = {firstChild:1,lastChild:1,previousSibling:1,nextSibling:1,\n//\t\t\t\t\tattributes:1,childNodes:1,parentNode:1,documentElement:1,doctype,};\nfunction cloneNode(doc,node,deep){\n\tvar node2 = new node.constructor();\n\tfor(var n in node){\n\t\tvar v = node[n];\n\t\tif(typeof v != 'object' ){\n\t\t\tif(v != node2[n]){\n\t\t\t\tnode2[n] = v;\n\t\t\t}\n\t\t}\n\t}\n\tif(node.childNodes){\n\t\tnode2.childNodes = new NodeList();\n\t}\n\tnode2.ownerDocument = doc;\n\tswitch (node2.nodeType) {\n\tcase ELEMENT_NODE:\n\t\tvar attrs\t= node.attributes;\n\t\tvar attrs2\t= node2.attributes = new NamedNodeMap();\n\t\tvar len = attrs.length\n\t\tattrs2._ownerElement = node2;\n\t\tfor(var i=0;i<len;i++){\n\t\t\tnode2.setAttributeNode(cloneNode(doc,attrs.item(i),true));\n\t\t}\n\t\tbreak;;\n\tcase ATTRIBUTE_NODE:\n\t\tdeep = true;\n\t}\n\tif(deep){\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tnode2.appendChild(cloneNode(doc,child,deep));\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t}\n\treturn node2;\n}\n\nfunction __set__(object,key,value){\n\tobject[key] = value\n}\n//do dynamic\ntry{\n\tif(Object.defineProperty){\n\t\tObject.defineProperty(LiveNodeList.prototype,'length',{\n\t\t\tget:function(){\n\t\t\t\t_updateLiveList(this);\n\t\t\t\treturn this.$$length;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(Node.prototype,'textContent',{\n\t\t\tget:function(){\n\t\t\t\treturn getTextContent(this);\n\t\t\t},\n\t\t\tset:function(data){\n\t\t\t\tswitch(this.nodeType){\n\t\t\t\tcase ELEMENT_NODE:\n\t\t\t\tcase DOCUMENT_FRAGMENT_NODE:\n\t\t\t\t\twhile(this.firstChild){\n\t\t\t\t\t\tthis.removeChild(this.firstChild);\n\t\t\t\t\t}\n\t\t\t\t\tif(data || String(data)){\n\t\t\t\t\t\tthis.appendChild(this.ownerDocument.createTextNode(data));\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\t//TODO:\n\t\t\t\t\tthis.data = data;\n\t\t\t\t\tthis.value = data;\n\t\t\t\t\tthis.nodeValue = data;\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\t\n\t\tfunction getTextContent(node){\n\t\t\tswitch(node.nodeType){\n\t\t\tcase ELEMENT_NODE:\n\t\t\tcase DOCUMENT_FRAGMENT_NODE:\n\t\t\t\tvar buf = [];\n\t\t\t\tnode = node.firstChild;\n\t\t\t\twhile(node){\n\t\t\t\t\tif(node.nodeType!==7 && node.nodeType !==8){\n\t\t\t\t\t\tbuf.push(getTextContent(node));\n\t\t\t\t\t}\n\t\t\t\t\tnode = node.nextSibling;\n\t\t\t\t}\n\t\t\t\treturn buf.join('');\n\t\t\tdefault:\n\t\t\t\treturn node.nodeValue;\n\t\t\t}\n\t\t}\n\t\t__set__ = function(object,key,value){\n\t\t\t//console.log(value)\n\t\t\tobject['$$'+key] = value\n\t\t}\n\t}\n}catch(e){//ie8\n}\n\n//if(typeof require == 'function'){\n\texports.DOMImplementation = DOMImplementation;\n\texports.XMLSerializer = XMLSerializer;\n//}\n","function DOMParser(options){\r\n\tthis.options = options ||{locator:{}};\r\n\t\r\n}\r\nDOMParser.prototype.parseFromString = function(source,mimeType){\r\n\tvar options = this.options;\r\n\tvar sax =  new XMLReader();\r\n\tvar domBuilder = options.domBuilder || new DOMHandler();//contentHandler and LexicalHandler\r\n\tvar errorHandler = options.errorHandler;\r\n\tvar locator = options.locator;\r\n\tvar defaultNSMap = options.xmlns||{};\r\n\tvar entityMap = {'lt':'<','gt':'>','amp':'&','quot':'\"','apos':\"'\"}\r\n\tif(locator){\r\n\t\tdomBuilder.setDocumentLocator(locator)\r\n\t}\r\n\t\r\n\tsax.errorHandler = buildErrorHandler(errorHandler,domBuilder,locator);\r\n\tsax.domBuilder = options.domBuilder || domBuilder;\r\n\tif(/\\/x?html?$/.test(mimeType)){\r\n\t\tentityMap.nbsp = '\\xa0';\r\n\t\tentityMap.copy = '\\xa9';\r\n\t\tdefaultNSMap['']= 'http://www.w3.org/1999/xhtml';\r\n\t}\r\n\tdefaultNSMap.xml = defaultNSMap.xml || 'http://www.w3.org/XML/1998/namespace';\r\n\tif(source){\r\n\t\tsax.parse(source,defaultNSMap,entityMap);\r\n\t}else{\r\n\t\tsax.errorHandler.error(\"invalid doc source\");\r\n\t}\r\n\treturn domBuilder.doc;\r\n}\r\nfunction buildErrorHandler(errorImpl,domBuilder,locator){\r\n\tif(!errorImpl){\r\n\t\tif(domBuilder instanceof DOMHandler){\r\n\t\t\treturn domBuilder;\r\n\t\t}\r\n\t\terrorImpl = domBuilder ;\r\n\t}\r\n\tvar errorHandler = {}\r\n\tvar isCallback = errorImpl instanceof Function;\r\n\tlocator = locator||{}\r\n\tfunction build(key){\r\n\t\tvar fn = errorImpl[key];\r\n\t\tif(!fn && isCallback){\r\n\t\t\tfn = errorImpl.length == 2?function(msg){errorImpl(key,msg)}:errorImpl;\r\n\t\t}\r\n\t\terrorHandler[key] = fn && function(msg){\r\n\t\t\tfn('[xmldom '+key+']\\t'+msg+_locator(locator));\r\n\t\t}||function(){};\r\n\t}\r\n\tbuild('warning');\r\n\tbuild('error');\r\n\tbuild('fatalError');\r\n\treturn errorHandler;\r\n}\r\n\r\n//console.log('#\\n\\n\\n\\n\\n\\n\\n####')\r\n/**\r\n * +ContentHandler+ErrorHandler\r\n * +LexicalHandler+EntityResolver2\r\n * -DeclHandler-DTDHandler \r\n * \r\n * DefaultHandler:EntityResolver, DTDHandler, ContentHandler, ErrorHandler\r\n * DefaultHandler2:DefaultHandler,LexicalHandler, DeclHandler, EntityResolver2\r\n * @link http://www.saxproject.org/apidoc/org/xml/sax/helpers/DefaultHandler.html\r\n */\r\nfunction DOMHandler() {\r\n    this.cdata = false;\r\n}\r\nfunction position(locator,node){\r\n\tnode.lineNumber = locator.lineNumber;\r\n\tnode.columnNumber = locator.columnNumber;\r\n}\r\n/**\r\n * @see org.xml.sax.ContentHandler#startDocument\r\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ContentHandler.html\r\n */ \r\nDOMHandler.prototype = {\r\n\tstartDocument : function() {\r\n    \tthis.doc = new DOMImplementation().createDocument(null, null, null);\r\n    \tif (this.locator) {\r\n        \tthis.doc.documentURI = this.locator.systemId;\r\n    \t}\r\n\t},\r\n\tstartElement:function(namespaceURI, localName, qName, attrs) {\r\n\t\tvar doc = this.doc;\r\n\t    var el = doc.createElementNS(namespaceURI, qName||localName);\r\n\t    var len = attrs.length;\r\n\t    appendElement(this, el);\r\n\t    this.currentElement = el;\r\n\t    \r\n\t\tthis.locator && position(this.locator,el)\r\n\t    for (var i = 0 ; i < len; i++) {\r\n\t        var namespaceURI = attrs.getURI(i);\r\n\t        var value = attrs.getValue(i);\r\n\t        var qName = attrs.getQName(i);\r\n\t\t\tvar attr = doc.createAttributeNS(namespaceURI, qName);\r\n\t\t\tthis.locator &&position(attrs.getLocator(i),attr);\r\n\t\t\tattr.value = attr.nodeValue = value;\r\n\t\t\tel.setAttributeNode(attr)\r\n\t    }\r\n\t},\r\n\tendElement:function(namespaceURI, localName, qName) {\r\n\t\tvar current = this.currentElement\r\n\t\tvar tagName = current.tagName;\r\n\t\tthis.currentElement = current.parentNode;\r\n\t},\r\n\tstartPrefixMapping:function(prefix, uri) {\r\n\t},\r\n\tendPrefixMapping:function(prefix) {\r\n\t},\r\n\tprocessingInstruction:function(target, data) {\r\n\t    var ins = this.doc.createProcessingInstruction(target, data);\r\n\t    this.locator && position(this.locator,ins)\r\n\t    appendElement(this, ins);\r\n\t},\r\n\tignorableWhitespace:function(ch, start, length) {\r\n\t},\r\n\tcharacters:function(chars, start, length) {\r\n\t\tchars = _toString.apply(this,arguments)\r\n\t\t//console.log(chars)\r\n\t\tif(chars){\r\n\t\t\tif (this.cdata) {\r\n\t\t\t\tvar charNode = this.doc.createCDATASection(chars);\r\n\t\t\t} else {\r\n\t\t\t\tvar charNode = this.doc.createTextNode(chars);\r\n\t\t\t}\r\n\t\t\tif(this.currentElement){\r\n\t\t\t\tthis.currentElement.appendChild(charNode);\r\n\t\t\t}else if(/^\\s*$/.test(chars)){\r\n\t\t\t\tthis.doc.appendChild(charNode);\r\n\t\t\t\t//process xml\r\n\t\t\t}\r\n\t\t\tthis.locator && position(this.locator,charNode)\r\n\t\t}\r\n\t},\r\n\tskippedEntity:function(name) {\r\n\t},\r\n\tendDocument:function() {\r\n\t\tthis.doc.normalize();\r\n\t},\r\n\tsetDocumentLocator:function (locator) {\r\n\t    if(this.locator = locator){// && !('lineNumber' in locator)){\r\n\t    \tlocator.lineNumber = 0;\r\n\t    }\r\n\t},\r\n\t//LexicalHandler\r\n\tcomment:function(chars, start, length) {\r\n\t\tchars = _toString.apply(this,arguments)\r\n\t    var comm = this.doc.createComment(chars);\r\n\t    this.locator && position(this.locator,comm)\r\n\t    appendElement(this, comm);\r\n\t},\r\n\t\r\n\tstartCDATA:function() {\r\n\t    //used in characters() methods\r\n\t    this.cdata = true;\r\n\t},\r\n\tendCDATA:function() {\r\n\t    this.cdata = false;\r\n\t},\r\n\t\r\n\tstartDTD:function(name, publicId, systemId) {\r\n\t\tvar impl = this.doc.implementation;\r\n\t    if (impl && impl.createDocumentType) {\r\n\t        var dt = impl.createDocumentType(name, publicId, systemId);\r\n\t        this.locator && position(this.locator,dt)\r\n\t        appendElement(this, dt);\r\n\t    }\r\n\t},\r\n\t/**\r\n\t * @see org.xml.sax.ErrorHandler\r\n\t * @link http://www.saxproject.org/apidoc/org/xml/sax/ErrorHandler.html\r\n\t */\r\n\twarning:function(error) {\r\n\t\tconsole.warn('[xmldom warning]\\t'+error,_locator(this.locator));\r\n\t},\r\n\terror:function(error) {\r\n\t\tconsole.error('[xmldom error]\\t'+error,_locator(this.locator));\r\n\t},\r\n\tfatalError:function(error) {\r\n\t\tconsole.error('[xmldom fatalError]\\t'+error,_locator(this.locator));\r\n\t    throw error;\r\n\t}\r\n}\r\nfunction _locator(l){\r\n\tif(l){\r\n\t\treturn '\\n@'+(l.systemId ||'')+'#[line:'+l.lineNumber+',col:'+l.columnNumber+']'\r\n\t}\r\n}\r\nfunction _toString(chars,start,length){\r\n\tif(typeof chars == 'string'){\r\n\t\treturn chars.substr(start,length)\r\n\t}else{//java sax connect width xmldom on rhino(what about: \"? && !(chars instanceof String)\")\r\n\t\tif(chars.length >= start+length || start){\r\n\t\t\treturn new java.lang.String(chars,start,length)+'';\r\n\t\t}\r\n\t\treturn chars;\r\n\t}\r\n}\r\n\r\n/*\r\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/LexicalHandler.html\r\n * used method of org.xml.sax.ext.LexicalHandler:\r\n *  #comment(chars, start, length)\r\n *  #startCDATA()\r\n *  #endCDATA()\r\n *  #startDTD(name, publicId, systemId)\r\n *\r\n *\r\n * IGNORED method of org.xml.sax.ext.LexicalHandler:\r\n *  #endDTD()\r\n *  #startEntity(name)\r\n *  #endEntity(name)\r\n *\r\n *\r\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/DeclHandler.html\r\n * IGNORED method of org.xml.sax.ext.DeclHandler\r\n * \t#attributeDecl(eName, aName, type, mode, value)\r\n *  #elementDecl(name, model)\r\n *  #externalEntityDecl(name, publicId, systemId)\r\n *  #internalEntityDecl(name, value)\r\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/EntityResolver2.html\r\n * IGNORED method of org.xml.sax.EntityResolver2\r\n *  #resolveEntity(String name,String publicId,String baseURI,String systemId)\r\n *  #resolveEntity(publicId, systemId)\r\n *  #getExternalSubset(name, baseURI)\r\n * @link http://www.saxproject.org/apidoc/org/xml/sax/DTDHandler.html\r\n * IGNORED method of org.xml.sax.DTDHandler\r\n *  #notationDecl(name, publicId, systemId) {};\r\n *  #unparsedEntityDecl(name, publicId, systemId, notationName) {};\r\n */\r\n\"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl\".replace(/\\w+/g,function(key){\r\n\tDOMHandler.prototype[key] = function(){return null}\r\n})\r\n\r\n/* Private static helpers treated below as private instance methods, so don't need to add these to the public API; we might use a Relator to also get rid of non-standard public properties */\r\nfunction appendElement (hander,node) {\r\n    if (!hander.currentElement) {\r\n        hander.doc.appendChild(node);\r\n    } else {\r\n        hander.currentElement.appendChild(node);\r\n    }\r\n}//appendChild and setAttributeNS are preformance key\r\n\r\n//if(typeof require == 'function'){\r\n\tvar XMLReader = require('./sax').XMLReader;\r\n\tvar DOMImplementation = exports.DOMImplementation = require('./dom').DOMImplementation;\r\n\texports.XMLSerializer = require('./dom').XMLSerializer ;\r\n\texports.DOMParser = DOMParser;\r\n//}\r\n","'use strict';\r\n\r\n var RGBColor = require('rgbcolor');\r\n var stackblur = require('stackblur');\r\n var xmldom = require('xmldom');\r\n\r\n/*\r\n * canvg.js - Javascript SVG parser and renderer on Canvas\r\n * MIT Licensed\r\n * Gabe Lerner (gabelerner@gmail.com)\r\n * http://code.google.com/p/canvg/\r\n *\r\n * Requires: rgbcolor.js - http://www.phpied.com/rgb-color-parser-in-javascript/\r\n */\r\n\r\n/*\r\ncanvg(target, s)\r\n  empty parameters: replace all 'svg' elements on page with 'canvas' elements\r\n  target: canvas element or the id of a canvas element\r\n  s: svg string, url to svg file, or xml document\r\n  opts: optional hash of options\r\n    ignoreMouse: true => ignore mouse events\r\n    ignoreAnimation: true => ignore animations\r\n    ignoreDimensions: true => does not try to resize canvas\r\n    ignoreClear: true => does not clear canvas\r\n    offsetX: int => draws at a x offset\r\n    offsetY: int => draws at a y offset\r\n    scaleWidth: int => scales horizontally to width\r\n    scaleHeight: int => scales vertically to height\r\n    renderCallback: function => will call the function after the first render is completed\r\n    forceRedraw: function => will call the function on every frame, if it returns true, will redraw\r\n*/\r\nfunction canvg(target, s, opts) {\r\n\r\n\t// no parameters\r\n\tif (target == null && s == null && opts == null) {\r\n\t\tvar svgTags = document.querySelectorAll('svg');\r\n\t\tfor (var i=0; i<svgTags.length; i++) {\r\n\t\t\tvar svgTag = svgTags[i];\r\n\t\t\tvar c = document.createElement('canvas');\r\n\t\t\tc.width = svgTag.clientWidth;\r\n\t\t\tc.height = svgTag.clientHeight;\r\n\t\t\tsvgTag.parentNode.insertBefore(c, svgTag);\r\n\t\t\tsvgTag.parentNode.removeChild(svgTag);\r\n\t\t\tvar div = document.createElement('div');\r\n\t\t\tdiv.appendChild(svgTag);\r\n\t\t\tcanvg(c, div.innerHTML);\r\n\t\t}\r\n\t\treturn;\r\n\t}\r\n\r\n\tif (typeof target == 'string') {\r\n\t\ttarget = document.getElementById(target);\r\n\t}\r\n\r\n\t// store class on canvas\r\n\tif (target.svg != null) target.svg.stop();\r\n\tvar svg = build(opts || {});\r\n\t// on i.e. 8 for flash canvas, we can't assign the property so check for it\r\n\tif (!(target.childNodes.length == 1 && target.childNodes[0].nodeName == 'OBJECT')) target.svg = svg;\r\n\r\n\tvar ctx = target.getContext('2d');\r\n\tif (typeof s.documentElement != 'undefined') {\r\n\t\t// load from xml doc\r\n\t\tsvg.loadXmlDoc(ctx, s);\r\n\t}\r\n\telse if (s.substr(0,1) == '<') {\r\n\t\t// load from xml string\r\n\t\tsvg.loadXml(ctx, s);\r\n\t}\r\n\telse {\r\n\t\t// load from url\r\n\t\tsvg.load(ctx, s);\r\n\t}\r\n}\r\n\r\nfunction getMatchesSelector() {\r\n  // see https://developer.mozilla.org/en-US/docs/Web/API/Element.matches\r\n  var matchesSelector;\r\n  if (typeof Element.prototype.matches != 'undefined') {\r\n  \tmatchesSelector = function(node, selector) {\r\n  \t\treturn node.matches(selector);\r\n  \t};\r\n  } else if (typeof Element.prototype.webkitMatchesSelector != 'undefined') {\r\n  \tmatchesSelector = function(node, selector) {\r\n  \t\treturn node.webkitMatchesSelector(selector);\r\n  \t};\r\n  } else if (typeof Element.prototype.mozMatchesSelector != 'undefined') {\r\n  \tmatchesSelector = function(node, selector) {\r\n  \t\treturn node.mozMatchesSelector(selector);\r\n  \t};\r\n  } else if (typeof Element.prototype.msMatchesSelector != 'undefined') {\r\n  \tmatchesSelector = function(node, selector) {\r\n  \t\treturn node.msMatchesSelector(selector);\r\n  \t};\r\n  } else if (typeof Element.prototype.oMatchesSelector != 'undefined') {\r\n  \tmatchesSelector = function(node, selector) {\r\n  \t\treturn node.oMatchesSelector(selector);\r\n  \t};\r\n  } else {\r\n  \t// requires Sizzle: https://github.com/jquery/sizzle/wiki/Sizzle-Documentation\r\n  \t// or jQuery: http://jquery.com/download/\r\n  \t// or Zepto: http://zeptojs.com/#\r\n  \t// without it, this is a ReferenceError\r\n\r\n  \tif (typeof jQuery == 'function' || typeof Zepto == 'function') {\r\n  \t\tmatchesSelector = function (node, selector) {\r\n  \t\t\treturn $(node).is(selector);\r\n  \t\t};\r\n  \t}\r\n\r\n  \tif (typeof matchesSelector == 'undefined') {\r\n  \t\tmatchesSelector = Sizzle.matchesSelector;\r\n  \t}\r\n  }\r\n\r\n  return matchesSelector;\r\n}\r\n\r\nfunction getSelectorSpecificity(selector) {\r\n\tvar typeCount = [0, 0, 0];\r\n\r\n  // slightly modified version of https://github.com/keeganstreet/specificity/blob/master/specificity.js\r\n  var attributeRegex = /(\\[[^\\]]+\\])/g;\r\n  var idRegex = /(#[^\\s\\+>~\\.\\[:]+)/g;\r\n  var classRegex = /(\\.[^\\s\\+>~\\.\\[:]+)/g;\r\n  var pseudoElementRegex = /(::[^\\s\\+>~\\.\\[:]+|:first-line|:first-letter|:before|:after)/gi;\r\n  var pseudoClassWithBracketsRegex = /(:[\\w-]+\\([^\\)]*\\))/gi;\r\n  var pseudoClassRegex = /(:[^\\s\\+>~\\.\\[:]+)/g;\r\n  var elementRegex = /([^\\s\\+>~\\.\\[:]+)/g;\r\n\r\n\tvar findMatch = function(regex, type) {\r\n\t\tvar matches = selector.match(regex);\r\n\t\tif (matches == null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\ttypeCount[type] += matches.length;\r\n\t\tselector = selector.replace(regex, ' ');\r\n\t};\r\n\r\n\tselector = selector.replace(/:not\\(([^\\)]*)\\)/g, '     $1 ');\r\n\tselector = selector.replace(/{[^]*/gm, ' ');\r\n\tfindMatch(attributeRegex, 1);\r\n\tfindMatch(idRegex, 0);\r\n\tfindMatch(classRegex, 1);\r\n\tfindMatch(pseudoElementRegex, 2);\r\n\tfindMatch(pseudoClassWithBracketsRegex, 1);\r\n\tfindMatch(pseudoClassRegex, 1);\r\n\tselector = selector.replace(/[\\*\\s\\+>~]/g, ' ');\r\n\tselector = selector.replace(/[#\\.]/g, ' ');\r\n\tfindMatch(elementRegex, 2);\r\n\treturn typeCount.join('');\r\n}\r\n\r\nfunction build(opts) {\r\n\tvar svg = { opts: opts };\r\n\r\n  var matchesSelector = getMatchesSelector();\r\n\r\n  if (typeof CanvasRenderingContext2D  != 'undefined') {\r\n    CanvasRenderingContext2D.prototype.drawSvg = function(s, dx, dy, dw, dh, opts) {\r\n      var cOpts = {\r\n        ignoreMouse: true,\r\n        ignoreAnimation: true,\r\n        ignoreDimensions: true,\r\n        ignoreClear: true,\r\n        offsetX: dx,\r\n        offsetY: dy,\r\n        scaleWidth: dw,\r\n        scaleHeight: dh\r\n      };\r\n\r\n      for(var prop in opts) {\r\n        if(opts.hasOwnProperty(prop)){\r\n          cOpts[prop] = opts[prop];\r\n        }\r\n      }\r\n      canvg(this.canvas, s, cOpts);\r\n    };\r\n  }\r\n\r\n\tsvg.FRAMERATE = 30;\r\n\tsvg.MAX_VIRTUAL_PIXELS = 30000;\r\n\r\n\tsvg.log = function(msg) {};\r\n\tif (svg.opts.log == true && typeof console != 'undefined') {\r\n\t\tsvg.log = function(msg) { console.log(msg); };\r\n\t}\r\n\r\n\t// globals\r\n\tsvg.init = function(ctx) {\r\n\t\tvar uniqueId = 0;\r\n\t\tsvg.UniqueId = function () { uniqueId++; return 'canvg' + uniqueId;\t};\r\n\t\tsvg.Definitions = {};\r\n\t\tsvg.Styles = {};\r\n\t\tsvg.StylesSpecificity = {};\r\n\t\tsvg.Animations = [];\r\n\t\tsvg.Images = [];\r\n\t\tsvg.ctx = ctx;\r\n\t\tsvg.ViewPort = new (function () {\r\n\t\t\tthis.viewPorts = [];\r\n\t\t\tthis.Clear = function() { this.viewPorts = []; };\r\n\t\t\tthis.SetCurrent = function(width, height) { this.viewPorts.push({ width: width, height: height }); };\r\n\t\t\tthis.RemoveCurrent = function() { this.viewPorts.pop(); };\r\n\t\t\tthis.Current = function() { return this.viewPorts[this.viewPorts.length - 1]; };\r\n\t\t\tthis.width = function() { return this.Current().width; };\r\n\t\t\tthis.height = function() { return this.Current().height; };\r\n\t\t\tthis.ComputeSize = function(d) {\r\n\t\t\t\tif (d != null && typeof d == 'number') return d;\r\n\t\t\t\tif (d == 'x') return this.width();\r\n\t\t\t\tif (d == 'y') return this.height();\r\n\t\t\t\treturn Math.sqrt(Math.pow(this.width(), 2) + Math.pow(this.height(), 2)) / Math.sqrt(2);\r\n\t\t\t};\r\n\t\t});\r\n\t}\r\n\tsvg.init();\r\n\r\n\t// images loaded\r\n\tsvg.ImagesLoaded = function() {\r\n\t\tfor (var i=0; i<svg.Images.length; i++) {\r\n\t\t\tif (!svg.Images[i].loaded) return false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\t// trim\r\n\tsvg.trim = function(s) { return s.replace(/^\\s+|\\s+$/g, ''); }\r\n\r\n\t// compress spaces\r\n\tsvg.compressSpaces = function(s) { return s.replace(/[\\s\\r\\t\\n]+/gm,' '); }\r\n\r\n\t// ajax\r\n\tsvg.ajax = function(url) {\r\n\t\tvar AJAX;\r\n\t\tif(window.XMLHttpRequest){AJAX=new XMLHttpRequest();}\r\n\t\telse{AJAX=new ActiveXObject('Microsoft.XMLHTTP');}\r\n\t\tif(AJAX){\r\n\t\t   AJAX.open('GET',url,false);\r\n\t\t   AJAX.send(null);\r\n\t\t   return AJAX.responseText;\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\t// parse xml\r\n\tsvg.parseXml = function(xml) {\r\n\t\tif (typeof Windows != 'undefined' && typeof Windows.Data != 'undefined' && typeof Windows.Data.Xml != 'undefined') {\r\n\t\t\tvar xmlDoc = new Windows.Data.Xml.Dom.XmlDocument();\r\n\t\t\tvar settings = new Windows.Data.Xml.Dom.XmlLoadSettings();\r\n\t\t\tsettings.prohibitDtd = false;\r\n\t\t\txmlDoc.loadXml(xml, settings);\r\n\t\t\treturn xmlDoc;\r\n\t\t}\r\n\t\telse if (window.DOMParser)\r\n\t\t{\r\n\t\t\tvar parser = new DOMParser();\r\n\t\t\treturn parser.parseFromString(xml, 'text/xml');\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\txml = xml.replace(/<!DOCTYPE svg[^>]*>/, '');\r\n\t\t\tvar xmlDoc = new ActiveXObject('Microsoft.XMLDOM');\r\n\t\t\txmlDoc.async = 'false';\r\n\t\t\txmlDoc.loadXML(xml);\r\n\t\t\treturn xmlDoc;\r\n\t\t}\r\n\t}\r\n\r\n\tsvg.Property = function(name, value) {\r\n\t\tthis.name = name;\r\n\t\tthis.value = value;\r\n\t}\r\n\t\tsvg.Property.prototype.getValue = function() {\r\n\t\t\treturn this.value;\r\n\t\t}\r\n\r\n\t\tsvg.Property.prototype.hasValue = function() {\r\n\t\t\treturn (this.value != null && this.value != '');\r\n\t\t}\r\n\r\n\t\t// return the numerical value of the property\r\n\t\tsvg.Property.prototype.numValue = function() {\r\n\t\t\tif (!this.hasValue()) return 0;\r\n\r\n\t\t\tvar n = parseFloat(this.value);\r\n\t\t\tif ((this.value + '').match(/%$/)) {\r\n\t\t\t\tn = n / 100.0;\r\n\t\t\t}\r\n\t\t\treturn n;\r\n\t\t}\r\n\r\n\t\tsvg.Property.prototype.valueOrDefault = function(def) {\r\n\t\t\tif (this.hasValue()) return this.value;\r\n\t\t\treturn def;\r\n\t\t}\r\n\r\n\t\tsvg.Property.prototype.numValueOrDefault = function(def) {\r\n\t\t\tif (this.hasValue()) return this.numValue();\r\n\t\t\treturn def;\r\n\t\t}\r\n\r\n\t\t// color extensions\r\n\t\t\t// augment the current color value with the opacity\r\n\t\t\tsvg.Property.prototype.addOpacity = function(opacityProp) {\r\n\t\t\t\tvar newValue = this.value;\r\n\t\t\t\tif (opacityProp.value != null && opacityProp.value != '' && typeof this.value == 'string') { // can only add opacity to colors, not patterns\r\n\t\t\t\t\tvar color = new RGBColor(this.value);\r\n\t\t\t\t\tif (color.ok) {\r\n\t\t\t\t\t\tnewValue = 'rgba(' + color.r + ', ' + color.g + ', ' + color.b + ', ' + opacityProp.numValue() + ')';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn new svg.Property(this.name, newValue);\r\n\t\t\t}\r\n\r\n\t\t// definition extensions\r\n\t\t\t// get the definition from the definitions table\r\n\t\t\tsvg.Property.prototype.getDefinition = function() {\r\n\t\t\t\tvar name = this.value.match(/#([^\\)'\"]+)/);\r\n\t\t\t\tif (name) { name = name[1]; }\r\n\t\t\t\tif (!name) { name = this.value; }\r\n\t\t\t\treturn svg.Definitions[name];\r\n\t\t\t}\r\n\r\n\t\t\tsvg.Property.prototype.isUrlDefinition = function() {\r\n\t\t\t\treturn this.value.indexOf('url(') == 0\r\n\t\t\t}\r\n\r\n\t\t\tsvg.Property.prototype.getFillStyleDefinition = function(e, opacityProp) {\r\n\t\t\t\tvar def = this.getDefinition();\r\n\r\n\t\t\t\t// gradient\r\n\t\t\t\tif (def != null && def.createGradient) {\r\n\t\t\t\t\treturn def.createGradient(svg.ctx, e, opacityProp);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// pattern\r\n\t\t\t\tif (def != null && def.createPattern) {\r\n\t\t\t\t\tif (def.getHrefAttribute().hasValue()) {\r\n\t\t\t\t\t\tvar pt = def.attribute('patternTransform');\r\n\t\t\t\t\t\tdef = def.getHrefAttribute().getDefinition();\r\n\t\t\t\t\t\tif (pt.hasValue()) { def.attribute('patternTransform', true).value = pt.value; }\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn def.createPattern(svg.ctx, e);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\r\n\t\t// length extensions\r\n\t\t\tsvg.Property.prototype.getDPI = function(viewPort) {\r\n\t\t\t\treturn 96.0; // TODO: compute?\r\n\t\t\t}\r\n\r\n\t\t\tsvg.Property.prototype.getEM = function(viewPort) {\r\n\t\t\t\tvar em = 12;\r\n\r\n\t\t\t\tvar fontSize = new svg.Property('fontSize', svg.Font.Parse(svg.ctx.font).fontSize);\r\n\t\t\t\tif (fontSize.hasValue()) em = fontSize.toPixels(viewPort);\r\n\r\n\t\t\t\treturn em;\r\n\t\t\t}\r\n\r\n\t\t\tsvg.Property.prototype.getUnits = function() {\r\n\t\t\t\tvar s = this.value+'';\r\n\t\t\t\treturn s.replace(/[0-9\\.\\-]/g,'');\r\n\t\t\t}\r\n\r\n\t\t\t// get the length as pixels\r\n\t\t\tsvg.Property.prototype.toPixels = function(viewPort, processPercent) {\r\n\t\t\t\tif (!this.hasValue()) return 0;\r\n\t\t\t\tvar s = this.value+'';\r\n\t\t\t\tif (s.match(/em$/)) return this.numValue() * this.getEM(viewPort);\r\n\t\t\t\tif (s.match(/ex$/)) return this.numValue() * this.getEM(viewPort) / 2.0;\r\n\t\t\t\tif (s.match(/px$/)) return this.numValue();\r\n\t\t\t\tif (s.match(/pt$/)) return this.numValue() * this.getDPI(viewPort) * (1.0 / 72.0);\r\n\t\t\t\tif (s.match(/pc$/)) return this.numValue() * 15;\r\n\t\t\t\tif (s.match(/cm$/)) return this.numValue() * this.getDPI(viewPort) / 2.54;\r\n\t\t\t\tif (s.match(/mm$/)) return this.numValue() * this.getDPI(viewPort) / 25.4;\r\n\t\t\t\tif (s.match(/in$/)) return this.numValue() * this.getDPI(viewPort);\r\n\t\t\t\tif (s.match(/%$/)) return this.numValue() * svg.ViewPort.ComputeSize(viewPort);\r\n\t\t\t\tvar n = this.numValue();\r\n\t\t\t\tif (processPercent && n < 1.0) return n * svg.ViewPort.ComputeSize(viewPort);\r\n\t\t\t\treturn n;\r\n\t\t\t}\r\n\r\n\t\t// time extensions\r\n\t\t\t// get the time as milliseconds\r\n\t\t\tsvg.Property.prototype.toMilliseconds = function() {\r\n\t\t\t\tif (!this.hasValue()) return 0;\r\n\t\t\t\tvar s = this.value+'';\r\n\t\t\t\tif (s.match(/s$/)) return this.numValue() * 1000;\r\n\t\t\t\tif (s.match(/ms$/)) return this.numValue();\r\n\t\t\t\treturn this.numValue();\r\n\t\t\t}\r\n\r\n\t\t// angle extensions\r\n\t\t\t// get the angle as radians\r\n\t\t\tsvg.Property.prototype.toRadians = function() {\r\n\t\t\t\tif (!this.hasValue()) return 0;\r\n\t\t\t\tvar s = this.value+'';\r\n\t\t\t\tif (s.match(/deg$/)) return this.numValue() * (Math.PI / 180.0);\r\n\t\t\t\tif (s.match(/grad$/)) return this.numValue() * (Math.PI / 200.0);\r\n\t\t\t\tif (s.match(/rad$/)) return this.numValue();\r\n\t\t\t\treturn this.numValue() * (Math.PI / 180.0);\r\n\t\t\t}\r\n\r\n\t\t// text extensions\r\n\t\t\t// get the text baseline\r\n\t\t\tvar textBaselineMapping = {\r\n\t\t\t\t'baseline': 'alphabetic',\r\n\t\t\t\t'before-edge': 'top',\r\n\t\t\t\t'text-before-edge': 'top',\r\n\t\t\t\t'middle': 'middle',\r\n\t\t\t\t'central': 'middle',\r\n\t\t\t\t'after-edge': 'bottom',\r\n\t\t\t\t'text-after-edge': 'bottom',\r\n\t\t\t\t'ideographic': 'ideographic',\r\n\t\t\t\t'alphabetic': 'alphabetic',\r\n\t\t\t\t'hanging': 'hanging',\r\n\t\t\t\t'mathematical': 'alphabetic'\r\n\t\t\t};\r\n\t\t\tsvg.Property.prototype.toTextBaseline = function () {\r\n\t\t\t\tif (!this.hasValue()) return null;\r\n\t\t\t\treturn textBaselineMapping[this.value];\r\n\t\t\t}\r\n\r\n\t// fonts\r\n\tsvg.Font = new (function() {\r\n\t\tthis.Styles = 'normal|italic|oblique|inherit';\r\n\t\tthis.Variants = 'normal|small-caps|inherit';\r\n\t\tthis.Weights = 'normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit';\r\n\r\n\t\tthis.CreateFont = function(fontStyle, fontVariant, fontWeight, fontSize, fontFamily, inherit) {\r\n\t\t\tvar f = inherit != null ? this.Parse(inherit) : this.CreateFont('', '', '', '', '', svg.ctx.font);\r\n\t\t\treturn {\r\n\t\t\t\tfontFamily: fontFamily || f.fontFamily,\r\n\t\t\t\tfontSize: fontSize || f.fontSize,\r\n\t\t\t\tfontStyle: fontStyle || f.fontStyle,\r\n\t\t\t\tfontWeight: fontWeight || f.fontWeight,\r\n\t\t\t\tfontVariant: fontVariant || f.fontVariant,\r\n\t\t\t\ttoString: function () { return [this.fontStyle, this.fontVariant, this.fontWeight, this.fontSize, this.fontFamily].join(' ') }\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar that = this;\r\n\t\tthis.Parse = function(s) {\r\n\t\t\tvar f = {};\r\n\t\t\tvar d = svg.trim(svg.compressSpaces(s || '')).split(' ');\r\n\t\t\tvar set = { fontSize: false, fontStyle: false, fontWeight: false, fontVariant: false }\r\n\t\t\tvar ff = '';\r\n\t\t\tfor (var i=0; i<d.length; i++) {\r\n\t\t\t\tif (!set.fontStyle && that.Styles.indexOf(d[i]) != -1) { if (d[i] != 'inherit') f.fontStyle = d[i]; set.fontStyle = true; }\r\n\t\t\t\telse if (!set.fontVariant && that.Variants.indexOf(d[i]) != -1) { if (d[i] != 'inherit') f.fontVariant = d[i]; set.fontStyle = set.fontVariant = true;\t}\r\n\t\t\t\telse if (!set.fontWeight && that.Weights.indexOf(d[i]) != -1) {\tif (d[i] != 'inherit') f.fontWeight = d[i]; set.fontStyle = set.fontVariant = set.fontWeight = true; }\r\n\t\t\t\telse if (!set.fontSize) { if (d[i] != 'inherit') f.fontSize = d[i].split('/')[0]; set.fontStyle = set.fontVariant = set.fontWeight = set.fontSize = true; }\r\n\t\t\t\telse { if (d[i] != 'inherit') ff += d[i]; }\r\n\t\t\t} if (ff != '') f.fontFamily = ff;\r\n\t\t\treturn f;\r\n\t\t}\r\n\t});\r\n\r\n\t// points and paths\r\n\tsvg.ToNumberArray = function(s) {\r\n\t\tvar a = svg.trim(svg.compressSpaces((s || '').replace(/,/g, ' '))).split(' ');\r\n\t\tfor (var i=0; i<a.length; i++) {\r\n\t\t\ta[i] = parseFloat(a[i]);\r\n\t\t}\r\n\t\treturn a;\r\n\t}\r\n\tsvg.Point = function(x, y) {\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;\r\n\t}\r\n\t\tsvg.Point.prototype.angleTo = function(p) {\r\n\t\t\treturn Math.atan2(p.y - this.y, p.x - this.x);\r\n\t\t}\r\n\r\n\t\tsvg.Point.prototype.applyTransform = function(v) {\r\n\t\t\tvar xp = this.x * v[0] + this.y * v[2] + v[4];\r\n\t\t\tvar yp = this.x * v[1] + this.y * v[3] + v[5];\r\n\t\t\tthis.x = xp;\r\n\t\t\tthis.y = yp;\r\n\t\t}\r\n\r\n\tsvg.CreatePoint = function(s) {\r\n\t\tvar a = svg.ToNumberArray(s);\r\n\t\treturn new svg.Point(a[0], a[1]);\r\n\t}\r\n\tsvg.CreatePath = function(s) {\r\n\t\tvar a = svg.ToNumberArray(s);\r\n\t\tvar path = [];\r\n\t\tfor (var i=0; i<a.length; i+=2) {\r\n\t\t\tpath.push(new svg.Point(a[i], a[i+1]));\r\n\t\t}\r\n\t\treturn path;\r\n\t}\r\n\r\n\t// bounding box\r\n\tsvg.BoundingBox = function(x1, y1, x2, y2) { // pass in initial points if you want\r\n\t\tthis.x1 = Number.NaN;\r\n\t\tthis.y1 = Number.NaN;\r\n\t\tthis.x2 = Number.NaN;\r\n\t\tthis.y2 = Number.NaN;\r\n\r\n\t\tthis.x = function() { return this.x1; }\r\n\t\tthis.y = function() { return this.y1; }\r\n\t\tthis.width = function() { return this.x2 - this.x1; }\r\n\t\tthis.height = function() { return this.y2 - this.y1; }\r\n\r\n\t\tthis.addPoint = function(x, y) {\r\n\t\t\tif (x != null) {\r\n\t\t\t\tif (isNaN(this.x1) || isNaN(this.x2)) {\r\n\t\t\t\t\tthis.x1 = x;\r\n\t\t\t\t\tthis.x2 = x;\r\n\t\t\t\t}\r\n\t\t\t\tif (x < this.x1) this.x1 = x;\r\n\t\t\t\tif (x > this.x2) this.x2 = x;\r\n\t\t\t}\r\n\r\n\t\t\tif (y != null) {\r\n\t\t\t\tif (isNaN(this.y1) || isNaN(this.y2)) {\r\n\t\t\t\t\tthis.y1 = y;\r\n\t\t\t\t\tthis.y2 = y;\r\n\t\t\t\t}\r\n\t\t\t\tif (y < this.y1) this.y1 = y;\r\n\t\t\t\tif (y > this.y2) this.y2 = y;\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.addX = function(x) { this.addPoint(x, null); }\r\n\t\tthis.addY = function(y) { this.addPoint(null, y); }\r\n\r\n\t\tthis.addBoundingBox = function(bb) {\r\n\t\t\tthis.addPoint(bb.x1, bb.y1);\r\n\t\t\tthis.addPoint(bb.x2, bb.y2);\r\n\t\t}\r\n\r\n\t\tthis.addQuadraticCurve = function(p0x, p0y, p1x, p1y, p2x, p2y) {\r\n\t\t\tvar cp1x = p0x + 2/3 * (p1x - p0x); // CP1 = QP0 + 2/3 *(QP1-QP0)\r\n\t\t\tvar cp1y = p0y + 2/3 * (p1y - p0y); // CP1 = QP0 + 2/3 *(QP1-QP0)\r\n\t\t\tvar cp2x = cp1x + 1/3 * (p2x - p0x); // CP2 = CP1 + 1/3 *(QP2-QP0)\r\n\t\t\tvar cp2y = cp1y + 1/3 * (p2y - p0y); // CP2 = CP1 + 1/3 *(QP2-QP0)\r\n\t\t\tthis.addBezierCurve(p0x, p0y, cp1x, cp2x, cp1y,\tcp2y, p2x, p2y);\r\n\t\t}\r\n\r\n\t\tthis.addBezierCurve = function(p0x, p0y, p1x, p1y, p2x, p2y, p3x, p3y) {\r\n\t\t\t// from http://blog.hackers-cafe.net/2009/06/how-to-calculate-bezier-curves-bounding.html\r\n\t\t\tvar p0 = [p0x, p0y], p1 = [p1x, p1y], p2 = [p2x, p2y], p3 = [p3x, p3y];\r\n\t\t\tthis.addPoint(p0[0], p0[1]);\r\n\t\t\tthis.addPoint(p3[0], p3[1]);\r\n\r\n\t\t\tfor (var i=0; i<=1; i++) {\r\n\t\t\t\tvar f = function(t) {\r\n\t\t\t\t\treturn Math.pow(1-t, 3) * p0[i]\r\n\t\t\t\t\t+ 3 * Math.pow(1-t, 2) * t * p1[i]\r\n\t\t\t\t\t+ 3 * (1-t) * Math.pow(t, 2) * p2[i]\r\n\t\t\t\t\t+ Math.pow(t, 3) * p3[i];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar b = 6 * p0[i] - 12 * p1[i] + 6 * p2[i];\r\n\t\t\t\tvar a = -3 * p0[i] + 9 * p1[i] - 9 * p2[i] + 3 * p3[i];\r\n\t\t\t\tvar c = 3 * p1[i] - 3 * p0[i];\r\n\r\n\t\t\t\tif (a == 0) {\r\n\t\t\t\t\tif (b == 0) continue;\r\n\t\t\t\t\tvar t = -c / b;\r\n\t\t\t\t\tif (0 < t && t < 1) {\r\n\t\t\t\t\t\tif (i == 0) this.addX(f(t));\r\n\t\t\t\t\t\tif (i == 1) this.addY(f(t));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar b2ac = Math.pow(b, 2) - 4 * c * a;\r\n\t\t\t\tif (b2ac < 0) continue;\r\n\t\t\t\tvar t1 = (-b + Math.sqrt(b2ac)) / (2 * a);\r\n\t\t\t\tif (0 < t1 && t1 < 1) {\r\n\t\t\t\t\tif (i == 0) this.addX(f(t1));\r\n\t\t\t\t\tif (i == 1) this.addY(f(t1));\r\n\t\t\t\t}\r\n\t\t\t\tvar t2 = (-b - Math.sqrt(b2ac)) / (2 * a);\r\n\t\t\t\tif (0 < t2 && t2 < 1) {\r\n\t\t\t\t\tif (i == 0) this.addX(f(t2));\r\n\t\t\t\t\tif (i == 1) this.addY(f(t2));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.isPointInBox = function(x, y) {\r\n\t\t\treturn (this.x1 <= x && x <= this.x2 && this.y1 <= y && y <= this.y2);\r\n\t\t}\r\n\r\n\t\tthis.addPoint(x1, y1);\r\n\t\tthis.addPoint(x2, y2);\r\n\t}\r\n\r\n\t// transforms\r\n\tsvg.Transform = function(v) {\r\n\t\tvar that = this;\r\n\t\tthis.Type = {}\r\n\r\n\t\t// translate\r\n\t\tthis.Type.translate = function(s) {\r\n\t\t\tthis.p = svg.CreatePoint(s);\r\n\t\t\tthis.apply = function(ctx) {\r\n\t\t\t\tctx.translate(this.p.x || 0.0, this.p.y || 0.0);\r\n\t\t\t}\r\n\t\t\tthis.unapply = function(ctx) {\r\n\t\t\t\tctx.translate(-1.0 * this.p.x || 0.0, -1.0 * this.p.y || 0.0);\r\n\t\t\t}\r\n\t\t\tthis.applyToPoint = function(p) {\r\n\t\t\t\tp.applyTransform([1, 0, 0, 1, this.p.x || 0.0, this.p.y || 0.0]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// rotate\r\n\t\tthis.Type.rotate = function(s) {\r\n\t\t\tvar a = svg.ToNumberArray(s);\r\n\t\t\tthis.angle = new svg.Property('angle', a[0]);\r\n\t\t\tthis.cx = a[1] || 0;\r\n\t\t\tthis.cy = a[2] || 0;\r\n\t\t\tthis.apply = function(ctx) {\r\n\t\t\t\tctx.translate(this.cx, this.cy);\r\n\t\t\t\tctx.rotate(this.angle.toRadians());\r\n\t\t\t\tctx.translate(-this.cx, -this.cy);\r\n\t\t\t}\r\n\t\t\tthis.unapply = function(ctx) {\r\n\t\t\t\tctx.translate(this.cx, this.cy);\r\n\t\t\t\tctx.rotate(-1.0 * this.angle.toRadians());\r\n\t\t\t\tctx.translate(-this.cx, -this.cy);\r\n\t\t\t}\r\n\t\t\tthis.applyToPoint = function(p) {\r\n\t\t\t\tvar a = this.angle.toRadians();\r\n\t\t\t\tp.applyTransform([1, 0, 0, 1, this.p.x || 0.0, this.p.y || 0.0]);\r\n\t\t\t\tp.applyTransform([Math.cos(a), Math.sin(a), -Math.sin(a), Math.cos(a), 0, 0]);\r\n\t\t\t\tp.applyTransform([1, 0, 0, 1, -this.p.x || 0.0, -this.p.y || 0.0]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.Type.scale = function(s) {\r\n\t\t\tthis.p = svg.CreatePoint(s);\r\n\t\t\tthis.apply = function(ctx) {\r\n\t\t\t\tctx.scale(this.p.x || 1.0, this.p.y || this.p.x || 1.0);\r\n\t\t\t}\r\n\t\t\tthis.unapply = function(ctx) {\r\n\t\t\t\tctx.scale(1.0 / this.p.x || 1.0, 1.0 / this.p.y || this.p.x || 1.0);\r\n\t\t\t}\r\n\t\t\tthis.applyToPoint = function(p) {\r\n\t\t\t\tp.applyTransform([this.p.x || 0.0, 0, 0, this.p.y || 0.0, 0, 0]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.Type.matrix = function(s) {\r\n\t\t\tthis.m = svg.ToNumberArray(s);\r\n\t\t\tthis.apply = function(ctx) {\r\n\t\t\t\tctx.transform(this.m[0], this.m[1], this.m[2], this.m[3], this.m[4], this.m[5]);\r\n\t\t\t}\r\n\t\t\tthis.unapply = function(ctx) {\r\n\t\t\t\tvar a = this.m[0];\r\n\t\t\t\tvar b = this.m[2];\r\n\t\t\t\tvar c = this.m[4];\r\n\t\t\t\tvar d = this.m[1];\r\n\t\t\t\tvar e = this.m[3];\r\n\t\t\t\tvar f = this.m[5];\r\n\t\t\t\tvar g = 0.0;\r\n\t\t\t\tvar h = 0.0;\r\n\t\t\t\tvar i = 1.0;\r\n\t\t\t\tvar det = 1 / (a*(e*i-f*h)-b*(d*i-f*g)+c*(d*h-e*g));\r\n\t\t\t\tctx.transform(\r\n\t\t\t\t\tdet*(e*i-f*h),\r\n\t\t\t\t\tdet*(f*g-d*i),\r\n\t\t\t\t\tdet*(c*h-b*i),\r\n\t\t\t\t\tdet*(a*i-c*g),\r\n\t\t\t\t\tdet*(b*f-c*e),\r\n\t\t\t\t\tdet*(c*d-a*f)\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\tthis.applyToPoint = function(p) {\r\n\t\t\t\tp.applyTransform(this.m);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.Type.SkewBase = function(s) {\r\n\t\t\tthis.base = that.Type.matrix;\r\n\t\t\tthis.base(s);\r\n\t\t\tthis.angle = new svg.Property('angle', s);\r\n\t\t}\r\n\t\tthis.Type.SkewBase.prototype = new this.Type.matrix;\r\n\r\n\t\tthis.Type.skewX = function(s) {\r\n\t\t\tthis.base = that.Type.SkewBase;\r\n\t\t\tthis.base(s);\r\n\t\t\tthis.m = [1, 0, Math.tan(this.angle.toRadians()), 1, 0, 0];\r\n\t\t}\r\n\t\tthis.Type.skewX.prototype = new this.Type.SkewBase;\r\n\r\n\t\tthis.Type.skewY = function(s) {\r\n\t\t\tthis.base = that.Type.SkewBase;\r\n\t\t\tthis.base(s);\r\n\t\t\tthis.m = [1, Math.tan(this.angle.toRadians()), 0, 1, 0, 0];\r\n\t\t}\r\n\t\tthis.Type.skewY.prototype = new this.Type.SkewBase;\r\n\r\n\t\tthis.transforms = [];\r\n\r\n\t\tthis.apply = function(ctx) {\r\n\t\t\tfor (var i=0; i<this.transforms.length; i++) {\r\n\t\t\t\tthis.transforms[i].apply(ctx);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.unapply = function(ctx) {\r\n\t\t\tfor (var i=this.transforms.length-1; i>=0; i--) {\r\n\t\t\t\tthis.transforms[i].unapply(ctx);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.applyToPoint = function(p) {\r\n\t\t\tfor (var i=0; i<this.transforms.length; i++) {\r\n\t\t\t\tthis.transforms[i].applyToPoint(p);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar data = svg.trim(svg.compressSpaces(v)).replace(/\\)([a-zA-Z])/g, ') $1').replace(/\\)(\\s?,\\s?)/g,') ').split(/\\s(?=[a-z])/);\r\n\t\tfor (var i=0; i<data.length; i++) {\r\n\t\t\tvar type = svg.trim(data[i].split('(')[0]);\r\n\t\t\tvar s = data[i].split('(')[1].replace(')','');\r\n\t\t\tvar transformType = this.Type[type];\r\n\t\t\tif (typeof transformType != 'undefined') {\r\n\t\t\t\tvar transform = new transformType(s);\r\n\t\t\t\ttransform.type = type;\r\n\t\t\t\tthis.transforms.push(transform);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// aspect ratio\r\n\tsvg.AspectRatio = function(ctx, aspectRatio, width, desiredWidth, height, desiredHeight, minX, minY, refX, refY) {\r\n\t\t// aspect ratio - http://www.w3.org/TR/SVG/coords.html#PreserveAspectRatioAttribute\r\n\t\taspectRatio = svg.compressSpaces(aspectRatio);\r\n\t\taspectRatio = aspectRatio.replace(/^defer\\s/,''); // ignore defer\r\n\t\tvar align = aspectRatio.split(' ')[0] || 'xMidYMid';\r\n\t\tvar meetOrSlice = aspectRatio.split(' ')[1] || 'meet';\r\n\r\n\t\t// calculate scale\r\n\t\tvar scaleX = width / desiredWidth;\r\n\t\tvar scaleY = height / desiredHeight;\r\n\t\tvar scaleMin = Math.min(scaleX, scaleY);\r\n\t\tvar scaleMax = Math.max(scaleX, scaleY);\r\n\t\tif (meetOrSlice == 'meet') { desiredWidth *= scaleMin; desiredHeight *= scaleMin; }\r\n\t\tif (meetOrSlice == 'slice') { desiredWidth *= scaleMax; desiredHeight *= scaleMax; }\r\n\r\n\t\trefX = new svg.Property('refX', refX);\r\n\t\trefY = new svg.Property('refY', refY);\r\n\t\tif (refX.hasValue() && refY.hasValue()) {\r\n\t\t\tctx.translate(-scaleMin * refX.toPixels('x'), -scaleMin * refY.toPixels('y'));\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// align\r\n\t\t\tif (align.match(/^xMid/) && ((meetOrSlice == 'meet' && scaleMin == scaleY) || (meetOrSlice == 'slice' && scaleMax == scaleY))) ctx.translate(width / 2.0 - desiredWidth / 2.0, 0);\r\n\t\t\tif (align.match(/YMid$/) && ((meetOrSlice == 'meet' && scaleMin == scaleX) || (meetOrSlice == 'slice' && scaleMax == scaleX))) ctx.translate(0, height / 2.0 - desiredHeight / 2.0);\r\n\t\t\tif (align.match(/^xMax/) && ((meetOrSlice == 'meet' && scaleMin == scaleY) || (meetOrSlice == 'slice' && scaleMax == scaleY))) ctx.translate(width - desiredWidth, 0);\r\n\t\t\tif (align.match(/YMax$/) && ((meetOrSlice == 'meet' && scaleMin == scaleX) || (meetOrSlice == 'slice' && scaleMax == scaleX))) ctx.translate(0, height - desiredHeight);\r\n\t\t}\r\n\r\n\t\t// scale\r\n\t\tif (align == 'none') ctx.scale(scaleX, scaleY);\r\n\t\telse if (meetOrSlice == 'meet') ctx.scale(scaleMin, scaleMin);\r\n\t\telse if (meetOrSlice == 'slice') ctx.scale(scaleMax, scaleMax);\r\n\r\n\t\t// translate\r\n\t\tctx.translate(minX == null ? 0 : -minX, minY == null ? 0 : -minY);\r\n\t}\r\n\r\n\t// elements\r\n\tsvg.Element = {}\r\n\r\n\tsvg.EmptyProperty = new svg.Property('EMPTY', '');\r\n\r\n\tsvg.Element.ElementBase = function(node) {\r\n\t\tthis.attributes = {};\r\n\t\tthis.styles = {};\r\n\t\tthis.stylesSpecificity = {};\r\n\t\tthis.children = [];\r\n\r\n\t\t// get or create attribute\r\n\t\tthis.attribute = function(name, createIfNotExists) {\r\n\t\t\tvar a = this.attributes[name];\r\n\t\t\tif (a != null) return a;\r\n\r\n\t\t\tif (createIfNotExists == true) { a = new svg.Property(name, ''); this.attributes[name] = a; }\r\n\t\t\treturn a || svg.EmptyProperty;\r\n\t\t}\r\n\r\n\t\tthis.getHrefAttribute = function() {\r\n\t\t\tfor (var a in this.attributes) {\r\n\t\t\t\tif (a == 'href' || a.match(/:href$/)) {\r\n\t\t\t\t\treturn this.attributes[a];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn svg.EmptyProperty;\r\n\t\t}\r\n\r\n\t\t// get or create style, crawls up node tree\r\n\t\tthis.style = function(name, createIfNotExists, skipAncestors) {\r\n\t\t\tvar s = this.styles[name];\r\n\t\t\tif (s != null) return s;\r\n\r\n\t\t\tvar a = this.attribute(name);\r\n\t\t\tif (a != null && a.hasValue()) {\r\n\t\t\t\tthis.styles[name] = a; // move up to me to cache\r\n\t\t\t\treturn a;\r\n\t\t\t}\r\n\r\n\t\t\tif (skipAncestors != true) {\r\n\t\t\t\tvar p = this.parent;\r\n\t\t\t\tif (p != null) {\r\n\t\t\t\t\tvar ps = p.style(name);\r\n\t\t\t\t\tif (ps != null && ps.hasValue()) {\r\n\t\t\t\t\t\treturn ps;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (createIfNotExists == true) { s = new svg.Property(name, ''); this.styles[name] = s; }\r\n\t\t\treturn s || svg.EmptyProperty;\r\n\t\t}\r\n\r\n\t\t// base render\r\n\t\tthis.render = function(ctx) {\r\n\t\t\t// don't render display=none\r\n\t\t\tif (this.style('display').value == 'none') return;\r\n\r\n\t\t\t// don't render visibility=hidden\r\n\t\t\tif (this.style('visibility').value == 'hidden') return;\r\n\r\n\t\t\tctx.save();\r\n\t\t\tif (this.style('mask').hasValue()) { // mask\r\n\t\t\t\tvar mask = this.style('mask').getDefinition();\r\n\t\t\t\tif (mask != null) mask.apply(ctx, this);\r\n\t\t\t}\r\n\t\t\telse if (this.style('filter').hasValue()) { // filter\r\n\t\t\t\tvar filter = this.style('filter').getDefinition();\r\n\t\t\t\tif (filter != null) filter.apply(ctx, this);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.setContext(ctx);\r\n\t\t\t\tthis.renderChildren(ctx);\r\n\t\t\t\tthis.clearContext(ctx);\r\n\t\t\t}\r\n\t\t\tctx.restore();\r\n\t\t}\r\n\r\n\t\t// base set context\r\n\t\tthis.setContext = function(ctx) {\r\n\t\t\t// OVERRIDE ME!\r\n\t\t}\r\n\r\n\t\t// base clear context\r\n\t\tthis.clearContext = function(ctx) {\r\n\t\t\t// OVERRIDE ME!\r\n\t\t}\r\n\r\n\t\t// base render children\r\n\t\tthis.renderChildren = function(ctx) {\r\n\t\t\tfor (var i=0; i<this.children.length; i++) {\r\n\t\t\t\tthis.children[i].render(ctx);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.addChild = function(childNode, create) {\r\n\t\t\tvar child = childNode;\r\n\t\t\tif (create) child = svg.CreateElement(childNode);\r\n\t\t\tchild.parent = this;\r\n\t\t\tif (child.type != 'title') { this.children.push(child);\t}\r\n\t\t}\r\n\r\n\t\tthis.addStylesFromStyleDefinition = function () {\r\n\t\t\t// add styles\r\n\t\t\tfor (var selector in svg.Styles) {\r\n\t\t\t\tif (selector[0] != '@' && matchesSelector(node, selector)) {\r\n\t\t\t\t\tvar styles = svg.Styles[selector];\r\n\t\t\t\t\tvar specificity = svg.StylesSpecificity[selector];\r\n\t\t\t\t\tif (styles != null) {\r\n\t\t\t\t\t\tfor (var name in styles) {\r\n\t\t\t\t\t\t\tvar existingSpecificity = this.stylesSpecificity[name];\r\n\t\t\t\t\t\t\tif (typeof existingSpecificity == 'undefined') {\r\n\t\t\t\t\t\t\t\texistingSpecificity = '000';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (specificity > existingSpecificity) {\r\n\t\t\t\t\t\t\t\tthis.styles[name] = styles[name];\r\n\t\t\t\t\t\t\t\tthis.stylesSpecificity[name] = specificity;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tif (node != null && node.nodeType == 1) { //ELEMENT_NODE\r\n\t\t\t// add attributes\r\n\t\t\tfor (var i=0; i<node.attributes.length; i++) {\r\n\t\t\t\tvar attribute = node.attributes[i];\r\n\t\t\t\tthis.attributes[attribute.nodeName] = new svg.Property(attribute.nodeName, attribute.value);\r\n\t\t\t}\r\n\r\n\t\t\tthis.addStylesFromStyleDefinition();\r\n\r\n\t\t\t// add inline styles\r\n\t\t\tif (this.attribute('style').hasValue()) {\r\n\t\t\t\tvar styles = this.attribute('style').value.split(';');\r\n\t\t\t\tfor (var i=0; i<styles.length; i++) {\r\n\t\t\t\t\tif (svg.trim(styles[i]) != '') {\r\n\t\t\t\t\t\tvar style = styles[i].split(':');\r\n\t\t\t\t\t\tvar name = svg.trim(style[0]);\r\n\t\t\t\t\t\tvar value = svg.trim(style[1]);\r\n\t\t\t\t\t\tthis.styles[name] = new svg.Property(name, value);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// add id\r\n\t\t\tif (this.attribute('id').hasValue()) {\r\n\t\t\t\tif (svg.Definitions[this.attribute('id').value] == null) {\r\n\t\t\t\t\tsvg.Definitions[this.attribute('id').value] = this;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// add children\r\n\t\t\tfor (var i=0; i<node.childNodes.length; i++) {\r\n\t\t\t\tvar childNode = node.childNodes[i];\r\n\t\t\t\tif (childNode.nodeType == 1) this.addChild(childNode, true); //ELEMENT_NODE\r\n\t\t\t\tif (this.captureTextNodes && (childNode.nodeType == 3 || childNode.nodeType == 4)) {\r\n\t\t\t\t\tvar text = childNode.value || childNode.text || childNode.textContent || '';\r\n\t\t\t\t\tif (svg.compressSpaces(text) != '') {\r\n\t\t\t\t\t\tthis.addChild(new svg.Element.tspan(childNode), false); // TEXT_NODE\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tsvg.Element.RenderedElementBase = function(node) {\r\n\t\tthis.base = svg.Element.ElementBase;\r\n\t\tthis.base(node);\r\n\r\n\t\tthis.setContext = function(ctx) {\r\n\t\t\t// fill\r\n\t\t\tif (this.style('fill').isUrlDefinition()) {\r\n\t\t\t\tvar fs = this.style('fill').getFillStyleDefinition(this, this.style('fill-opacity'));\r\n\t\t\t\tif (fs != null) ctx.fillStyle = fs;\r\n\t\t\t}\r\n\t\t\telse if (this.style('fill').hasValue()) {\r\n\t\t\t\tvar fillStyle = this.style('fill');\r\n\t\t\t\tif (fillStyle.value == 'currentColor') fillStyle.value = this.style('color').value;\r\n\t\t\t\tif (fillStyle.value != 'inherit') ctx.fillStyle = (fillStyle.value == 'none' ? 'rgba(0,0,0,0)' : fillStyle.value);\r\n\t\t\t}\r\n\t\t\tif (this.style('fill-opacity').hasValue()) {\r\n\t\t\t\tvar fillStyle = new svg.Property('fill', ctx.fillStyle);\r\n\t\t\t\tfillStyle = fillStyle.addOpacity(this.style('fill-opacity'));\r\n\t\t\t\tctx.fillStyle = fillStyle.value;\r\n\t\t\t}\r\n\r\n\t\t\t// stroke\r\n\t\t\tif (this.style('stroke').isUrlDefinition()) {\r\n\t\t\t\tvar fs = this.style('stroke').getFillStyleDefinition(this, this.style('stroke-opacity'));\r\n\t\t\t\tif (fs != null) ctx.strokeStyle = fs;\r\n\t\t\t}\r\n\t\t\telse if (this.style('stroke').hasValue()) {\r\n\t\t\t\tvar strokeStyle = this.style('stroke');\r\n\t\t\t\tif (strokeStyle.value == 'currentColor') strokeStyle.value = this.style('color').value;\r\n\t\t\t\tif (strokeStyle.value != 'inherit') ctx.strokeStyle = (strokeStyle.value == 'none' ? 'rgba(0,0,0,0)' : strokeStyle.value);\r\n\t\t\t}\r\n\t\t\tif (this.style('stroke-opacity').hasValue()) {\r\n\t\t\t\tvar strokeStyle = new svg.Property('stroke', ctx.strokeStyle);\r\n\t\t\t\tstrokeStyle = strokeStyle.addOpacity(this.style('stroke-opacity'));\r\n\t\t\t\tctx.strokeStyle = strokeStyle.value;\r\n\t\t\t}\r\n\t\t\tif (this.style('stroke-width').hasValue()) {\r\n\t\t\t\tvar newLineWidth = this.style('stroke-width').toPixels();\r\n\t\t\t\tctx.lineWidth = newLineWidth == 0 ? 0.001 : newLineWidth; // browsers don't respect 0\r\n\t\t    }\r\n\t\t\tif (this.style('stroke-linecap').hasValue()) ctx.lineCap = this.style('stroke-linecap').value;\r\n\t\t\tif (this.style('stroke-linejoin').hasValue()) ctx.lineJoin = this.style('stroke-linejoin').value;\r\n\t\t\tif (this.style('stroke-miterlimit').hasValue()) ctx.miterLimit = this.style('stroke-miterlimit').value;\r\n\t\t\tif (this.style('stroke-dasharray').hasValue() && this.style('stroke-dasharray').value != 'none') {\r\n\t\t\t\tvar gaps = svg.ToNumberArray(this.style('stroke-dasharray').value);\r\n\t\t\t\tif (typeof ctx.setLineDash != 'undefined') { ctx.setLineDash(gaps); }\r\n\t\t\t\telse if (typeof ctx.webkitLineDash != 'undefined') { ctx.webkitLineDash = gaps; }\r\n\t\t\t\telse if (typeof ctx.mozDash != 'undefined' && !(gaps.length==1 && gaps[0]==0)) { ctx.mozDash = gaps; }\r\n\r\n\t\t\t\tvar offset = this.style('stroke-dashoffset').numValueOrDefault(1);\r\n\t\t\t\tif (typeof ctx.lineDashOffset != 'undefined') { ctx.lineDashOffset = offset; }\r\n\t\t\t\telse if (typeof ctx.webkitLineDashOffset != 'undefined') { ctx.webkitLineDashOffset = offset; }\r\n\t\t\t\telse if (typeof ctx.mozDashOffset != 'undefined') { ctx.mozDashOffset = offset; }\r\n\t\t\t}\r\n\r\n\t\t\t// font\r\n\t\t\tif (typeof ctx.font != 'undefined') {\r\n\t\t\t\tctx.font = svg.Font.CreateFont(\r\n\t\t\t\t\tthis.style('font-style').value,\r\n\t\t\t\t\tthis.style('font-variant').value,\r\n\t\t\t\t\tthis.style('font-weight').value,\r\n\t\t\t\t\tthis.style('font-size').hasValue() ? this.style('font-size').toPixels() + 'px' : '',\r\n\t\t\t\t\tthis.style('font-family').value).toString();\r\n\t\t\t}\r\n\r\n\t\t\t// transform\r\n\t\t\tif (this.style('transform', false, true).hasValue()) {\r\n\t\t\t\tvar transform = new svg.Transform(this.style('transform', false, true).value);\r\n\t\t\t\ttransform.apply(ctx);\r\n\t\t\t}\r\n\r\n\t\t\t// clip\r\n\t\t\tif (this.style('clip-path', false, true).hasValue()) {\r\n\t\t\t\tvar clip = this.style('clip-path', false, true).getDefinition();\r\n\t\t\t\tif (clip != null) clip.apply(ctx);\r\n\t\t\t}\r\n\r\n\t\t\t// opacity\r\n\t\t\tif (this.style('opacity').hasValue()) {\r\n\t\t\t\tctx.globalAlpha = this.style('opacity').numValue();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tsvg.Element.RenderedElementBase.prototype = new svg.Element.ElementBase;\r\n\r\n\tsvg.Element.PathElementBase = function(node) {\r\n\t\tthis.base = svg.Element.RenderedElementBase;\r\n\t\tthis.base(node);\r\n\r\n\t\tthis.path = function(ctx) {\r\n\t\t\tif (ctx != null) ctx.beginPath();\r\n\t\t\treturn new svg.BoundingBox();\r\n\t\t}\r\n\r\n\t\tthis.renderChildren = function(ctx) {\r\n\t\t\tthis.path(ctx);\r\n\t\t\tsvg.Mouse.checkPath(this, ctx);\r\n\t\t\tif (ctx.fillStyle != '') {\r\n\t\t\t\tif (this.style('fill-rule').valueOrDefault('inherit') != 'inherit') { ctx.fill(this.style('fill-rule').value); }\r\n\t\t\t\telse { ctx.fill(); }\r\n\t\t\t}\r\n\t\t\tif (ctx.strokeStyle != '') ctx.stroke();\r\n\r\n\t\t\tvar markers = this.getMarkers();\r\n\t\t\tif (markers != null) {\r\n\t\t\t\tif (this.style('marker-start').isUrlDefinition()) {\r\n\t\t\t\t\tvar marker = this.style('marker-start').getDefinition();\r\n\t\t\t\t\tmarker.render(ctx, markers[0][0], markers[0][1]);\r\n\t\t\t\t}\r\n\t\t\t\tif (this.style('marker-mid').isUrlDefinition()) {\r\n\t\t\t\t\tvar marker = this.style('marker-mid').getDefinition();\r\n\t\t\t\t\tfor (var i=1;i<markers.length-1;i++) {\r\n\t\t\t\t\t\tmarker.render(ctx, markers[i][0], markers[i][1]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (this.style('marker-end').isUrlDefinition()) {\r\n\t\t\t\t\tvar marker = this.style('marker-end').getDefinition();\r\n\t\t\t\t\tmarker.render(ctx, markers[markers.length-1][0], markers[markers.length-1][1]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.getBoundingBox = function() {\r\n\t\t\treturn this.path();\r\n\t\t}\r\n\r\n\t\tthis.getMarkers = function() {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\tsvg.Element.PathElementBase.prototype = new svg.Element.RenderedElementBase;\r\n\r\n\t// svg element\r\n\tsvg.Element.svg = function(node) {\r\n\t\tthis.base = svg.Element.RenderedElementBase;\r\n\t\tthis.base(node);\r\n\r\n\t\tthis.baseClearContext = this.clearContext;\r\n\t\tthis.clearContext = function(ctx) {\r\n\t\t\tthis.baseClearContext(ctx);\r\n\t\t\tsvg.ViewPort.RemoveCurrent();\r\n\t\t}\r\n\r\n\t\tthis.baseSetContext = this.setContext;\r\n\t\tthis.setContext = function(ctx) {\r\n\t\t\t// initial values and defaults\r\n\t\t\tctx.strokeStyle = 'rgba(0,0,0,0)';\r\n\t\t\tctx.lineCap = 'butt';\r\n\t\t\tctx.lineJoin = 'miter';\r\n\t\t\tctx.miterLimit = 4;\r\n\t\t\tif (typeof ctx.font != 'undefined' && typeof window.getComputedStyle != 'undefined') {\r\n\t\t\t\tctx.font = window.getComputedStyle(ctx.canvas).getPropertyValue('font');\r\n\t\t\t}\r\n\r\n\t\t\tthis.baseSetContext(ctx);\r\n\r\n\t\t\t// create new view port\r\n\t\t\tif (!this.attribute('x').hasValue()) this.attribute('x', true).value = 0;\r\n\t\t\tif (!this.attribute('y').hasValue()) this.attribute('y', true).value = 0;\r\n\t\t\tctx.translate(this.attribute('x').toPixels('x'), this.attribute('y').toPixels('y'));\r\n\r\n\t\t\tvar width = svg.ViewPort.width();\r\n\t\t\tvar height = svg.ViewPort.height();\r\n\r\n\t\t\tif (!this.attribute('width').hasValue()) this.attribute('width', true).value = '100%';\r\n\t\t\tif (!this.attribute('height').hasValue()) this.attribute('height', true).value = '100%';\r\n\t\t\tif (typeof this.root == 'undefined') {\r\n\t\t\t\twidth = this.attribute('width').toPixels('x');\r\n\t\t\t\theight = this.attribute('height').toPixels('y');\r\n\r\n\t\t\t\tvar x = 0;\r\n\t\t\t\tvar y = 0;\r\n\t\t\t\tif (this.attribute('refX').hasValue() && this.attribute('refY').hasValue()) {\r\n\t\t\t\t\tx = -this.attribute('refX').toPixels('x');\r\n\t\t\t\t\ty = -this.attribute('refY').toPixels('y');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.attribute('overflow').valueOrDefault('hidden') != 'visible') {\r\n\t\t\t\t\tctx.beginPath();\r\n\t\t\t\t\tctx.moveTo(x, y);\r\n\t\t\t\t\tctx.lineTo(width, y);\r\n\t\t\t\t\tctx.lineTo(width, height);\r\n\t\t\t\t\tctx.lineTo(x, height);\r\n\t\t\t\t\tctx.closePath();\r\n\t\t\t\t\tctx.clip();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tsvg.ViewPort.SetCurrent(width, height);\r\n\r\n\t\t\t// viewbox\r\n\t\t\tif (this.attribute('viewBox').hasValue()) {\r\n\t\t\t\tvar viewBox = svg.ToNumberArray(this.attribute('viewBox').value);\r\n\t\t\t\tvar minX = viewBox[0];\r\n\t\t\t\tvar minY = viewBox[1];\r\n\t\t\t\twidth = viewBox[2];\r\n\t\t\t\theight = viewBox[3];\r\n\r\n\t\t\t\tsvg.AspectRatio(ctx,\r\n\t\t\t\t\t\t\t\tthis.attribute('preserveAspectRatio').value,\r\n\t\t\t\t\t\t\t\tsvg.ViewPort.width(),\r\n\t\t\t\t\t\t\t\twidth,\r\n\t\t\t\t\t\t\t\tsvg.ViewPort.height(),\r\n\t\t\t\t\t\t\t\theight,\r\n\t\t\t\t\t\t\t\tminX,\r\n\t\t\t\t\t\t\t\tminY,\r\n\t\t\t\t\t\t\t\tthis.attribute('refX').value,\r\n\t\t\t\t\t\t\t\tthis.attribute('refY').value);\r\n\r\n\t\t\t\tsvg.ViewPort.RemoveCurrent();\r\n\t\t\t\tsvg.ViewPort.SetCurrent(viewBox[2], viewBox[3]);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tsvg.Element.svg.prototype = new svg.Element.RenderedElementBase;\r\n\r\n\t// rect element\r\n\tsvg.Element.rect = function(node) {\r\n\t\tthis.base = svg.Element.PathElementBase;\r\n\t\tthis.base(node);\r\n\r\n\t\tthis.path = function(ctx) {\r\n\t\t\tvar x = this.attribute('x').toPixels('x');\r\n\t\t\tvar y = this.attribute('y').toPixels('y');\r\n\t\t\tvar width = this.attribute('width').toPixels('x');\r\n\t\t\tvar height = this.attribute('height').toPixels('y');\r\n\t\t\tvar rx = this.attribute('rx').toPixels('x');\r\n\t\t\tvar ry = this.attribute('ry').toPixels('y');\r\n\t\t\tif (this.attribute('rx').hasValue() && !this.attribute('ry').hasValue()) ry = rx;\r\n\t\t\tif (this.attribute('ry').hasValue() && !this.attribute('rx').hasValue()) rx = ry;\r\n\t\t\trx = Math.min(rx, width / 2.0);\r\n\t\t\try = Math.min(ry, height / 2.0);\r\n\t\t\tif (ctx != null) {\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tctx.moveTo(x + rx, y);\r\n\t\t\t\tctx.lineTo(x + width - rx, y);\r\n\t\t\t\tctx.quadraticCurveTo(x + width, y, x + width, y + ry)\r\n\t\t\t\tctx.lineTo(x + width, y + height - ry);\r\n\t\t\t\tctx.quadraticCurveTo(x + width, y + height, x + width - rx, y + height)\r\n\t\t\t\tctx.lineTo(x + rx, y + height);\r\n\t\t\t\tctx.quadraticCurveTo(x, y + height, x, y + height - ry)\r\n\t\t\t\tctx.lineTo(x, y + ry);\r\n\t\t\t\tctx.quadraticCurveTo(x, y, x + rx, y)\r\n\t\t\t\tctx.closePath();\r\n\t\t\t}\r\n\r\n\t\t\treturn new svg.BoundingBox(x, y, x + width, y + height);\r\n\t\t}\r\n\t}\r\n\tsvg.Element.rect.prototype = new svg.Element.PathElementBase;\r\n\r\n\t// circle element\r\n\tsvg.Element.circle = function(node) {\r\n\t\tthis.base = svg.Element.PathElementBase;\r\n\t\tthis.base(node);\r\n\r\n\t\tthis.path = function(ctx) {\r\n\t\t\tvar cx = this.attribute('cx').toPixels('x');\r\n\t\t\tvar cy = this.attribute('cy').toPixels('y');\r\n\t\t\tvar r = this.attribute('r').toPixels();\r\n\r\n\t\t\tif (ctx != null) {\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tctx.arc(cx, cy, r, 0, Math.PI * 2, true);\r\n\t\t\t\tctx.closePath();\r\n\t\t\t}\r\n\r\n\t\t\treturn new svg.BoundingBox(cx - r, cy - r, cx + r, cy + r);\r\n\t\t}\r\n\t}\r\n\tsvg.Element.circle.prototype = new svg.Element.PathElementBase;\r\n\r\n\t// ellipse element\r\n\tsvg.Element.ellipse = function(node) {\r\n\t\tthis.base = svg.Element.PathElementBase;\r\n\t\tthis.base(node);\r\n\r\n\t\tthis.path = function(ctx) {\r\n\t\t\tvar KAPPA = 4 * ((Math.sqrt(2) - 1) / 3);\r\n\t\t\tvar rx = this.attribute('rx').toPixels('x');\r\n\t\t\tvar ry = this.attribute('ry').toPixels('y');\r\n\t\t\tvar cx = this.attribute('cx').toPixels('x');\r\n\t\t\tvar cy = this.attribute('cy').toPixels('y');\r\n\r\n\t\t\tif (ctx != null) {\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tctx.moveTo(cx, cy - ry);\r\n\t\t\t\tctx.bezierCurveTo(cx + (KAPPA * rx), cy - ry,  cx + rx, cy - (KAPPA * ry), cx + rx, cy);\r\n\t\t\t\tctx.bezierCurveTo(cx + rx, cy + (KAPPA * ry), cx + (KAPPA * rx), cy + ry, cx, cy + ry);\r\n\t\t\t\tctx.bezierCurveTo(cx - (KAPPA * rx), cy + ry, cx - rx, cy + (KAPPA * ry), cx - rx, cy);\r\n\t\t\t\tctx.bezierCurveTo(cx - rx, cy - (KAPPA * ry), cx - (KAPPA * rx), cy - ry, cx, cy - ry);\r\n\t\t\t\tctx.closePath();\r\n\t\t\t}\r\n\r\n\t\t\treturn new svg.BoundingBox(cx - rx, cy - ry, cx + rx, cy + ry);\r\n\t\t}\r\n\t}\r\n\tsvg.Element.ellipse.prototype = new svg.Element.PathElementBase;\r\n\r\n\t// line element\r\n\tsvg.Element.line = function(node) {\r\n\t\tthis.base = svg.Element.PathElementBase;\r\n\t\tthis.base(node);\r\n\r\n\t\tthis.getPoints = function() {\r\n\t\t\treturn [\r\n\t\t\t\tnew svg.Point(this.attribute('x1').toPixels('x'), this.attribute('y1').toPixels('y')),\r\n\t\t\t\tnew svg.Point(this.attribute('x2').toPixels('x'), this.attribute('y2').toPixels('y'))];\r\n\t\t}\r\n\r\n\t\tthis.path = function(ctx) {\r\n\t\t\tvar points = this.getPoints();\r\n\r\n\t\t\tif (ctx != null) {\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tctx.moveTo(points[0].x, points[0].y);\r\n\t\t\t\tctx.lineTo(points[1].x, points[1].y);\r\n\t\t\t}\r\n\r\n\t\t\treturn new svg.BoundingBox(points[0].x, points[0].y, points[1].x, points[1].y);\r\n\t\t}\r\n\r\n\t\tthis.getMarkers = function() {\r\n\t\t\tvar points = this.getPoints();\r\n\t\t\tvar a = points[0].angleTo(points[1]);\r\n\t\t\treturn [[points[0], a], [points[1], a]];\r\n\t\t}\r\n\t}\r\n\tsvg.Element.line.prototype = new svg.Element.PathElementBase;\r\n\r\n\t// polyline element\r\n\tsvg.Element.polyline = function(node) {\r\n\t\tthis.base = svg.Element.PathElementBase;\r\n\t\tthis.base(node);\r\n\r\n\t\tthis.points = svg.CreatePath(this.attribute('points').value);\r\n\t\tthis.path = function(ctx) {\r\n\t\t\tvar bb = new svg.BoundingBox(this.points[0].x, this.points[0].y);\r\n\t\t\tif (ctx != null) {\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tctx.moveTo(this.points[0].x, this.points[0].y);\r\n\t\t\t}\r\n\t\t\tfor (var i=1; i<this.points.length; i++) {\r\n\t\t\t\tbb.addPoint(this.points[i].x, this.points[i].y);\r\n\t\t\t\tif (ctx != null) ctx.lineTo(this.points[i].x, this.points[i].y);\r\n\t\t\t}\r\n\t\t\treturn bb;\r\n\t\t}\r\n\r\n\t\tthis.getMarkers = function() {\r\n\t\t\tvar markers = [];\r\n\t\t\tfor (var i=0; i<this.points.length - 1; i++) {\r\n\t\t\t\tmarkers.push([this.points[i], this.points[i].angleTo(this.points[i+1])]);\r\n\t\t\t}\r\n\t\t\tif (markers.length > 0) {\r\n\t\t\t\tmarkers.push([this.points[this.points.length-1], markers[markers.length-1][1]]);\r\n\t\t\t}\r\n\t\t\treturn markers;\r\n\t\t}\r\n\t}\r\n\tsvg.Element.polyline.prototype = new svg.Element.PathElementBase;\r\n\r\n\t// polygon element\r\n\tsvg.Element.polygon = function(node) {\r\n\t\tthis.base = svg.Element.polyline;\r\n\t\tthis.base(node);\r\n\r\n\t\tthis.basePath = this.path;\r\n\t\tthis.path = function(ctx) {\r\n\t\t\tvar bb = this.basePath(ctx);\r\n\t\t\tif (ctx != null) {\r\n\t\t\t\tctx.lineTo(this.points[0].x, this.points[0].y);\r\n\t\t\t\tctx.closePath();\r\n\t\t\t}\r\n\t\t\treturn bb;\r\n\t\t}\r\n\t}\r\n\tsvg.Element.polygon.prototype = new svg.Element.polyline;\r\n\r\n\t// path element\r\n\tsvg.Element.path = function(node) {\r\n\t\tthis.base = svg.Element.PathElementBase;\r\n\t\tthis.base(node);\r\n\r\n\t\tvar d = this.attribute('d').value;\r\n\t\t// TODO: convert to real lexer based on http://www.w3.org/TR/SVG11/paths.html#PathDataBNF\r\n\t\td = d.replace(/,/gm,' '); // get rid of all commas\r\n\t\t// As the end of a match can also be the start of the next match, we need to run this replace twice.\r\n\t\tfor(var i=0; i<2; i++)\r\n\t\t\td = d.replace(/([MmZzLlHhVvCcSsQqTtAa])([^\\s])/gm,'$1 $2'); // suffix commands with spaces\r\n\t\td = d.replace(/([^\\s])([MmZzLlHhVvCcSsQqTtAa])/gm,'$1 $2'); // prefix commands with spaces\r\n\t\td = d.replace(/([0-9])([+\\-])/gm,'$1 $2'); // separate digits on +- signs\r\n\t\t// Again, we need to run this twice to find all occurances\r\n\t\tfor(var i=0; i<2; i++)\r\n\t\t\td = d.replace(/(\\.[0-9]*)(\\.)/gm,'$1 $2'); // separate digits when they start with a comma\r\n\t\td = d.replace(/([Aa](\\s+[0-9]+){3})\\s+([01])\\s*([01])/gm,'$1 $3 $4 '); // shorthand elliptical arc path syntax\r\n\t\td = svg.compressSpaces(d); // compress multiple spaces\r\n\t\td = svg.trim(d);\r\n\t\tthis.PathParser = new (function(d) {\r\n\t\t\tthis.tokens = d.split(' ');\r\n\r\n\t\t\tthis.reset = function() {\r\n\t\t\t\tthis.i = -1;\r\n\t\t\t\tthis.command = '';\r\n\t\t\t\tthis.previousCommand = '';\r\n\t\t\t\tthis.start = new svg.Point(0, 0);\r\n\t\t\t\tthis.control = new svg.Point(0, 0);\r\n\t\t\t\tthis.current = new svg.Point(0, 0);\r\n\t\t\t\tthis.points = [];\r\n\t\t\t\tthis.angles = [];\r\n\t\t\t}\r\n\r\n\t\t\tthis.isEnd = function() {\r\n\t\t\t\treturn this.i >= this.tokens.length - 1;\r\n\t\t\t}\r\n\r\n\t\t\tthis.isCommandOrEnd = function() {\r\n\t\t\t\tif (this.isEnd()) return true;\r\n\t\t\t\treturn this.tokens[this.i + 1].match(/^[A-Za-z]$/) != null;\r\n\t\t\t}\r\n\r\n\t\t\tthis.isRelativeCommand = function() {\r\n\t\t\t\tswitch(this.command)\r\n\t\t\t\t{\r\n\t\t\t\t\tcase 'm':\r\n\t\t\t\t\tcase 'l':\r\n\t\t\t\t\tcase 'h':\r\n\t\t\t\t\tcase 'v':\r\n\t\t\t\t\tcase 'c':\r\n\t\t\t\t\tcase 's':\r\n\t\t\t\t\tcase 'q':\r\n\t\t\t\t\tcase 't':\r\n\t\t\t\t\tcase 'a':\r\n\t\t\t\t\tcase 'z':\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tthis.getToken = function() {\r\n\t\t\t\tthis.i++;\r\n\t\t\t\treturn this.tokens[this.i];\r\n\t\t\t}\r\n\r\n\t\t\tthis.getScalar = function() {\r\n\t\t\t\treturn parseFloat(this.getToken());\r\n\t\t\t}\r\n\r\n\t\t\tthis.nextCommand = function() {\r\n\t\t\t\tthis.previousCommand = this.command;\r\n\t\t\t\tthis.command = this.getToken();\r\n\t\t\t}\r\n\r\n\t\t\tthis.getPoint = function() {\r\n\t\t\t\tvar p = new svg.Point(this.getScalar(), this.getScalar());\r\n\t\t\t\treturn this.makeAbsolute(p);\r\n\t\t\t}\r\n\r\n\t\t\tthis.getAsControlPoint = function() {\r\n\t\t\t\tvar p = this.getPoint();\r\n\t\t\t\tthis.control = p;\r\n\t\t\t\treturn p;\r\n\t\t\t}\r\n\r\n\t\t\tthis.getAsCurrentPoint = function() {\r\n\t\t\t\tvar p = this.getPoint();\r\n\t\t\t\tthis.current = p;\r\n\t\t\t\treturn p;\r\n\t\t\t}\r\n\r\n\t\t\tthis.getReflectedControlPoint = function() {\r\n\t\t\t\tif (this.previousCommand.toLowerCase() != 'c' &&\r\n\t\t\t\t    this.previousCommand.toLowerCase() != 's' &&\r\n\t\t\t\t\tthis.previousCommand.toLowerCase() != 'q' &&\r\n\t\t\t\t\tthis.previousCommand.toLowerCase() != 't' ){\r\n\t\t\t\t\treturn this.current;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// reflect point\r\n\t\t\t\tvar p = new svg.Point(2 * this.current.x - this.control.x, 2 * this.current.y - this.control.y);\r\n\t\t\t\treturn p;\r\n\t\t\t}\r\n\r\n\t\t\tthis.makeAbsolute = function(p) {\r\n\t\t\t\tif (this.isRelativeCommand()) {\r\n\t\t\t\t\tp.x += this.current.x;\r\n\t\t\t\t\tp.y += this.current.y;\r\n\t\t\t\t}\r\n\t\t\t\treturn p;\r\n\t\t\t}\r\n\r\n\t\t\tthis.addMarker = function(p, from, priorTo) {\r\n\t\t\t\t// if the last angle isn't filled in because we didn't have this point yet ...\r\n\t\t\t\tif (priorTo != null && this.angles.length > 0 && this.angles[this.angles.length-1] == null) {\r\n\t\t\t\t\tthis.angles[this.angles.length-1] = this.points[this.points.length-1].angleTo(priorTo);\r\n\t\t\t\t}\r\n\t\t\t\tthis.addMarkerAngle(p, from == null ? null : from.angleTo(p));\r\n\t\t\t}\r\n\r\n\t\t\tthis.addMarkerAngle = function(p, a) {\r\n\t\t\t\tthis.points.push(p);\r\n\t\t\t\tthis.angles.push(a);\r\n\t\t\t}\r\n\r\n\t\t\tthis.getMarkerPoints = function() { return this.points; }\r\n\t\t\tthis.getMarkerAngles = function() {\r\n\t\t\t\tfor (var i=0; i<this.angles.length; i++) {\r\n\t\t\t\t\tif (this.angles[i] == null) {\r\n\t\t\t\t\t\tfor (var j=i+1; j<this.angles.length; j++) {\r\n\t\t\t\t\t\t\tif (this.angles[j] != null) {\r\n\t\t\t\t\t\t\t\tthis.angles[i] = this.angles[j];\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn this.angles;\r\n\t\t\t}\r\n\t\t})(d);\r\n\r\n\t\tthis.path = function(ctx) {\r\n\t\t\tvar pp = this.PathParser;\r\n\t\t\tpp.reset();\r\n\r\n\t\t\tvar bb = new svg.BoundingBox();\r\n\t\t\tif (ctx != null) ctx.beginPath();\r\n\t\t\twhile (!pp.isEnd()) {\r\n\t\t\t\tpp.nextCommand();\r\n\t\t\t\tswitch (pp.command) {\r\n\t\t\t\tcase 'M':\r\n\t\t\t\tcase 'm':\r\n\t\t\t\t\tvar p = pp.getAsCurrentPoint();\r\n\t\t\t\t\tpp.addMarker(p);\r\n\t\t\t\t\tbb.addPoint(p.x, p.y);\r\n\t\t\t\t\tif (ctx != null) ctx.moveTo(p.x, p.y);\r\n\t\t\t\t\tpp.start = pp.current;\r\n\t\t\t\t\twhile (!pp.isCommandOrEnd()) {\r\n\t\t\t\t\t\tvar p = pp.getAsCurrentPoint();\r\n\t\t\t\t\t\tpp.addMarker(p, pp.start);\r\n\t\t\t\t\t\tbb.addPoint(p.x, p.y);\r\n\t\t\t\t\t\tif (ctx != null) ctx.lineTo(p.x, p.y);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'L':\r\n\t\t\t\tcase 'l':\r\n\t\t\t\t\twhile (!pp.isCommandOrEnd()) {\r\n\t\t\t\t\t\tvar c = pp.current;\r\n\t\t\t\t\t\tvar p = pp.getAsCurrentPoint();\r\n\t\t\t\t\t\tpp.addMarker(p, c);\r\n\t\t\t\t\t\tbb.addPoint(p.x, p.y);\r\n\t\t\t\t\t\tif (ctx != null) ctx.lineTo(p.x, p.y);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'H':\r\n\t\t\t\tcase 'h':\r\n\t\t\t\t\twhile (!pp.isCommandOrEnd()) {\r\n\t\t\t\t\t\tvar newP = new svg.Point((pp.isRelativeCommand() ? pp.current.x : 0) + pp.getScalar(), pp.current.y);\r\n\t\t\t\t\t\tpp.addMarker(newP, pp.current);\r\n\t\t\t\t\t\tpp.current = newP;\r\n\t\t\t\t\t\tbb.addPoint(pp.current.x, pp.current.y);\r\n\t\t\t\t\t\tif (ctx != null) ctx.lineTo(pp.current.x, pp.current.y);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'V':\r\n\t\t\t\tcase 'v':\r\n\t\t\t\t\twhile (!pp.isCommandOrEnd()) {\r\n\t\t\t\t\t\tvar newP = new svg.Point(pp.current.x, (pp.isRelativeCommand() ? pp.current.y : 0) + pp.getScalar());\r\n\t\t\t\t\t\tpp.addMarker(newP, pp.current);\r\n\t\t\t\t\t\tpp.current = newP;\r\n\t\t\t\t\t\tbb.addPoint(pp.current.x, pp.current.y);\r\n\t\t\t\t\t\tif (ctx != null) ctx.lineTo(pp.current.x, pp.current.y);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'C':\r\n\t\t\t\tcase 'c':\r\n\t\t\t\t\twhile (!pp.isCommandOrEnd()) {\r\n\t\t\t\t\t\tvar curr = pp.current;\r\n\t\t\t\t\t\tvar p1 = pp.getPoint();\r\n\t\t\t\t\t\tvar cntrl = pp.getAsControlPoint();\r\n\t\t\t\t\t\tvar cp = pp.getAsCurrentPoint();\r\n\t\t\t\t\t\tpp.addMarker(cp, cntrl, p1);\r\n\t\t\t\t\t\tbb.addBezierCurve(curr.x, curr.y, p1.x, p1.y, cntrl.x, cntrl.y, cp.x, cp.y);\r\n\t\t\t\t\t\tif (ctx != null) ctx.bezierCurveTo(p1.x, p1.y, cntrl.x, cntrl.y, cp.x, cp.y);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'S':\r\n\t\t\t\tcase 's':\r\n\t\t\t\t\twhile (!pp.isCommandOrEnd()) {\r\n\t\t\t\t\t\tvar curr = pp.current;\r\n\t\t\t\t\t\tvar p1 = pp.getReflectedControlPoint();\r\n\t\t\t\t\t\tvar cntrl = pp.getAsControlPoint();\r\n\t\t\t\t\t\tvar cp = pp.getAsCurrentPoint();\r\n\t\t\t\t\t\tpp.addMarker(cp, cntrl, p1);\r\n\t\t\t\t\t\tbb.addBezierCurve(curr.x, curr.y, p1.x, p1.y, cntrl.x, cntrl.y, cp.x, cp.y);\r\n\t\t\t\t\t\tif (ctx != null) ctx.bezierCurveTo(p1.x, p1.y, cntrl.x, cntrl.y, cp.x, cp.y);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Q':\r\n\t\t\t\tcase 'q':\r\n\t\t\t\t\twhile (!pp.isCommandOrEnd()) {\r\n\t\t\t\t\t\tvar curr = pp.current;\r\n\t\t\t\t\t\tvar cntrl = pp.getAsControlPoint();\r\n\t\t\t\t\t\tvar cp = pp.getAsCurrentPoint();\r\n\t\t\t\t\t\tpp.addMarker(cp, cntrl, cntrl);\r\n\t\t\t\t\t\tbb.addQuadraticCurve(curr.x, curr.y, cntrl.x, cntrl.y, cp.x, cp.y);\r\n\t\t\t\t\t\tif (ctx != null) ctx.quadraticCurveTo(cntrl.x, cntrl.y, cp.x, cp.y);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'T':\r\n\t\t\t\tcase 't':\r\n\t\t\t\t\twhile (!pp.isCommandOrEnd()) {\r\n\t\t\t\t\t\tvar curr = pp.current;\r\n\t\t\t\t\t\tvar cntrl = pp.getReflectedControlPoint();\r\n\t\t\t\t\t\tpp.control = cntrl;\r\n\t\t\t\t\t\tvar cp = pp.getAsCurrentPoint();\r\n\t\t\t\t\t\tpp.addMarker(cp, cntrl, cntrl);\r\n\t\t\t\t\t\tbb.addQuadraticCurve(curr.x, curr.y, cntrl.x, cntrl.y, cp.x, cp.y);\r\n\t\t\t\t\t\tif (ctx != null) ctx.quadraticCurveTo(cntrl.x, cntrl.y, cp.x, cp.y);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'A':\r\n\t\t\t\tcase 'a':\r\n\t\t\t\t\twhile (!pp.isCommandOrEnd()) {\r\n\t\t\t\t\t    var curr = pp.current;\r\n\t\t\t\t\t\tvar rx = pp.getScalar();\r\n\t\t\t\t\t\tvar ry = pp.getScalar();\r\n\t\t\t\t\t\tvar xAxisRotation = pp.getScalar() * (Math.PI / 180.0);\r\n\t\t\t\t\t\tvar largeArcFlag = pp.getScalar();\r\n\t\t\t\t\t\tvar sweepFlag = pp.getScalar();\r\n\t\t\t\t\t\tvar cp = pp.getAsCurrentPoint();\r\n\r\n\t\t\t\t\t\t// Conversion from endpoint to center parameterization\r\n\t\t\t\t\t\t// http://www.w3.org/TR/SVG11/implnote.html#ArcImplementationNotes\r\n\t\t\t\t\t\t// x1', y1'\r\n\t\t\t\t\t\tvar currp = new svg.Point(\r\n\t\t\t\t\t\t\tMath.cos(xAxisRotation) * (curr.x - cp.x) / 2.0 + Math.sin(xAxisRotation) * (curr.y - cp.y) / 2.0,\r\n\t\t\t\t\t\t\t-Math.sin(xAxisRotation) * (curr.x - cp.x) / 2.0 + Math.cos(xAxisRotation) * (curr.y - cp.y) / 2.0\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\t// adjust radii\r\n\t\t\t\t\t\tvar l = Math.pow(currp.x,2)/Math.pow(rx,2)+Math.pow(currp.y,2)/Math.pow(ry,2);\r\n\t\t\t\t\t\tif (l > 1) {\r\n\t\t\t\t\t\t\trx *= Math.sqrt(l);\r\n\t\t\t\t\t\t\try *= Math.sqrt(l);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// cx', cy'\r\n\t\t\t\t\t\tvar s = (largeArcFlag == sweepFlag ? -1 : 1) * Math.sqrt(\r\n\t\t\t\t\t\t\t((Math.pow(rx,2)*Math.pow(ry,2))-(Math.pow(rx,2)*Math.pow(currp.y,2))-(Math.pow(ry,2)*Math.pow(currp.x,2))) /\r\n\t\t\t\t\t\t\t(Math.pow(rx,2)*Math.pow(currp.y,2)+Math.pow(ry,2)*Math.pow(currp.x,2))\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tif (isNaN(s)) s = 0;\r\n\t\t\t\t\t\tvar cpp = new svg.Point(s * rx * currp.y / ry, s * -ry * currp.x / rx);\r\n\t\t\t\t\t\t// cx, cy\r\n\t\t\t\t\t\tvar centp = new svg.Point(\r\n\t\t\t\t\t\t\t(curr.x + cp.x) / 2.0 + Math.cos(xAxisRotation) * cpp.x - Math.sin(xAxisRotation) * cpp.y,\r\n\t\t\t\t\t\t\t(curr.y + cp.y) / 2.0 + Math.sin(xAxisRotation) * cpp.x + Math.cos(xAxisRotation) * cpp.y\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\t// vector magnitude\r\n\t\t\t\t\t\tvar m = function(v) { return Math.sqrt(Math.pow(v[0],2) + Math.pow(v[1],2)); }\r\n\t\t\t\t\t\t// ratio between two vectors\r\n\t\t\t\t\t\tvar r = function(u, v) { return (u[0]*v[0]+u[1]*v[1]) / (m(u)*m(v)) }\r\n\t\t\t\t\t\t// angle between two vectors\r\n\t\t\t\t\t\tvar a = function(u, v) { return (u[0]*v[1] < u[1]*v[0] ? -1 : 1) * Math.acos(r(u,v)); }\r\n\t\t\t\t\t\t// initial angle\r\n\t\t\t\t\t\tvar a1 = a([1,0], [(currp.x-cpp.x)/rx,(currp.y-cpp.y)/ry]);\r\n\t\t\t\t\t\t// angle delta\r\n\t\t\t\t\t\tvar u = [(currp.x-cpp.x)/rx,(currp.y-cpp.y)/ry];\r\n\t\t\t\t\t\tvar v = [(-currp.x-cpp.x)/rx,(-currp.y-cpp.y)/ry];\r\n\t\t\t\t\t\tvar ad = a(u, v);\r\n\t\t\t\t\t\tif (r(u,v) <= -1) ad = Math.PI;\r\n\t\t\t\t\t\tif (r(u,v) >= 1) ad = 0;\r\n\r\n\t\t\t\t\t\t// for markers\r\n\t\t\t\t\t\tvar dir = 1 - sweepFlag ? 1.0 : -1.0;\r\n\t\t\t\t\t\tvar ah = a1 + dir * (ad / 2.0);\r\n\t\t\t\t\t\tvar halfWay = new svg.Point(\r\n\t\t\t\t\t\t\tcentp.x + rx * Math.cos(ah),\r\n\t\t\t\t\t\t\tcentp.y + ry * Math.sin(ah)\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tpp.addMarkerAngle(halfWay, ah - dir * Math.PI / 2);\r\n\t\t\t\t\t\tpp.addMarkerAngle(cp, ah - dir * Math.PI);\r\n\r\n\t\t\t\t\t\tbb.addPoint(cp.x, cp.y); // TODO: this is too naive, make it better\r\n\t\t\t\t\t\tif (ctx != null) {\r\n\t\t\t\t\t\t\tvar r = rx > ry ? rx : ry;\r\n\t\t\t\t\t\t\tvar sx = rx > ry ? 1 : rx / ry;\r\n\t\t\t\t\t\t\tvar sy = rx > ry ? ry / rx : 1;\r\n\r\n\t\t\t\t\t\t\tctx.translate(centp.x, centp.y);\r\n\t\t\t\t\t\t\tctx.rotate(xAxisRotation);\r\n\t\t\t\t\t\t\tctx.scale(sx, sy);\r\n\t\t\t\t\t\t\tctx.arc(0, 0, r, a1, a1 + ad, 1 - sweepFlag);\r\n\t\t\t\t\t\t\tctx.scale(1/sx, 1/sy);\r\n\t\t\t\t\t\t\tctx.rotate(-xAxisRotation);\r\n\t\t\t\t\t\t\tctx.translate(-centp.x, -centp.y);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Z':\r\n\t\t\t\tcase 'z':\r\n\t\t\t\t\tif (ctx != null) ctx.closePath();\r\n\t\t\t\t\tpp.current = pp.start;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn bb;\r\n\t\t}\r\n\r\n\t\tthis.getMarkers = function() {\r\n\t\t\tvar points = this.PathParser.getMarkerPoints();\r\n\t\t\tvar angles = this.PathParser.getMarkerAngles();\r\n\r\n\t\t\tvar markers = [];\r\n\t\t\tfor (var i=0; i<points.length; i++) {\r\n\t\t\t\tmarkers.push([points[i], angles[i]]);\r\n\t\t\t}\r\n\t\t\treturn markers;\r\n\t\t}\r\n\t}\r\n\tsvg.Element.path.prototype = new svg.Element.PathElementBase;\r\n\r\n\t// pattern element\r\n\tsvg.Element.pattern = function(node) {\r\n\t\tthis.base = svg.Element.ElementBase;\r\n\t\tthis.base(node);\r\n\r\n\t\tthis.createPattern = function(ctx, element) {\r\n\t\t\tvar width = this.attribute('width').toPixels('x', true);\r\n\t\t\tvar height = this.attribute('height').toPixels('y', true);\r\n\r\n\t\t\t// render me using a temporary svg element\r\n\t\t\tvar tempSvg = new svg.Element.svg();\r\n\t\t\ttempSvg.attributes['viewBox'] = new svg.Property('viewBox', this.attribute('viewBox').value);\r\n\t\t\ttempSvg.attributes['width'] = new svg.Property('width', width + 'px');\r\n\t\t\ttempSvg.attributes['height'] = new svg.Property('height', height + 'px');\r\n\t\t\ttempSvg.attributes['transform'] = new svg.Property('transform', this.attribute('patternTransform').value);\r\n\t\t\ttempSvg.children = this.children;\r\n\r\n\t\t\tvar c = document.createElement('canvas');\r\n\t\t\tc.width = width;\r\n\t\t\tc.height = height;\r\n\t\t\tvar cctx = c.getContext('2d');\r\n\t\t\tif (this.attribute('x').hasValue() && this.attribute('y').hasValue()) {\r\n\t\t\t\tcctx.translate(this.attribute('x').toPixels('x', true), this.attribute('y').toPixels('y', true));\r\n\t\t\t}\r\n\t\t\t// render 3x3 grid so when we transform there's no white space on edges\r\n\t\t\tfor (var x=-1; x<=1; x++) {\r\n\t\t\t\tfor (var y=-1; y<=1; y++) {\r\n\t\t\t\t\tcctx.save();\r\n\t\t\t\t\ttempSvg.attributes['x'] = new svg.Property('x', x * c.width);\r\n\t\t\t\t\ttempSvg.attributes['y'] = new svg.Property('y', y * c.height);\r\n\t\t\t\t\ttempSvg.render(cctx);\r\n\t\t\t\t\tcctx.restore();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar pattern = ctx.createPattern(c, 'repeat');\r\n\t\t\treturn pattern;\r\n\t\t}\r\n\t}\r\n\tsvg.Element.pattern.prototype = new svg.Element.ElementBase;\r\n\r\n\t// marker element\r\n\tsvg.Element.marker = function(node) {\r\n\t\tthis.base = svg.Element.ElementBase;\r\n\t\tthis.base(node);\r\n\r\n\t\tthis.baseRender = this.render;\r\n\t\tthis.render = function(ctx, point, angle) {\r\n\t\t\tctx.translate(point.x, point.y);\r\n\t\t\tif (this.attribute('orient').valueOrDefault('auto') == 'auto') ctx.rotate(angle);\r\n\t\t\tif (this.attribute('markerUnits').valueOrDefault('strokeWidth') == 'strokeWidth') ctx.scale(ctx.lineWidth, ctx.lineWidth);\r\n\t\t\tctx.save();\r\n\r\n\t\t\t// render me using a temporary svg element\r\n\t\t\tvar tempSvg = new svg.Element.svg();\r\n\t\t\ttempSvg.attributes['viewBox'] = new svg.Property('viewBox', this.attribute('viewBox').value);\r\n\t\t\ttempSvg.attributes['refX'] = new svg.Property('refX', this.attribute('refX').value);\r\n\t\t\ttempSvg.attributes['refY'] = new svg.Property('refY', this.attribute('refY').value);\r\n\t\t\ttempSvg.attributes['width'] = new svg.Property('width', this.attribute('markerWidth').value);\r\n\t\t\ttempSvg.attributes['height'] = new svg.Property('height', this.attribute('markerHeight').value);\r\n\t\t\ttempSvg.attributes['fill'] = new svg.Property('fill', this.attribute('fill').valueOrDefault('black'));\r\n\t\t\ttempSvg.attributes['stroke'] = new svg.Property('stroke', this.attribute('stroke').valueOrDefault('none'));\r\n\t\t\ttempSvg.children = this.children;\r\n\t\t\ttempSvg.render(ctx);\r\n\r\n\t\t\tctx.restore();\r\n\t\t\tif (this.attribute('markerUnits').valueOrDefault('strokeWidth') == 'strokeWidth') ctx.scale(1/ctx.lineWidth, 1/ctx.lineWidth);\r\n\t\t\tif (this.attribute('orient').valueOrDefault('auto') == 'auto') ctx.rotate(-angle);\r\n\t\t\tctx.translate(-point.x, -point.y);\r\n\t\t}\r\n\t}\r\n\tsvg.Element.marker.prototype = new svg.Element.ElementBase;\r\n\r\n\t// definitions element\r\n\tsvg.Element.defs = function(node) {\r\n\t\tthis.base = svg.Element.ElementBase;\r\n\t\tthis.base(node);\r\n\r\n\t\tthis.render = function(ctx) {\r\n\t\t\t// NOOP\r\n\t\t}\r\n\t}\r\n\tsvg.Element.defs.prototype = new svg.Element.ElementBase;\r\n\r\n\t// base for gradients\r\n\tsvg.Element.GradientBase = function(node) {\r\n\t\tthis.base = svg.Element.ElementBase;\r\n\t\tthis.base(node);\r\n\r\n\t\tthis.stops = [];\r\n\t\tfor (var i=0; i<this.children.length; i++) {\r\n\t\t\tvar child = this.children[i];\r\n\t\t\tif (child.type == 'stop') this.stops.push(child);\r\n\t\t}\r\n\r\n\t\tthis.getGradient = function() {\r\n\t\t\t// OVERRIDE ME!\r\n\t\t}\r\n\r\n\t\tthis.gradientUnits = function () {\r\n\t\t\treturn this.attribute('gradientUnits').valueOrDefault('objectBoundingBox');\r\n\t\t}\r\n\r\n\t\tthis.attributesToInherit = ['gradientUnits'];\r\n\r\n\t\tthis.inheritStopContainer = function (stopsContainer) {\r\n\t\t\tfor (var i=0; i<this.attributesToInherit.length; i++) {\r\n\t\t\t\tvar attributeToInherit = this.attributesToInherit[i];\r\n\t\t\t\tif (!this.attribute(attributeToInherit).hasValue() && stopsContainer.attribute(attributeToInherit).hasValue()) {\r\n\t\t\t\t\tthis.attribute(attributeToInherit, true).value = stopsContainer.attribute(attributeToInherit).value;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.createGradient = function(ctx, element, parentOpacityProp) {\r\n\t\t\tvar stopsContainer = this;\r\n\t\t\tif (this.getHrefAttribute().hasValue()) {\r\n\t\t\t\tstopsContainer = this.getHrefAttribute().getDefinition();\r\n\t\t\t\tthis.inheritStopContainer(stopsContainer);\r\n\t\t\t}\r\n\r\n\t\t\tvar addParentOpacity = function (color) {\r\n\t\t\t\tif (parentOpacityProp.hasValue()) {\r\n\t\t\t\t\tvar p = new svg.Property('color', color);\r\n\t\t\t\t\treturn p.addOpacity(parentOpacityProp).value;\r\n\t\t\t\t}\r\n\t\t\t\treturn color;\r\n\t\t\t};\r\n\r\n\t\t\tvar g = this.getGradient(ctx, element);\r\n\t\t\tif (g == null) return addParentOpacity(stopsContainer.stops[stopsContainer.stops.length - 1].color);\r\n\t\t\tfor (var i=0; i<stopsContainer.stops.length; i++) {\r\n\t\t\t\tg.addColorStop(stopsContainer.stops[i].offset, addParentOpacity(stopsContainer.stops[i].color));\r\n\t\t\t}\r\n\r\n\t\t\tif (this.attribute('gradientTransform').hasValue()) {\r\n\t\t\t\t// render as transformed pattern on temporary canvas\r\n\t\t\t\tvar rootView = svg.ViewPort.viewPorts[0];\r\n\r\n\t\t\t\tvar rect = new svg.Element.rect();\r\n\t\t\t\trect.attributes['x'] = new svg.Property('x', -svg.MAX_VIRTUAL_PIXELS/3.0);\r\n\t\t\t\trect.attributes['y'] = new svg.Property('y', -svg.MAX_VIRTUAL_PIXELS/3.0);\r\n\t\t\t\trect.attributes['width'] = new svg.Property('width', svg.MAX_VIRTUAL_PIXELS);\r\n\t\t\t\trect.attributes['height'] = new svg.Property('height', svg.MAX_VIRTUAL_PIXELS);\r\n\r\n\t\t\t\tvar group = new svg.Element.g();\r\n\t\t\t\tgroup.attributes['transform'] = new svg.Property('transform', this.attribute('gradientTransform').value);\r\n\t\t\t\tgroup.children = [ rect ];\r\n\r\n\t\t\t\tvar tempSvg = new svg.Element.svg();\r\n\t\t\t\ttempSvg.attributes['x'] = new svg.Property('x', 0);\r\n\t\t\t\ttempSvg.attributes['y'] = new svg.Property('y', 0);\r\n\t\t\t\ttempSvg.attributes['width'] = new svg.Property('width', rootView.width);\r\n\t\t\t\ttempSvg.attributes['height'] = new svg.Property('height', rootView.height);\r\n\t\t\t\ttempSvg.children = [ group ];\r\n\r\n\t\t\t\tvar c = document.createElement('canvas');\r\n\t\t\t\tc.width = rootView.width;\r\n\t\t\t\tc.height = rootView.height;\r\n\t\t\t\tvar tempCtx = c.getContext('2d');\r\n\t\t\t\ttempCtx.fillStyle = g;\r\n\t\t\t\ttempSvg.render(tempCtx);\r\n\t\t\t\treturn tempCtx.createPattern(c, 'no-repeat');\r\n\t\t\t}\r\n\r\n\t\t\treturn g;\r\n\t\t}\r\n\t}\r\n\tsvg.Element.GradientBase.prototype = new svg.Element.ElementBase;\r\n\r\n\t// linear gradient element\r\n\tsvg.Element.linearGradient = function(node) {\r\n\t\tthis.base = svg.Element.GradientBase;\r\n\t\tthis.base(node);\r\n\r\n\t\tthis.attributesToInherit.push('x1');\r\n\t\tthis.attributesToInherit.push('y1');\r\n\t\tthis.attributesToInherit.push('x2');\r\n\t\tthis.attributesToInherit.push('y2');\r\n\r\n\t\tthis.getGradient = function(ctx, element) {\r\n\t\t\tvar bb = this.gradientUnits() == 'objectBoundingBox' ? element.getBoundingBox() : null;\r\n\r\n\t\t\tif (!this.attribute('x1').hasValue()\r\n\t\t\t && !this.attribute('y1').hasValue()\r\n\t\t\t && !this.attribute('x2').hasValue()\r\n\t\t\t && !this.attribute('y2').hasValue()) {\r\n\t\t\t\tthis.attribute('x1', true).value = 0;\r\n\t\t\t\tthis.attribute('y1', true).value = 0;\r\n\t\t\t\tthis.attribute('x2', true).value = 1;\r\n\t\t\t\tthis.attribute('y2', true).value = 0;\r\n\t\t\t }\r\n\r\n\t\t\tvar x1 = (this.gradientUnits() == 'objectBoundingBox'\r\n\t\t\t\t? bb.x() + bb.width() * this.attribute('x1').numValue()\r\n\t\t\t\t: this.attribute('x1').toPixels('x'));\r\n\t\t\tvar y1 = (this.gradientUnits() == 'objectBoundingBox'\r\n\t\t\t\t? bb.y() + bb.height() * this.attribute('y1').numValue()\r\n\t\t\t\t: this.attribute('y1').toPixels('y'));\r\n\t\t\tvar x2 = (this.gradientUnits() == 'objectBoundingBox'\r\n\t\t\t\t? bb.x() + bb.width() * this.attribute('x2').numValue()\r\n\t\t\t\t: this.attribute('x2').toPixels('x'));\r\n\t\t\tvar y2 = (this.gradientUnits() == 'objectBoundingBox'\r\n\t\t\t\t? bb.y() + bb.height() * this.attribute('y2').numValue()\r\n\t\t\t\t: this.attribute('y2').toPixels('y'));\r\n\r\n\t\t\tif (x1 == x2 && y1 == y2) return null;\r\n\t\t\treturn ctx.createLinearGradient(x1, y1, x2, y2);\r\n\t\t}\r\n\t}\r\n\tsvg.Element.linearGradient.prototype = new svg.Element.GradientBase;\r\n\r\n\t// radial gradient element\r\n\tsvg.Element.radialGradient = function(node) {\r\n\t\tthis.base = svg.Element.GradientBase;\r\n\t\tthis.base(node);\r\n\r\n\t\tthis.attributesToInherit.push('cx');\r\n\t\tthis.attributesToInherit.push('cy');\r\n\t\tthis.attributesToInherit.push('r');\r\n\t\tthis.attributesToInherit.push('fx');\r\n\t\tthis.attributesToInherit.push('fy');\r\n\r\n\t\tthis.getGradient = function(ctx, element) {\r\n\t\t\tvar bb = element.getBoundingBox();\r\n\r\n\t\t\tif (!this.attribute('cx').hasValue()) this.attribute('cx', true).value = '50%';\r\n\t\t\tif (!this.attribute('cy').hasValue()) this.attribute('cy', true).value = '50%';\r\n\t\t\tif (!this.attribute('r').hasValue()) this.attribute('r', true).value = '50%';\r\n\r\n\t\t\tvar cx = (this.gradientUnits() == 'objectBoundingBox'\r\n\t\t\t\t? bb.x() + bb.width() * this.attribute('cx').numValue()\r\n\t\t\t\t: this.attribute('cx').toPixels('x'));\r\n\t\t\tvar cy = (this.gradientUnits() == 'objectBoundingBox'\r\n\t\t\t\t? bb.y() + bb.height() * this.attribute('cy').numValue()\r\n\t\t\t\t: this.attribute('cy').toPixels('y'));\r\n\r\n\t\t\tvar fx = cx;\r\n\t\t\tvar fy = cy;\r\n\t\t\tif (this.attribute('fx').hasValue()) {\r\n\t\t\t\tfx = (this.gradientUnits() == 'objectBoundingBox'\r\n\t\t\t\t? bb.x() + bb.width() * this.attribute('fx').numValue()\r\n\t\t\t\t: this.attribute('fx').toPixels('x'));\r\n\t\t\t}\r\n\t\t\tif (this.attribute('fy').hasValue()) {\r\n\t\t\t\tfy = (this.gradientUnits() == 'objectBoundingBox'\r\n\t\t\t\t? bb.y() + bb.height() * this.attribute('fy').numValue()\r\n\t\t\t\t: this.attribute('fy').toPixels('y'));\r\n\t\t\t}\r\n\r\n\t\t\tvar r = (this.gradientUnits() == 'objectBoundingBox'\r\n\t\t\t\t? (bb.width() + bb.height()) / 2.0 * this.attribute('r').numValue()\r\n\t\t\t\t: this.attribute('r').toPixels());\r\n\r\n\t\t\treturn ctx.createRadialGradient(fx, fy, 0, cx, cy, r);\r\n\t\t}\r\n\t}\r\n\tsvg.Element.radialGradient.prototype = new svg.Element.GradientBase;\r\n\r\n\t// gradient stop element\r\n\tsvg.Element.stop = function(node) {\r\n\t\tthis.base = svg.Element.ElementBase;\r\n\t\tthis.base(node);\r\n\r\n\t\tthis.offset = this.attribute('offset').numValue();\r\n\t\tif (this.offset < 0) this.offset = 0;\r\n\t\tif (this.offset > 1) this.offset = 1;\r\n\r\n\t\tvar stopColor = this.style('stop-color', true);\r\n\t\tif (stopColor.value == '') stopColor.value = '#000';\r\n\t\tif (this.style('stop-opacity').hasValue()) stopColor = stopColor.addOpacity(this.style('stop-opacity'));\r\n\t\tthis.color = stopColor.value;\r\n\t}\r\n\tsvg.Element.stop.prototype = new svg.Element.ElementBase;\r\n\r\n\t// animation base element\r\n\tsvg.Element.AnimateBase = function(node) {\r\n\t\tthis.base = svg.Element.ElementBase;\r\n\t\tthis.base(node);\r\n\r\n\t\tsvg.Animations.push(this);\r\n\r\n\t\tthis.duration = 0.0;\r\n\t\tthis.begin = this.attribute('begin').toMilliseconds();\r\n\t\tthis.maxDuration = this.begin + this.attribute('dur').toMilliseconds();\r\n\r\n\t\tthis.getProperty = function() {\r\n\t\t\tvar attributeType = this.attribute('attributeType').value;\r\n\t\t\tvar attributeName = this.attribute('attributeName').value;\r\n\r\n\t\t\tif (attributeType == 'CSS') {\r\n\t\t\t\treturn this.parent.style(attributeName, true);\r\n\t\t\t}\r\n\t\t\treturn this.parent.attribute(attributeName, true);\r\n\t\t};\r\n\r\n\t\tthis.initialValue = null;\r\n\t\tthis.initialUnits = '';\r\n\t\tthis.removed = false;\r\n\r\n\t\tthis.calcValue = function() {\r\n\t\t\t// OVERRIDE ME!\r\n\t\t\treturn '';\r\n\t\t}\r\n\r\n\t\tthis.update = function(delta) {\r\n\t\t\t// set initial value\r\n\t\t\tif (this.initialValue == null) {\r\n\t\t\t\tthis.initialValue = this.getProperty().value;\r\n\t\t\t\tthis.initialUnits = this.getProperty().getUnits();\r\n\t\t\t}\r\n\r\n\t\t\t// if we're past the end time\r\n\t\t\tif (this.duration > this.maxDuration) {\r\n\t\t\t\t// loop for indefinitely repeating animations\r\n\t\t\t\tif (this.attribute('repeatCount').value == 'indefinite'\r\n\t\t\t\t || this.attribute('repeatDur').value == 'indefinite') {\r\n\t\t\t\t\tthis.duration = 0.0\r\n\t\t\t\t}\r\n\t\t\t\telse if (this.attribute('fill').valueOrDefault('remove') == 'freeze' && !this.frozen) {\r\n\t\t\t\t\tthis.frozen = true;\r\n\t\t\t\t\tthis.parent.animationFrozen = true;\r\n\t\t\t\t\tthis.parent.animationFrozenValue = this.getProperty().value;\r\n\t\t\t\t}\r\n\t\t\t\telse if (this.attribute('fill').valueOrDefault('remove') == 'remove' && !this.removed) {\r\n\t\t\t\t\tthis.removed = true;\r\n\t\t\t\t\tthis.getProperty().value = this.parent.animationFrozen ? this.parent.animationFrozenValue : this.initialValue;\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tthis.duration = this.duration + delta;\r\n\r\n\t\t\t// if we're past the begin time\r\n\t\t\tvar updated = false;\r\n\t\t\tif (this.begin < this.duration) {\r\n\t\t\t\tvar newValue = this.calcValue(); // tween\r\n\r\n\t\t\t\tif (this.attribute('type').hasValue()) {\r\n\t\t\t\t\t// for transform, etc.\r\n\t\t\t\t\tvar type = this.attribute('type').value;\r\n\t\t\t\t\tnewValue = type + '(' + newValue + ')';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.getProperty().value = newValue;\r\n\t\t\t\tupdated = true;\r\n\t\t\t}\r\n\r\n\t\t\treturn updated;\r\n\t\t}\r\n\r\n\t\tthis.from = this.attribute('from');\r\n\t\tthis.to = this.attribute('to');\r\n\t\tthis.values = this.attribute('values');\r\n\t\tif (this.values.hasValue()) this.values.value = this.values.value.split(';');\r\n\r\n\t\t// fraction of duration we've covered\r\n\t\tthis.progress = function() {\r\n\t\t\tvar ret = { progress: (this.duration - this.begin) / (this.maxDuration - this.begin) };\r\n\t\t\tif (this.values.hasValue()) {\r\n\t\t\t\tvar p = ret.progress * (this.values.value.length - 1);\r\n\t\t\t\tvar lb = Math.floor(p), ub = Math.ceil(p);\r\n\t\t\t\tret.from = new svg.Property('from', parseFloat(this.values.value[lb]));\r\n\t\t\t\tret.to = new svg.Property('to', parseFloat(this.values.value[ub]));\r\n\t\t\t\tret.progress = (p - lb) / (ub - lb);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tret.from = this.from;\r\n\t\t\t\tret.to = this.to;\r\n\t\t\t}\r\n\t\t\treturn ret;\r\n\t\t}\r\n\t}\r\n\tsvg.Element.AnimateBase.prototype = new svg.Element.ElementBase;\r\n\r\n\t// animate element\r\n\tsvg.Element.animate = function(node) {\r\n\t\tthis.base = svg.Element.AnimateBase;\r\n\t\tthis.base(node);\r\n\r\n\t\tthis.calcValue = function() {\r\n\t\t\tvar p = this.progress();\r\n\r\n\t\t\t// tween value linearly\r\n\t\t\tvar newValue = p.from.numValue() + (p.to.numValue() - p.from.numValue()) * p.progress;\r\n\t\t\treturn newValue + this.initialUnits;\r\n\t\t};\r\n\t}\r\n\tsvg.Element.animate.prototype = new svg.Element.AnimateBase;\r\n\r\n\t// animate color element\r\n\tsvg.Element.animateColor = function(node) {\r\n\t\tthis.base = svg.Element.AnimateBase;\r\n\t\tthis.base(node);\r\n\r\n\t\tthis.calcValue = function() {\r\n\t\t\tvar p = this.progress();\r\n\t\t\tvar from = new RGBColor(p.from.value);\r\n\t\t\tvar to = new RGBColor(p.to.value);\r\n\r\n\t\t\tif (from.ok && to.ok) {\r\n\t\t\t\t// tween color linearly\r\n\t\t\t\tvar r = from.r + (to.r - from.r) * p.progress;\r\n\t\t\t\tvar g = from.g + (to.g - from.g) * p.progress;\r\n\t\t\t\tvar b = from.b + (to.b - from.b) * p.progress;\r\n\t\t\t\treturn 'rgb('+parseInt(r,10)+','+parseInt(g,10)+','+parseInt(b,10)+')';\r\n\t\t\t}\r\n\t\t\treturn this.attribute('from').value;\r\n\t\t};\r\n\t}\r\n\tsvg.Element.animateColor.prototype = new svg.Element.AnimateBase;\r\n\r\n\t// animate transform element\r\n\tsvg.Element.animateTransform = function(node) {\r\n\t\tthis.base = svg.Element.AnimateBase;\r\n\t\tthis.base(node);\r\n\r\n\t\tthis.calcValue = function() {\r\n\t\t\tvar p = this.progress();\r\n\r\n\t\t\t// tween value linearly\r\n\t\t\tvar from = svg.ToNumberArray(p.from.value);\r\n\t\t\tvar to = svg.ToNumberArray(p.to.value);\r\n\t\t\tvar newValue = '';\r\n\t\t\tfor (var i=0; i<from.length; i++) {\r\n\t\t\t\tnewValue += from[i] + (to[i] - from[i]) * p.progress + ' ';\r\n\t\t\t}\r\n\t\t\treturn newValue;\r\n\t\t};\r\n\t}\r\n\tsvg.Element.animateTransform.prototype = new svg.Element.animate;\r\n\r\n\t// font element\r\n\tsvg.Element.font = function(node) {\r\n\t\tthis.base = svg.Element.ElementBase;\r\n\t\tthis.base(node);\r\n\r\n\t\tthis.horizAdvX = this.attribute('horiz-adv-x').numValue();\r\n\r\n\t\tthis.isRTL = false;\r\n\t\tthis.isArabic = false;\r\n\t\tthis.fontFace = null;\r\n\t\tthis.missingGlyph = null;\r\n\t\tthis.glyphs = [];\r\n\t\tfor (var i=0; i<this.children.length; i++) {\r\n\t\t\tvar child = this.children[i];\r\n\t\t\tif (child.type == 'font-face') {\r\n\t\t\t\tthis.fontFace = child;\r\n\t\t\t\tif (child.style('font-family').hasValue()) {\r\n\t\t\t\t\tsvg.Definitions[child.style('font-family').value] = this;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if (child.type == 'missing-glyph') this.missingGlyph = child;\r\n\t\t\telse if (child.type == 'glyph') {\r\n\t\t\t\tif (child.arabicForm != '') {\r\n\t\t\t\t\tthis.isRTL = true;\r\n\t\t\t\t\tthis.isArabic = true;\r\n\t\t\t\t\tif (typeof this.glyphs[child.unicode] == 'undefined') this.glyphs[child.unicode] = [];\r\n\t\t\t\t\tthis.glyphs[child.unicode][child.arabicForm] = child;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis.glyphs[child.unicode] = child;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tsvg.Element.font.prototype = new svg.Element.ElementBase;\r\n\r\n\t// font-face element\r\n\tsvg.Element.fontface = function(node) {\r\n\t\tthis.base = svg.Element.ElementBase;\r\n\t\tthis.base(node);\r\n\r\n\t\tthis.ascent = this.attribute('ascent').value;\r\n\t\tthis.descent = this.attribute('descent').value;\r\n\t\tthis.unitsPerEm = this.attribute('units-per-em').numValue();\r\n\t}\r\n\tsvg.Element.fontface.prototype = new svg.Element.ElementBase;\r\n\r\n\t// missing-glyph element\r\n\tsvg.Element.missingglyph = function(node) {\r\n\t\tthis.base = svg.Element.path;\r\n\t\tthis.base(node);\r\n\r\n\t\tthis.horizAdvX = 0;\r\n\t}\r\n\tsvg.Element.missingglyph.prototype = new svg.Element.path;\r\n\r\n\t// glyph element\r\n\tsvg.Element.glyph = function(node) {\r\n\t\tthis.base = svg.Element.path;\r\n\t\tthis.base(node);\r\n\r\n\t\tthis.horizAdvX = this.attribute('horiz-adv-x').numValue();\r\n\t\tthis.unicode = this.attribute('unicode').value;\r\n\t\tthis.arabicForm = this.attribute('arabic-form').value;\r\n\t}\r\n\tsvg.Element.glyph.prototype = new svg.Element.path;\r\n\r\n\t// text element\r\n\tsvg.Element.text = function(node) {\r\n\t\tthis.captureTextNodes = true;\r\n\t\tthis.base = svg.Element.RenderedElementBase;\r\n\t\tthis.base(node);\r\n\r\n\t\tthis.baseSetContext = this.setContext;\r\n\t\tthis.setContext = function(ctx) {\r\n\t\t\tthis.baseSetContext(ctx);\r\n\r\n\t\t\tvar textBaseline = this.style('dominant-baseline').toTextBaseline();\r\n\t\t\tif (textBaseline == null) textBaseline = this.style('alignment-baseline').toTextBaseline();\r\n\t\t\tif (textBaseline != null) ctx.textBaseline = textBaseline;\r\n\t\t}\r\n\r\n\t\tthis.getBoundingBox = function () {\r\n\t\t\tvar x = this.attribute('x').toPixels('x');\r\n\t\t\tvar y = this.attribute('y').toPixels('y');\r\n\t\t\tvar fontSize = this.parent.style('font-size').numValueOrDefault(svg.Font.Parse(svg.ctx.font).fontSize);\r\n\t\t\treturn new svg.BoundingBox(x, y - fontSize, x + Math.floor(fontSize * 2.0 / 3.0) * this.children[0].getText().length, y);\r\n\t\t}\r\n\r\n\t\tthis.renderChildren = function(ctx) {\r\n\t\t\tthis.x = this.attribute('x').toPixels('x');\r\n\t\t\tthis.y = this.attribute('y').toPixels('y');\r\n\t\t\tif (this.attribute('dx').hasValue()) this.x += this.attribute('dx').toPixels('x');\r\n\t\t\tif (this.attribute('dy').hasValue()) this.y += this.attribute('dy').toPixels('y');\r\n\t\t\tthis.x += this.getAnchorDelta(ctx, this, 0);\r\n\t\t\tfor (var i=0; i<this.children.length; i++) {\r\n\t\t\t\tthis.renderChild(ctx, this, this, i);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.getAnchorDelta = function (ctx, parent, startI) {\r\n\t\t\tvar textAnchor = this.style('text-anchor').valueOrDefault('start');\r\n\t\t\tif (textAnchor != 'start') {\r\n\t\t\t\tvar width = 0;\r\n\t\t\t\tfor (var i=startI; i<parent.children.length; i++) {\r\n\t\t\t\t\tvar child = parent.children[i];\r\n\t\t\t\t\tif (i > startI && child.attribute('x').hasValue()) break; // new group\r\n\t\t\t\t\twidth += child.measureTextRecursive(ctx);\r\n\t\t\t\t}\r\n\t\t\t\treturn -1 * (textAnchor == 'end' ? width : width / 2.0);\r\n\t\t\t}\r\n\t\t\treturn 0;\r\n\t\t}\r\n\r\n\t\tthis.renderChild = function(ctx, textParent, parent, i) {\r\n\t\t\tvar child = parent.children[i];\r\n\t\t\tif (child.attribute('x').hasValue()) {\r\n\t\t\t\tchild.x = child.attribute('x').toPixels('x') + textParent.getAnchorDelta(ctx, parent, i);\r\n\t\t\t\tif (child.attribute('dx').hasValue()) child.x += child.attribute('dx').toPixels('x');\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif (child.attribute('dx').hasValue()) textParent.x += child.attribute('dx').toPixels('x');\r\n\t\t\t\tchild.x = textParent.x;\r\n\t\t\t}\r\n\t\t\ttextParent.x = child.x + child.measureText(ctx);\r\n\r\n\t\t\tif (child.attribute('y').hasValue()) {\r\n\t\t\t\tchild.y = child.attribute('y').toPixels('y');\r\n\t\t\t\tif (child.attribute('dy').hasValue()) child.y += child.attribute('dy').toPixels('y');\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif (child.attribute('dy').hasValue()) textParent.y += child.attribute('dy').toPixels('y');\r\n\t\t\t\tchild.y = textParent.y;\r\n\t\t\t}\r\n\t\t\ttextParent.y = child.y;\r\n\r\n\t\t\tchild.render(ctx);\r\n\r\n\t\t\tfor (var i=0; i<child.children.length; i++) {\r\n\t\t\t\ttextParent.renderChild(ctx, textParent, child, i);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tsvg.Element.text.prototype = new svg.Element.RenderedElementBase;\r\n\r\n\t// text base\r\n\tsvg.Element.TextElementBase = function(node) {\r\n\t\tthis.base = svg.Element.RenderedElementBase;\r\n\t\tthis.base(node);\r\n\r\n\t\tthis.getGlyph = function(font, text, i) {\r\n\t\t\tvar c = text[i];\r\n\t\t\tvar glyph = null;\r\n\t\t\tif (font.isArabic) {\r\n\t\t\t\tvar arabicForm = 'isolated';\r\n\t\t\t\tif ((i==0 || text[i-1]==' ') && i<text.length-2 && text[i+1]!=' ') arabicForm = 'terminal';\r\n\t\t\t\tif (i>0 && text[i-1]!=' ' && i<text.length-2 && text[i+1]!=' ') arabicForm = 'medial';\r\n\t\t\t\tif (i>0 && text[i-1]!=' ' && (i == text.length-1 || text[i+1]==' ')) arabicForm = 'initial';\r\n\t\t\t\tif (typeof font.glyphs[c] != 'undefined') {\r\n\t\t\t\t\tglyph = font.glyphs[c][arabicForm];\r\n\t\t\t\t\tif (glyph == null && font.glyphs[c].type == 'glyph') glyph = font.glyphs[c];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tglyph = font.glyphs[c];\r\n\t\t\t}\r\n\t\t\tif (glyph == null) glyph = font.missingGlyph;\r\n\t\t\treturn glyph;\r\n\t\t}\r\n\r\n\t\tthis.renderChildren = function(ctx) {\r\n\t\t\tvar customFont = this.parent.style('font-family').getDefinition();\r\n\t\t\tif (customFont != null) {\r\n\t\t\t\tvar fontSize = this.parent.style('font-size').numValueOrDefault(svg.Font.Parse(svg.ctx.font).fontSize);\r\n\t\t\t\tvar fontStyle = this.parent.style('font-style').valueOrDefault(svg.Font.Parse(svg.ctx.font).fontStyle);\r\n\t\t\t\tvar text = this.getText();\r\n\t\t\t\tif (customFont.isRTL) text = text.split(\"\").reverse().join(\"\");\r\n\r\n\t\t\t\tvar dx = svg.ToNumberArray(this.parent.attribute('dx').value);\r\n\t\t\t\tfor (var i=0; i<text.length; i++) {\r\n\t\t\t\t\tvar glyph = this.getGlyph(customFont, text, i);\r\n\t\t\t\t\tvar scale = fontSize / customFont.fontFace.unitsPerEm;\r\n\t\t\t\t\tctx.translate(this.x, this.y);\r\n\t\t\t\t\tctx.scale(scale, -scale);\r\n\t\t\t\t\tvar lw = ctx.lineWidth;\r\n\t\t\t\t\tctx.lineWidth = ctx.lineWidth * customFont.fontFace.unitsPerEm / fontSize;\r\n\t\t\t\t\tif (fontStyle == 'italic') ctx.transform(1, 0, .4, 1, 0, 0);\r\n\t\t\t\t\tglyph.render(ctx);\r\n\t\t\t\t\tif (fontStyle == 'italic') ctx.transform(1, 0, -.4, 1, 0, 0);\r\n\t\t\t\t\tctx.lineWidth = lw;\r\n\t\t\t\t\tctx.scale(1/scale, -1/scale);\r\n\t\t\t\t\tctx.translate(-this.x, -this.y);\r\n\r\n\t\t\t\t\tthis.x += fontSize * (glyph.horizAdvX || customFont.horizAdvX) / customFont.fontFace.unitsPerEm;\r\n\t\t\t\t\tif (typeof dx[i] != 'undefined' && !isNaN(dx[i])) {\r\n\t\t\t\t\t\tthis.x += dx[i];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (ctx.fillStyle != '') ctx.fillText(svg.compressSpaces(this.getText()), this.x, this.y);\r\n\t\t\tif (ctx.strokeStyle != '') ctx.strokeText(svg.compressSpaces(this.getText()), this.x, this.y);\r\n\t\t}\r\n\r\n\t\tthis.getText = function() {\r\n\t\t\t// OVERRIDE ME\r\n\t\t}\r\n\r\n\t\tthis.measureTextRecursive = function(ctx) {\r\n\t\t\tvar width = this.measureText(ctx);\r\n\t\t\tfor (var i=0; i<this.children.length; i++) {\r\n\t\t\t\twidth += this.children[i].measureTextRecursive(ctx);\r\n\t\t\t}\r\n\t\t\treturn width;\r\n\t\t}\r\n\r\n\t\tthis.measureText = function(ctx) {\r\n\t\t\tvar customFont = this.parent.style('font-family').getDefinition();\r\n\t\t\tif (customFont != null) {\r\n\t\t\t\tvar fontSize = this.parent.style('font-size').numValueOrDefault(svg.Font.Parse(svg.ctx.font).fontSize);\r\n\t\t\t\tvar measure = 0;\r\n\t\t\t\tvar text = this.getText();\r\n\t\t\t\tif (customFont.isRTL) text = text.split(\"\").reverse().join(\"\");\r\n\t\t\t\tvar dx = svg.ToNumberArray(this.parent.attribute('dx').value);\r\n\t\t\t\tfor (var i=0; i<text.length; i++) {\r\n\t\t\t\t\tvar glyph = this.getGlyph(customFont, text, i);\r\n\t\t\t\t\tmeasure += (glyph.horizAdvX || customFont.horizAdvX) * fontSize / customFont.fontFace.unitsPerEm;\r\n\t\t\t\t\tif (typeof dx[i] != 'undefined' && !isNaN(dx[i])) {\r\n\t\t\t\t\t\tmeasure += dx[i];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn measure;\r\n\t\t\t}\r\n\r\n\t\t\tvar textToMeasure = svg.compressSpaces(this.getText());\r\n\t\t\tif (!ctx.measureText) return textToMeasure.length * 10;\r\n\r\n\t\t\tctx.save();\r\n\t\t\tthis.setContext(ctx);\r\n\t\t\tvar width = ctx.measureText(textToMeasure).width;\r\n\t\t\tctx.restore();\r\n\t\t\treturn width;\r\n\t\t}\r\n\t}\r\n\tsvg.Element.TextElementBase.prototype = new svg.Element.RenderedElementBase;\r\n\r\n\t// tspan\r\n\tsvg.Element.tspan = function(node) {\r\n\t\tthis.captureTextNodes = true;\r\n\t\tthis.base = svg.Element.TextElementBase;\r\n\t\tthis.base(node);\r\n\r\n\t\tthis.text = svg.compressSpaces(node.value || node.text || node.textContent || '');\r\n\t\tthis.getText = function() {\r\n\t\t\t// if this node has children, then they own the text\r\n\t\t\tif (this.children.length > 0) { return ''; }\r\n\t\t\treturn this.text;\r\n\t\t}\r\n\t}\r\n\tsvg.Element.tspan.prototype = new svg.Element.TextElementBase;\r\n\r\n\t// tref\r\n\tsvg.Element.tref = function(node) {\r\n\t\tthis.base = svg.Element.TextElementBase;\r\n\t\tthis.base(node);\r\n\r\n\t\tthis.getText = function() {\r\n\t\t\tvar element = this.getHrefAttribute().getDefinition();\r\n\t\t\tif (element != null) return element.children[0].getText();\r\n\t\t}\r\n\t}\r\n\tsvg.Element.tref.prototype = new svg.Element.TextElementBase;\r\n\r\n\t// a element\r\n\tsvg.Element.a = function(node) {\r\n\t\tthis.base = svg.Element.TextElementBase;\r\n\t\tthis.base(node);\r\n\r\n\t\tthis.hasText = node.childNodes.length > 0;\r\n\t\tfor (var i=0; i<node.childNodes.length; i++) {\r\n\t\t\tif (node.childNodes[i].nodeType != 3) this.hasText = false;\r\n\t\t}\r\n\r\n\t\t// this might contain text\r\n\t\tthis.text = this.hasText ? node.childNodes[0].value : '';\r\n\t\tthis.getText = function() {\r\n\t\t\treturn this.text;\r\n\t\t}\r\n\r\n\t\tthis.baseRenderChildren = this.renderChildren;\r\n\t\tthis.renderChildren = function(ctx) {\r\n\t\t\tif (this.hasText) {\r\n\t\t\t\t// render as text element\r\n\t\t\t\tthis.baseRenderChildren(ctx);\r\n\t\t\t\tvar fontSize = new svg.Property('fontSize', svg.Font.Parse(svg.ctx.font).fontSize);\r\n\t\t\t\tsvg.Mouse.checkBoundingBox(this, new svg.BoundingBox(this.x, this.y - fontSize.toPixels('y'), this.x + this.measureText(ctx), this.y));\r\n\t\t\t}\r\n\t\t\telse if (this.children.length > 0) {\r\n\t\t\t\t// render as temporary group\r\n\t\t\t\tvar g = new svg.Element.g();\r\n\t\t\t\tg.children = this.children;\r\n\t\t\t\tg.parent = this;\r\n\t\t\t\tg.render(ctx);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.onclick = function() {\r\n\t\t\twindow.open(this.getHrefAttribute().value);\r\n\t\t}\r\n\r\n\t\tthis.onmousemove = function() {\r\n\t\t\tsvg.ctx.canvas.style.cursor = 'pointer';\r\n\t\t}\r\n\t}\r\n\tsvg.Element.a.prototype = new svg.Element.TextElementBase;\r\n\r\n\t// image element\r\n\tsvg.Element.image = function(node) {\r\n\t\tthis.base = svg.Element.RenderedElementBase;\r\n\t\tthis.base(node);\r\n\r\n\t\tvar href = this.getHrefAttribute().value;\r\n\t\tif (href == '') { return; }\r\n\t\tvar isSvg = href.match(/\\.svg$/)\r\n\r\n\t\tsvg.Images.push(this);\r\n\t\tthis.loaded = false;\r\n\t\tif (!isSvg) {\r\n\t\t\tthis.img = document.createElement('img');\r\n\t\t\tif (svg.opts['useCORS'] == true) { this.img.crossOrigin = 'Anonymous'; }\r\n\t\t\tvar self = this;\r\n\t\t\tthis.img.onload = function() { self.loaded = true; }\r\n\t\t\tthis.img.onerror = function() { svg.log('ERROR: image \"' + href + '\" not found'); self.loaded = true; }\r\n\t\t\tthis.img.src = href;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.img = svg.ajax(href);\r\n\t\t\tthis.loaded = true;\r\n\t\t}\r\n\r\n\t\tthis.renderChildren = function(ctx) {\r\n\t\t\tvar x = this.attribute('x').toPixels('x');\r\n\t\t\tvar y = this.attribute('y').toPixels('y');\r\n\r\n\t\t\tvar width = this.attribute('width').toPixels('x');\r\n\t\t\tvar height = this.attribute('height').toPixels('y');\r\n\t\t\tif (width == 0 || height == 0) return;\r\n\r\n\t\t\tctx.save();\r\n\t\t\tif (isSvg) {\r\n\t\t\t\tctx.drawSvg(this.img, x, y, width, height);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tctx.translate(x, y);\r\n\t\t\t\tsvg.AspectRatio(ctx,\r\n\t\t\t\t\t\t\t\tthis.attribute('preserveAspectRatio').value,\r\n\t\t\t\t\t\t\t\twidth,\r\n\t\t\t\t\t\t\t\tthis.img.width,\r\n\t\t\t\t\t\t\t\theight,\r\n\t\t\t\t\t\t\t\tthis.img.height,\r\n\t\t\t\t\t\t\t\t0,\r\n\t\t\t\t\t\t\t\t0);\r\n\t\t\t\tctx.drawImage(this.img, 0, 0);\r\n\t\t\t}\r\n\t\t\tctx.restore();\r\n\t\t}\r\n\r\n\t\tthis.getBoundingBox = function() {\r\n\t\t\tvar x = this.attribute('x').toPixels('x');\r\n\t\t\tvar y = this.attribute('y').toPixels('y');\r\n\t\t\tvar width = this.attribute('width').toPixels('x');\r\n\t\t\tvar height = this.attribute('height').toPixels('y');\r\n\t\t\treturn new svg.BoundingBox(x, y, x + width, y + height);\r\n\t\t}\r\n\t}\r\n\tsvg.Element.image.prototype = new svg.Element.RenderedElementBase;\r\n\r\n\t// group element\r\n\tsvg.Element.g = function(node) {\r\n\t\tthis.base = svg.Element.RenderedElementBase;\r\n\t\tthis.base(node);\r\n\r\n\t\tthis.getBoundingBox = function() {\r\n\t\t\tvar bb = new svg.BoundingBox();\r\n\t\t\tfor (var i=0; i<this.children.length; i++) {\r\n\t\t\t\tbb.addBoundingBox(this.children[i].getBoundingBox());\r\n\t\t\t}\r\n\t\t\treturn bb;\r\n\t\t};\r\n\t}\r\n\tsvg.Element.g.prototype = new svg.Element.RenderedElementBase;\r\n\r\n\t// symbol element\r\n\tsvg.Element.symbol = function(node) {\r\n\t\tthis.base = svg.Element.RenderedElementBase;\r\n\t\tthis.base(node);\r\n\r\n\t\tthis.render = function(ctx) {\r\n\t\t\t// NO RENDER\r\n\t\t};\r\n\t}\r\n\tsvg.Element.symbol.prototype = new svg.Element.RenderedElementBase;\r\n\r\n\t// style element\r\n\tsvg.Element.style = function(node) {\r\n\t\tthis.base = svg.Element.ElementBase;\r\n\t\tthis.base(node);\r\n\r\n\t\t// text, or spaces then CDATA\r\n\t\tvar css = ''\r\n\t\tfor (var i=0; i<node.childNodes.length; i++) {\r\n\t\t  css += node.childNodes[i].data;\r\n\t\t}\r\n\t\tcss = css.replace(/(\\/\\*([^*]|[\\r\\n]|(\\*+([^*\\/]|[\\r\\n])))*\\*+\\/)|(^[\\s]*\\/\\/.*)/gm, ''); // remove comments\r\n\t\tcss = svg.compressSpaces(css); // replace whitespace\r\n\t\tvar cssDefs = css.split('}');\r\n\t\tfor (var i=0; i<cssDefs.length; i++) {\r\n\t\t\tif (svg.trim(cssDefs[i]) != '') {\r\n\t\t\t\tvar cssDef = cssDefs[i].split('{');\r\n\t\t\t\tvar cssClasses = cssDef[0].split(',');\r\n\t\t\t\tvar cssProps = cssDef[1].split(';');\r\n\t\t\t\tfor (var j=0; j<cssClasses.length; j++) {\r\n\t\t\t\t\tvar cssClass = svg.trim(cssClasses[j]);\r\n\t\t\t\t\tif (cssClass != '') {\r\n\t\t\t\t\t\tvar props = svg.Styles[cssClass] || {};\r\n\t\t\t\t\t\tfor (var k=0; k<cssProps.length; k++) {\r\n\t\t\t\t\t\t\tvar prop = cssProps[k].indexOf(':');\r\n\t\t\t\t\t\t\tvar name = cssProps[k].substr(0, prop);\r\n\t\t\t\t\t\t\tvar value = cssProps[k].substr(prop + 1, cssProps[k].length - prop);\r\n\t\t\t\t\t\t\tif (name != null && value != null) {\r\n\t\t\t\t\t\t\t\tprops[svg.trim(name)] = new svg.Property(svg.trim(name), svg.trim(value));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsvg.Styles[cssClass] = props;\r\n\t\t\t\t\t\tsvg.StylesSpecificity[cssClass] = getSelectorSpecificity(cssClass);\r\n\t\t\t\t\t\tif (cssClass == '@font-face') {\r\n\t\t\t\t\t\t\tvar fontFamily = props['font-family'].value.replace(/\"/g,'');\r\n\t\t\t\t\t\t\tvar srcs = props['src'].value.split(',');\r\n\t\t\t\t\t\t\tfor (var s=0; s<srcs.length; s++) {\r\n\t\t\t\t\t\t\t\tif (srcs[s].indexOf('format(\"svg\")') > 0) {\r\n\t\t\t\t\t\t\t\t\tvar urlStart = srcs[s].indexOf('url');\r\n\t\t\t\t\t\t\t\t\tvar urlEnd = srcs[s].indexOf(')', urlStart);\r\n\t\t\t\t\t\t\t\t\tvar url = srcs[s].substr(urlStart + 5, urlEnd - urlStart - 6);\r\n\t\t\t\t\t\t\t\t\tvar doc = svg.parseXml(svg.ajax(url));\r\n\t\t\t\t\t\t\t\t\tvar fonts = doc.getElementsByTagName('font');\r\n\t\t\t\t\t\t\t\t\tfor (var f=0; f<fonts.length; f++) {\r\n\t\t\t\t\t\t\t\t\t\tvar font = svg.CreateElement(fonts[f]);\r\n\t\t\t\t\t\t\t\t\t\tsvg.Definitions[fontFamily] = font;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tsvg.Element.style.prototype = new svg.Element.ElementBase;\r\n\r\n\t// use element\r\n\tsvg.Element.use = function(node) {\r\n\t\tthis.base = svg.Element.RenderedElementBase;\r\n\t\tthis.base(node);\r\n\r\n\t\tthis.baseSetContext = this.setContext;\r\n\t\tthis.setContext = function(ctx) {\r\n\t\t\tthis.baseSetContext(ctx);\r\n\t\t\tif (this.attribute('x').hasValue()) ctx.translate(this.attribute('x').toPixels('x'), 0);\r\n\t\t\tif (this.attribute('y').hasValue()) ctx.translate(0, this.attribute('y').toPixels('y'));\r\n\t\t}\r\n\r\n\t\tvar element = this.getHrefAttribute().getDefinition();\r\n\r\n\t\tthis.path = function(ctx) {\r\n\t\t\tif (element != null) element.path(ctx);\r\n\t\t}\r\n\r\n\t\tthis.getBoundingBox = function() {\r\n\t\t\tif (element != null) return element.getBoundingBox();\r\n\t\t}\r\n\r\n\t\tthis.renderChildren = function(ctx) {\r\n\t\t\tif (element != null) {\r\n\t\t\t\tvar tempSvg = element;\r\n\t\t\t\tif (element.type == 'symbol') {\r\n\t\t\t\t\t// render me using a temporary svg element in symbol cases (http://www.w3.org/TR/SVG/struct.html#UseElement)\r\n\t\t\t\t\ttempSvg = new svg.Element.svg();\r\n\t\t\t\t\ttempSvg.type = 'svg';\r\n\t\t\t\t\ttempSvg.attributes['viewBox'] = new svg.Property('viewBox', element.attribute('viewBox').value);\r\n\t\t\t\t\ttempSvg.attributes['preserveAspectRatio'] = new svg.Property('preserveAspectRatio', element.attribute('preserveAspectRatio').value);\r\n\t\t\t\t\ttempSvg.attributes['overflow'] = new svg.Property('overflow', element.attribute('overflow').value);\r\n\t\t\t\t\ttempSvg.children = element.children;\r\n\t\t\t\t}\r\n\t\t\t\tif (tempSvg.type == 'svg') {\r\n\t\t\t\t\t// if symbol or svg, inherit width/height from me\r\n\t\t\t\t\tif (this.attribute('width').hasValue()) tempSvg.attributes['width'] = new svg.Property('width', this.attribute('width').value);\r\n\t\t\t\t\tif (this.attribute('height').hasValue()) tempSvg.attributes['height'] = new svg.Property('height', this.attribute('height').value);\r\n\t\t\t\t}\r\n\t\t\t\tvar oldParent = tempSvg.parent;\r\n\t\t\t\ttempSvg.parent = null;\r\n\t\t\t\ttempSvg.render(ctx);\r\n\t\t\t\ttempSvg.parent = oldParent;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tsvg.Element.use.prototype = new svg.Element.RenderedElementBase;\r\n\r\n\t// mask element\r\n\tsvg.Element.mask = function(node) {\r\n\t\tthis.base = svg.Element.ElementBase;\r\n\t\tthis.base(node);\r\n\r\n\t\tthis.apply = function(ctx, element) {\r\n\t\t\t// render as temp svg\r\n\t\t\tvar x = this.attribute('x').toPixels('x');\r\n\t\t\tvar y = this.attribute('y').toPixels('y');\r\n\t\t\tvar width = this.attribute('width').toPixels('x');\r\n\t\t\tvar height = this.attribute('height').toPixels('y');\r\n\r\n\t\t\tif (width == 0 && height == 0) {\r\n\t\t\t\tvar bb = new svg.BoundingBox();\r\n\t\t\t\tfor (var i=0; i<this.children.length; i++) {\r\n\t\t\t\t\tbb.addBoundingBox(this.children[i].getBoundingBox());\r\n\t\t\t\t}\r\n\t\t\t\tvar x = Math.floor(bb.x1);\r\n\t\t\t\tvar y = Math.floor(bb.y1);\r\n\t\t\t\tvar width = Math.floor(bb.width());\r\n\t\t\t\tvar\theight = Math.floor(bb.height());\r\n\t\t\t}\r\n\r\n\t\t\t// temporarily remove mask to avoid recursion\r\n\t\t\tvar mask = element.attribute('mask').value;\r\n\t\t\telement.attribute('mask').value = '';\r\n\r\n\t\t\t\tvar cMask = document.createElement('canvas');\r\n\t\t\t\tcMask.width = x + width;\r\n\t\t\t\tcMask.height = y + height;\r\n\t\t\t\tvar maskCtx = cMask.getContext('2d');\r\n\t\t\t\tthis.renderChildren(maskCtx);\r\n\r\n\t\t\t\tvar c = document.createElement('canvas');\r\n\t\t\t\tc.width = x + width;\r\n\t\t\t\tc.height = y + height;\r\n\t\t\t\tvar tempCtx = c.getContext('2d');\r\n\t\t\t\telement.render(tempCtx);\r\n\t\t\t\ttempCtx.globalCompositeOperation = 'destination-in';\r\n\t\t\t\ttempCtx.fillStyle = maskCtx.createPattern(cMask, 'no-repeat');\r\n\t\t\t\ttempCtx.fillRect(0, 0, x + width, y + height);\r\n\r\n\t\t\t\tctx.fillStyle = tempCtx.createPattern(c, 'no-repeat');\r\n\t\t\t\tctx.fillRect(0, 0, x + width, y + height);\r\n\r\n\t\t\t// reassign mask\r\n\t\t\telement.attribute('mask').value = mask;\r\n\t\t}\r\n\r\n\t\tthis.render = function(ctx) {\r\n\t\t\t// NO RENDER\r\n\t\t}\r\n\t}\r\n\tsvg.Element.mask.prototype = new svg.Element.ElementBase;\r\n\r\n\t// clip element\r\n\tsvg.Element.clipPath = function(node) {\r\n\t\tthis.base = svg.Element.ElementBase;\r\n\t\tthis.base(node);\r\n\r\n\t\tthis.apply = function(ctx) {\r\n\t\t\tvar oldBeginPath = CanvasRenderingContext2D.prototype.beginPath;\r\n\t\t\tCanvasRenderingContext2D.prototype.beginPath = function () { };\r\n\r\n\t\t\tvar oldClosePath = CanvasRenderingContext2D.prototype.closePath;\r\n\t\t\tCanvasRenderingContext2D.prototype.closePath = function () { };\r\n\r\n\t\t\toldBeginPath.call(ctx);\r\n\t\t\tfor (var i=0; i<this.children.length; i++) {\r\n\t\t\t\tvar child = this.children[i];\r\n\t\t\t\tif (typeof child.path != 'undefined') {\r\n\t\t\t\t\tvar transform = null;\r\n\t\t\t\t\tif (child.style('transform', false, true).hasValue()) {\r\n\t\t\t\t\t\ttransform = new svg.Transform(child.style('transform', false, true).value);\r\n\t\t\t\t\t\ttransform.apply(ctx);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tchild.path(ctx);\r\n\t\t\t\t\tCanvasRenderingContext2D.prototype.closePath = oldClosePath;\r\n\t\t\t\t\tif (transform) { transform.unapply(ctx); }\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\toldClosePath.call(ctx);\r\n\t\t\tctx.clip();\r\n\r\n\t\t\tCanvasRenderingContext2D.prototype.beginPath = oldBeginPath;\r\n\t\t\tCanvasRenderingContext2D.prototype.closePath = oldClosePath;\r\n\t\t}\r\n\r\n\t\tthis.render = function(ctx) {\r\n\t\t\t// NO RENDER\r\n\t\t}\r\n\t}\r\n\tsvg.Element.clipPath.prototype = new svg.Element.ElementBase;\r\n\r\n\t// filters\r\n\tsvg.Element.filter = function(node) {\r\n\t\tthis.base = svg.Element.ElementBase;\r\n\t\tthis.base(node);\r\n\r\n\t\tthis.apply = function(ctx, element) {\r\n\t\t\t// render as temp svg\r\n\t\t\tvar bb = element.getBoundingBox();\r\n\t\t\tvar x = Math.floor(bb.x1);\r\n\t\t\tvar y = Math.floor(bb.y1);\r\n\t\t\tvar width = Math.floor(bb.width());\r\n\t\t\tvar\theight = Math.floor(bb.height());\r\n\r\n\t\t\t// temporarily remove filter to avoid recursion\r\n\t\t\tvar filter = element.style('filter').value;\r\n\t\t\telement.style('filter').value = '';\r\n\r\n\t\t\tvar px = 0, py = 0;\r\n\t\t\tfor (var i=0; i<this.children.length; i++) {\r\n\t\t\t\tvar efd = this.children[i].extraFilterDistance || 0;\r\n\t\t\t\tpx = Math.max(px, efd);\r\n\t\t\t\tpy = Math.max(py, efd);\r\n\t\t\t}\r\n\r\n\t\t\tvar c = document.createElement('canvas');\r\n\t\t\tc.width = width + 2*px;\r\n\t\t\tc.height = height + 2*py;\r\n\t\t\tvar tempCtx = c.getContext('2d');\r\n\t\t\ttempCtx.translate(-x + px, -y + py);\r\n\t\t\telement.render(tempCtx);\r\n\r\n\t\t\t// apply filters\r\n\t\t\tfor (var i=0; i<this.children.length; i++) {\r\n\t\t\t\tif (typeof this.children[i].apply == 'function') {\r\n\t\t\t\t\tthis.children[i].apply(tempCtx, 0, 0, width + 2*px, height + 2*py);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// render on me\r\n\t\t\tctx.drawImage(c, 0, 0, width + 2*px, height + 2*py, x - px, y - py, width + 2*px, height + 2*py);\r\n\r\n\t\t\t// reassign filter\r\n\t\t\telement.style('filter', true).value = filter;\r\n\t\t}\r\n\r\n\t\tthis.render = function(ctx) {\r\n\t\t\t// NO RENDER\r\n\t\t}\r\n\t}\r\n\tsvg.Element.filter.prototype = new svg.Element.ElementBase;\r\n\r\n\tsvg.Element.feMorphology = function(node) {\r\n\t\tthis.base = svg.Element.ElementBase;\r\n\t\tthis.base(node);\r\n\r\n\t\tthis.apply = function(ctx, x, y, width, height) {\r\n\t\t\t// TODO: implement\r\n\t\t}\r\n\t}\r\n\tsvg.Element.feMorphology.prototype = new svg.Element.ElementBase;\r\n\r\n\tsvg.Element.feComposite = function(node) {\r\n\t\tthis.base = svg.Element.ElementBase;\r\n\t\tthis.base(node);\r\n\r\n\t\tthis.apply = function(ctx, x, y, width, height) {\r\n\t\t\t// TODO: implement\r\n\t\t}\r\n\t}\r\n\tsvg.Element.feComposite.prototype = new svg.Element.ElementBase;\r\n\r\n\tsvg.Element.feColorMatrix = function(node) {\r\n\t\tthis.base = svg.Element.ElementBase;\r\n\t\tthis.base(node);\r\n\r\n\t\tvar matrix = svg.ToNumberArray(this.attribute('values').value);\r\n\t\tswitch (this.attribute('type').valueOrDefault('matrix')) { // http://www.w3.org/TR/SVG/filters.html#feColorMatrixElement\r\n\t\t\tcase 'saturate':\r\n\t\t\t\tvar s = matrix[0];\r\n\t\t\t\tmatrix = [0.213+0.787*s,0.715-0.715*s,0.072-0.072*s,0,0,\r\n\t\t\t\t\t\t  0.213-0.213*s,0.715+0.285*s,0.072-0.072*s,0,0,\r\n\t\t\t\t\t\t  0.213-0.213*s,0.715-0.715*s,0.072+0.928*s,0,0,\r\n\t\t\t\t\t\t  0,0,0,1,0,\r\n\t\t\t\t\t\t  0,0,0,0,1];\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'hueRotate':\r\n\t\t\t\tvar a = matrix[0] * Math.PI / 180.0;\r\n\t\t\t\tvar c = function (m1,m2,m3) { return m1 + Math.cos(a)*m2 + Math.sin(a)*m3; };\r\n\t\t\t\tmatrix = [c(0.213,0.787,-0.213),c(0.715,-0.715,-0.715),c(0.072,-0.072,0.928),0,0,\r\n\t\t\t\t\t\t  c(0.213,-0.213,0.143),c(0.715,0.285,0.140),c(0.072,-0.072,-0.283),0,0,\r\n\t\t\t\t\t\t  c(0.213,-0.213,-0.787),c(0.715,-0.715,0.715),c(0.072,0.928,0.072),0,0,\r\n\t\t\t\t\t\t  0,0,0,1,0,\r\n\t\t\t\t\t\t  0,0,0,0,1];\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'luminanceToAlpha':\r\n\t\t\t\tmatrix = [0,0,0,0,0,\r\n\t\t\t\t\t\t  0,0,0,0,0,\r\n\t\t\t\t\t\t  0,0,0,0,0,\r\n\t\t\t\t\t\t  0.2125,0.7154,0.0721,0,0,\r\n\t\t\t\t\t\t  0,0,0,0,1];\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tfunction imGet(img, x, y, width, height, rgba) {\r\n\t\t\treturn img[y*width*4 + x*4 + rgba];\r\n\t\t}\r\n\r\n\t\tfunction imSet(img, x, y, width, height, rgba, val) {\r\n\t\t\timg[y*width*4 + x*4 + rgba] = val;\r\n\t\t}\r\n\r\n\t\tfunction m(i, v) {\r\n\t\t\tvar mi = matrix[i];\r\n\t\t\treturn mi * (mi < 0 ? v - 255 : v);\r\n\t\t}\r\n\r\n\t\tthis.apply = function(ctx, x, y, width, height) {\r\n\t\t\t// assuming x==0 && y==0 for now\r\n\t\t\tvar srcData = ctx.getImageData(0, 0, width, height);\r\n\t\t\tfor (var y = 0; y < height; y++) {\r\n\t\t\t\tfor (var x = 0; x < width; x++) {\r\n\t\t\t\t\tvar r = imGet(srcData.data, x, y, width, height, 0);\r\n\t\t\t\t\tvar g = imGet(srcData.data, x, y, width, height, 1);\r\n\t\t\t\t\tvar b = imGet(srcData.data, x, y, width, height, 2);\r\n\t\t\t\t\tvar a = imGet(srcData.data, x, y, width, height, 3);\r\n\t\t\t\t\timSet(srcData.data, x, y, width, height, 0, m(0,r)+m(1,g)+m(2,b)+m(3,a)+m(4,1));\r\n\t\t\t\t\timSet(srcData.data, x, y, width, height, 1, m(5,r)+m(6,g)+m(7,b)+m(8,a)+m(9,1));\r\n\t\t\t\t\timSet(srcData.data, x, y, width, height, 2, m(10,r)+m(11,g)+m(12,b)+m(13,a)+m(14,1));\r\n\t\t\t\t\timSet(srcData.data, x, y, width, height, 3, m(15,r)+m(16,g)+m(17,b)+m(18,a)+m(19,1));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tctx.clearRect(0, 0, width, height);\r\n\t\t\tctx.putImageData(srcData, 0, 0);\r\n\t\t}\r\n\t}\r\n\tsvg.Element.feColorMatrix.prototype = new svg.Element.ElementBase;\r\n\r\n\tsvg.Element.feGaussianBlur = function(node) {\r\n\t\tthis.base = svg.Element.ElementBase;\r\n\t\tthis.base(node);\r\n\r\n\t\tthis.blurRadius = Math.floor(this.attribute('stdDeviation').numValue());\r\n\t\tthis.extraFilterDistance = this.blurRadius;\r\n\r\n\t\tthis.apply = function(ctx, x, y, width, height) {\r\n\t\t\tif (typeof stackblur.canvasRGBA == 'undefined') {\r\n\t\t\t\tsvg.log('ERROR: StackBlur.js must be included for blur to work');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// StackBlur requires canvas be on document\r\n\t\t\tctx.canvas.id = svg.UniqueId();\r\n\t\t\tctx.canvas.style.display = 'none';\r\n\t\t\tdocument.body.appendChild(ctx.canvas);\r\n\t\t\tstackblur.canvasRGBA(ctx.canvas.id, x, y, width, height, this.blurRadius);\r\n\t\t\tdocument.body.removeChild(ctx.canvas);\r\n\t\t}\r\n\t}\r\n\tsvg.Element.feGaussianBlur.prototype = new svg.Element.ElementBase;\r\n\r\n\t// title element, do nothing\r\n\tsvg.Element.title = function(node) {\r\n\t}\r\n\tsvg.Element.title.prototype = new svg.Element.ElementBase;\r\n\r\n\t// desc element, do nothing\r\n\tsvg.Element.desc = function(node) {\r\n\t}\r\n\tsvg.Element.desc.prototype = new svg.Element.ElementBase;\r\n\r\n\tsvg.Element.MISSING = function(node) {\r\n\t\tsvg.log('ERROR: Element \\'' + node.nodeName + '\\' not yet implemented.');\r\n\t}\r\n\tsvg.Element.MISSING.prototype = new svg.Element.ElementBase;\r\n\r\n\t// element factory\r\n\tsvg.CreateElement = function(node) {\r\n\t\tvar className = node.nodeName.replace(/^[^:]+:/,''); // remove namespace\r\n\t\tclassName = className.replace(/\\-/g,''); // remove dashes\r\n\t\tvar e = null;\r\n\t\tif (typeof svg.Element[className] != 'undefined') {\r\n\t\t\te = new svg.Element[className](node);\r\n\t\t}\r\n\t\telse {\r\n\t\t\te = new svg.Element.MISSING(node);\r\n\t\t}\r\n\r\n\t\te.type = node.nodeName;\r\n\t\treturn e;\r\n\t}\r\n\r\n\t// load from url\r\n\tsvg.load = function(ctx, url) {\r\n\t\tsvg.loadXml(ctx, svg.ajax(url));\r\n\t}\r\n\r\n\t// load from xml\r\n\tsvg.loadXml = function(ctx, xml) {\r\n\t\tsvg.loadXmlDoc(ctx, svg.parseXml(xml));\r\n\t}\r\n\r\n\tsvg.loadXmlDoc = function(ctx, dom) {\r\n\t\tsvg.init(ctx);\r\n\r\n\t\tvar mapXY = function(p) {\r\n\t\t\tvar e = ctx.canvas;\r\n\t\t\twhile (e) {\r\n\t\t\t\tp.x -= e.offsetLeft;\r\n\t\t\t\tp.y -= e.offsetTop;\r\n\t\t\t\te = e.offsetParent;\r\n\t\t\t}\r\n\t\t\tif (window.scrollX) p.x += window.scrollX;\r\n\t\t\tif (window.scrollY) p.y += window.scrollY;\r\n\t\t\treturn p;\r\n\t\t}\r\n\r\n\t\t// bind mouse\r\n\t\tif (svg.opts['ignoreMouse'] != true) {\r\n\t\t\tctx.canvas.onclick = function(e) {\r\n\t\t\t\tvar p = mapXY(new svg.Point(e != null ? e.clientX : event.clientX, e != null ? e.clientY : event.clientY));\r\n\t\t\t\tsvg.Mouse.onclick(p.x, p.y);\r\n\t\t\t};\r\n\t\t\tctx.canvas.onmousemove = function(e) {\r\n\t\t\t\tvar p = mapXY(new svg.Point(e != null ? e.clientX : event.clientX, e != null ? e.clientY : event.clientY));\r\n\t\t\t\tsvg.Mouse.onmousemove(p.x, p.y);\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tvar e = svg.CreateElement(dom.documentElement);\r\n\t\te.root = true;\r\n\t\te.addStylesFromStyleDefinition();\r\n\r\n\t\t// render loop\r\n\t\tvar isFirstRender = true;\r\n\t\tvar draw = function() {\r\n\t\t\tsvg.ViewPort.Clear();\r\n\t\t\tif (ctx.canvas.parentNode) svg.ViewPort.SetCurrent(ctx.canvas.parentNode.clientWidth, ctx.canvas.parentNode.clientHeight);\r\n\r\n\t\t\tif (svg.opts['ignoreDimensions'] != true) {\r\n\t\t\t\t// set canvas size\r\n\t\t\t\tif (e.style('width').hasValue()) {\r\n\t\t\t\t\tctx.canvas.width = e.style('width').toPixels('x');\r\n\t\t\t\t\tctx.canvas.style.width = ctx.canvas.width + 'px';\r\n\t\t\t\t}\r\n\t\t\t\tif (e.style('height').hasValue()) {\r\n\t\t\t\t\tctx.canvas.height = e.style('height').toPixels('y');\r\n\t\t\t\t\tctx.canvas.style.height = ctx.canvas.height + 'px';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar cWidth = ctx.canvas.clientWidth || ctx.canvas.width;\r\n\t\t\tvar cHeight = ctx.canvas.clientHeight || ctx.canvas.height;\r\n\t\t\tif (svg.opts['ignoreDimensions'] == true && e.style('width').hasValue() && e.style('height').hasValue()) {\r\n\t\t\t\tcWidth = e.style('width').toPixels('x');\r\n\t\t\t\tcHeight = e.style('height').toPixels('y');\r\n\t\t\t}\r\n\t\t\tsvg.ViewPort.SetCurrent(cWidth, cHeight);\r\n\r\n\t\t\tif (svg.opts['offsetX'] != null) e.attribute('x', true).value = svg.opts['offsetX'];\r\n\t\t\tif (svg.opts['offsetY'] != null) e.attribute('y', true).value = svg.opts['offsetY'];\r\n\t\t\tif (svg.opts['scaleWidth'] != null || svg.opts['scaleHeight'] != null) {\r\n\t\t\t\tvar xRatio = null, yRatio = null, viewBox = svg.ToNumberArray(e.attribute('viewBox').value);\r\n\r\n\t\t\t\tif (svg.opts['scaleWidth'] != null) {\r\n\t\t\t\t\tif (e.attribute('width').hasValue()) xRatio = e.attribute('width').toPixels('x') / svg.opts['scaleWidth'];\r\n\t\t\t\t\telse if (!isNaN(viewBox[2])) xRatio = viewBox[2] / svg.opts['scaleWidth'];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (svg.opts['scaleHeight'] != null) {\r\n\t\t\t\t\tif (e.attribute('height').hasValue()) yRatio = e.attribute('height').toPixels('y') / svg.opts['scaleHeight'];\r\n\t\t\t\t\telse if (!isNaN(viewBox[3])) yRatio = viewBox[3] / svg.opts['scaleHeight'];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (xRatio == null) { xRatio = yRatio; }\r\n\t\t\t\tif (yRatio == null) { yRatio = xRatio; }\r\n\r\n\t\t\t\te.attribute('width', true).value = svg.opts['scaleWidth'];\r\n\t\t\t\te.attribute('height', true).value = svg.opts['scaleHeight'];\r\n\t\t\t\te.style('transform', true, true).value += ' scale('+(1.0/xRatio)+','+(1.0/yRatio)+')';\r\n\t\t\t}\r\n\r\n\t\t\t// clear and render\r\n\t\t\tif (svg.opts['ignoreClear'] != true) {\r\n\t\t\t\tctx.clearRect(0, 0, cWidth, cHeight);\r\n\t\t\t}\r\n\t\t\te.render(ctx);\r\n\t\t\tif (isFirstRender) {\r\n\t\t\t\tisFirstRender = false;\r\n\t\t\t\tif (typeof svg.opts['renderCallback'] == 'function') svg.opts['renderCallback'](dom);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar waitingForImages = true;\r\n\t\tif (svg.ImagesLoaded()) {\r\n\t\t\twaitingForImages = false;\r\n\t\t\tdraw();\r\n\t\t}\r\n\t\tsvg.intervalID = setInterval(function() {\r\n\t\t\tvar needUpdate = false;\r\n\r\n\t\t\tif (waitingForImages && svg.ImagesLoaded()) {\r\n\t\t\t\twaitingForImages = false;\r\n\t\t\t\tneedUpdate = true;\r\n\t\t\t}\r\n\r\n\t\t\t// need update from mouse events?\r\n\t\t\tif (svg.opts['ignoreMouse'] != true) {\r\n\t\t\t\tneedUpdate = needUpdate | svg.Mouse.hasEvents();\r\n\t\t\t}\r\n\r\n\t\t\t// need update from animations?\r\n\t\t\tif (svg.opts['ignoreAnimation'] != true) {\r\n\t\t\t\tfor (var i=0; i<svg.Animations.length; i++) {\r\n\t\t\t\t\tneedUpdate = needUpdate | svg.Animations[i].update(1000 / svg.FRAMERATE);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// need update from redraw?\r\n\t\t\tif (typeof svg.opts['forceRedraw'] == 'function') {\r\n\t\t\t\tif (svg.opts['forceRedraw']() == true) needUpdate = true;\r\n\t\t\t}\r\n\r\n\t\t\t// render if needed\r\n\t\t\tif (needUpdate) {\r\n\t\t\t\tdraw();\r\n\t\t\t\tsvg.Mouse.runEvents(); // run and clear our events\r\n\t\t\t}\r\n\t\t}, 1000 / svg.FRAMERATE);\r\n\t}\r\n\r\n\tsvg.stop = function() {\r\n\t\tif (svg.intervalID) {\r\n\t\t\tclearInterval(svg.intervalID);\r\n\t\t}\r\n\t}\r\n\r\n\tsvg.Mouse = new (function() {\r\n\t\tthis.events = [];\r\n\t\tthis.hasEvents = function() { return this.events.length != 0; }\r\n\r\n\t\tthis.onclick = function(x, y) {\r\n\t\t\tthis.events.push({ type: 'onclick', x: x, y: y,\r\n\t\t\t\trun: function(e) { if (e.onclick) e.onclick(); }\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tthis.onmousemove = function(x, y) {\r\n\t\t\tthis.events.push({ type: 'onmousemove', x: x, y: y,\r\n\t\t\t\trun: function(e) { if (e.onmousemove) e.onmousemove(); }\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tthis.eventElements = [];\r\n\r\n\t\tthis.checkPath = function(element, ctx) {\r\n\t\t\tfor (var i=0; i<this.events.length; i++) {\r\n\t\t\t\tvar e = this.events[i];\r\n\t\t\t\tif (ctx.isPointInPath && ctx.isPointInPath(e.x, e.y)) this.eventElements[i] = element;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.checkBoundingBox = function(element, bb) {\r\n\t\t\tfor (var i=0; i<this.events.length; i++) {\r\n\t\t\t\tvar e = this.events[i];\r\n\t\t\t\tif (bb.isPointInBox(e.x, e.y)) this.eventElements[i] = element;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.runEvents = function() {\r\n\t\t\tsvg.ctx.canvas.style.cursor = '';\r\n\r\n\t\t\tfor (var i=0; i<this.events.length; i++) {\r\n\t\t\t\tvar e = this.events[i];\r\n\t\t\t\tvar element = this.eventElements[i];\r\n\t\t\t\twhile (element) {\r\n\t\t\t\t\te.run(element);\r\n\t\t\t\t\telement = element.parent;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// done running, clear\r\n\t\t\tthis.events = [];\r\n\t\t\tthis.eventElements = [];\r\n\t\t}\r\n\t});\r\n\r\n\treturn svg;\r\n};\r\n\r\nmodule.exports = canvg;\r\n","/**\n    @function svgPresets\n    @desc Adds SVG default attributes to a d3 selection in order to render it properly.\n    @param {Selection} selection\n*/\nexport default function (selection) {\n  // sets \"stroke-width\" attribute to `0` if not defined\n  var strokeWidth = selection.attr(\"stroke-width\");\n  selection.attr(\"stroke-width\", !strokeWidth ? 0 : strokeWidth); // if there is no stroke, set the stroke color to \"transparent\" (fixes weird text rendering)\n\n  if (!strokeWidth) selection.attr(\"stroke\", \"transparent\"); // sets \"fill-opacity\" attribute to `0` if fill is \"transparent\" or \"none\"\n\n  var transparent = [\"none\", \"transparent\"].includes(selection.attr(\"fill\"));\n  var fillOpacity = selection.attr(\"fill-opacity\");\n  selection.attr(\"fill-opacity\", transparent ? 0 : fillOpacity); // \"aria-label\" properties interfere with text labels ¯\\_(ツ)_/¯\n\n  selection.attr(\"aria-label\", null);\n}","import { select } from \"d3-selection\";\n/**\n    @function htmlPresets\n    @desc Adds HTML default styles to a d3 selection in order to render it properly.\n    @param {Selection} selection\n*/\n\nexport default function (selection) {\n  selection.selectAll(\"*\").each(function () {\n    var tag = this.tagName.toLowerCase();\n\n    if (![\"option\"].includes(tag)) {\n      var elem = select(this);\n      /* forces minor unnoticible letter-spacing on any element where it is not defined to fix IE */\n\n      var letterSpacing = elem.style(\"letter-spacing\");\n      elem.style(\"letter-spacing\", letterSpacing === \"normal\" ? \"0.1px\" : letterSpacing);\n    }\n  });\n}","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport html2canvas from \"html2canvas\";\nimport canvg from \"canvg-browser\";\nimport { select, selectAll } from \"d3-selection\";\nimport svgPresets from \"./svgPresets\";\nimport htmlPresets from \"./htmlPresets\";\nvar defaultOptions = {\n  background: false,\n  callback: function callback() {},\n  exclude: [],\n  padding: 0,\n  scale: 1\n};\nvar canvgOptions = {\n  ignoreMouse: true,\n  ignoreAnimation: true,\n  ignoreDimensions: true,\n  ignoreClear: true\n};\n/**\n    @function parseTransform\n    @desc Extracts scale, x, and y position from an elements \"transform\" attribute, respecting cross-browser render differences.\n    @param {HTMLElement} elem The element to be analyzed.\n    @private\n*/\n\nfunction parseTransform(elem) {\n  var property = select(elem).attr(\"transform\");\n  var scale = 1,\n      x = 0,\n      y = 0;\n\n  if (property) {\n    scale = property.match(/scale\\(([^a-z]+)\\)/i);\n    if (scale) scale = parseFloat(scale[1]);else scale = 1;\n    var translate = property.match(/translate\\(([^a-z]+)\\)/i);\n\n    if (translate) {\n      var _translate$1$replace$ = translate[1].replace(\", \", \",\").replace(/([^a-z]),*\\s([^a-z])/gi, \"$1,$2\").split(\",\").map(function (d) {\n        return parseFloat(d) * scale;\n      });\n\n      var _translate$1$replace$2 = _slicedToArray(_translate$1$replace$, 2);\n\n      x = _translate$1$replace$2[0];\n      y = _translate$1$replace$2[1];\n    }\n  }\n\n  return [scale, x, y];\n}\n/**\n    @function dom2canvas\n    @desc Renders HTML/SVG elements to a shared canvas.\n    @param {HTMLElement|Object|Array} elem The element or array of elements to be rendered to a single canvas. Additionally, a complex object can be passed as an element which can contain specific other properties.\n    @param {Number} [elem.x] The x offset of the element within the rendered canvas.\n    @param {Number} [elem.y] The y offset of the element within the rendered canvas.\n    @param {Object} [options] Additional options to specify.\n    @param {String} [options.background] Background color of the rendered canvas.\n    @param {Function} [options.callback] Callback function to be passed the canvas element after rendering.\n    @param {Array} [options.excludes] An array of HTMLElement objects to be excluded from the render.\n    @param {Number} [options.height] Pixel height for the final output. If a height value has not been passed, it will be inferred from the sizing of the first DOM element passed.\n    @param {Number} [options.padding = 0] Outer padding for the final file.\n    @param {Number} [options.scale = 1] Scale for the final file.\n    @param {Number} [options.width] Pixel width for the final output. If a width value has not been passed, it will be inferred from the sizing of the first DOM element passed.\n*/\n\n\nexport default function (elem, options) {\n  if (!elem) return;\n  if (!(elem instanceof Array)) elem = [elem];\n  options = Object.assign({}, defaultOptions, options);\n  var IE = new RegExp(/(MSIE|Trident\\/|Edge\\/)/i).test(navigator.userAgent);\n  var ratio = window ? window.devicePixelRatio || 1 : 1;\n  var reference = elem[0];\n  if (reference.constructor === Object) reference = reference.element;\n  var height = options.height || parseFloat(select(reference).style(\"height\")) + parseFloat(select(reference).style(\"padding-top\")) + parseFloat(select(reference).style(\"padding-bottom\")),\n      width = options.width || parseFloat(select(reference).style(\"width\")) + parseFloat(select(reference).style(\"padding-left\")) + parseFloat(select(reference).style(\"padding-right\"));\n  var layerX,\n      layerY,\n      offsetX = 0,\n      offsetY = 0;\n\n  if (reference.getBoundingClientRect) {\n    var bounds = reference.getBoundingClientRect();\n    offsetX = bounds.left;\n    offsetY = bounds.top;\n  } else {\n    offsetX = reference.offsetLeft;\n    offsetY = reference.offsetTop;\n  }\n\n  var canvas = document.createElement(\"canvas\");\n  canvas.width = (width + options.padding * 2) * options.scale * ratio;\n  canvas.height = (height + options.padding * 2) * options.scale * ratio;\n  canvas.style.width = (width + options.padding * 2) * options.scale;\n  canvas.style.height = (height + options.padding * 2) * options.scale;\n  var context = canvas.getContext(\"2d\");\n  context.scale(options.scale * ratio, options.scale * ratio);\n  context.clearRect(0, 0, canvas.width / ratio, canvas.height / ratio);\n\n  if (options.background) {\n    context.beginPath();\n    context.rect(0, 0, canvas.width / ratio, canvas.height / ratio);\n    context.fillStyle = options.background;\n    context.fill();\n  }\n\n  var layers = [];\n  /**\n   * Determines how a given DOM element should be rendered.\n   * @param {Object} trans ancestral transform properties\n   * @private\n   */\n\n  function checkRender(trans) {\n    var tag = (this.tagName || \"\").toLowerCase();\n    if (options.exclude.includes(this) || tag === \"foreignobject\") return;\n    var transform = Object.assign({}, trans); // strips translate and scale from transform property\n\n    if (this.tagName) {\n      var opacity = select(this).attr(\"opacity\") || select(this).style(\"opacity\");\n      var display = select(this).style(\"display\");\n      var visibility = select(this).style(\"visibility\");\n      if (display === \"none\" || visibility === \"hidden\" || opacity && parseFloat(opacity) === 0) return;\n\n      var _tag = this.tagName.toLowerCase();\n\n      if (_tag.length && [\"defs\", \"title\", \"desc\"].includes(_tag)) return;\n\n      if (_tag === \"svg\") {\n        // do not perform this transform for SVGs nested within other SVGs\n        if (!transform.svg) {\n          var _this$getBoundingClie = this.getBoundingClientRect(),\n              left = _this$getBoundingClie.left,\n              top = _this$getBoundingClie.top;\n\n          transform.x += left - offsetX;\n          transform.y += top - offsetY;\n          transform.svg = true;\n        }\n\n        var x = select(this).attr(\"x\");\n        x = x ? parseFloat(x) * transform.scale : 0;\n        transform.x += x;\n        var y = select(this).attr(\"y\");\n        y = y ? parseFloat(y) * transform.scale : 0;\n        transform.y += y;\n        transform.clip = {\n          height: parseFloat(select(this).attr(\"height\") || select(this).style(\"height\")),\n          width: parseFloat(select(this).attr(\"width\") || select(this).style(\"width\")),\n          x: x,\n          y: y\n        };\n      } else {\n        var _x = select(this).attr(\"x\");\n\n        if (_x) transform.x += parseFloat(_x) * transform.scale;\n\n        var _y = select(this).attr(\"y\");\n\n        if (_y) transform.y += parseFloat(_y) * transform.scale;\n      }\n    }\n\n    if (!tag.length) {\n      var test = (this.wholeText || \"\").replace(/\\s/g, \"\");\n\n      if (test.length) {\n        var text = this.nodeValue.replace(/^\\s*/, \"\").replace(/^\\n/, \"\").replace(/^\\s*/, \"\").replace(/\\n$/, \"\").replace(/\\s*$/, \"\").replace(/\\n$/, \"\");\n        layers.push({\n          type: \"text\",\n          style: this.parentNode,\n          value: text,\n          x: transform.x,\n          y: transform.y\n        });\n      }\n    } else if (tag === \"text\") {\n      var _elem = this.cloneNode(true);\n\n      select(_elem).call(svgPresets);\n      layers.push(Object.assign({}, transform, {\n        type: \"svg\",\n        value: _elem\n      }));\n    } else if ([\"image\", \"img\"].includes(tag)) {\n      var url = select(this).attr(\"href\") || select(this).attr(\"xlink:href\");\n\n      if (url.length) {\n        var h = parseFloat(select(this).attr(\"height\")) * transform.scale,\n            w = parseFloat(select(this).attr(\"width\")) * transform.scale;\n        var data = {\n          clip: transform.clip,\n          height: h,\n          loaded: false,\n          type: \"img\",\n          width: w,\n          x: transform.x,\n          y: transform.y\n        };\n        layers.push(data);\n        var img = new Image();\n        img.crossOrigin = \"Anonymous\";\n\n        img.onload = function () {\n          var canvas2 = document.createElement(\"canvas\");\n          var ctx2 = canvas2.getContext(\"2d\");\n          canvas2.height = h * ratio;\n          canvas2.width = w * ratio;\n          ctx2.drawImage(this, 0, 0, w * ratio, h * ratio);\n          var himg = document.createElement(\"img\");\n          himg.src = canvas2.toDataURL(\"image/png\");\n          data.value = himg;\n          data.loaded = true;\n        };\n\n        img.src = url;\n      }\n    } else if (![\"svg\", \"g\", \"text\"].includes(tag) && !select(this).selectAll(\"svg\").size()) {\n      var s = options.scale * ratio;\n      var _data = {\n        height: Math.floor(height + options.padding * 2 + offsetY),\n        loaded: false,\n        type: \"html\",\n        width: Math.floor(width + options.padding * 2 + offsetX),\n        x: Math.floor(layerX - offsetX),\n        y: Math.floor(layerY - offsetY)\n      };\n      var tempCanvas = document.createElement(\"canvas\");\n      tempCanvas.width = _data.width * s;\n      tempCanvas.height = _data.height * s;\n      tempCanvas.style.width = \"\".concat(_data.width * s, \"px\");\n      tempCanvas.style.height = \"\".concat(_data.height * s, \"px\");\n      var tempContext = tempCanvas.getContext(\"2d\");\n      tempContext.scale(s, s);\n      layers.push(_data);\n      htmlPresets(select(this));\n      html2canvas(this, {\n        allowTaint: true,\n        canvas: tempCanvas,\n        letterRendering: true\n      }).then(function (c) {\n        _data.value = c;\n        _data.loaded = true;\n      });\n    } else if (tag !== \"svg\" && this.childNodes.length > 0 && !select(this).selectAll(\"image, img, svg\").size()) {\n      var _elem2 = this.cloneNode(true);\n\n      select(_elem2).selectAll(\"*\").each(function () {\n        select(this).call(svgPresets);\n        if (select(this).attr(\"opacity\") === \"0\") this.parentNode.removeChild(this);\n      });\n      layers.push(Object.assign({}, transform, {\n        type: \"svg\",\n        value: _elem2,\n        tag: tag\n      }));\n    } else if (this.childNodes.length > 0) {\n      var _parseTransform = parseTransform(this),\n          _parseTransform2 = _slicedToArray(_parseTransform, 3),\n          scale = _parseTransform2[0],\n          _x2 = _parseTransform2[1],\n          _y2 = _parseTransform2[2];\n\n      transform.scale *= scale;\n      transform.x += _x2;\n      transform.y += _y2;\n      checkChildren(this, transform);\n    } else {\n      // catches all SVG shapes\n      var _elem3 = this.cloneNode(true);\n\n      select(_elem3).selectAll(\"*\").each(function () {\n        if (select(this).attr(\"opacity\") === \"0\") this.parentNode.removeChild(this);\n      });\n\n      if (tag === \"line\") {\n        select(_elem3).attr(\"x1\", parseFloat(select(_elem3).attr(\"x1\")) + transform.x);\n        select(_elem3).attr(\"x2\", parseFloat(select(_elem3).attr(\"x2\")) + transform.x);\n        select(_elem3).attr(\"y1\", parseFloat(select(_elem3).attr(\"y1\")) + transform.y);\n        select(_elem3).attr(\"y2\", parseFloat(select(_elem3).attr(\"y2\")) + transform.y);\n      } else if (tag === \"path\") {\n        var _parseTransform3 = parseTransform(_elem3),\n            _parseTransform4 = _slicedToArray(_parseTransform3, 3),\n            _scale = _parseTransform4[0],\n            _x3 = _parseTransform4[1],\n            _y3 = _parseTransform4[2];\n\n        if (select(_elem3).attr(\"transform\")) select(_elem3).attr(\"transform\", \"scale(\".concat(_scale, \")translate(\").concat(_x3 + transform.x, \",\").concat(_y3 + transform.y, \")\"));\n      }\n\n      select(_elem3).call(svgPresets);\n      var fill = select(_elem3).attr(\"fill\");\n      var defFill = fill && fill.indexOf(\"url\") === 0; // if (defFill) select(elem).attr(\"fill-opacity\", 0);\n\n      layers.push(Object.assign({}, transform, {\n        type: \"svg\",\n        value: _elem3,\n        tag: tag\n      }));\n\n      if (defFill) {\n        var def = select(fill.slice(4, -1)).node().cloneNode(true);\n        var defTag = (def.tagName || \"\").toLowerCase();\n\n        if (defTag === \"pattern\") {\n          var _parseTransform5 = parseTransform(_elem3),\n              _parseTransform6 = _slicedToArray(_parseTransform5, 3),\n              _scale2 = _parseTransform6[0],\n              _x4 = _parseTransform6[1],\n              _y4 = _parseTransform6[2];\n\n          transform.scale *= _scale2;\n          transform.x += _x4;\n          transform.y += _y4;\n          checkChildren(def, transform);\n        }\n      }\n    }\n  }\n  /**\n   * Performs \"checkRender\" on all childNodes of a DOM element (used recursively by checkRender)\n   * @param {HTMLElement} e DOM node to traverse\n   * @param {Object} trans ancestral transform properties\n   * @private\n   */\n\n\n  function checkChildren(e, trans) {\n    selectAll(e.childNodes).each(function () {\n      checkRender.bind(this)(trans);\n    });\n  }\n\n  for (var i = 0; i < elem.length; i++) {\n    var e = elem[i],\n        _options = {\n      scale: 1,\n      x: 0,\n      y: 0,\n      svg: false\n    };\n\n    if (e.constructor === Object) {\n      _options = Object.assign(_options, e);\n      e = e.element;\n    }\n\n    layerX = _options.x;\n    layerY = _options.y;\n    checkRender.bind(e)(_options);\n  }\n  /**\n   * Checks the status of each render layer every 500ms, and finishes render once all are complete.\n   * @private\n   */\n\n\n  function checkStatus() {\n    var allDone = true;\n\n    for (var _i2 = 0; _i2 < layers.length; _i2++) {\n      if (layers[_i2].loaded === false) {\n        allDone = false;\n        break;\n      }\n    }\n\n    if (allDone) finish();else setTimeout(checkStatus, 500);\n  }\n\n  checkStatus();\n  /**\n   * Finishes the render after all layers have been rendered to canvas.\n   * @private\n   */\n\n  function finish() {\n    for (var _i3 = 0; _i3 < layers.length; _i3++) {\n      var layer = layers[_i3];\n      var clip = layer.clip || {\n        height: height,\n        width: width,\n        x: 0,\n        y: 0\n      };\n\n      switch (layer.type) {\n        case \"img\":\n          context.save();\n          context.beginPath();\n          context.translate(options.padding + clip.x, options.padding + clip.y);\n          context.rect(0, 0, clip.width, clip.height);\n          context.clip();\n          context.drawImage(layer.value, layer.x + clip.x, layer.y + clip.y, layer.width, layer.height);\n          context.restore();\n          break;\n\n        case \"html\":\n          context.save();\n          context.beginPath();\n          context.translate(options.padding, options.padding);\n          context.drawImage(layer.value, layer.x, layer.y, layer.width, layer.height);\n          context.restore();\n          break;\n\n        case \"text\":\n          var parent = select(layer.style);\n          var title = layer.value.replace(/&/g, \"&amp;\").replace(/\"/g, \"&quot;\").replace(/'/g, \"&#039;\");\n          var fC = parent.style(\"color\"),\n              fS = parent.style(\"font-size\");\n          var fF = parent.style(\"font-family\").split(\",\")[0];\n          if (fF.indexOf(\"'\") !== 0) fF = \"'\".concat(fF, \"'\");\n          var text = \"<text stroke='none' dy='\".concat(fS, \"' fill='\").concat(fC, \"' font-family=\").concat(fF, \" font-size='\").concat(fS, \"'>\").concat(title, \"</text>\");\n          context.save();\n          context.translate(options.padding, options.padding);\n          canvg(canvas, text, Object.assign({}, canvgOptions, {\n            offsetX: layer.x,\n            offsetY: layer.y\n          }));\n          context.restore();\n          break;\n\n        case \"svg\":\n          var outer = IE ? new XMLSerializer().serializeToString(layer.value) : layer.value.outerHTML;\n          context.save();\n          context.translate(options.padding + clip.x + layer.x, options.padding + clip.y + layer.y);\n          context.rect(0, 0, clip.width, clip.height);\n          context.clip();\n          canvg(canvas, outer, Object.assign({}, canvgOptions, {\n            offsetX: layer.x + clip.x,\n            offsetY: layer.y + clip.y\n          }));\n          context.restore();\n          break;\n\n        default:\n          console.warn(\"uncaught\", layer);\n          break;\n      }\n    }\n\n    options.callback(canvas);\n  }\n}","/* canvas-toBlob.js\n * A canvas.toBlob() implementation.\n * 2016-05-26\n * \n * By Eli Grey, http://eligrey.com and Devin Samarin, https://github.com/eboyjr\n * License: MIT\n *   See https://github.com/eligrey/canvas-toBlob.js/blob/master/LICENSE.md\n */\n\n/*global self */\n/*jslint bitwise: true, regexp: true, confusion: true, es5: true, vars: true, white: true,\n  plusplus: true */\n\n/*! @source http://purl.eligrey.com/github/canvas-toBlob.js/blob/master/canvas-toBlob.js */\n\n(function(view) {\n\"use strict\";\nvar\n\t  Uint8Array = view.Uint8Array\n\t, HTMLCanvasElement = view.HTMLCanvasElement\n\t, canvas_proto = HTMLCanvasElement && HTMLCanvasElement.prototype\n\t, is_base64_regex = /\\s*;\\s*base64\\s*(?:;|$)/i\n\t, to_data_url = \"toDataURL\"\n\t, base64_ranks\n\t, decode_base64 = function(base64) {\n\t\tvar\n\t\t\t  len = base64.length\n\t\t\t, buffer = new Uint8Array(len / 4 * 3 | 0)\n\t\t\t, i = 0\n\t\t\t, outptr = 0\n\t\t\t, last = [0, 0]\n\t\t\t, state = 0\n\t\t\t, save = 0\n\t\t\t, rank\n\t\t\t, code\n\t\t\t, undef\n\t\t;\n\t\twhile (len--) {\n\t\t\tcode = base64.charCodeAt(i++);\n\t\t\trank = base64_ranks[code-43];\n\t\t\tif (rank !== 255 && rank !== undef) {\n\t\t\t\tlast[1] = last[0];\n\t\t\t\tlast[0] = code;\n\t\t\t\tsave = (save << 6) | rank;\n\t\t\t\tstate++;\n\t\t\t\tif (state === 4) {\n\t\t\t\t\tbuffer[outptr++] = save >>> 16;\n\t\t\t\t\tif (last[1] !== 61 /* padding character */) {\n\t\t\t\t\t\tbuffer[outptr++] = save >>> 8;\n\t\t\t\t\t}\n\t\t\t\t\tif (last[0] !== 61 /* padding character */) {\n\t\t\t\t\t\tbuffer[outptr++] = save;\n\t\t\t\t\t}\n\t\t\t\t\tstate = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t// 2/3 chance there's going to be some null bytes at the end, but that\n\t\t// doesn't really matter with most image formats.\n\t\t// If it somehow matters for you, truncate the buffer up outptr.\n\t\treturn buffer;\n\t}\n;\nif (Uint8Array) {\n\tbase64_ranks = new Uint8Array([\n\t\t  62, -1, -1, -1, 63, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, -1\n\t\t, -1, -1,  0, -1, -1, -1,  0,  1,  2,  3,  4,  5,  6,  7,  8,  9\n\t\t, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25\n\t\t, -1, -1, -1, -1, -1, -1, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35\n\t\t, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51\n\t]);\n}\nif (HTMLCanvasElement && (!canvas_proto.toBlob || !canvas_proto.toBlobHD)) {\n\tif (!canvas_proto.toBlob)\n\tcanvas_proto.toBlob = function(callback, type /*, ...args*/) {\n\t\t  if (!type) {\n\t\t\ttype = \"image/png\";\n\t\t} if (this.mozGetAsFile) {\n\t\t\tcallback(this.mozGetAsFile(\"canvas\", type));\n\t\t\treturn;\n\t\t} if (this.msToBlob && /^\\s*image\\/png\\s*(?:$|;)/i.test(type)) {\n\t\t\tcallback(this.msToBlob());\n\t\t\treturn;\n\t\t}\n\n\t\tvar\n\t\t\t  args = Array.prototype.slice.call(arguments, 1)\n\t\t\t, dataURI = this[to_data_url].apply(this, args)\n\t\t\t, header_end = dataURI.indexOf(\",\")\n\t\t\t, data = dataURI.substring(header_end + 1)\n\t\t\t, is_base64 = is_base64_regex.test(dataURI.substring(0, header_end))\n\t\t\t, blob\n\t\t;\n\t\tif (Blob.fake) {\n\t\t\t// no reason to decode a data: URI that's just going to become a data URI again\n\t\t\tblob = new Blob\n\t\t\tif (is_base64) {\n\t\t\t\tblob.encoding = \"base64\";\n\t\t\t} else {\n\t\t\t\tblob.encoding = \"URI\";\n\t\t\t}\n\t\t\tblob.data = data;\n\t\t\tblob.size = data.length;\n\t\t} else if (Uint8Array) {\n\t\t\tif (is_base64) {\n\t\t\t\tblob = new Blob([decode_base64(data)], {type: type});\n\t\t\t} else {\n\t\t\t\tblob = new Blob([decodeURIComponent(data)], {type: type});\n\t\t\t}\n\t\t}\n\t\tcallback(blob);\n\t};\n\n\tif (!canvas_proto.toBlobHD && canvas_proto.toDataURLHD) {\n\t\tcanvas_proto.toBlobHD = function() {\n\t\t\tto_data_url = \"toDataURLHD\";\n\t\t\tvar blob = this.toBlob();\n\t\t\tto_data_url = \"toDataURL\";\n\t\t\treturn blob;\n\t\t}\n\t} else {\n\t\tcanvas_proto.toBlobHD = canvas_proto.toBlob;\n\t}\n}\n}(typeof self !== \"undefined\" && self || typeof window !== \"undefined\" && window || this.content || this));\n","/* FileSaver.js\n * A saveAs() FileSaver implementation.\n * 1.3.2\n * 2016-06-16 18:25:19\n *\n * By Eli Grey, http://eligrey.com\n * License: MIT\n *   See https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md\n */\n\n/*global self */\n/*jslint bitwise: true, indent: 4, laxbreak: true, laxcomma: true, smarttabs: true, plusplus: true */\n\n/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */\n\nvar saveAs = saveAs || (function(view) {\n\t\"use strict\";\n\t// IE <10 is explicitly unsupported\n\tif (typeof view === \"undefined\" || typeof navigator !== \"undefined\" && /MSIE [1-9]\\./.test(navigator.userAgent)) {\n\t\treturn;\n\t}\n\tvar\n\t\t  doc = view.document\n\t\t  // only get URL when necessary in case Blob.js hasn't overridden it yet\n\t\t, get_URL = function() {\n\t\t\treturn view.URL || view.webkitURL || view;\n\t\t}\n\t\t, save_link = doc.createElementNS(\"http://www.w3.org/1999/xhtml\", \"a\")\n\t\t, can_use_save_link = \"download\" in save_link\n\t\t, click = function(node) {\n\t\t\tvar event = new MouseEvent(\"click\");\n\t\t\tnode.dispatchEvent(event);\n\t\t}\n\t\t, is_safari = /constructor/i.test(view.HTMLElement) || view.safari\n\t\t, is_chrome_ios =/CriOS\\/[\\d]+/.test(navigator.userAgent)\n\t\t, throw_outside = function(ex) {\n\t\t\t(view.setImmediate || view.setTimeout)(function() {\n\t\t\t\tthrow ex;\n\t\t\t}, 0);\n\t\t}\n\t\t, force_saveable_type = \"application/octet-stream\"\n\t\t// the Blob API is fundamentally broken as there is no \"downloadfinished\" event to subscribe to\n\t\t, arbitrary_revoke_timeout = 1000 * 40 // in ms\n\t\t, revoke = function(file) {\n\t\t\tvar revoker = function() {\n\t\t\t\tif (typeof file === \"string\") { // file is an object URL\n\t\t\t\t\tget_URL().revokeObjectURL(file);\n\t\t\t\t} else { // file is a File\n\t\t\t\t\tfile.remove();\n\t\t\t\t}\n\t\t\t};\n\t\t\tsetTimeout(revoker, arbitrary_revoke_timeout);\n\t\t}\n\t\t, dispatch = function(filesaver, event_types, event) {\n\t\t\tevent_types = [].concat(event_types);\n\t\t\tvar i = event_types.length;\n\t\t\twhile (i--) {\n\t\t\t\tvar listener = filesaver[\"on\" + event_types[i]];\n\t\t\t\tif (typeof listener === \"function\") {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tlistener.call(filesaver, event || filesaver);\n\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\tthrow_outside(ex);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t, auto_bom = function(blob) {\n\t\t\t// prepend BOM for UTF-8 XML and text/* types (including HTML)\n\t\t\t// note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\n\t\t\tif (/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\n\t\t\t\treturn new Blob([String.fromCharCode(0xFEFF), blob], {type: blob.type});\n\t\t\t}\n\t\t\treturn blob;\n\t\t}\n\t\t, FileSaver = function(blob, name, no_auto_bom) {\n\t\t\tif (!no_auto_bom) {\n\t\t\t\tblob = auto_bom(blob);\n\t\t\t}\n\t\t\t// First try a.download, then web filesystem, then object URLs\n\t\t\tvar\n\t\t\t\t  filesaver = this\n\t\t\t\t, type = blob.type\n\t\t\t\t, force = type === force_saveable_type\n\t\t\t\t, object_url\n\t\t\t\t, dispatch_all = function() {\n\t\t\t\t\tdispatch(filesaver, \"writestart progress write writeend\".split(\" \"));\n\t\t\t\t}\n\t\t\t\t// on any filesys errors revert to saving with object URLs\n\t\t\t\t, fs_error = function() {\n\t\t\t\t\tif ((is_chrome_ios || (force && is_safari)) && view.FileReader) {\n\t\t\t\t\t\t// Safari doesn't allow downloading of blob urls\n\t\t\t\t\t\tvar reader = new FileReader();\n\t\t\t\t\t\treader.onloadend = function() {\n\t\t\t\t\t\t\tvar url = is_chrome_ios ? reader.result : reader.result.replace(/^data:[^;]*;/, 'data:attachment/file;');\n\t\t\t\t\t\t\tvar popup = view.open(url, '_blank');\n\t\t\t\t\t\t\tif(!popup) view.location.href = url;\n\t\t\t\t\t\t\turl=undefined; // release reference before dispatching\n\t\t\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\t\t\tdispatch_all();\n\t\t\t\t\t\t};\n\t\t\t\t\t\treader.readAsDataURL(blob);\n\t\t\t\t\t\tfilesaver.readyState = filesaver.INIT;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t// don't create more object URLs than needed\n\t\t\t\t\tif (!object_url) {\n\t\t\t\t\t\tobject_url = get_URL().createObjectURL(blob);\n\t\t\t\t\t}\n\t\t\t\t\tif (force) {\n\t\t\t\t\t\tview.location.href = object_url;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar opened = view.open(object_url, \"_blank\");\n\t\t\t\t\t\tif (!opened) {\n\t\t\t\t\t\t\t// Apple does not allow window.open, see https://developer.apple.com/library/safari/documentation/Tools/Conceptual/SafariExtensionGuide/WorkingwithWindowsandTabs/WorkingwithWindowsandTabs.html\n\t\t\t\t\t\t\tview.location.href = object_url;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\tdispatch_all();\n\t\t\t\t\trevoke(object_url);\n\t\t\t\t}\n\t\t\t;\n\t\t\tfilesaver.readyState = filesaver.INIT;\n\n\t\t\tif (can_use_save_link) {\n\t\t\t\tobject_url = get_URL().createObjectURL(blob);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tsave_link.href = object_url;\n\t\t\t\t\tsave_link.download = name;\n\t\t\t\t\tclick(save_link);\n\t\t\t\t\tdispatch_all();\n\t\t\t\t\trevoke(object_url);\n\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfs_error();\n\t\t}\n\t\t, FS_proto = FileSaver.prototype\n\t\t, saveAs = function(blob, name, no_auto_bom) {\n\t\t\treturn new FileSaver(blob, name || blob.name || \"download\", no_auto_bom);\n\t\t}\n\t;\n\t// IE 10+ (native saveAs)\n\tif (typeof navigator !== \"undefined\" && navigator.msSaveOrOpenBlob) {\n\t\treturn function(blob, name, no_auto_bom) {\n\t\t\tname = name || blob.name || \"download\";\n\n\t\t\tif (!no_auto_bom) {\n\t\t\t\tblob = auto_bom(blob);\n\t\t\t}\n\t\t\treturn navigator.msSaveOrOpenBlob(blob, name);\n\t\t};\n\t}\n\n\tFS_proto.abort = function(){};\n\tFS_proto.readyState = FS_proto.INIT = 0;\n\tFS_proto.WRITING = 1;\n\tFS_proto.DONE = 2;\n\n\tFS_proto.error =\n\tFS_proto.onwritestart =\n\tFS_proto.onprogress =\n\tFS_proto.onwrite =\n\tFS_proto.onabort =\n\tFS_proto.onerror =\n\tFS_proto.onwriteend =\n\t\tnull;\n\n\treturn saveAs;\n}(\n\t   typeof self !== \"undefined\" && self\n\t|| typeof window !== \"undefined\" && window\n\t|| this.content\n));\n// `self` is undefined in Firefox for Android content script context\n// while `this` is nsIContentFrameMessageManager\n// with an attribute `content` that corresponds to the window\n\nif (typeof module !== \"undefined\" && module.exports) {\n  module.exports.saveAs = saveAs;\n} else if ((typeof define !== \"undefined\" && define !== null) && (define.amd !== null)) {\n  define(\"FileSaver.js\", function() {\n    return saveAs;\n  });\n}\n","import \"canvas-toBlob\";\nimport { saveAs } from \"file-saver\"; // import JsPDF from \"jspdf\";\n\nimport dom2canvas from \"./dom2canvas\";\nvar defaultOptions = {\n  filename: \"download\",\n  type: \"png\"\n};\n/**\n    @function saveElement\n    @desc Downloads an HTML Element as a bitmap PNG image.\n    @param {HTMLElement|Array} elem A single element or array of elements to be saved to one file.\n    @param {Object} [options] Additional options to specify.\n    @param {String} [options.filename = \"download\"] Filename for the downloaded file, without the extension.\n    @param {String} [options.type = \"png\"] File type of the saved document. Accepted values are `\"png\"` and `\"jpg\"`.\n    @param {Object} [renderOptions] Custom options to be passed to the dom2canvas function.\n*/\n\nexport default function (elem) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var renderOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  if (!elem) return;\n  options = Object.assign({}, defaultOptions, options);\n  var IE = new RegExp(/(MSIE|Trident\\/|Edge\\/)/i).test(navigator.userAgent);\n\n  if (!(elem instanceof Array) && options.type === \"svg\") {\n    var outer = IE ? new XMLSerializer().serializeToString(elem) : elem.outerHTML;\n    saveAs(new Blob([outer], {\n      type: \"application/svg+xml\"\n    }), \"\".concat(options.filename, \".svg\"));\n  }\n\n  dom2canvas(elem, Object.assign({}, renderOptions, {\n    callback: function callback(canvas) {\n      if (renderOptions.callback) renderOptions.callback(canvas);\n\n      if ([\"jpg\", \"png\"].includes(options.type)) {\n        canvas.toBlob(function (blob) {\n          return saveAs(blob, \"\".concat(options.filename, \".\").concat(options.type));\n        });\n      } // else if (options.type === \"pdf\") {\n      //   const outputHeight = 11,\n      //         outputWidth = 8.5;\n      //   const aspect = canvas.width / canvas.height,\n      //         orientation = aspect > 1 ? \"landscape\" : \"portrait\";\n      //   const pdf = new JsPDF({\n      //     orientation,\n      //     unit: \"in\",\n      //     format: [outputWidth, outputHeight]\n      //   });\n      //   let h = orientation === \"landscape\" ? outputWidth : outputHeight,\n      //       left,\n      //       top,\n      //       w = orientation === \"landscape\" ? outputHeight : outputWidth;\n      //   const margin = 0.5;\n      //   if (aspect < w / h) {\n      //     h -= margin * 2;\n      //     const tempWidth = h * aspect;\n      //     top = margin;\n      //     left = (w - tempWidth) / 2;\n      //     w = tempWidth;\n      //   }\n      //   else {\n      //     w -= margin * 2;\n      //     const tempHeight = w / aspect;\n      //     left = margin;\n      //     top = (h - tempHeight) / 2;\n      //     h = tempHeight;\n      //   }\n      //   pdf.addImage(canvas, \"canvas\", left, top, w, h);\n      //   pdf.save(options.filename);\n      // }\n\n    }\n  }));\n}","import { elem } from \"d3plus-common\";\nimport { saveElement } from \"d3plus-export\";\nimport { Button, Radio, Select } from \"d3plus-form\";\nvar formTypes = {\n  Button: Button,\n  Radio: Radio,\n  Select: Select\n};\n/**\n    @function _drawLegend\n    @desc Renders the legend if this._legend is not falsy.\n    @param {Array} dara The filtered data array to be displayed.\n    @private\n*/\n\nexport default function () {\n  var _this = this;\n\n  var that = this;\n  var padding = this._controlPadding() ? this._padding : {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  };\n  var areas = [\"left\", \"right\", \"top\", \"bottom\"];\n\n  var _loop = function _loop(a) {\n    var area = areas[a];\n    var controls = (_this._controls || []).filter(function (c) {\n      return !c.position && area === \"bottom\" || c.position === area;\n    });\n\n    if (_this._downloadButton && _this._downloadPosition === area) {\n      controls.push({\n        data: [{\n          text: _this._translate(\"Download\"),\n          value: 1\n        }],\n        label: \"downloadButton\",\n        on: {\n          click: function click() {\n            var resize = _this._detectResize;\n            if (resize) _this.detectResize(false).render();\n            saveElement(_this._select.node(), Object.assign({\n              title: _this._title || undefined\n            }, _this._downloadConfig), {\n              callback: function callback() {\n                setTimeout(function () {\n                  if (resize) _this.detectResize(resize).render();\n                }, 5000);\n              }\n            });\n          }\n        },\n        type: \"Button\"\n      });\n    }\n\n    var wide = area === \"top\" || area === \"bottom\";\n    var transform = {\n      height: wide ? _this._height - (_this._margin.top + _this._margin.bottom) : _this._height - (_this._margin.top + _this._margin.bottom + padding.top + padding.bottom),\n      width: wide ? _this._width - (_this._margin.left + _this._margin.right + padding.left + padding.right) : _this._width - (_this._margin.left + _this._margin.right)\n    };\n    transform.x = (wide ? _this._margin.left + padding.left : _this._margin.left) + (area === \"right\" ? _this._width - _this._margin.bottom : 0);\n    transform.y = (wide ? _this._margin.top : _this._margin.top + padding.top) + (area === \"bottom\" ? _this._height - _this._margin.bottom : 0);\n    var foreign = elem(\"foreignObject.d3plus-viz-controls-\".concat(area), {\n      condition: controls.length,\n      enter: Object.assign({\n        opacity: 0\n      }, transform),\n      exit: Object.assign({\n        opacity: 0\n      }, transform),\n      parent: _this._select,\n      transition: _this._transition,\n      update: {\n        height: transform.height,\n        opacity: 1,\n        width: transform.width\n      }\n    });\n    var container = foreign.selectAll(\"div.d3plus-viz-controls-container\").data([null]);\n    container = container.enter().append(\"xhtml:div\").attr(\"class\", \"d3plus-viz-controls-container\").merge(container);\n\n    if (controls.length) {\n      var _loop2 = function _loop2(i) {\n        var control = Object.assign({}, controls[i]);\n        var on = {};\n\n        if (control.on) {\n          var _loop3 = function _loop3(event) {\n            if ({}.hasOwnProperty.call(control.on, event)) {\n              on[event] = function () {\n                control.on[event].bind(that)(this.value);\n              };\n            }\n          };\n\n          for (var event in control.on) {\n            _loop3(event);\n          }\n        }\n\n        var id = control.label || \"\".concat(area, \"-\").concat(i);\n\n        if (!_this._controlCache[id]) {\n          var type = control.type && formTypes[control.type] ? control.type : \"Select\";\n          _this._controlCache[id] = new formTypes[type]().container(container.node());\n          if (control.checked) _this._controlCache[id].checked(control.checked);\n          if (control.selected) _this._controlCache[id].selected(control.selected);\n        }\n\n        delete control.checked;\n        delete control.selected;\n\n        _this._controlCache[id].config(control).config({\n          on: on\n        }).config(_this._controlConfig).render();\n      };\n\n      for (var i = 0; i < controls.length; i++) {\n        _loop2(i);\n      }\n\n      container.style(\"display\", [\"top\", \"bottom\"].includes(area) ? \"block\" : \"inline-block\").style(\"text-align\", [\"top\", \"bottom\"].includes(area) ? \"center\" : area);\n      var bounds = container.node().getBoundingClientRect();\n      foreign.transition(_this._transition).attr(\"x\", transform.x - (area === \"right\" ? bounds.width : 0)).attr(\"y\", transform.y - (area === \"bottom\" ? bounds.height : 0)).attr(\"height\", wide ? bounds.height : transform.height).attr(\"width\", wide ? transform.width : bounds.width);\n      _this._margin[area] += [\"top\", \"bottom\"].includes(area) ? bounds.height : bounds.width;\n    }\n  };\n\n  for (var a = 0; a < areas.length; a++) {\n    _loop(a);\n  }\n}","import { nest } from \"d3-collection\";\nimport { configPrep, elem, merge } from \"d3plus-common\";\n/**\n    @function legendLabel\n    @desc Default label function for the legend.\n    @private\n*/\n\nexport function legendLabel(d, i) {\n  var l = this._drawLabel(d, i);\n\n  return l instanceof Array ? l.join(\", \") : l;\n}\n/**\n    @function _drawLegend\n    @desc Renders the legend if this._legend is not falsy.\n    @param {Array} data The filtered data array to be displayed.\n    @private\n*/\n\nexport default function () {\n  var _this = this;\n\n  var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  if (this._legend) {\n    var legendBounds = this._legendClass.outerBounds();\n\n    var position = this._legendPosition;\n    var wide = [\"top\", \"bottom\"].includes(position);\n    var padding = this._legendPadding() ? this._padding : {\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0\n    };\n    var transform = {\n      transform: \"translate(\".concat(wide ? this._margin.left + padding.left : this._margin.left, \", \").concat(wide ? this._margin.top : this._margin.top + padding.top, \")\")\n    };\n    var legendGroup = elem(\"g.d3plus-viz-legend\", {\n      condition: this._legend && !this._legendConfig.select,\n      enter: transform,\n      parent: this._select,\n      transition: this._transition,\n      update: transform\n    }).node();\n    var legendData = [];\n\n    var color = function color(d, i) {\n      var shape = _this._shape(d, i);\n\n      var attr = shape === \"Line\" ? \"stroke\" : \"fill\";\n      var value = _this._shapeConfig[shape] && _this._shapeConfig[shape][attr] ? _this._shapeConfig[shape][attr] : _this._shapeConfig[attr];\n      return typeof value === \"function\" ? value(d, i) : value;\n    };\n\n    var opacity = function opacity(d, i) {\n      var shape = _this._shape(d, i);\n\n      var value = _this._shapeConfig[shape] && _this._shapeConfig[shape].opacity ? _this._shapeConfig[shape].opacity : _this._shapeConfig.opacity;\n      return typeof value === \"function\" ? value(d, i) : value;\n    };\n\n    var fill = function fill(d, i) {\n      return \"\".concat(color(d, i), \"_\").concat(opacity(d, i));\n    };\n\n    nest().key(fill).rollup(function (leaves) {\n      return legendData.push(merge(leaves, _this._aggs));\n    }).entries(this._colorScale ? data.filter(function (d, i) {\n      return _this._colorScale(d, i) === undefined;\n    }) : data);\n    legendData.sort(this._legendSort);\n\n    var hidden = function hidden(d, i) {\n      var id = _this._id(d, i);\n\n      if (id instanceof Array) id = id[0];\n      return _this._hidden.includes(id) || _this._solo.length && !_this._solo.includes(id);\n    };\n\n    this._legendClass.id(fill).align(wide ? \"center\" : position).direction(wide ? \"row\" : \"column\").duration(this._duration).data(legendData.length > this._legendCutoff || this._colorScale ? legendData : []).height(wide ? this._height - (this._margin.bottom + this._margin.top) : this._height - (this._margin.bottom + this._margin.top + padding.bottom + padding.top)).locale(this._locale).select(legendGroup).verticalAlign(!wide ? \"middle\" : position).width(wide ? this._width - (this._margin.left + this._margin.right + padding.left + padding.right) : this._width - (this._margin.left + this._margin.right)).shapeConfig(configPrep.bind(this)(this._shapeConfig, \"legend\")).config(this._legendConfig).shapeConfig({\n      fill: function fill(d, i) {\n        return hidden(d, i) ? _this._hiddenColor(d, i) : color(d, i);\n      },\n      labelConfig: {\n        fontOpacity: function fontOpacity(d, i) {\n          return hidden(d, i) ? _this._hiddenOpacity(d, i) : 1;\n        }\n      },\n      opacity: opacity\n    }).render();\n\n    if (!this._legendConfig.select && legendBounds.height) {\n      if (wide) this._margin[position] += legendBounds.height + this._legendClass.padding() * 2;else this._margin[position] += legendBounds.width + this._legendClass.padding() * 2;\n    }\n  }\n}","import { extent } from \"d3-array\";\nimport { date } from \"d3plus-axis\";\nimport { elem, unique } from \"d3plus-common\";\n/**\n    @function setTimeFilter\n    @desc Determines whether or not to update the timeFilter method of the Viz.\n    @param {Array|Date} The timeline selection given from the d3 brush.\n    @private\n*/\n\nfunction setTimeFilter(s) {\n  var _this = this;\n\n  if (!(s instanceof Array)) s = [s, s];\n\n  if (JSON.stringify(s) !== JSON.stringify(this._timelineSelection)) {\n    this._timelineSelection = s;\n    s = s.map(Number);\n    this.timeFilter(function (d) {\n      var ms = date(_this._time(d)).getTime();\n      return ms >= s[0] && ms <= s[1];\n    }).render();\n  }\n}\n/**\n    @function _drawTimeline\n    @desc Renders the timeline if this._time and this._timeline are not falsy and there are more than 1 tick available.\n    @param {Array} data The filtered data array to be displayed.\n    @private\n*/\n\n\nexport default function () {\n  var _this2 = this;\n\n  var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var timelinePossible = this._time && this._timeline;\n  var ticks = timelinePossible ? unique(this._data.map(this._time)).map(date) : [];\n  timelinePossible = timelinePossible && ticks.length > 1;\n  var padding = this._timelinePadding() ? this._padding : {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  };\n  var transform = {\n    transform: \"translate(\".concat(this._margin.left + padding.left, \", 0)\")\n  };\n  var timelineGroup = elem(\"g.d3plus-viz-timeline\", {\n    condition: timelinePossible,\n    enter: transform,\n    parent: this._select,\n    transition: this._transition,\n    update: transform\n  }).node();\n\n  if (timelinePossible) {\n    var timeline = this._timelineClass.domain(extent(ticks)).duration(this._duration).height(this._height - this._margin.bottom).locale(this._locale).select(timelineGroup).ticks(ticks.sort(function (a, b) {\n      return +a - +b;\n    })).width(this._width - (this._margin.left + this._margin.right + padding.left + padding.right));\n\n    if (timeline.selection() === undefined) {\n      this._timelineSelection = extent(data, this._time).map(date);\n      timeline.selection(this._timelineSelection);\n    }\n\n    var config = this._timelineConfig;\n    timeline.config(config) // .on(\"brush\", s => {\n    //   setTimeFilter.bind(this)(s);\n    //   if (config.on && config.on.brush) config.on.brush(s);\n    // })\n    .on(\"end\", function (s) {\n      setTimeFilter.bind(_this2)(s);\n      if (config.on && config.on.end) config.on.end(s);\n    }).render();\n    this._margin.bottom += timeline.outerBounds().height + timeline.padding() * 2;\n  }\n}","import { elem } from \"d3plus-common\";\n/**\n    @function _drawTitle\n    @desc Draws a title if this._title is defined.\n    @param {Array} [*data*] The currently filtered dataset.\n    @private\n*/\n\nexport default function () {\n  var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var text = this._title ? this._title(data) : false;\n  var padding = this._titlePadding() ? this._padding : {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  };\n  var transform = {\n    transform: \"translate(\".concat(this._margin.left + padding.left, \", \").concat(this._margin.top, \")\")\n  };\n  var group = elem(\"g.d3plus-viz-title\", {\n    enter: transform,\n    parent: this._select,\n    transition: this._transition,\n    update: transform\n  }).node();\n\n  this._titleClass.data(text ? [{\n    text: text\n  }] : []).locale(this._locale).select(group).width(this._width - (this._margin.left + this._margin.right + padding.left + padding.right)).config(this._titleConfig).render();\n\n  this._margin.top += text ? group.getBBox().height : 0;\n}","import { sum } from \"d3-array\";\nimport { elem } from \"d3plus-common\";\n/**\n    @function _drawTotal\n    @desc Draws a total title if this._total is defined.\n    @param {Array} [*data*] The currently filtered dataset.\n    @private\n*/\n\nexport default function () {\n  var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var total = typeof this._total === \"function\" ? sum(data.map(this._total)) : this._total === true && this._size ? sum(data.map(this._size)) : false;\n  var padding = this._totalPadding() ? this._padding : {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  };\n  var transform = {\n    transform: \"translate(\".concat(this._margin.left + padding.left, \", \").concat(this._margin.top, \")\")\n  };\n  var group = elem(\"g.d3plus-viz-total\", {\n    enter: transform,\n    parent: this._select,\n    transition: this._transition,\n    update: transform\n  }).node();\n  var visible = typeof total === \"number\";\n\n  this._totalClass.data(visible ? [{\n    text: this._totalFormat(total)\n  }] : []).locale(this._locale).select(group).width(this._width - (this._margin.left + this._margin.right + padding.left + padding.right)).config(this._totalConfig).render();\n\n  this._margin.top += visible ? group.getBBox().height + this._totalConfig.padding * 2 : 0;\n}","import { select } from \"d3-selection\";\n/**\n  @desc Given an HTMLElement and a \"width\" or \"height\" string, this function returns the current calculated size for the DOM element.\n  @private\n*/\n\nfunction _elementSize(element, s) {\n  if (!element) return undefined;\n\n  if (element.tagName === undefined || [\"BODY\", \"HTML\"].indexOf(element.tagName) >= 0) {\n    var val = window[\"inner\".concat(s.charAt(0).toUpperCase() + s.slice(1))];\n    var elem = select(element);\n\n    if (s === \"width\") {\n      val -= parseFloat(elem.style(\"margin-left\"), 10);\n      val -= parseFloat(elem.style(\"margin-right\"), 10);\n      val -= parseFloat(elem.style(\"padding-left\"), 10);\n      val -= parseFloat(elem.style(\"padding-right\"), 10);\n    } else {\n      val -= parseFloat(elem.style(\"margin-top\"), 10);\n      val -= parseFloat(elem.style(\"margin-bottom\"), 10);\n      val -= parseFloat(elem.style(\"padding-top\"), 10);\n      val -= parseFloat(elem.style(\"padding-bottom\"), 10);\n    }\n\n    return val;\n  } else {\n    var _val = parseFloat(select(element).style(s), 10);\n\n    if (typeof _val === \"number\" && _val > 0) return _val;else return _elementSize(element.parentNode, s);\n  }\n}\n/**\n    @function getSize\n    @desc Finds the available width and height for a specified HTMLElement, traversing it's parents until it finds something with constrained dimensions. Falls back to the inner dimensions of the browser window if none is found.\n    @param {HTMLElement} elem The HTMLElement to find dimensions for.\n    @private\n*/\n\n\nexport default function (elem) {\n  return [_elementSize(elem, \"width\"), _elementSize(elem, \"height\")];\n}","/**\n  @desc Returns a *Boolean* denoting whether or not a given DOM element is visible in the current window.\n  @param {DOMElement} elem The DOM element to analyze.\n  @param {Number} [buffer = 0] A pixel offset from the edge of the top and bottom of the screen. If a positive value, the element will be deemed visible when it is that many pixels away from entering the viewport. If negative, the element will have to enter the viewport by that many pixels before being deemed visible.\n  @private\n*/\nexport default function (elem) {\n  var buffer = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var pageX = window.pageXOffset !== undefined ? window.pageXOffset : (document.documentElement || document.body.parentNode || document.body).scrollLeft;\n  var pageY = window.pageYOffset !== undefined ? window.pageYOffset : (document.documentElement || document.body.parentNode || document.body).scrollTop;\n  var bounds = elem.getBoundingClientRect();\n  var height = bounds.height,\n      left = bounds.left + pageX,\n      top = bounds.top + pageY,\n      width = bounds.width;\n  return pageY + window.innerHeight > top + buffer && pageY + buffer < top + height && pageX + window.innerWidth > left + buffer && pageX + buffer < left + width;\n}","/**\n    @desc On click event for all shapes in a Viz.\n    @param {Object} *d* The data object being interacted with.\n    @param {Number} *i* The index of the data object being interacted with.\n    @private\n*/\nexport default function (d, i) {\n  this._select.style(\"cursor\", \"auto\");\n\n  if (this._drawDepth < this._groupBy.length - 1) {\n    var filterGroup = this._groupBy[this._drawDepth],\n        filterId = filterGroup(d, i);\n    this.hover(false);\n    if (this._tooltip) this._tooltipClass.data([]).render();\n\n    this._history.push({\n      depth: this._depth,\n      filter: this._filter\n    });\n\n    this.config({\n      depth: this._drawDepth + 1,\n      filter: function filter(f, x) {\n        return filterGroup(f, x) === filterId;\n      }\n    }).render();\n  }\n}","import { merge } from \"d3-array\";\nimport { event } from \"d3-selection\";\n/**\n    @desc On click event for all legend shapes in a Viz.\n    @param {Object} *d* The data object being interacted with.\n    @param {Number} *i* The index of the data object being interacted with.\n    @private\n*/\n\nexport default function (d, i) {\n  var _this = this;\n\n  this._select.style(\"cursor\", \"auto\");\n\n  if (this._tooltip) this._tooltipClass.data([]).render();\n\n  var id = this._id(d, i);\n\n  if (!(id instanceof Array)) id = [id];\n\n  var hiddenIndex = this._hidden.indexOf(id[0]);\n\n  var soloIndex = this._solo.indexOf(id[0]);\n\n  var dataLength = merge(this._legendClass.data().map(function (d, i) {\n    var id = _this._id(d, i);\n\n    if (!(id instanceof Array)) id = [id];\n    return id;\n  })).length;\n\n  if (event.shiftKey) {\n    if (hiddenIndex < 0 && !this._solo.length) {\n      this._hidden = this._hidden.concat(id);\n      if (this._solo.length === dataLength) this._solo = [];\n      if (this._hidden.length === dataLength) this._hidden = [];\n      this.render();\n    } else if (soloIndex >= 0) {\n      this._solo = [];\n      this._hidden = [];\n      this.render();\n    }\n  } else {\n    if (soloIndex < 0 && this._hidden.length < dataLength - 1) {\n      this._solo = id;\n      this._hidden = [];\n    } else {\n      this._solo = [];\n      this._hidden = [];\n    }\n\n    this.render();\n  }\n}","var flattenIds = function flattenIds(levels) {\n  return levels.reduce(function (arr, level) {\n    if (level instanceof Array) {\n      if (arr.length) {\n        var oldArray = arr.slice();\n        arr = [];\n        level.forEach(function (id) {\n          return arr = arr.concat(oldArray.map(function (a) {\n            return \"\".concat(a, \"_\").concat(id);\n          }));\n        });\n      } else {\n        arr = level.slice();\n      }\n    } else if (arr.length) {\n      arr = arr.map(function (a) {\n        return \"\".concat(a, \"_\").concat(level);\n      });\n    } else {\n      arr.push(level);\n    }\n\n    return arr;\n  }, []);\n};\n/**\n    @desc On mouseenter event for all shapes in a Viz.\n    @param {Object} *d* The data object being interacted with.\n    @param {Number} *i* The index of the data object being interacted with.\n    @private\n*/\n\n\nexport default function (d, i) {\n  var _this = this;\n\n  if (this._shapeConfig.hoverOpacity !== 1) {\n    var filterIds = flattenIds(this._ids(d, i));\n    this.hover(function (h, x) {\n      var ids = flattenIds(_this._ids(h, x));\n      return filterIds.some(function (id) {\n        return ids.includes(id);\n      });\n    });\n  }\n}","/**\n    @desc On mouseleave event for all shapes in a Viz.\n    @param {Object} *d* The data object being interacted with.\n    @param {Number} *i* The index of the data object being interacted with.\n    @private\n*/\nexport default function (d, i) {\n  var _this = this;\n\n  setTimeout(function () {\n    if (_this._shapeConfig.hoverOpacity !== 1 && _this._hover ? _this._hover(d, i) : true) {\n      _this.hover(false);\n    }\n\n    var tooltipData = _this._tooltipClass.data();\n\n    if (tooltipData.length && _this._tooltip) {\n      var tooltipDatum = tooltipData[0];\n\n      while (tooltipDatum.__d3plus__ && tooltipDatum.data) {\n        tooltipDatum = tooltipDatum.data;\n      }\n\n      if (_this._id(tooltipDatum) === _this._id(d)) _this._tooltipClass.data([]).render();\n    }\n  }, 50);\n\n  this._select.style(\"cursor\", \"auto\");\n}","import { merge } from \"d3-array\";\nimport { event } from \"d3-selection\";\nimport { configPrep } from \"d3plus-common\";\nimport { legendLabel } from \"../_drawLegend\";\n/**\n    @desc Tooltip logic for a specified data point.\n    @param {Object} *d* The data object being interacted with.\n    @param {Number} *i* The index of the data object being interacted with.\n    @param {Object} [*config*] Optional configuration methods for the Tooltip class.\n    @private\n*/\n\nexport default function (d, i, x) {\n  var _this = this;\n\n  var position = event.touches ? [event.touches[0].clientX, event.touches[0].clientY] : [event.clientX, event.clientY];\n  var dataLength = merge(this._legendClass.data().map(function (d, i) {\n    var id = _this._id(d, i);\n\n    if (!(id instanceof Array)) id = [id];\n    return id;\n  })).length;\n\n  if (this._tooltip && d) {\n    var id = this._id(d, i);\n\n    if (id instanceof Array) id = id[0];\n    var t = this._translate;\n\n    this._select.style(\"cursor\", \"pointer\");\n\n    this._tooltipClass.data([x || d]).footer(this._solo.length && !this._solo.includes(id) ? t(\"Click to Highlight\") : this._solo.length === 1 && this._solo.includes(id) || this._hidden.length === dataLength - 1 ? t(\"Click to Reset\") : this._solo.includes(id) ? t(\"Click to Hide\") : this._hidden.includes(id) ? t(\"Click to Highlight\") : \"\".concat(t(\"Click to Highlight\"), \"<br />\").concat(t(\"Shift+Click to Hide\"))).title(this._legendConfig.label ? this._legendClass.label() : legendLabel.bind(this)).position(position).config(configPrep.bind(this)(this._tooltipConfig)).config(configPrep.bind(this)(this._legendTooltip)).render();\n  }\n}","import { event } from \"d3-selection\";\nimport { configPrep } from \"d3plus-common\";\n/**\n    @desc Tooltip logic for a specified data point.\n    @param {Object} *d* The data object being interacted with.\n    @param {Number} *i* The index of the data object being interacted with.\n    @param {Object} [*config*] Optional configuration methods for the Tooltip class.\n    @private\n*/\n\nexport default function (d, i, x) {\n  if (this._tooltip && d) {\n    this._select.style(\"cursor\", \"pointer\");\n\n    var position = event.touches ? [event.touches[0].clientX, event.touches[0].clientY] : [event.clientX, event.clientY];\n\n    this._tooltipClass.data([x || d]).footer(this._drawDepth < this._groupBy.length - 1 ? this._translate(\"Click to Expand\") : false).title(this._drawLabel).position(position).config(configPrep.bind(this)(this._tooltipConfig)).render();\n  }\n}","import { event } from \"d3-selection\";\n/**\n @desc On touchstart event for the Body element.\n @private\n */\n\nexport default function (d) {\n  event.preventDefault();\n  event.stopPropagation();\n  if (this._tooltip && !d) this._tooltipClass.data([]).render();\n}","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { event, select } from \"d3-selection\";\nimport { zoomTransform } from \"d3-zoom\";\nimport { attrize, stylize } from \"d3plus-common\";\nvar brushing = false;\n/**\n    @name zoomControls\n    @desc Sets up initial zoom events and controls.\n    @private\n*/\n\nexport default function () {\n  if (!this._container || !this._zoomGroup) return;\n  var height = this._zoomHeight || this._height - this._margin.top - this._margin.bottom,\n      that = this,\n      width = this._zoomWidth || this._width - this._margin.left - this._margin.right;\n\n  this._zoomBehavior.extent([[0, 0], [width, height]]).scaleExtent([1, this._zoomMax]).translateExtent([[0, 0], [width, height]]).on(\"zoom\", zoomed.bind(this));\n\n  this._zoomToBounds = zoomToBounds.bind(this);\n  var control = select(this._select.node().parentNode).selectAll(\"div.d3plus-zoom-control\").data(this._zoom ? [0] : []);\n  var controlEnter = control.enter().append(\"div\").attr(\"class\", \"d3plus-zoom-control\");\n  control.exit().remove();\n  control = control.merge(controlEnter).style(\"position\", \"absolute\").style(\"top\", \"\".concat(this._margin.top, \"px\")).style(\"left\", \"\".concat(this._margin.left, \"px\"));\n  controlEnter.append(\"div\").attr(\"class\", \"zoom-control zoom-in\");\n  control.select(\".zoom-in\").on(\"click\", zoomMath.bind(this, this._zoomFactor)).html(\"&#65291;\");\n  controlEnter.append(\"div\").attr(\"class\", \"zoom-control zoom-out\");\n  control.select(\".zoom-out\").on(\"click\", zoomMath.bind(this, 1 / this._zoomFactor)).html(\"&#65293;\");\n  controlEnter.append(\"div\").attr(\"class\", \"zoom-control zoom-reset\");\n  control.select(\".zoom-reset\").on(\"click\", zoomMath.bind(this, 0)).html(\"&#8634\");\n  controlEnter.append(\"div\").attr(\"class\", \"zoom-control zoom-brush\");\n  control.select(\".zoom-brush\").on(\"click\", function () {\n    select(this).classed(\"active\", !brushing).call(stylize, brushing ? that._zoomControlStyle || {} : that._zoomControlStyleActive || {});\n    zoomEvents.bind(that)(!brushing);\n  }).html(\"&#164\");\n  control.selectAll(\".zoom-control\").call(stylize, that._zoomControlStyle).on(\"mouseenter\", function () {\n    select(this).call(stylize, that._zoomControlStyleHover || {});\n  }).on(\"mouseleave\", function () {\n    select(this).call(stylize, select(this).classed(\"active\") ? that._zoomControlStyleActive || {} : that._zoomControlStyle || {});\n  });\n\n  this._zoomBrush.extent([[0, 0], [width, height]]).filter(function () {\n    return !event.button && event.detail < 2;\n  }).handleSize(this._zoomBrushHandleSize).on(\"start\", brushStart.bind(this)).on(\"brush\", brushBrush.bind(this)).on(\"end\", brushEnd.bind(this));\n\n  var brushGroup = this._container.selectAll(\"g.brush\").data([0]);\n\n  this._brushGroup = brushGroup.enter().append(\"g\").attr(\"class\", \"brush\").merge(brushGroup).call(this._zoomBrush);\n  zoomEvents.bind(this)();\n  if (this._renderTiles) this._renderTiles(zoomTransform(this._container.node()), 0);\n}\n/**\n    @name zoomEvents\n    @desc Handles adding/removing zoom event listeners.\n    @private\n*/\n\nfunction zoomEvents() {\n  var brush = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  brushing = brush;\n  if (brushing) this._brushGroup.style(\"display\", \"inline\");else this._brushGroup.style(\"display\", \"none\");\n\n  if (!brushing && this._zoom) {\n    this._container.call(this._zoomBehavior);\n\n    if (!this._zoomScroll) {\n      this._container.on(\"wheel.zoom\", null);\n    }\n\n    if (!this._zoomPan) {\n      this._container.on(\"mousedown.zoom mousemove.zoom\", null).on(\"touchstart.zoom touchmove.zoom touchend.zoom touchcancel.zoom\", null);\n    }\n  } else {\n    this._container.on(\".zoom\", null);\n  }\n}\n/**\n    @name zoomed\n    @desc Handles events dispatched from this._zoomBehavior\n    @param {Object} [*transform* = event.transform]\n    @param {Number} [*duration* = 0]\n    @private\n*/\n\n\nfunction zoomed() {\n  var transform = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n  // console.log(transform || event.transform);\n  if (this._zoomGroup) {\n    if (!duration) this._zoomGroup.attr(\"transform\", transform || event.transform);else this._zoomGroup.transition().duration(duration).attr(\"transform\", transform || event.transform);\n  }\n\n  if (this._renderTiles) this._renderTiles(zoomTransform(this._container.node()), duration);\n}\n/**\n    @name zoomMath\n    @desc Zooms in or out based on the provided multiplier.\n    @param {Number} [*factor* = 0]\n    @private\n*/\n\n\nfunction zoomMath() {\n  var factor = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  if (!this._container) return;\n\n  var center = this._zoomBehavior.extent().bind(document)()[1].map(function (d) {\n    return d / 2;\n  }),\n      scaleExtent = this._zoomBehavior.scaleExtent(),\n      t = zoomTransform(this._container.node());\n\n  if (!factor) {\n    t.k = scaleExtent[0];\n    t.x = 0;\n    t.y = 0;\n  } else {\n    var translate0 = [(center[0] - t.x) / t.k, (center[1] - t.y) / t.k];\n    t.k = Math.min(scaleExtent[1], t.k * factor);\n\n    if (t.k <= scaleExtent[0]) {\n      t.k = scaleExtent[0];\n      t.x = 0;\n      t.y = 0;\n    } else {\n      t.x += center[0] - (translate0[0] * t.k + t.x);\n      t.y += center[1] - (translate0[1] * t.k + t.y);\n    }\n  }\n\n  zoomed.bind(this)(t, this._duration);\n}\n/**\n    @name zoomToBounds\n    @desc Zooms to given bounds.\n    @param {Array} *bounds*\n    @param {Number} [*duration* = 0]\n    @private\n*/\n\n\nfunction zoomToBounds(bounds) {\n  var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this._duration;\n\n  var scaleExtent = this._zoomBehavior.scaleExtent(),\n      t = zoomTransform(this._container.node());\n\n  if (bounds) {\n    var _this$_zoomBehavior$t = _slicedToArray(this._zoomBehavior.translateExtent()[1], 2),\n        width = _this$_zoomBehavior$t[0],\n        height = _this$_zoomBehavior$t[1],\n        dx = bounds[1][0] - bounds[0][0],\n        dy = bounds[1][1] - bounds[0][1];\n\n    var k = Math.min(scaleExtent[1], 1 / Math.max(dx / width, dy / height));\n    var xMod, yMod;\n\n    if (dx / dy < width / height) {\n      k *= (height - this._zoomPadding * 2) / height;\n      xMod = (width - dx * k) / 2 / k;\n      yMod = this._zoomPadding / k;\n    } else {\n      k *= (width - this._zoomPadding * 2) / width;\n      yMod = (height - dy * k) / 2 / k;\n      xMod = this._zoomPadding / k;\n    }\n\n    t.x = (t.x - bounds[0][0] + xMod) * (t.k * k / t.k);\n    t.y = (t.y - bounds[0][1] + yMod) * (t.k * k / t.k);\n    t.k *= k;\n    if (t.x > 0) t.x = 0;else if (t.x < width * -t.k + width) t.x = width * -t.k + width;\n    if (t.y > 0) t.y = 0;else if (t.y < height * -t.k + height) t.y = height * -t.k + height;\n  } else {\n    t.k = scaleExtent[0];\n    t.x = 0;\n    t.y = 0;\n  }\n\n  zoomed.bind(this)(t, duration);\n}\n/**\n    @desc Triggered on brush \"brush\".\n    @private\n*/\n\n\nfunction brushBrush() {\n  brushStyle.bind(this)();\n}\n/**\n    @desc Triggered on brush \"end\".\n    @private\n*/\n\n\nfunction brushEnd() {\n  if (!event.selection) return; // Only transition after input.\n\n  this._brushGroup.call(this._zoomBrush.move, null);\n\n  zoomToBounds.bind(this)(event.selection);\n}\n/**\n    @desc Triggered on brush \"start\".\n    @private\n*/\n\n\nfunction brushStart() {\n  brushStyle.bind(this)();\n}\n/**\n    @desc Overrides the default brush styles.\n    @private\n*/\n\n\nfunction brushStyle() {\n  this._brushGroup.selectAll(\".selection\").call(attrize, this._zoomBrushSelectionStyle || {});\n\n  this._brushGroup.selectAll(\".handle\").call(attrize, this._zoomBrushHandleStyle || {});\n}","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n/**\n    @external BaseClass\n    @see https://github.com/d3plus/d3plus-common#BaseClass\n*/\nimport { max, merge as arrayMerge, range } from \"d3-array\";\nimport { brush } from \"d3-brush\";\nimport { color } from \"d3-color\";\nimport { nest } from \"d3-collection\";\nimport { queue } from \"d3-queue\";\nimport { select as _select } from \"d3-selection\";\nimport { transition } from \"d3-transition\";\nimport { zoom } from \"d3-zoom\";\nimport lrucache from \"lrucache\";\nimport { date } from \"d3plus-axis\";\nimport { colorAssign, colorContrast } from \"d3plus-color\";\nimport { accessor, assign, BaseClass, constant, merge, unique } from \"d3plus-common\";\nimport { Select } from \"d3plus-form\";\nimport { formatAbbreviate } from \"d3plus-format\";\nimport { ColorScale, Legend } from \"d3plus-legend\";\nimport { TextBox } from \"d3plus-text\";\nimport { Timeline } from \"d3plus-timeline\";\nimport { Tooltip } from \"d3plus-tooltip\"; // import {Rect} from \"d3plus-shape\";\n// import {configPrep} from \"d3plus-common\";\n\nimport Message from \"./Message\";\nimport drawBack from \"./_drawBack\";\nimport drawColorScale from \"./_drawColorScale\";\nimport drawControls from \"./_drawControls\";\nimport { default as drawLegend, legendLabel } from \"./_drawLegend\";\nimport drawTimeline from \"./_drawTimeline\";\nimport drawTitle from \"./_drawTitle\";\nimport drawTotal from \"./_drawTotal\";\nimport getSize from \"./_getSize\";\nimport inViewport from \"./_inViewport\";\nimport load from \"./data/load\";\nimport clickShape from \"./on/click.shape\";\nimport clickLegend from \"./on/click.legend\";\nimport mouseenter from \"./on/mouseenter\";\nimport mouseleave from \"./on/mouseleave\";\nimport mousemoveLegend from \"./on/mousemove.legend\";\nimport mousemoveShape from \"./on/mousemove.shape\";\nimport touchstartBody from \"./on/touchstart.body\";\nimport zoomControls from \"./_zoomControls\";\n/**\n * Default padding logic that will return false if the screen is less than 600 pixels wide.\n */\n\nfunction defaultPadding() {\n  return typeof window !== \"undefined\" ? window.innerWidth > 600 : true;\n}\n/**\n * Turns an array of values into a list string.\n */\n\n\nfunction listify(n) {\n  return n.reduce(function (str, item, i) {\n    if (!i) str += item;else if (i === n.length - 1 && i === 1) str += \" and \".concat(item);else if (i === n.length - 1) str += \", and \".concat(item);else str += \", \".concat(item);\n    return str;\n  }, \"\");\n}\n/**\n    @class Viz\n    @extends external:BaseClass\n    @desc Creates an x/y plot based on an array of data. If *data* is specified, immediately draws the tree map based on the specified array and returns the current class instance. If *data* is not specified on instantiation, it can be passed/updated after instantiation using the [data](#treemap.data) method. See [this example](https://d3plus.org/examples/d3plus-treemap/getting-started/) for help getting started using the treemap generator.\n*/\n\n\nvar Viz =\n/*#__PURE__*/\nfunction (_BaseClass) {\n  _inherits(Viz, _BaseClass);\n\n  /**\n      @memberof Viz\n      @desc Invoked when creating a new class instance, and sets any default parameters.\n      @private\n  */\n  function Viz() {\n    var _this;\n\n    _classCallCheck(this, Viz);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Viz).call(this));\n    _this._aggs = {};\n    _this._ariaHidden = true;\n    _this._backClass = new TextBox().on(\"click\", function () {\n      if (_this._history.length) _this.config(_this._history.pop()).render();else _this.depth(_this._drawDepth - 1).filter(false).render();\n    }).on(\"mousemove\", function () {\n      return _this._backClass.select().style(\"cursor\", \"pointer\");\n    });\n    _this._backConfig = {\n      fontSize: 10,\n      padding: 5,\n      resize: false\n    };\n    _this._cache = true;\n\n    _this._color = function (d, i) {\n      return _this._groupBy[0](d, i);\n    };\n\n    _this._colorScaleClass = new ColorScale();\n    _this._colorScaleConfig = {};\n    _this._colorScalePadding = defaultPadding;\n    _this._colorScalePosition = \"bottom\";\n    _this._colorScaleMaxSize = 600;\n    var controlTest = new Select();\n    _this._controlCache = {};\n    _this._controlConfig = {\n      selectStyle: Object.assign({\n        margin: \"5px\"\n      }, controlTest.selectStyle())\n    };\n    _this._controlPadding = defaultPadding;\n    _this._data = [];\n    _this._dataCutoff = 100;\n    _this._detectResize = true;\n    _this._detectResizeDelay = 400;\n    _this._detectVisible = true;\n    _this._detectVisibleInterval = 1000;\n    _this._downloadButton = false;\n    _this._downloadConfig = {\n      type: \"png\"\n    };\n    _this._downloadPosition = \"top\";\n    _this._duration = 600;\n    _this._hidden = [];\n    _this._hiddenColor = constant(\"#aaa\");\n    _this._hiddenOpacity = constant(0.5);\n    _this._history = [];\n    _this._groupBy = [accessor(\"id\")];\n    _this._legend = true;\n    _this._legendClass = new Legend();\n    _this._legendConfig = {\n      label: legendLabel.bind(_assertThisInitialized(_this)),\n      shapeConfig: {\n        ariaLabel: legendLabel.bind(_assertThisInitialized(_this)),\n        labelConfig: {\n          fontColor: undefined,\n          fontResize: false,\n          padding: 0\n        }\n      }\n    };\n    _this._legendCutoff = 1;\n    _this._legendPadding = defaultPadding;\n    _this._legendPosition = \"bottom\";\n\n    _this._legendSort = function (a, b) {\n      return _this._drawLabel(a).localeCompare(_this._drawLabel(b));\n    };\n\n    _this._legendTooltip = {};\n\n    _this._loadingHTML = function () {\n      return \"\\n    <div style=\\\"left: 50%; top: 50%; position: absolute; transform: translate(-50%, -50%); font-family: 'Roboto', 'Helvetica Neue', Helvetica, Arial, sans-serif;\\\">\\n      <strong>\".concat(_this._translate(\"Loading Visualization\"), \"</strong>\\n      <sub style=\\\"bottom: 0; display: block; line-height: 1; margin-top: 5px;\\\"><a href=\\\"https://d3plus.org\\\" target=\\\"_blank\\\">\").concat(_this._translate(\"Powered by D3plus\"), \"</a></sub>\\n    </div>\");\n    };\n\n    _this._loadingMessage = true;\n    _this._lrucache = lrucache(10);\n    _this._messageClass = new Message();\n    _this._messageMask = \"rgba(0, 0, 0, 0.05)\";\n    _this._messageStyle = {\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"position\": \"absolute\",\n      \"right\": \"0\",\n      \"text-align\": \"center\",\n      \"top\": \"0\"\n    };\n\n    _this._noDataHTML = function () {\n      return \"\\n    <div style=\\\"left: 50%; top: 50%; position: absolute; transform: translate(-50%, -50%); font-family: 'Roboto', 'Helvetica Neue', Helvetica, Arial, sans-serif;\\\">\\n      <strong>\".concat(_this._translate(\"No Data Available\"), \"</strong>\\n    </div>\");\n    };\n\n    _this._noDataMessage = true;\n    _this._on = {\n      \"click.shape\": clickShape.bind(_assertThisInitialized(_this)),\n      \"click.legend\": clickLegend.bind(_assertThisInitialized(_this)),\n      \"mouseenter\": mouseenter.bind(_assertThisInitialized(_this)),\n      \"mouseleave\": mouseleave.bind(_assertThisInitialized(_this)),\n      \"mousemove.shape\": mousemoveShape.bind(_assertThisInitialized(_this)),\n      \"mousemove.legend\": mousemoveLegend.bind(_assertThisInitialized(_this))\n    };\n    _this._queue = [];\n    _this._scrollContainer = (typeof window === \"undefined\" ? \"undefined\" : _typeof(window)) === undefined ? \"\" : window;\n    _this._shape = constant(\"Rect\");\n    _this._shapes = [];\n    _this._shapeConfig = {\n      ariaLabel: function ariaLabel(d, i) {\n        return _this._drawLabel(d, i);\n      },\n      fill: function fill(d, i) {\n        while (d.__d3plus__ && d.data) {\n          d = d.data;\n          i = d.i;\n        }\n\n        if (_this._colorScale) {\n          var _c = _this._colorScale(d, i);\n\n          if (_c !== undefined && _c !== null) {\n            var scale = _this._colorScaleClass._colorScale;\n\n            var colors = _this._colorScaleClass.color();\n\n            if (!scale) return colors instanceof Array ? colors[colors.length - 1] : colors;else if (!scale.domain().length) return scale.range()[scale.range().length - 1];\n            return scale(_c);\n          }\n        }\n\n        var c = _this._color(d, i);\n\n        if (color(c)) return c;\n        return colorAssign(c);\n      },\n      labelConfig: {\n        fontColor: function fontColor(d, i) {\n          var c = typeof _this._shapeConfig.fill === \"function\" ? _this._shapeConfig.fill(d, i) : _this._shapeConfig.fill;\n          return colorContrast(c);\n        }\n      },\n      opacity: constant(1),\n      stroke: function stroke(d, i) {\n        var c = typeof _this._shapeConfig.fill === \"function\" ? _this._shapeConfig.fill(d, i) : _this._shapeConfig.fill;\n        return color(c).darker();\n      },\n      role: \"presentation\",\n      strokeWidth: constant(0)\n    };\n    _this._solo = [];\n    _this._svgDesc = \"\";\n    _this._svgTitle = \"\";\n    _this._timeline = true;\n    _this._timelineClass = new Timeline().align(\"end\");\n    _this._timelineConfig = {\n      brushing: false,\n      padding: 5\n    };\n    _this._timelinePadding = defaultPadding;\n    _this._threshold = constant(0.0001);\n    _this._thresholdKey = undefined;\n\n    _this._thresholdName = function () {\n      return _this._translate(\"Values\");\n    };\n\n    _this._titleClass = new TextBox();\n    _this._titleConfig = {\n      ariaHidden: true,\n      fontSize: 12,\n      padding: 5,\n      resize: false,\n      textAnchor: \"middle\"\n    };\n    _this._titlePadding = defaultPadding;\n    _this._tooltip = true;\n    _this._tooltipClass = new Tooltip();\n    _this._tooltipConfig = {\n      pointerEvents: \"none\",\n      titleStyle: {\n        \"max-width\": \"200px\"\n      }\n    };\n    _this._totalClass = new TextBox();\n    _this._totalConfig = {\n      fontSize: 10,\n      padding: 5,\n      resize: false,\n      textAnchor: \"middle\"\n    };\n\n    _this._totalFormat = function (d) {\n      return \"\".concat(_this._translate(\"Total\"), \": \").concat(formatAbbreviate(d, _this._locale));\n    };\n\n    _this._totalPadding = defaultPadding;\n    _this._zoom = false;\n    _this._zoomBehavior = zoom();\n    _this._zoomBrush = brush();\n    _this._zoomBrushHandleSize = 1;\n    _this._zoomBrushHandleStyle = {\n      fill: \"#444\"\n    };\n    _this._zoomBrushSelectionStyle = {\n      \"fill\": \"#777\",\n      \"stroke-width\": 0\n    };\n    _this._zoomControlStyle = {\n      \"background\": \"rgba(255, 255, 255, 0.75)\",\n      \"border\": \"1px solid rgba(0, 0, 0, 0.75)\",\n      \"color\": \"rgba(0, 0, 0, 0.75)\",\n      \"display\": \"block\",\n      \"font\": \"900 15px/21px 'Roboto', 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n      \"height\": \"20px\",\n      \"margin\": \"5px\",\n      \"opacity\": 0.75,\n      \"padding\": 0,\n      \"text-align\": \"center\",\n      \"width\": \"20px\"\n    };\n    _this._zoomControlStyleActive = {\n      background: \"rgba(0, 0, 0, 0.75)\",\n      color: \"rgba(255, 255, 255, 0.75)\",\n      opacity: 1\n    };\n    _this._zoomControlStyleHover = {\n      cursor: \"pointer\",\n      opacity: 1\n    };\n    _this._zoomFactor = 2;\n    _this._zoomMax = 16;\n    _this._zoomPadding = 20;\n    _this._zoomPan = true;\n    _this._zoomScroll = true;\n    return _this;\n  }\n  /**\n   @memberof Viz\n   @desc Called by draw before anything is drawn. Formats the data and performs preparations for draw.\n   @private\n   */\n\n\n  _createClass(Viz, [{\n    key: \"_preDraw\",\n    value: function _preDraw() {\n      var _this2 = this;\n\n      var that = this; // based on the groupBy, determine the draw depth and current depth id\n\n      this._drawDepth = this._depth !== void 0 ? this._depth : this._groupBy.length - 1;\n      this._id = this._groupBy[this._drawDepth];\n\n      this._ids = function (d, i) {\n        return _this2._groupBy.map(function (g) {\n          return !d || d.__d3plus__ && !d.data ? undefined : g(d.__d3plus__ ? d.data : d, d.__d3plus__ ? d.i : i);\n        }).filter(function (g) {\n          return g !== undefined && g !== null;\n        });\n      };\n\n      this._drawLabel = function (d, i) {\n        if (!d) return \"\";\n\n        if (d._isAggregation) {\n          return \"\".concat(_this2._thresholdName(d, i), \" < \").concat(formatAbbreviate(d._threshold * 100, _this2._locale), \"%\");\n        }\n\n        while (d.__d3plus__ && d.data) {\n          d = d.data;\n          i = d.i;\n        }\n\n        if (_this2._label) return _this2._label(d, i);\n\n        var l = that._ids(d, i).slice(0, _this2._drawDepth + 1);\n\n        var n = l.reverse().find(function (ll) {\n          return !(ll instanceof Array);\n        }) || l[l.length - 1];\n        return n instanceof Array ? listify(n) : n;\n      }; // set the default timeFilter if it has not been specified\n\n\n      if (this._time && !this._timeFilter && this._data.length) {\n        var dates = this._data.map(this._time).map(date);\n\n        var d = this._data[0],\n            i = 0;\n\n        if (this._discrete && \"_\".concat(this._discrete) in this && this[\"_\".concat(this._discrete)](d, i) === this._time(d, i)) {\n          this._timeFilter = function () {\n            return true;\n          };\n        } else {\n          var latestTime = +max(dates);\n\n          this._timeFilter = function (d, i) {\n            return +date(_this2._time(d, i)) === latestTime;\n          };\n        }\n      }\n\n      this._filteredData = [];\n      this._legendData = [];\n      var flatData = [];\n\n      if (this._data.length) {\n        flatData = this._timeFilter ? this._data.filter(this._timeFilter) : this._data;\n        if (this._filter) flatData = flatData.filter(this._filter);\n        var dataNest = nest();\n\n        for (var _i = 0; _i <= this._drawDepth; _i++) {\n          dataNest.key(this._groupBy[_i]);\n        }\n\n        if (this._discrete && \"_\".concat(this._discrete) in this) dataNest.key(this[\"_\".concat(this._discrete)]);\n        if (this._discrete && \"_\".concat(this._discrete, \"2\") in this) dataNest.key(this[\"_\".concat(this._discrete, \"2\")]);\n        var tree = dataNest.rollup(function (leaves) {\n          var d = merge(leaves, _this2._aggs);\n\n          var id = _this2._id(d);\n\n          if (!_this2._hidden.includes(id) && (!_this2._solo.length || _this2._solo.includes(id))) _this2._filteredData.push(d);\n\n          _this2._legendData.push(d);\n        }).entries(flatData);\n        this._filteredData = this._thresholdFunction(this._filteredData, tree);\n      } // overrides the hoverOpacity of shapes if data is larger than cutoff\n\n\n      var uniqueIds = nest().key(this._id).entries(this._filteredData).length;\n\n      if (uniqueIds > this._dataCutoff) {\n        if (this._userHover === undefined) this._userHover = this._shapeConfig.hoverOpacity || 0.5;\n        if (this._userDuration === undefined) this._userDuration = this._shapeConfig.duration || 600;\n        this._shapeConfig.hoverOpacity = 1;\n        this._shapeConfig.duration = 0;\n      } else if (this._userHover !== undefined) {\n        this._shapeConfig.hoverOpacity = this._userHover;\n        this._shapeConfig.duration = this._userDuration;\n      }\n\n      if (this._noDataMessage && !this._filteredData.length) {\n        this._messageClass.render({\n          container: this._select.node().parentNode,\n          html: this._noDataHTML(this),\n          mask: false,\n          style: this._messageStyle\n        });\n      }\n    }\n    /**\n        @memberof Viz\n        @desc Called by render once all checks are passed.\n        @private\n    */\n\n  }, {\n    key: \"_draw\",\n    value: function _draw() {\n      if (this._legendPosition === \"left\" || this._legendPosition === \"right\") drawLegend.bind(this)(this._filteredData);\n      if (this._colorScalePosition === \"left\" || this._colorScalePosition === \"right\" || this._colorScalePosition === false) drawColorScale.bind(this)(this._filteredData);\n      drawBack.bind(this)();\n      drawTitle.bind(this)(this._filteredData);\n      drawTotal.bind(this)(this._filteredData);\n      drawTimeline.bind(this)(this._filteredData);\n      drawControls.bind(this)(this._filteredData);\n      if (this._legendPosition === \"top\" || this._legendPosition === \"bottom\") drawLegend.bind(this)(this._legendData);\n      if (this._colorScalePosition === \"top\" || this._colorScalePosition === \"bottom\") drawColorScale.bind(this)(this._filteredData);\n      this._shapes = []; // Draws a container and zoomGroup to test functionality.\n      // this._testGroup = this._select.selectAll(\"g.d3plus-viz-testGroup\").data([0]);\n      // const enterTest = this._testGroup.enter().append(\"g\").attr(\"class\", \"d3plus-viz-testGroup\")\n      //   .merge(this._testGroup);\n      // this._testGroup = enterTest.merge(this._testGroup);\n      // const bgHeight = this._height - this._margin.top - this._margin.bottom;\n      // const bgWidth = this._width - this._margin.left - this._margin.right;\n      // new Rect()\n      //   .data([{id: \"background\"}])\n      //   .select(this._testGroup.node())\n      //   .x(bgWidth / 2 + this._margin.left)\n      //   .y(bgHeight / 2 + this._margin.top)\n      //   .width(bgWidth)\n      //   .height(bgHeight)\n      //   .fill(\"#ccc\")\n      //   .render();\n      // this._zoomGroup = this._select.selectAll(\"g.d3plus-viz-zoomGroup\").data([0]);\n      // const enter = this._zoomGroup.enter().append(\"g\").attr(\"class\", \"d3plus-viz-zoomGroup\")\n      //   .merge(this._zoomGroup);\n      // this._zoomGroup = enter.merge(this._zoomGroup);\n      // const testConfig = {\n      //   on: {\n      //     mouseenter: this._on.mouseenter,\n      //     mouseleave: this._on.mouseleave,\n      //     mousemove: this._on[\"mousemove.shape\"]\n      //   }\n      // };\n      // const testWidth = 20;\n      // this._shapes.push(new Rect()\n      //   .config(this._shapeConfig)\n      //   .config(configPrep(testConfig))\n      //   .data(this._filteredData)\n      //   .label(\"Test Label\")\n      //   .select(this._zoomGroup.node())\n      //   .id(this._id)\n      //   .x((d, i) => i * testWidth + testWidth / 2)\n      //   .y(200)\n      //   .width(testWidth)\n      //   .height(100)\n      //   .render());\n    }\n    /**\n     * Applies the threshold algorithm according to the type of chart used.\n     * @param {Array} data The data to process.\n     */\n\n  }, {\n    key: \"_thresholdFunction\",\n    value: function _thresholdFunction(data) {\n      return data;\n    }\n    /**\n        @memberof Viz\n        @desc Draws the visualization given the specified configuration.\n        @param {Function} [*callback*] An optional callback function that, if passed, will be called after animation is complete.\n        @chainable\n    */\n\n  }, {\n    key: \"render\",\n    value: function render(callback) {\n      var _this3 = this;\n\n      // Resets margins and padding\n      this._margin = {\n        bottom: 0,\n        left: 0,\n        right: 0,\n        top: 0\n      };\n      this._padding = {\n        bottom: 0,\n        left: 0,\n        right: 0,\n        top: 0\n      };\n      this._transition = transition().duration(this._duration); // Appends a fullscreen SVG to the BODY if a container has not been provided through .select().\n\n      if (this._select === void 0 || this._select.node().tagName.toLowerCase() !== \"svg\") {\n        var parent = this._select === void 0 ? _select(\"body\").append(\"div\") : this._select;\n        var svg = parent.append(\"svg\");\n        this.select(svg.node());\n      }\n      /** detects width and height and sets SVG properties */\n\n\n      function setSVGSize() {\n        var display = this._select.style(\"display\");\n\n        this._select.style(\"display\", \"none\");\n\n        var _getSize = getSize(this._select.node().parentNode),\n            _getSize2 = _slicedToArray(_getSize, 2),\n            w = _getSize2[0],\n            h = _getSize2[1];\n\n        w -= parseFloat(this._select.style(\"border-left-width\"), 10);\n        w -= parseFloat(this._select.style(\"border-right-width\"), 10);\n        h -= parseFloat(this._select.style(\"border-top-width\"), 10);\n        h -= parseFloat(this._select.style(\"border-bottom-width\"), 10);\n\n        this._select.style(\"display\", display);\n\n        if (this._autoWidth) {\n          this.width(w);\n\n          this._select.style(\"width\", \"\".concat(this._width, \"px\")).attr(\"width\", \"\".concat(this._width, \"px\"));\n        }\n\n        if (this._autoHeight) {\n          this.height(h);\n\n          this._select.style(\"height\", \"\".concat(this._height, \"px\")).attr(\"height\", \"\".concat(this._height, \"px\"));\n        }\n      } // Calculates the width and/or height of the Viz based on the this._select, if either has not been defined.\n\n\n      if ((!this._width || !this._height) && (!this._detectVisible || inViewport(this._select.node()))) {\n        this._autoWidth = this._width === undefined;\n        this._autoHeight = this._height === undefined;\n        setSVGSize.bind(this)();\n      }\n\n      this._select.attr(\"class\", \"d3plus-viz\").attr(\"aria-hidden\", this._ariaHidden).attr(\"aria-labelledby\", \"\".concat(this._uuid, \"-title \").concat(this._uuid, \"-desc\")).attr(\"role\", \"img\").transition(transition).style(\"width\", this._width !== undefined ? \"\".concat(this._width, \"px\") : undefined).style(\"height\", this._height !== undefined ? \"\".concat(this._height, \"px\") : undefined).attr(\"width\", this._width !== undefined ? \"\".concat(this._width, \"px\") : undefined).attr(\"height\", this._height !== undefined ? \"\".concat(this._height, \"px\") : undefined); // Updates the <title> tag if already exists else creates a new <title> tag on this.select.\n\n\n      var svgTitle = this._select.selectAll(\"title\").data([0]);\n\n      var svgTitleEnter = svgTitle.enter().append(\"title\").attr(\"id\", \"\".concat(this._uuid, \"-title\"));\n      svgTitle.merge(svgTitleEnter).text(this._svgTitle); // Updates the <desc> tag if already exists else creates a new <desc> tag on this.select.\n\n      var svgDesc = this._select.selectAll(\"desc\").data([0]);\n\n      var svgDescEnter = svgDesc.enter().append(\"desc\").attr(\"id\", \"\".concat(this._uuid, \"-desc\"));\n      svgDesc.merge(svgDescEnter).text(this._svgDesc);\n      this._visiblePoll = clearInterval(this._visiblePoll);\n      this._resizePoll = clearTimeout(this._resizePoll);\n      this._scrollPoll = clearTimeout(this._scrollPoll);\n\n      _select(this._scrollContainer).on(\"scroll.\".concat(this._uuid), null);\n\n      _select(this._scrollContainer).on(\"resize.\".concat(this._uuid), null);\n\n      if (this._detectVisible && this._select.style(\"visibility\") === \"hidden\") {\n        this._visiblePoll = setInterval(function () {\n          if (_this3._select.style(\"visibility\") !== \"hidden\") {\n            _this3._visiblePoll = clearInterval(_this3._visiblePoll);\n\n            _this3.render(callback);\n          }\n        }, this._detectVisibleInterval);\n      } else if (this._detectVisible && this._select.style(\"display\") === \"none\") {\n        this._visiblePoll = setInterval(function () {\n          if (_this3._select.style(\"display\") !== \"none\") {\n            _this3._visiblePoll = clearInterval(_this3._visiblePoll);\n\n            _this3.render(callback);\n          }\n        }, this._detectVisibleInterval);\n      } else if (this._detectVisible && !inViewport(this._select.node())) {\n        _select(this._scrollContainer).on(\"scroll.\".concat(this._uuid), function () {\n          if (!_this3._scrollPoll) {\n            _this3._scrollPoll = setTimeout(function () {\n              if (inViewport(_this3._select.node())) {\n                _select(_this3._scrollContainer).on(\"scroll.\".concat(_this3._uuid), null);\n\n                _this3.render(callback);\n              }\n\n              _this3._scrollPoll = clearTimeout(_this3._scrollPoll);\n            }, _this3._detectVisibleInterval);\n          }\n        });\n      } else {\n        var q = queue();\n\n        if (this._loadingMessage) {\n          this._messageClass.render({\n            container: this._select.node().parentNode,\n            html: this._loadingHTML(this),\n            mask: this._filteredData ? this._messageMask : false,\n            style: this._messageStyle\n          });\n        }\n\n        this._queue.forEach(function (p) {\n          var cache = _this3._cache ? _this3._lrucache.get(p[1]) : undefined;\n          if (!cache) q.defer.apply(q, _toConsumableArray(p));else _this3[\"_\".concat(p[3])] = cache;\n        });\n\n        this._queue = [];\n        q.awaitAll(function () {\n          var columns = _this3._data instanceof Array && _this3._data.length > 0 ? Object.keys(_this3._data[0]) : [];\n\n          var svgTable = _this3._select.selectAll(\"g.data-table\").data(!_this3._ariaHidden && _this3._data instanceof Array && _this3._data.length ? [0] : []);\n\n          var svgTableEnter = svgTable.enter().append(\"g\").attr(\"class\", \"data-table\").attr(\"role\", \"table\");\n          svgTable.exit().remove();\n          var rows = svgTable.merge(svgTableEnter).selectAll(\"text\").data(_this3._data instanceof Array ? range(0, _this3._data.length + 1) : []);\n          rows.exit().remove();\n          var cells = rows.merge(rows.enter().append(\"text\").attr(\"role\", \"row\")).selectAll(\"tspan\").data(function (d, i) {\n            return columns.map(function (c) {\n              return {\n                role: i ? \"cell\" : \"columnheader\",\n                text: i ? _this3._data[i - 1][c] : c\n              };\n            });\n          });\n          cells.exit().remove();\n          cells.merge(cells.enter().append(\"tspan\")).attr(\"role\", function (d) {\n            return d.role;\n          }).attr(\"dy\", \"-1000px\").html(function (d) {\n            return d.text;\n          });\n\n          _this3._preDraw();\n\n          _this3._draw(callback);\n\n          zoomControls.bind(_this3)();\n          if (_this3._messageClass._isVisible && (!_this3._noDataMessage || _this3._filteredData.length)) _this3._messageClass.hide();\n\n          if (_this3._detectResize && (_this3._autoWidth || _this3._autoHeight)) {\n            _select(_this3._scrollContainer).on(\"resize.\".concat(_this3._uuid), function () {\n              _this3._resizePoll = clearTimeout(_this3._resizePoll);\n              _this3._resizePoll = setTimeout(function () {\n                _this3._resizePoll = clearTimeout(_this3._resizePoll);\n                setSVGSize.bind(_this3)();\n\n                _this3.render(callback);\n              }, _this3._detectResizeDelay);\n            });\n          }\n\n          if (callback) setTimeout(callback, _this3._duration + 100);\n        });\n      } // Attaches touchstart event listener to the BODY to hide the tooltip when the user touches any element without data\n\n\n      _select(\"body\").on(\"touchstart.\".concat(this._uuid), touchstartBody.bind(this));\n\n      return this;\n    }\n    /**\n        @memberof Viz\n        @desc If *value* is specified, sets the active method to the specified function and returns the current class instance.\n        @param {Function} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"active\",\n    value: function active(_) {\n      this._active = _;\n\n      if (this._shapeConfig.activeOpacity !== 1) {\n        this._shapes.forEach(function (s) {\n          return s.active(_);\n        });\n\n        if (this._legend) this._legendClass.active(_);\n      }\n\n      return this;\n    }\n    /**\n        @memberof Viz\n        @desc If *value* is specified, sets the aggregation method for each key in the object and returns the current class instance.\n        @param {Object} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"aggs\",\n    value: function aggs(_) {\n      return arguments.length ? (this._aggs = assign(this._aggs, _), this) : this._aggs;\n    }\n    /**\n        @memberof Viz\n        @desc Sets the \"aria-hidden\" attribute of the containing SVG element. The default value is \"false\", but it you need to hide the SVG from screen readers set this property to \"true\".\n        @param {Boolean} [*value* = true]\n        @chainable\n    */\n\n  }, {\n    key: \"ariaHidden\",\n    value: function ariaHidden(_) {\n      return arguments.length ? (this._ariaHidden = _, this) : this._ariaHidden;\n    }\n    /**\n        @memberof Viz\n        @desc If *value* is specified, sets the config method for the back button and returns the current class instance.\n        @param {Object} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"backConfig\",\n    value: function backConfig(_) {\n      return arguments.length ? (this._backConfig = assign(this._backConfig, _), this) : this._backConfig;\n    }\n    /**\n        @memberof Viz\n        @desc Enables a lru cache that stores up to 5 previously loaded files/URLs. Helpful when constantly writing over the data array with a URL in the render function of a react component.\n        @param {Boolean} [*value* = false]\n        @chainable\n    */\n\n  }, {\n    key: \"cache\",\n    value: function cache(_) {\n      return arguments.length ? (this._cache = _, this) : this._cache;\n    }\n    /**\n        @memberof Viz\n        @desc Defines the main color to be used for each data point in a visualization. Can be either an accessor function or a string key to reference in each data point. If a color value is returned, it will be used as is. If a string is returned, a unique color will be assigned based on the string.\n        @param {Function|String|False} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"color\",\n    value: function color(_) {\n      return arguments.length ? (this._color = !_ || typeof _ === \"function\" ? _ : accessor(_), this) : this._color;\n    }\n    /**\n        @memberof Viz\n        @desc Defines the value to be used for a color scale. Can be either an accessor function or a string key to reference in each data point.\n        @param {Function|String|False} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"colorScale\",\n    value: function colorScale(_) {\n      return arguments.length ? (this._colorScale = !_ || typeof _ === \"function\" ? _ : accessor(_), this) : this._colorScale;\n    }\n    /**\n        @memberof Viz\n        @desc A pass-through to the config method of ColorScale.\n        @param {Object} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"colorScaleConfig\",\n    value: function colorScaleConfig(_) {\n      return arguments.length ? (this._colorScaleConfig = assign(this._colorScaleConfig, _), this) : this._colorScaleConfig;\n    }\n    /**\n        @memberof Viz\n        @desc Tells the colorScale whether or not to use the internal padding defined by the visualization in it's positioning. For example, d3plus-plot will add padding on the left so that the colorScale appears centered above the x-axis. By default, this padding is only applied on screens larger than 600 pixels wide.\n        @param {Boolean|Function} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"colorScalePadding\",\n    value: function colorScalePadding(_) {\n      return arguments.length ? (this._colorScalePadding = typeof _ === \"function\" ? _ : constant(_), this) : this._colorScalePadding;\n    }\n    /**\n        @memberof Viz\n        @desc Defines which side of the visualization to anchor the color scale. Acceptable values are `\"top\"`, `\"bottom\"`, `\"left\"`, `\"right\"`, and `false`. A `false` value will cause the color scale to not be displayed, but will still color shapes based on the scale.\n        @param {String|Boolean} [*value* = \"bottom\"]\n        @chainable\n    */\n\n  }, {\n    key: \"colorScalePosition\",\n    value: function colorScalePosition(_) {\n      return arguments.length ? (this._colorScalePosition = _, this) : this._colorScalePosition;\n    }\n    /**\n        @memberof Viz\n        @desc Sets the maximum pixel size for drawing the color scale: width for horizontal scales and height for vertical scales.\n        @param {Number} [*value* = 600]\n        @chainable\n    */\n\n  }, {\n    key: \"colorScaleMaxSize\",\n    value: function colorScaleMaxSize(_) {\n      return arguments.length ? (this._colorScaleMaxSize = _, this) : this._colorScaleMaxSize;\n    }\n    /**\n        @memberof Viz\n        @desc Defines a list of controls to be rendered at the bottom of the visualization.\n        @param {Array} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"controls\",\n    value: function controls(_) {\n      return arguments.length ? (this._controls = _, this) : this._controls;\n    }\n    /**\n        @memberof Viz\n        @desc If *value* is specified, sets the config method for the controls and returns the current class instance.\n        @param {Object} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"controlConfig\",\n    value: function controlConfig(_) {\n      return arguments.length ? (this._controlConfig = assign(this._controlConfig, _), this) : this._controlConfig;\n    }\n    /**\n        @memberof Viz\n        @desc Tells the controls whether or not to use the internal padding defined by the visualization in it's positioning. For example, d3plus-plot will add padding on the left so that the controls appears centered above the x-axis. By default, this padding is only applied on screens larger than 600 pixels wide.\n        @param {Boolean|Function} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"controlPadding\",\n    value: function controlPadding(_) {\n      return arguments.length ? (this._controlPadding = typeof _ === \"function\" ? _ : constant(_), this) : this._controlPadding;\n    }\n    /**\n        @memberof Viz\n        @desc Sets the primary data array to be used when drawing the visualization. The value passed should be an *Array* of objects or a *String* representing a filepath or URL to be loaded. The following filetypes are supported: `csv`, `tsv`, `txt`, and `json`.\n    Additionally, a custom formatting function can be passed as a second argument to this method. This custom function will be passed the data that has been loaded, as long as there are no errors. This function should return the final array of obejcts to be used as the primary data array. For example, some JSON APIs return the headers split from the data values to save bandwidth. These would need be joined using a custom formatter.\n    If *data* is not specified, this method returns the current primary data array, which defaults to an empty array (`[]`);\n        @param {Array|String} *data* = []\n        @param {Function} [*formatter*]\n        @chainable\n    */\n\n  }, {\n    key: \"data\",\n    value: function data(_, f) {\n      if (arguments.length) {\n        var prev = this._queue.find(function (q) {\n          return q[3] === \"data\";\n        });\n\n        var d = [load.bind(this), _, f, \"data\"];\n        if (prev) this._queue[this._queue.indexOf(prev)] = d;else this._queue.push(d);\n        this._hidden = [];\n        this._solo = [];\n        return this;\n      }\n\n      return this._data;\n    }\n    /**\n        @memberof Viz\n        @desc If the number of visible data points exceeds this number, the default hover behavior will be disabled (helpful for very large visualizations bogging down the DOM with opacity updates).\n        @param {Number} [*value* = 100]\n        @chainable\n    */\n\n  }, {\n    key: \"dataCutoff\",\n    value: function dataCutoff(_) {\n      return arguments.length ? (this._dataCutoff = _, this) : this._dataCutoff;\n    }\n    /**\n        @memberof Viz\n        @desc If *value* is specified, sets the depth to the specified number and returns the current class instance. The *value* should correspond with an index in the [groupBy](#groupBy) array.\n        @param {Number} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"depth\",\n    value: function depth(_) {\n      return arguments.length ? (this._depth = _, this) : this._depth;\n    }\n    /**\n        @memberof Viz\n        @desc If the width and/or height of a Viz is not user-defined, it is determined by the size of it's parent element. When this method is set to `true`, the Viz will listen for the `window.onresize` event and adjust it's dimensions accordingly.\n        @param {Boolean} *value* = true\n        @chainable\n    */\n\n  }, {\n    key: \"detectResize\",\n    value: function detectResize(_) {\n      return arguments.length ? (this._detectResize = _, this) : this._detectResize;\n    }\n    /**\n        @memberof Viz\n        @desc When resizing the browser window, this is the millisecond delay to trigger the resize event.\n        @param {Number} *value* = 400\n        @chainable\n    */\n\n  }, {\n    key: \"detectResizeDelay\",\n    value: function detectResizeDelay(_) {\n      return arguments.length ? (this._detectResizeDelay = _, this) : this._detectResizeDelay;\n    }\n    /**\n        @memberof Viz\n        @desc Toggles whether or not the Viz should try to detect if it visible in the current viewport. When this method is set to `true`, the Viz will only be rendered when it has entered the viewport either through scrolling or if it's display or visibility is changed.\n        @param {Boolean} *value* = true\n        @chainable\n    */\n\n  }, {\n    key: \"detectVisible\",\n    value: function detectVisible(_) {\n      return arguments.length ? (this._detectVisible = _, this) : this._detectVisible;\n    }\n    /**\n        @memberof Viz\n        @desc The interval, in milliseconds, for checking if the visualization is visible on the page.\n        @param {Number} *value* = 1000\n        @chainable\n    */\n\n  }, {\n    key: \"detectVisibleInterval\",\n    value: function detectVisibleInterval(_) {\n      return arguments.length ? (this._detectVisibleInterval = _, this) : this._detectVisibleInterval;\n    }\n    /**\n        @memberof Viz\n        @desc If *value* is specified, sets the discrete accessor to the specified method name (usually an axis) and returns the current class instance.\n        @param {String} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"discrete\",\n    value: function discrete(_) {\n      return arguments.length ? (this._discrete = _, this) : this._discrete;\n    }\n    /**\n        @memberof Viz\n        @desc Shows a button that allows for downloading the current visualization.\n        @param {Boolean} [*value* = false]\n        @chainable\n    */\n\n  }, {\n    key: \"downloadButton\",\n    value: function downloadButton(_) {\n      return arguments.length ? (this._downloadButton = _, this) : this._downloadButton;\n    }\n    /**\n        @memberof Viz\n        @desc Sets specific options of the saveElement function used when downloading the visualization.\n        @param {Object} [*value* = {type: \"png\"}]\n        @chainable\n    */\n\n  }, {\n    key: \"downloadConfig\",\n    value: function downloadConfig(_) {\n      return arguments.length ? (this._downloadConfig = assign(this._downloadConfig, _), this) : this._downloadConfig;\n    }\n    /**\n        @memberof Viz\n        @desc Defines which control group to add the download button into.\n        @param {String} [*value* = \"top\"]\n        @chainable\n    */\n\n  }, {\n    key: \"downloadPosition\",\n    value: function downloadPosition(_) {\n      return arguments.length ? (this._downloadPosition = _, this) : this._downloadPosition;\n    }\n    /**\n        @memberof Viz\n        @desc If *ms* is specified, sets the animation duration to the specified number and returns the current class instance. If *ms* is not specified, returns the current animation duration.\n        @param {Number} [*ms* = 600]\n        @chainable\n    */\n\n  }, {\n    key: \"duration\",\n    value: function duration(_) {\n      return arguments.length ? (this._duration = _, this) : this._duration;\n    }\n    /**\n        @memberof Viz\n        @desc If *value* is specified, sets the filter to the specified function and returns the current class instance.\n        @param {Function} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"filter\",\n    value: function filter(_) {\n      return arguments.length ? (this._filter = _, this) : this._filter;\n    }\n    /**\n        @memberof Viz\n        @desc If *value* is specified, sets the group accessor(s) to the specified string, function, or array of values and returns the current class instance.\n        @param {String|Function|Array} [*value*]\n        @chainable\n        @example\n    function value(d) {\n    return d.id;\n    }\n    */\n\n  }, {\n    key: \"groupBy\",\n    value: function groupBy(_) {\n      var _this4 = this;\n\n      if (!arguments.length) return this._groupBy;\n      if (!(_ instanceof Array)) _ = [_];\n      return this._groupBy = _.map(function (k) {\n        if (typeof k === \"function\") return k;else {\n          if (!_this4._aggs[k]) {\n            _this4._aggs[k] = function (a) {\n              var v = unique(a);\n              return v.length === 1 ? v[0] : v;\n            };\n          }\n\n          return accessor(k);\n        }\n      }), this;\n    }\n    /**\n        @memberof Viz\n        @desc If *value* is specified, sets the overall height to the specified number and returns the current class instance.\n        @param {Number} [*value* = window.innerHeight]\n        @chainable\n    */\n\n  }, {\n    key: \"height\",\n    value: function height(_) {\n      return arguments.length ? (this._height = _, this) : this._height;\n    }\n    /**\n        @memberof Viz\n        @desc Defines the color used for legend shapes when the corresponding grouping is hidden from display (by clicking on the legend).\n        @param {Function|String} [*value* = \"#aaa\"]\n        @chainable\n    */\n\n  }, {\n    key: \"hiddenColor\",\n    value: function hiddenColor(_) {\n      return arguments.length ? (this._hiddenColor = typeof _ === \"function\" ? _ : constant(_), this) : this._hiddenColor;\n    }\n    /**\n        @memberof Viz\n        @desc Defines the opacity used for legend labels when the corresponding grouping is hidden from display (by clicking on the legend).\n        @param {Function|Number} [*value* = 0.5]\n        @chainable\n    */\n\n  }, {\n    key: \"hiddenOpacity\",\n    value: function hiddenOpacity(_) {\n      return arguments.length ? (this._hiddenOpacity = typeof _ === \"function\" ? _ : constant(_), this) : this._hiddenOpacity;\n    }\n    /**\n        @memberof Viz\n        @desc If *value* is specified, sets the hover method to the specified function and returns the current class instance.\n        @param {Function} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"hover\",\n    value: function hover(_) {\n      var _this5 = this;\n\n      var hoverFunction = this._hover = _;\n\n      if (this._shapeConfig.hoverOpacity !== 1) {\n        if (typeof _ === \"function\") {\n          var shapeData = arrayMerge(this._shapes.map(function (s) {\n            return s.data();\n          }));\n          shapeData = shapeData.concat(this._legendClass.data());\n          var activeData = _ ? shapeData.filter(_) : [];\n          var activeIds = [];\n          activeData.map(this._ids).forEach(function (ids) {\n            for (var x = 1; x <= ids.length; x++) {\n              activeIds.push(JSON.stringify(ids.slice(0, x)));\n            }\n          });\n          activeIds = activeIds.filter(function (id, i) {\n            return activeIds.indexOf(id) === i;\n          });\n          if (activeIds.length) hoverFunction = function hoverFunction(d, i) {\n            return activeIds.includes(JSON.stringify(_this5._ids(d, i)));\n          };\n        }\n\n        this._shapes.forEach(function (s) {\n          return s.hover(hoverFunction);\n        });\n\n        if (this._legend) this._legendClass.hover(hoverFunction);\n      }\n\n      return this;\n    }\n    /**\n        @memberof Viz\n        @desc If *value* is specified, sets the label accessor to the specified function or string and returns the current class instance.\n        @param {Function|String} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"label\",\n    value: function label(_) {\n      return arguments.length ? (this._label = typeof _ === \"function\" ? _ : constant(_), this) : this._label;\n    }\n    /**\n        @memberof Viz\n        @desc If *value* is specified, toggles the legend based on the specified boolean and returns the current class instance.\n        @param {Boolean} [*value* = true]\n        @chainable\n    */\n\n  }, {\n    key: \"legend\",\n    value: function legend(_) {\n      return arguments.length ? (this._legend = _, this) : this._legend;\n    }\n    /**\n        @memberof Viz\n        @desc If *value* is specified, the object is passed to the legend's config method.\n        @param {Object} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"legendConfig\",\n    value: function legendConfig(_) {\n      return arguments.length ? (this._legendConfig = assign(this._legendConfig, _), this) : this._legendConfig;\n    }\n    /**\n     * @memberof Viz\n     * @desc If *value* is specified, sets the cutoff for the amount of categories in the legend.\n     * @param {Number} [*value* = 1]\n     * @chainable\n     */\n\n  }, {\n    key: \"legendCutoff\",\n    value: function legendCutoff(_) {\n      return arguments.length ? (this._legendCutoff = _, this) : this._legendCutoff;\n    }\n    /**\n        @memberof Viz\n        @desc If *value* is specified, sets the config method for the legend tooltip and returns the current class instance.\n        @param {Object} [*value* = {}]\n        @chainable\n    */\n\n  }, {\n    key: \"legendTooltip\",\n    value: function legendTooltip(_) {\n      return arguments.length ? (this._legendTooltip = assign(this._legendTooltip, _), this) : this._legendTooltip;\n    }\n    /**\n        @memberof Viz\n        @desc Tells the legend whether or not to use the internal padding defined by the visualization in it's positioning. For example, d3plus-plot will add padding on the left so that the legend appears centered underneath the x-axis. By default, this padding is only applied on screens larger than 600 pixels wide.\n        @param {Boolean|Function} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"legendPadding\",\n    value: function legendPadding(_) {\n      return arguments.length ? (this._legendPadding = typeof _ === \"function\" ? _ : constant(_), this) : this._legendPadding;\n    }\n    /**\n        @memberof Viz\n        @desc Defines which side of the visualization to anchor the legend. Expected values are `\"top\"`, `\"bottom\"`, `\"left\"`, and `\"right\"`.\n        @param {String} [*value* = \"bottom\"]\n        @chainable\n    */\n\n  }, {\n    key: \"legendPosition\",\n    value: function legendPosition(_) {\n      return arguments.length ? (this._legendPosition = _, this) : this._legendPosition;\n    }\n    /**\n        @memberof Viz\n        @desc A JavaScript [sort comparator function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort) used to sort the legend.\n        @param {Function} *value*\n        @chainable\n    */\n\n  }, {\n    key: \"legendSort\",\n    value: function legendSort(_) {\n      return arguments.length ? (this._legendSort = _, this) : this._legendSort;\n    }\n    /**\n        @memberof Viz\n        @desc Sets the inner HTML of the status message that is displayed when loading AJAX requests and displaying errors. Must be a valid HTML string or a function that, when passed this Viz instance, returns a valid HTML string.\n        @param {Function|String} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"loadingHTML\",\n    value: function loadingHTML(_) {\n      return arguments.length ? (this._loadingHTML = typeof _ === \"function\" ? _ : constant(_), this) : this._loadingHTML;\n    }\n    /**\n        @memberof Viz\n        @desc Toggles the visibility of the status message that is displayed when loading AJAX requests and displaying errors.\n        @param {Boolean} [*value* = true]\n        @chainable\n    */\n\n  }, {\n    key: \"loadingMessage\",\n    value: function loadingMessage(_) {\n      return arguments.length ? (this._loadingMessage = _, this) : this._loadingMessage;\n    }\n    /**\n        @memberof Viz\n        @desc Sets the color of the mask used underneath the status message that is displayed when loading AJAX requests and displaying errors. Additionally, `false` will turn off the mask completely.\n        @param {Boolean|String} [*value* = \"rgba(0, 0, 0, 0.1)\"]\n        @chainable\n    */\n\n  }, {\n    key: \"messageMask\",\n    value: function messageMask(_) {\n      return arguments.length ? (this._messageMask = _, this) : this._messageMask;\n    }\n    /**\n        @memberof Viz\n        @desc Defines the CSS style properties for the status message that is displayed when loading AJAX requests and displaying errors.\n        @param {Object} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"messageStyle\",\n    value: function messageStyle(_) {\n      return arguments.length ? (this._messageStyle = assign(this._messageStyle, _), this) : this._messageStyle;\n    }\n    /**\n        @memberof Viz\n        @desc Sets the inner HTML of the status message that is displayed when no data is supplied to the visualization. Must be a valid HTML string or a function that, when passed this Viz instance, returns a valid HTML string.\n        @param {Function|String} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"noDataHTML\",\n    value: function noDataHTML(_) {\n      return arguments.length ? (this._noDataHTML = typeof _ === \"function\" ? _ : constant(_), this) : this._noDataHTML;\n    }\n    /**\n       @memberof Viz\n       @desc Toggles the visibility of the status message that is displayed when no data is supplied to the visualization.\n       @param {Boolean} [*value* = true]\n       @chainable\n    */\n\n  }, {\n    key: \"noDataMessage\",\n    value: function noDataMessage(_) {\n      return arguments.length ? (this._noDataMessage = _, this) : this._noDataMessage;\n    }\n    /**\n        @memberof Viz\n        @desc If using scroll or visibility detection, this method allow a custom override of the element to which the scroll detection function gets attached.\n        @param {String|HTMLElement} *selector*\n        @chainable\n    */\n\n  }, {\n    key: \"scrollContainer\",\n    value: function scrollContainer(_) {\n      return arguments.length ? (this._scrollContainer = _, this) : this._scrollContainer;\n    }\n    /**\n        @memberof Viz\n        @desc If *selector* is specified, sets the SVG container element to the specified d3 selector or DOM element and returns the current class instance. If *selector* is not specified, returns the current SVG container element, which is `undefined` by default.\n        @param {String|HTMLElement} [*selector*]\n        @chainable\n    */\n\n  }, {\n    key: \"select\",\n    value: function select(_) {\n      return arguments.length ? (this._select = _select(_), this) : this._select;\n    }\n    /**\n        @memberof Viz\n        @desc If *value* is specified, sets the shape accessor to the specified function or number and returns the current class instance.\n        @param {Function|String} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"shape\",\n    value: function shape(_) {\n      return arguments.length ? (this._shape = typeof _ === \"function\" ? _ : constant(_), this) : this._shape;\n    }\n    /**\n        @memberof Viz\n        @desc If *value* is specified, sets the config method for each shape and returns the current class instance.\n        @param {Object} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"shapeConfig\",\n    value: function shapeConfig(_) {\n      return arguments.length ? (this._shapeConfig = assign(this._shapeConfig, _), this) : this._shapeConfig;\n    }\n    /**\n        @memberof Viz\n        @desc If *value* is specified, sets the description accessor to the specified string and returns the current class instance.\n        @param {String} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"svgDesc\",\n    value: function svgDesc(_) {\n      return arguments.length ? (this._svgDesc = _, this) : this._svgDesc;\n    }\n    /**\n        @memberof Viz\n        @desc If *value* is specified, sets the title accessor to the specified string and returns the current class instance.\n        @param {String} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"svgTitle\",\n    value: function svgTitle(_) {\n      return arguments.length ? (this._svgTitle = _, this) : this._svgTitle;\n    }\n    /**\n        @memberof Viz\n        @desc If *value* is specified, sets the threshold for buckets to the specified function or string, and returns the current class instance.\n        @param {Function|Number} [value]\n        @chainable\n     */\n\n  }, {\n    key: \"threshold\",\n    value: function threshold(_) {\n      if (arguments.length) {\n        if (typeof _ === \"function\") {\n          this._threshold = _;\n        } else if (isFinite(_) && !isNaN(_)) {\n          this._threshold = constant(_ * 1);\n        }\n\n        return this;\n      } else return this._threshold;\n    }\n    /**\n        @memberof Viz\n        @desc If *value* is specified, sets the accesor for the value used in the threshold algorithm, and returns the current class instance.\n        @param {Function|Number} [value]\n        @chainable\n     */\n\n  }, {\n    key: \"thresholdKey\",\n    value: function thresholdKey(key) {\n      if (arguments.length) {\n        if (typeof key === \"function\") {\n          this._thresholdKey = key;\n        } else {\n          this._thresholdKey = accessor(key);\n        }\n\n        return this;\n      } else return this._thresholdKey;\n    }\n    /**\n        @memberof Viz\n        @desc If *value* is specified, sets the label for the bucket item, and returns the current class instance.\n        @param {Function|String} [value]\n        @chainable\n     */\n\n  }, {\n    key: \"thresholdName\",\n    value: function thresholdName(_) {\n      return arguments.length ? (this._thresholdName = typeof _ === \"function\" ? _ : constant(_), this) : this._thresholdName;\n    }\n    /**\n        @memberof Viz\n        @desc If *value* is specified, sets the time accessor to the specified function or string and returns the current class instance.\n        @param {Function|String} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"time\",\n    value: function time(_) {\n      if (arguments.length) {\n        if (typeof _ === \"function\") {\n          this._time = _;\n        } else {\n          this._time = accessor(_);\n\n          if (!this._aggs[_]) {\n            this._aggs[_] = function (a) {\n              var v = unique(a);\n              return v.length === 1 ? v[0] : v;\n            };\n          }\n        }\n\n        this._timeFilter = false;\n        return this;\n      } else return this._time;\n    }\n    /**\n        @memberof Viz\n        @desc If *value* is specified, sets the time filter to the specified function and returns the current class instance.\n        @param {Function} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"timeFilter\",\n    value: function timeFilter(_) {\n      return arguments.length ? (this._timeFilter = _, this) : this._timeFilter;\n    }\n    /**\n        @memberof Viz\n        @desc If *value* is specified, toggles the timeline based on the specified boolean and returns the current class instance.\n        @param {Boolean} [*value* = true]\n        @chainable\n    */\n\n  }, {\n    key: \"timeline\",\n    value: function timeline(_) {\n      return arguments.length ? (this._timeline = _, this) : this._timeline;\n    }\n    /**\n        @memberof Viz\n        @desc If *value* is specified, sets the config method for the timeline and returns the current class instance.\n        @param {Object} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"timelineConfig\",\n    value: function timelineConfig(_) {\n      return arguments.length ? (this._timelineConfig = assign(this._timelineConfig, _), this) : this._timelineConfig;\n    }\n    /**\n        @memberof Viz\n        @desc Tells the timeline whether or not to use the internal padding defined by the visualization in it's positioning. For example, d3plus-plot will add padding on the left so that the timeline appears centered underneath the x-axis. By default, this padding is only applied on screens larger than 600 pixels wide.\n        @param {Boolean|Function} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"timelinePadding\",\n    value: function timelinePadding(_) {\n      return arguments.length ? (this._timelinePadding = typeof _ === \"function\" ? _ : constant(_), this) : this._timelinePadding;\n    }\n    /**\n        @memberof Viz\n        @desc If *value* is specified, sets the title accessor to the specified function or string and returns the current class instance.\n        @param {Function|String} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"title\",\n    value: function title(_) {\n      return arguments.length ? (this._title = typeof _ === \"function\" ? _ : constant(_), this) : this._title;\n    }\n    /**\n        @memberof Viz\n        @desc If *value* is specified, sets the config method for the title and returns the current class instance.\n        @param {Object} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"titleConfig\",\n    value: function titleConfig(_) {\n      return arguments.length ? (this._titleConfig = assign(this._titleConfig, _), this) : this._titleConfig;\n    }\n    /**\n        @memberof Viz\n        @desc Tells the title whether or not to use the internal padding defined by the visualization in it's positioning. For example, d3plus-plot will add padding on the left so that the title appears centered above the x-axis. By default, this padding is only applied on screens larger than 600 pixels wide.\n        @param {Boolean|Function} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"titlePadding\",\n    value: function titlePadding(_) {\n      return arguments.length ? (this._titlePadding = typeof _ === \"function\" ? _ : constant(_), this) : this._titlePadding;\n    }\n    /**\n        @memberof Viz\n        @desc If *value* is specified, toggles the tooltip based on the specified boolean and returns the current class instance.\n        @param {Boolean} [*value* = true]\n        @chainable\n    */\n\n  }, {\n    key: \"tooltip\",\n    value: function tooltip(_) {\n      return arguments.length ? (this._tooltip = _, this) : this._tooltip;\n    }\n    /**\n        @memberof Viz\n        @desc If *value* is specified, sets the config method for the tooltip and returns the current class instance.\n        @param {Object} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"tooltipConfig\",\n    value: function tooltipConfig(_) {\n      return arguments.length ? (this._tooltipConfig = assign(this._tooltipConfig, _), this) : this._tooltipConfig;\n    }\n    /**\n        @memberof Viz\n        @desc If *value* is specified, sets the total accessor to the specified function or string and returns the current class instance.\n        @param {Boolean|Function|String} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"total\",\n    value: function total(_) {\n      if (arguments.length) {\n        if (typeof _ === \"function\") this._total = _;else if (_) this._total = accessor(_);else this._total = false;\n        return this;\n      } else return this._total;\n    }\n    /**\n        @memberof Viz\n        @desc If *value* is specified, sets the config method for the total and returns the current class instance.\n        @param {Object} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"totalConfig\",\n    value: function totalConfig(_) {\n      return arguments.length ? (this._totalConfig = assign(this._totalConfig, _), this) : this._totalConfig;\n    }\n    /**\n        @memberof Viz\n        @desc Formatter function for the value in the total bar.\n        @param {Function} *value*\n        @chainable\n    */\n\n  }, {\n    key: \"totalFormat\",\n    value: function totalFormat(_) {\n      return arguments.length ? (this._totalFormat = _, this) : this._totalFormat;\n    }\n    /**\n        @memberof Viz\n        @desc Tells the total whether or not to use the internal padding defined by the visualization in it's positioning. For example, d3plus-plot will add padding on the left so that the total appears centered above the x-axis. By default, this padding is only applied on screens larger than 600 pixels wide.\n        @param {Boolean|Function} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"totalPadding\",\n    value: function totalPadding(_) {\n      return arguments.length ? (this._totalPadding = typeof _ === \"function\" ? _ : constant(_), this) : this._totalPadding;\n    }\n    /**\n        @memberof Viz\n        @desc If *value* is specified, sets the overallwidth to the specified number and returns the current class instance.\n        @param {Number} [*value* = window.innerWidth]\n        @chainable\n    */\n\n  }, {\n    key: \"width\",\n    value: function width(_) {\n      return arguments.length ? (this._width = _, this) : this._width;\n    }\n    /**\n        @memberof Viz\n        @desc Toggles the ability to zoom/pan the visualization. Certain parameters for zooming are required to be hooked up on a visualization by visualization basis.\n        @param {Boolean} *value* = false\n        @chainable\n    */\n\n  }, {\n    key: \"zoom\",\n    value: function zoom(_) {\n      return arguments.length ? (this._zoom = _, this) : this._zoom;\n    }\n    /**\n        @memberof Viz\n        @desc The pixel stroke-width of the zoom brush area.\n        @param {Number} *value* = 1\n        @chainable\n    */\n\n  }, {\n    key: \"zoomBrushHandleSize\",\n    value: function zoomBrushHandleSize(_) {\n      return arguments.length ? (this._zoomBrushHandleSize = _, this) : this._zoomBrushHandleSize;\n    }\n    /**\n        @memberof Viz\n        @desc An object containing CSS key/value pairs that is used to style the outer handle area of the zoom brush. Passing `false` will remove all default styling.\n        @param {Object|Boolean} *value*\n        @chainable\n    */\n\n  }, {\n    key: \"zoomBrushHandleStyle\",\n    value: function zoomBrushHandleStyle(_) {\n      return arguments.length ? (this._zoomBrushHandleStyle = _, this) : this._zoomBrushHandleStyle;\n    }\n    /**\n        @memberof Viz\n        @desc An object containing CSS key/value pairs that is used to style the inner selection area of the zoom brush. Passing `false` will remove all default styling.\n        @param {Object|Boolean} *value*\n        @chainable\n    */\n\n  }, {\n    key: \"zoomBrushSelectionStyle\",\n    value: function zoomBrushSelectionStyle(_) {\n      return arguments.length ? (this._zoomBrushSelectionStyle = _, this) : this._zoomBrushSelectionStyle;\n    }\n    /**\n        @memberof Viz\n        @desc An object containing CSS key/value pairs that is used to style each zoom control button (`.zoom-in`, `.zoom-out`, `.zoom-reset`, and `.zoom-brush`). Passing `false` will remove all default styling.\n        @param {Object|Boolean} *value*\n        @chainable\n    */\n\n  }, {\n    key: \"zoomControlStyle\",\n    value: function zoomControlStyle(_) {\n      return arguments.length ? (this._zoomControlStyle = _, this) : this._zoomControlStyle;\n    }\n    /**\n        @memberof Viz\n        @desc An object containing CSS key/value pairs that is used to style each zoom control button when active (`.zoom-in`, `.zoom-out`, `.zoom-reset`, and `.zoom-brush`). Passing `false` will remove all default styling.\n        @param {Object|Boolean} *value*\n        @chainable\n    */\n\n  }, {\n    key: \"zoomControlStyleActive\",\n    value: function zoomControlStyleActive(_) {\n      return arguments.length ? (this._zoomControlStyleActive = _, this) : this._zoomControlStyleActive;\n    }\n    /**\n        @memberof Viz\n        @desc An object containing CSS key/value pairs that is used to style each zoom control button on hover (`.zoom-in`, `.zoom-out`, `.zoom-reset`, and `.zoom-brush`). Passing `false` will remove all default styling.\n        @param {Object|Boolean} *value*\n        @chainable\n    */\n\n  }, {\n    key: \"zoomControlStyleHover\",\n    value: function zoomControlStyleHover(_) {\n      return arguments.length ? (this._zoomControlStyleHover = _, this) : this._zoomControlStyleHover;\n    }\n    /**\n        @memberof Viz\n        @desc The multiplier that is used in with the control buttons when zooming in and out.\n        @param {Number} *value* = 2\n        @chainable\n    */\n\n  }, {\n    key: \"zoomFactor\",\n    value: function zoomFactor(_) {\n      return arguments.length ? (this._zoomFactor = _, this) : this._zoomFactor;\n    }\n    /**\n        @memberof Viz\n        @desc If *value* is specified, sets the max zoom scale to the specified number and returns the current class instance. If *value* is not specified, returns the current max zoom scale.\n        @param {Number} *value* = 16\n        @chainable\n    */\n\n  }, {\n    key: \"zoomMax\",\n    value: function zoomMax(_) {\n      return arguments.length ? (this._zoomMax = _, this) : this._zoomMax;\n    }\n    /**\n        @memberof Viz\n        @desc If *value* is specified, toggles panning to the specified boolean and returns the current class instance. If *value* is not specified, returns the current panning value.\n        @param {Boolean} *value* = true\n        @chainable\n    */\n\n  }, {\n    key: \"zoomPan\",\n    value: function zoomPan(_) {\n      return arguments.length ? (this._zoomPan = _, this) : this._zoomPan;\n    }\n    /**\n        @memberof Viz\n        @desc A pixel value to be used to pad all sides of a zoomed area.\n        @param {Number} *value* = 20\n        @chainable\n    */\n\n  }, {\n    key: \"zoomPadding\",\n    value: function zoomPadding(_) {\n      return arguments.length ? (this._zoomPadding = _, this) : this._zoomPadding;\n    }\n    /**\n        @memberof Viz\n        @desc If *value* is specified, toggles scroll zooming to the specified boolean and returns the current class instance. If *value* is not specified, returns the current scroll zooming value.\n        @param {Boolean} [*value* = true]\n        @chainable\n    */\n\n  }, {\n    key: \"zoomScroll\",\n    value: function zoomScroll(_) {\n      return arguments.length ? (this._zoomScroll = _, this) : this._zoomScroll;\n    }\n  }]);\n\n  return Viz;\n}(BaseClass);\n\nexport { Viz as default };","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n/**\n    @external Viz\n    @see https://github.com/d3plus/d3plus-viz#Viz\n*/\nimport { extent, max, quantile } from \"d3-array\";\nimport { color } from \"d3-color\";\nimport * as d3Geo from \"d3-geo\";\nimport * as scales from \"d3-scale\";\nimport { tile } from \"d3-tile\";\nimport { feature } from \"topojson-client\";\nimport { accessor, assign, configPrep, constant, parseSides } from \"d3plus-common\";\nimport { Circle, Path, pointDistance } from \"d3plus-shape\";\nimport { dataLoad as load, Viz } from \"d3plus-viz\";\n/**\n    @name topo2feature\n    @desc Converts a specific topojson object key into a feature ready for projection.\n    @param {Object} *topo* A valid topojson json object.\n    @param {String} [*key*] The topojson object key to be used. If undefined, the first key available will be used.\n    @private\n*/\n\nfunction topo2feature(topo, key) {\n  var k = key && topo.objects[key] ? key : Object.keys(topo.objects)[0];\n  return feature(topo, topo.objects[k]);\n}\n/**\n    @class Geomap\n    @extends external:Viz\n    @desc Creates a geographical map with zooming, panning, image tiles, and the ability to layer choropleth paths and coordinate points. See [this example](https://d3plus.org/examples/d3plus-geomap/getting-started/) for help getting started.\n*/\n\n\nvar Geomap =\n/*#__PURE__*/\nfunction (_Viz) {\n  _inherits(Geomap, _Viz);\n\n  /**\n      @memberof Geomap\n      @desc Invoked when creating a new class instance, and sets any default parameters.\n      @private\n  */\n  function Geomap() {\n    var _this;\n\n    _classCallCheck(this, Geomap);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Geomap).call(this));\n    _this._fitObject = false;\n    _this._noDataMessage = false;\n    _this._ocean = \"#cdd1d3\";\n    _this._point = accessor(\"point\");\n    _this._pointSize = constant(1);\n    _this._pointSizeMax = 10;\n    _this._pointSizeMin = 5;\n    _this._pointSizeScale = \"linear\";\n    _this._projection = d3Geo.geoMercator();\n    _this._projectionPadding = parseSides(20);\n    _this._rotate = [0, 0];\n    _this._shape = constant(\"Circle\");\n    _this._shapeConfig = assign(_this._shapeConfig, {\n      ariaLabel: function ariaLabel(d, i) {\n        return \"\".concat(_this._drawLabel(d, i), \", \").concat(_this._pointSize(d, i));\n      },\n      hoverOpacity: 1,\n      Path: {\n        ariaLabel: function ariaLabel(d, i) {\n          var validColorScale = _this._colorScale ? \", \".concat(_this._colorScale(d, i)) : \"\";\n          return \"\".concat(_this._drawLabel(d, i)).concat(validColorScale, \".\");\n        },\n        fill: function fill(d) {\n          if (_this._colorScale && !_this._coordData.features.includes(d)) {\n            var c = _this._colorScale(d);\n\n            if (c !== undefined && c !== null) {\n              if (_this._colorScaleClass._colorScale) {\n                return _this._colorScaleClass._colorScale(c);\n              } else {\n                var _color = _this._colorScaleClass.color();\n\n                if (_color instanceof Array) _color = _color[_color.length - 1];\n                return _color;\n              }\n            }\n          }\n\n          return _this._topojsonFill();\n        },\n        on: {\n          \"mouseenter\": function mouseenter(d) {\n            return !_this._coordData.features.includes(d) ? _this._on.mouseenter.bind(_assertThisInitialized(_this))(d) : null;\n          },\n          \"mousemove.shape\": function mousemoveShape(d) {\n            return !_this._coordData.features.includes(d) ? _this._on[\"mousemove.shape\"].bind(_assertThisInitialized(_this))(d) : null;\n          },\n          \"mouseleave\": function mouseleave(d) {\n            return !_this._coordData.features.includes(d) ? _this._on.mouseleave.bind(_assertThisInitialized(_this))(d) : null;\n          }\n        },\n        stroke: function stroke(d, i) {\n          var c = typeof _this._shapeConfig.Path.fill === \"function\" ? _this._shapeConfig.Path.fill(d, i) : _this._shapeConfig.Path.fill;\n          return color(c).darker();\n        },\n        strokeWidth: 1\n      }\n    });\n    _this._tiles = true;\n    _this._tileGen = tile().wrap(false);\n    _this._tileUrl = \"https://cartodb-basemaps-{s}.global.ssl.fastly.net/light_all/{z}/{x}/{y}@2x.png\";\n    _this._topojson = false;\n    _this._topojsonFill = constant(\"#f5f5f3\");\n\n    _this._topojsonFilter = function (d) {\n      return ![\"010\"].includes(d.id);\n    };\n\n    _this._topojsonId = accessor(\"id\");\n    _this._zoom = true;\n    _this._zoomSet = false;\n    return _this;\n  }\n  /**\n      Renders map tiles based on the current zoom level.\n      @private\n  */\n\n\n  _createClass(Geomap, [{\n    key: \"_renderTiles\",\n    value: function _renderTiles(transform) {\n      var _this2 = this;\n\n      var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var tileData = [];\n\n      if (this._tiles) {\n        tileData = this._tileGen.extent(this._zoomBehavior.translateExtent()).scale(this._projection.scale() * (2 * Math.PI) * transform.k).translate(transform.apply(this._projection.translate()))();\n\n        this._tileGroup.transition().duration(duration).attr(\"transform\", transform);\n      }\n\n      var images = this._tileGroup.selectAll(\"image.tile\").data(tileData, function (d) {\n        return \"\".concat(d.x, \"-\").concat(d.y, \"-\").concat(d.z);\n      });\n\n      images.exit().transition().duration(duration).attr(\"opacity\", 0).remove();\n      var scale = tileData.scale / transform.k;\n      images.enter().append(\"image\").attr(\"class\", \"tile\").attr(\"opacity\", 0).attr(\"xlink:href\", function (d) {\n        return _this2._tileUrl.replace(\"{s}\", [\"a\", \"b\", \"c\"][Math.random() * 3 | 0]).replace(\"{z}\", d.z).replace(\"{x}\", d.x).replace(\"{y}\", d.y);\n      }).attr(\"width\", scale).attr(\"height\", scale).attr(\"x\", function (d) {\n        return d.x * scale + tileData.translate[0] * scale - transform.x / transform.k;\n      }).attr(\"y\", function (d) {\n        return d.y * scale + tileData.translate[1] * scale - transform.y / transform.k;\n      }).transition().duration(duration).attr(\"opacity\", 1);\n      images.attr(\"width\", scale).attr(\"height\", scale).attr(\"x\", function (d) {\n        return d.x * scale + tileData.translate[0] * scale - transform.x / transform.k;\n      }).attr(\"y\", function (d) {\n        return d.y * scale + tileData.translate[1] * scale - transform.y / transform.k;\n      });\n    }\n    /**\n        Extends the draw behavior of the abstract Viz class.\n        @private\n    */\n\n  }, {\n    key: \"_draw\",\n    value: function _draw(callback) {\n      var _this3 = this;\n\n      _get(_getPrototypeOf(Geomap.prototype), \"_draw\", this).call(this, callback);\n\n      var height = this._height - this._margin.top - this._margin.bottom,\n          width = this._width - this._margin.left - this._margin.right;\n      this._container = this._select.selectAll(\"svg.d3plus-geomap\").data([0]);\n      this._container = this._container.enter().append(\"svg\").attr(\"class\", \"d3plus-geomap\").attr(\"opacity\", 0).attr(\"width\", width).attr(\"height\", height).attr(\"x\", this._margin.left).attr(\"y\", this._margin.top).style(\"background-color\", this._ocean || \"transparent\").merge(this._container);\n\n      this._container.transition(this._transition).attr(\"opacity\", 1).attr(\"width\", width).attr(\"height\", height).attr(\"x\", this._margin.left).attr(\"y\", this._margin.top);\n\n      var ocean = this._container.selectAll(\"rect.d3plus-geomap-ocean\").data([0]);\n\n      ocean.enter().append(\"rect\").attr(\"class\", \"d3plus-geomap-ocean\").merge(ocean).attr(\"width\", width).attr(\"height\", height).attr(\"fill\", this._ocean || \"transparent\");\n      this._tileGroup = this._container.selectAll(\"g.d3plus-geomap-tileGroup\").data([0]);\n      this._tileGroup = this._tileGroup.enter().append(\"g\").attr(\"class\", \"d3plus-geomap-tileGroup\").merge(this._tileGroup);\n      this._zoomGroup = this._container.selectAll(\"g.d3plus-geomap-zoomGroup\").data([0]);\n      this._zoomGroup = this._zoomGroup.enter().append(\"g\").attr(\"class\", \"d3plus-geomap-zoomGroup\").merge(this._zoomGroup);\n\n      var pathGroup = this._zoomGroup.selectAll(\"g.d3plus-geomap-paths\").data([0]);\n\n      pathGroup = pathGroup.enter().append(\"g\").attr(\"class\", \"d3plus-geomap-paths\").merge(pathGroup);\n      var coordData = this._coordData = this._topojson ? topo2feature(this._topojson, this._topojsonKey) : {\n        type: \"FeatureCollection\",\n        features: []\n      };\n      if (this._topojsonFilter) coordData.features = coordData.features.filter(this._topojsonFilter);\n      var path = this._path = d3Geo.geoPath().projection(this._projection);\n\n      var pointData = this._filteredData.filter(function (d, i) {\n        return _this3._point(d, i) instanceof Array;\n      });\n\n      var pathData = this._filteredData.filter(function (d, i) {\n        return !(_this3._point(d, i) instanceof Array);\n      }).reduce(function (obj, d) {\n        obj[_this3._id(d)] = d;\n        return obj;\n      }, {});\n\n      var topoData = coordData.features.reduce(function (arr, feature) {\n        var id = _this3._topojsonId(feature);\n\n        arr.push({\n          __d3plus__: true,\n          data: pathData[id],\n          feature: feature,\n          id: id\n        });\n        return arr;\n      }, []);\n      var r = scales[\"scale\".concat(this._pointSizeScale.charAt(0).toUpperCase()).concat(this._pointSizeScale.slice(1))]().domain(extent(pointData, function (d, i) {\n        return _this3._pointSize(d, i);\n      })).range([this._pointSizeMin, this._pointSizeMax]);\n\n      if (!this._zoomSet) {\n        var fitData = this._fitObject ? topo2feature(this._fitObject, this._fitKey) : coordData;\n        this._extentBounds = {\n          type: \"FeatureCollection\",\n          features: this._fitFilter ? fitData.features.filter(this._fitFilter) : fitData.features.slice()\n        };\n        this._extentBounds.features = this._extentBounds.features.reduce(function (arr, d) {\n          if (d.geometry) {\n            var reduced = {\n              type: d.type,\n              id: d.id,\n              geometry: {\n                coordinates: d.geometry.coordinates,\n                type: d.geometry.type\n              }\n            };\n\n            if (d.geometry.type === \"MultiPolygon\" && d.geometry.coordinates.length > 1) {\n              var areas = [],\n                  distances = [];\n              d.geometry.coordinates.forEach(function (c) {\n                reduced.geometry.coordinates = [c];\n                areas.push(path.area(reduced));\n              });\n              reduced.geometry.coordinates = [d.geometry.coordinates[areas.indexOf(max(areas))]];\n              var center = path.centroid(reduced);\n              d.geometry.coordinates.forEach(function (c) {\n                reduced.geometry.coordinates = [c];\n                distances.push(pointDistance(path.centroid(reduced), center));\n              });\n              var distCutoff = quantile(areas.reduce(function (arr, dist, i) {\n                if (dist) arr.push(areas[i] / dist);\n                return arr;\n              }, []), 0.9);\n              reduced.geometry.coordinates = d.geometry.coordinates.filter(function (c, i) {\n                var dist = distances[i];\n                return dist === 0 || areas[i] / dist >= distCutoff;\n              });\n            }\n\n            arr.push(reduced);\n          }\n\n          return arr;\n        }, []);\n\n        if (!this._extentBounds.features.length && pointData.length) {\n          var bounds = [[undefined, undefined], [undefined, undefined]];\n          pointData.forEach(function (d, i) {\n            var point = _this3._projection(_this3._point(d, i));\n\n            if (bounds[0][0] === void 0 || point[0] < bounds[0][0]) bounds[0][0] = point[0];\n            if (bounds[1][0] === void 0 || point[0] > bounds[1][0]) bounds[1][0] = point[0];\n            if (bounds[0][1] === void 0 || point[1] < bounds[0][1]) bounds[0][1] = point[1];\n            if (bounds[1][1] === void 0 || point[1] > bounds[1][1]) bounds[1][1] = point[1];\n          });\n          this._extentBounds = {\n            type: \"FeatureCollection\",\n            features: [{\n              type: \"Feature\",\n              geometry: {\n                type: \"MultiPoint\",\n                coordinates: bounds.map(function (b) {\n                  return _this3._projection.invert(b);\n                })\n              }\n            }]\n          };\n          var maxSize = max(pointData, function (d, i) {\n            return r(_this3._pointSize(d, i));\n          });\n          this._projectionPadding.top += maxSize;\n          this._projectionPadding.right += maxSize;\n          this._projectionPadding.bottom += maxSize;\n          this._projectionPadding.left += maxSize;\n        }\n\n        this._zoomBehavior.extent([[0, 0], [width, height]]).scaleExtent([1, this._zoomMax]).translateExtent([[0, 0], [width, height]]);\n\n        this._zoomSet = true;\n      }\n\n      this._projection = this._projection.fitExtent(this._extentBounds.features.length ? [[this._projectionPadding.left, this._projectionPadding.top], [width - this._projectionPadding.right, height - this._projectionPadding.bottom]] : [[0, 0], [width, height]], this._extentBounds.features.length ? this._extentBounds : {\n        type: \"Sphere\"\n      });\n\n      this._shapes.push(new Path().data(topoData).d(function (d) {\n        return path(d.feature);\n      }).select(pathGroup.node()).x(0).y(0).config(configPrep.bind(this)(this._shapeConfig, \"shape\", \"Path\")).render());\n\n      var pointGroup = this._zoomGroup.selectAll(\"g.d3plus-geomap-pins\").data([0]);\n\n      pointGroup = pointGroup.enter().append(\"g\").attr(\"class\", \"d3plus-geomap-pins\").merge(pointGroup);\n      var circles = new Circle().config(configPrep.bind(this)(this._shapeConfig, \"shape\", \"Circle\")).data(pointData).r(function (d, i) {\n        return r(_this3._pointSize(d, i));\n      }).select(pointGroup.node()).sort(function (a, b) {\n        return _this3._pointSize(b) - _this3._pointSize(a);\n      }).x(function (d, i) {\n        return _this3._projection(_this3._point(d, i))[0];\n      }).y(function (d, i) {\n        return _this3._projection(_this3._point(d, i))[1];\n      });\n      var events = Object.keys(this._on);\n      var classEvents = events.filter(function (e) {\n        return e.includes(\".Circle\");\n      }),\n          globalEvents = events.filter(function (e) {\n        return !e.includes(\".\");\n      }),\n          shapeEvents = events.filter(function (e) {\n        return e.includes(\".shape\");\n      });\n\n      for (var e = 0; e < globalEvents.length; e++) {\n        circles.on(globalEvents[e], this._on[globalEvents[e]]);\n      }\n\n      for (var _e = 0; _e < shapeEvents.length; _e++) {\n        circles.on(shapeEvents[_e], this._on[shapeEvents[_e]]);\n      }\n\n      for (var _e2 = 0; _e2 < classEvents.length; _e2++) {\n        circles.on(classEvents[_e2], this._on[classEvents[_e2]]);\n      }\n\n      this._shapes.push(circles.render());\n\n      return this;\n    }\n    /**\n        @memberof Geomap\n        @desc Topojson files sometimes include small geographies that negatively impact how the library determines the default zoom level (for example, a small island or territory far off the coast that is barely visible to the eye). The fitFilter method can be used to remove specific geographies from the logic used to determine the zooming.\n    The *value* passed can be a single id to remove, an array of ids, or a filter function. Take a look at the [Choropleth Example](http://d3plus.org/examples/d3plus-geomap/getting-started/) to see it in action.\n        @param {Number|String|Array|Function} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"fitFilter\",\n    value: function fitFilter(_) {\n      if (arguments.length) {\n        this._zoomSet = false;\n        if (typeof _ === \"function\") return this._fitFilter = _, this;\n        if (!(_ instanceof Array)) _ = [_];\n        return this._fitFilter = function (d) {\n          return _.includes(d.id);\n        }, this;\n      }\n\n      return this._fitFilter;\n    }\n    /**\n        @memberof Geomap\n        @desc If the topojson being used to determine the zoom fit (either the main [topojson](#Geomap.topojson) object or the [fitObject](#Geomap.fitObject)) contains multiple geographical sets (for example, a file containing state and county boundaries), use this method to indentify which set to use for the zoom fit.\n    If not specified, the first key in the *Array* returned from using `Object.keys` on the topojson will be used.\n        @param {String} *value*\n        @chainable\n    */\n\n  }, {\n    key: \"fitKey\",\n    value: function fitKey(_) {\n      if (arguments.length) {\n        this._fitKey = _;\n        this._zoomSet = false;\n        return this;\n      }\n\n      return this._fitKey;\n    }\n    /**\n        @memberof Geomap\n        @desc The topojson to be used for the initial projection [fit extent](https://github.com/d3/d3-geo#projection_fitExtent). The value passed should either be a valid Topojson *Object* or a *String* representing a filepath or URL to be loaded.\n    Additionally, a custom formatting function can be passed as a second argument to this method. This custom function will be passed the data that has been loaded, as long as there are no errors. This function needs to return the final Topojson *Object*.\n        @param {Object|String} *data* = `undefined`\n        @param {Function} [*formatter*]\n        @chainable\n    */\n\n  }, {\n    key: \"fitObject\",\n    value: function fitObject(_, f) {\n      if (arguments.length) {\n        var prev = this._queue.find(function (q) {\n          return q[3] === \"fitObject\";\n        });\n\n        var d = [load.bind(this), _, f, \"fitObject\"];\n        if (prev) this._queue[this._queue.indexOf(prev)] = d;else this._queue.push(d);\n        this._zoomSet = false;\n        return this;\n      }\n\n      return this._fitObject;\n    }\n    /**\n        @memberof Geomap\n        @desc The color visible behind any shapes drawn on the map projection. By default, a color value matching the color used in the map tiles is used to help mask the loading time needed to render the tiles. Any value CSS color value may be used, including hexidecimal, rgb, rgba, and color strings like `\"blue\"` and `\"transparent\"`.\n        @param {String} [*value* = \"#cdd1d3\"]\n        @chainable\n    */\n\n  }, {\n    key: \"ocean\",\n    value: function ocean(_) {\n      return arguments.length ? (this._ocean = _, this) : this._ocean;\n    }\n    /**\n        @memberof Geomap\n        @desc The accessor to be used when detecting coordinate points in the objects passed to the [data](https://d3plus.org/docs/#Viz.data) method. Values are expected to be in the format `[longitude, latitude]`, which is in-line with d3's expected coordinate mapping.\n        @param {Function|Array} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"point\",\n    value: function point(_) {\n      return arguments.length ? (this._point = typeof _ === \"function\" ? _ : constant(_), this) : this._point;\n    }\n    /**\n        @memberof Geomap\n        @desc The accessor or static value to be used for sizing coordinate points.\n        @param {Function|Number} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"pointSize\",\n    value: function pointSize(_) {\n      return arguments.length ? (this._pointSize = typeof _ === \"function\" ? _ : constant(_), this) : this._pointSize;\n    }\n    /**\n        @memberof Geomap\n        @desc The maximum pixel radius used in the scale for sizing coordinate points.\n        @param {Number} [*value* = 10]\n        @chainable\n    */\n\n  }, {\n    key: \"pointSizeMax\",\n    value: function pointSizeMax(_) {\n      return arguments.length ? (this._pointSizeMax = _, this) : this._pointSizeMax;\n    }\n    /**\n        @memberof Geomap\n        @desc The minimum pixel radius used in the scale for sizing coordinate points.\n        @param {Number} [*value* = 5]\n        @chainable\n    */\n\n  }, {\n    key: \"pointSizeMin\",\n    value: function pointSizeMin(_) {\n      return arguments.length ? (this._pointSizeMin = _, this) : this._pointSizeMin;\n    }\n    /**\n        @memberof Geomap\n        @desc Sets the map projection used when displaying topojson and coordinate points. Any of the standard projections exported from [d3-geo](https://github.com/d3/d3-geo#projections) are accepted, whether as the string name (ie. \"geoMercator\") or the generator function itself. Map tiles are only usable when the projection is set to Mercator (which is also the default value).\n        @param {Function|String} *projection* = \"geoMercator\"\n        @chainable\n    */\n\n  }, {\n    key: \"projection\",\n    value: function projection(_) {\n      if (arguments.length && _ !== \"geoMercator\") this._tiles = false;\n      return arguments.length ? (this._projection = typeof _ === \"string\" ? d3Geo[_]() : _, this) : this._projection;\n    }\n    /**\n        @memberof Geomap\n        @desc The outer padding between the edge of the visualization and the shapes drawn. The value passed can be either a single number to be used on all sides, or a CSS string pattern (ie. `\"20px 0 10px\"`).\n        @param {Number|String} [*value* = 20]\n        @chainable\n    */\n\n  }, {\n    key: \"projectionPadding\",\n    value: function projectionPadding(_) {\n      return arguments.length ? (this._projectionPadding = parseSides(_), this) : this._projectionPadding;\n    }\n    /**\n        @memberof Geomap\n        @desc Toggles the visibility of the map tiles.\n        @param {Boolean} [*value* = true]\n        @chainable\n    */\n\n  }, {\n    key: \"tiles\",\n    value: function tiles(_) {\n      return arguments.length ? (this._tiles = _, this) : this._tiles;\n    }\n    /**\n        @memberof Geomap\n        @desc By default, d3plus uses the `light_all` style provided by [CARTO](https://carto.com/location-data-services/basemaps/) for it's map tiles. The [tileUrl](https://d3plus.org/docs/#Geomap.tileUrl) method changes the base URL used for fetching the tiles, as long as the string passed contains `{x}`, `{y}`, and `{z}` variables enclosed in curly brackets for the zoom logic to load the correct tiles.\n        @param {String} [url=\"https://cartodb-basemaps-{s}.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png\"]\n        @chainable\n    */\n\n  }, {\n    key: \"tileUrl\",\n    value: function tileUrl(_) {\n      return arguments.length ? (this._tileUrl = _, this) : this._tileUrl;\n    }\n    /**\n        @memberof Geomap\n        @desc The topojson to be used for drawing geographical paths. The value passed should either be a valid Topojson *Object* or a *String* representing a filepath or URL to be loaded.\n    Additionally, a custom formatting function can be passed as a second argument to this method. This custom function will be passed the data that has been loaded, as long as there are no errors. This function should return the final Topojson *Obejct*.\n        @param {Object|String} *data* = []\n        @param {Function} [*formatter*]\n        @chainable\n    */\n\n  }, {\n    key: \"topojson\",\n    value: function topojson(_, f) {\n      if (arguments.length) {\n        var prev = this._queue.find(function (q) {\n          return q[3] === \"topojson\";\n        });\n\n        var d = [load.bind(this), _, f, \"topojson\"];\n        if (prev) this._queue[this._queue.indexOf(prev)] = d;else this._queue.push(d);\n        this._zoomSet = false;\n        return this;\n      }\n\n      return this._topojson;\n    }\n    /**\n        @memberof Geomap\n        @desc The function is used to set default color of the map.\n        @param {String|Function} *value* = string\n        @chainable\n    */\n\n  }, {\n    key: \"topojsonFill\",\n    value: function topojsonFill(_) {\n      return arguments.length ? (this._topojsonFill = typeof _ === \"function\" ? _ : constant(_), this, this) : this._topojsonFill;\n    }\n    /**\n        @memberof Geomap\n        @desc If the [topojson](#Geomap.topojson) being used contains boundaries that should not be shown, this method can be used to filter them out of the final output. The *value* passed can be a single id to remove, an array of ids, or a filter function.\n        @param {Number|String|Array|Function} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"topojsonFilter\",\n    value: function topojsonFilter(_) {\n      if (arguments.length) {\n        this._zoomSet = false;\n        if (typeof _ === \"function\") return this._topojsonFilter = _, this;\n        if (!(_ instanceof Array)) _ = [_];\n        return this._topojsonFilter = function (d) {\n          return _.includes(d.id);\n        }, this;\n      }\n\n      return this._topojsonFilter;\n    }\n    /**\n        @memberof Geomap\n        @desc If the [topojson](#Geomap.topojson) contains multiple geographical sets (for example, a file containing state and county boundaries), use this method to indentify which set to use.\n    If not specified, the first key in the *Array* returned from using `Object.keys` on the topojson will be used.\n        @param {String} *value*\n        @chainable\n    */\n\n  }, {\n    key: \"topojsonKey\",\n    value: function topojsonKey(_) {\n      if (arguments.length) {\n        this._topojsonKey = _;\n        this._zoomSet = false;\n        return this;\n      }\n\n      return this._topojsonKey;\n    }\n    /**\n        @memberof Geomap\n        @desc The accessor used to map each topojson geometry to it's corresponding [data](https://d3plus.org/docs/#Viz.data) point.\n        @param {String|Function} *value* = \"id\"\n        @chainable\n    */\n\n  }, {\n    key: \"topojsonId\",\n    value: function topojsonId(_) {\n      return arguments.length ? (this._topojsonId = typeof _ === \"function\" ? _ : accessor(_), this, this) : this._topojsonId;\n    }\n  }]);\n\n  return Geomap;\n}(Viz);\n\nexport { Geomap as default };","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport { min } from \"d3-array\";\nimport { arc, pie } from \"d3-shape\";\nimport { accessor, assign, configPrep, elem } from \"d3plus-common\";\nimport { Path } from \"d3plus-shape\";\nimport { Viz } from \"d3plus-viz\";\n/**\n    @class Pie\n    @extends Viz\n    @desc Uses the [d3 pie layout](https://github.com/d3/d3-shape#pies) to creates SVG arcs based on an array of data.\n*/\n\nvar Pie =\n/*#__PURE__*/\nfunction (_Viz) {\n  _inherits(Pie, _Viz);\n\n  /**\n      @memberof Pie\n      @desc Invoked when creating a new class instance, and sets any default parameters.\n      @private\n  */\n  function Pie() {\n    var _this;\n\n    _classCallCheck(this, Pie);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Pie).call(this));\n    _this._shapeConfig = assign(_this._shapeConfig, {\n      ariaLabel: function ariaLabel(d, i) {\n        return _this._pieData ? \"\".concat(++_this._pieData[i].index, \". \").concat(_this._drawLabel(d, i), \", \").concat(_this._value(d, i), \".\") : \"\";\n      },\n      Path: {\n        labelConfig: {\n          fontResize: true\n        }\n      }\n    });\n    _this._innerRadius = 0;\n\n    _this._legendSort = function (a, b) {\n      return _this._value(b) - _this._value(a);\n    };\n\n    _this._padPixel = 0;\n    _this._pie = pie();\n\n    _this._sort = function (a, b) {\n      return _this._value(b) - _this._value(a);\n    };\n\n    _this._value = accessor(\"value\");\n    return _this;\n  }\n  /**\n      Extends the draw behavior of the abstract Viz class.\n      @private\n  */\n\n\n  _createClass(Pie, [{\n    key: \"_draw\",\n    value: function _draw(callback) {\n      var _this2 = this;\n\n      _get(_getPrototypeOf(Pie.prototype), \"_draw\", this).call(this, callback);\n\n      var height = this._height - this._margin.top - this._margin.bottom,\n          width = this._width - this._margin.left - this._margin.right;\n      var outerRadius = min([width, height]) / 2;\n\n      var pieData = this._pieData = this._pie.padAngle(this._padAngle || this._padPixel / outerRadius).sort(this._sort).value(this._value)(this._filteredData);\n\n      pieData.forEach(function (d, i) {\n        d.__d3plus__ = true;\n        d.i = i;\n      });\n      var arcData = arc().innerRadius(this._innerRadius).outerRadius(outerRadius);\n      var transform = \"translate(\".concat(width / 2 + this._margin.left, \", \").concat(height / 2 + this._margin.top, \")\");\n\n      this._shapes.push(new Path().data(pieData).d(arcData).select(elem(\"g.d3plus-Pie\", {\n        parent: this._select,\n        enter: {\n          transform: transform\n        },\n        update: {\n          transform: transform\n        }\n      }).node()).config({\n        id: function id(d) {\n          return _this2._ids(d).join(\"-\");\n        },\n        x: 0,\n        y: 0\n      }).label(this._drawLabel).config(configPrep.bind(this)(this._shapeConfig, \"shape\", \"Path\")).render());\n\n      return this;\n    }\n    /**\n        @memberof Pie\n        @desc If *value* is specified, sets the inner radius accessor to the specified function or number and returns the current class instance. If *value* is not specified, returns the current inner radius accessor.\n        @param {Function|Number} [*value*]\n    */\n\n  }, {\n    key: \"innerRadius\",\n    value: function innerRadius(_) {\n      return arguments.length ? (this._innerRadius = _, this) : this._innerRadius;\n    }\n    /**\n        @memberof Pie\n        @desc If *value* is specified, sets the arc padding to the specified radian value and returns the current class instance. If *value* is not specified, returns the current radian padding.\n        @param {Number} [*value*]\n    */\n\n  }, {\n    key: \"padAngle\",\n    value: function padAngle(_) {\n      return arguments.length ? (this._padAngle = _, this) : this._padAngle;\n    }\n    /**\n        @memberof Pie\n        @desc If *value* is specified, sets the arc padding to the specified pixel value and returns the current class instance. If *value* is not specified, returns the current pixel padding.\n        @param {Number} [*value*]\n    */\n\n  }, {\n    key: \"padPixel\",\n    value: function padPixel(_) {\n      return arguments.length ? (this._padPixel = _, this) : this._padPixel;\n    }\n    /**\n        @memberof Pie\n        @desc If *comparator* is specified, sets the sort order for the pie slices using the specified comparator function. If *comparator* is not specified, returns the current sort order, which defaults to descending order by the associated input data's numeric value attribute.\n        @param {Array} [*comparator*]\n        @example\n    function comparator(a, b) {\n    return b.value - a.value;\n    }\n    */\n\n  }, {\n    key: \"sort\",\n    value: function sort(_) {\n      return arguments.length ? (this._sort = _, this) : this._sort;\n    }\n    /**\n        @memberof Pie\n        @desc If *value* is specified, sets the value accessor to the specified function or number and returns the current class instance. If *value* is not specified, returns the current value accessor.\n        @param {Function|String} *value*\n        @example\n    function value(d) {\n    return d.value;\n    }\n    */\n\n  }, {\n    key: \"value\",\n    value: function value(_) {\n      return arguments.length ? (this._value = typeof _ === \"function\" ? _ : accessor(_), this) : this._value;\n    }\n  }]);\n\n  return Pie;\n}(Viz);\n\nexport { Pie as default };","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport { min } from \"d3-array\";\nimport { default as Pie } from \"./Pie\";\n/**\n    @class Donut\n    @extends Pie\n    @desc Extends the Pie visualization to create a donut chart.\n*/\n\nvar Donut =\n/*#__PURE__*/\nfunction (_Pie) {\n  _inherits(Donut, _Pie);\n\n  /**\n      @memberof Donut\n      @desc Invoked when creating a new class instance, and sets any default parameters.\n      @private\n  */\n  function Donut() {\n    var _this;\n\n    _classCallCheck(this, Donut);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Donut).call(this));\n\n    _this._innerRadius = function () {\n      return min([_this._width - _this._margin.left - _this._margin.right, _this._height - _this._margin.top - _this._margin.bottom]) / 4;\n    };\n\n    _this._padPixel = 2;\n    return _this;\n  }\n\n  return Donut;\n}(Pie);\n\nexport { Donut as default };","function count(node) {\n  var sum = 0,\n      children = node.children,\n      i = children && children.length;\n  if (!i) sum = 1;\n  else while (--i >= 0) sum += children[i].value;\n  node.value = sum;\n}\n\nexport default function() {\n  return this.eachAfter(count);\n}\n","export default function(callback) {\n  var node = this, current, next = [node], children, i, n;\n  do {\n    current = next.reverse(), next = [];\n    while (node = current.pop()) {\n      callback(node), children = node.children;\n      if (children) for (i = 0, n = children.length; i < n; ++i) {\n        next.push(children[i]);\n      }\n    }\n  } while (next.length);\n  return this;\n}\n","export default function(callback) {\n  var node = this, nodes = [node], children, i;\n  while (node = nodes.pop()) {\n    callback(node), children = node.children;\n    if (children) for (i = children.length - 1; i >= 0; --i) {\n      nodes.push(children[i]);\n    }\n  }\n  return this;\n}\n","export default function(callback) {\n  var node = this, nodes = [node], next = [], children, i, n;\n  while (node = nodes.pop()) {\n    next.push(node), children = node.children;\n    if (children) for (i = 0, n = children.length; i < n; ++i) {\n      nodes.push(children[i]);\n    }\n  }\n  while (node = next.pop()) {\n    callback(node);\n  }\n  return this;\n}\n","export default function(value) {\n  return this.eachAfter(function(node) {\n    var sum = +value(node.data) || 0,\n        children = node.children,\n        i = children && children.length;\n    while (--i >= 0) sum += children[i].value;\n    node.value = sum;\n  });\n}\n","export default function(compare) {\n  return this.eachBefore(function(node) {\n    if (node.children) {\n      node.children.sort(compare);\n    }\n  });\n}\n","export default function(end) {\n  var start = this,\n      ancestor = leastCommonAncestor(start, end),\n      nodes = [start];\n  while (start !== ancestor) {\n    start = start.parent;\n    nodes.push(start);\n  }\n  var k = nodes.length;\n  while (end !== ancestor) {\n    nodes.splice(k, 0, end);\n    end = end.parent;\n  }\n  return nodes;\n}\n\nfunction leastCommonAncestor(a, b) {\n  if (a === b) return a;\n  var aNodes = a.ancestors(),\n      bNodes = b.ancestors(),\n      c = null;\n  a = aNodes.pop();\n  b = bNodes.pop();\n  while (a === b) {\n    c = a;\n    a = aNodes.pop();\n    b = bNodes.pop();\n  }\n  return c;\n}\n","export default function() {\n  var node = this, nodes = [node];\n  while (node = node.parent) {\n    nodes.push(node);\n  }\n  return nodes;\n}\n","export default function() {\n  var nodes = [];\n  this.each(function(node) {\n    nodes.push(node);\n  });\n  return nodes;\n}\n","export default function() {\n  var leaves = [];\n  this.eachBefore(function(node) {\n    if (!node.children) {\n      leaves.push(node);\n    }\n  });\n  return leaves;\n}\n","export default function() {\n  var root = this, links = [];\n  root.each(function(node) {\n    if (node !== root) { // Don’t include the root’s parent, if any.\n      links.push({source: node.parent, target: node});\n    }\n  });\n  return links;\n}\n","import node_count from \"./count\";\nimport node_each from \"./each\";\nimport node_eachBefore from \"./eachBefore\";\nimport node_eachAfter from \"./eachAfter\";\nimport node_sum from \"./sum\";\nimport node_sort from \"./sort\";\nimport node_path from \"./path\";\nimport node_ancestors from \"./ancestors\";\nimport node_descendants from \"./descendants\";\nimport node_leaves from \"./leaves\";\nimport node_links from \"./links\";\n\nexport default function hierarchy(data, children) {\n  var root = new Node(data),\n      valued = +data.value && (root.value = data.value),\n      node,\n      nodes = [root],\n      child,\n      childs,\n      i,\n      n;\n\n  if (children == null) children = defaultChildren;\n\n  while (node = nodes.pop()) {\n    if (valued) node.value = +node.data.value;\n    if ((childs = children(node.data)) && (n = childs.length)) {\n      node.children = new Array(n);\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = node.children[i] = new Node(childs[i]));\n        child.parent = node;\n        child.depth = node.depth + 1;\n      }\n    }\n  }\n\n  return root.eachBefore(computeHeight);\n}\n\nfunction node_copy() {\n  return hierarchy(this).eachBefore(copyData);\n}\n\nfunction defaultChildren(d) {\n  return d.children;\n}\n\nfunction copyData(node) {\n  node.data = node.data.data;\n}\n\nexport function computeHeight(node) {\n  var height = 0;\n  do node.height = height;\n  while ((node = node.parent) && (node.height < ++height));\n}\n\nexport function Node(data) {\n  this.data = data;\n  this.depth =\n  this.height = 0;\n  this.parent = null;\n}\n\nNode.prototype = hierarchy.prototype = {\n  constructor: Node,\n  count: node_count,\n  each: node_each,\n  eachAfter: node_eachAfter,\n  eachBefore: node_eachBefore,\n  sum: node_sum,\n  sort: node_sort,\n  path: node_path,\n  ancestors: node_ancestors,\n  descendants: node_descendants,\n  leaves: node_leaves,\n  links: node_links,\n  copy: node_copy\n};\n","export var slice = Array.prototype.slice;\n\nexport function shuffle(array) {\n  var m = array.length,\n      t,\n      i;\n\n  while (m) {\n    i = Math.random() * m-- | 0;\n    t = array[m];\n    array[m] = array[i];\n    array[i] = t;\n  }\n\n  return array;\n}\n","import {shuffle, slice} from \"../array\";\n\nexport default function(circles) {\n  var i = 0, n = (circles = shuffle(slice.call(circles))).length, B = [], p, e;\n\n  while (i < n) {\n    p = circles[i];\n    if (e && enclosesWeak(e, p)) ++i;\n    else e = encloseBasis(B = extendBasis(B, p)), i = 0;\n  }\n\n  return e;\n}\n\nfunction extendBasis(B, p) {\n  var i, j;\n\n  if (enclosesWeakAll(p, B)) return [p];\n\n  // If we get here then B must have at least one element.\n  for (i = 0; i < B.length; ++i) {\n    if (enclosesNot(p, B[i])\n        && enclosesWeakAll(encloseBasis2(B[i], p), B)) {\n      return [B[i], p];\n    }\n  }\n\n  // If we get here then B must have at least two elements.\n  for (i = 0; i < B.length - 1; ++i) {\n    for (j = i + 1; j < B.length; ++j) {\n      if (enclosesNot(encloseBasis2(B[i], B[j]), p)\n          && enclosesNot(encloseBasis2(B[i], p), B[j])\n          && enclosesNot(encloseBasis2(B[j], p), B[i])\n          && enclosesWeakAll(encloseBasis3(B[i], B[j], p), B)) {\n        return [B[i], B[j], p];\n      }\n    }\n  }\n\n  // If we get here then something is very wrong.\n  throw new Error;\n}\n\nfunction enclosesNot(a, b) {\n  var dr = a.r - b.r, dx = b.x - a.x, dy = b.y - a.y;\n  return dr < 0 || dr * dr < dx * dx + dy * dy;\n}\n\nfunction enclosesWeak(a, b) {\n  var dr = a.r - b.r + 1e-6, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction enclosesWeakAll(a, B) {\n  for (var i = 0; i < B.length; ++i) {\n    if (!enclosesWeak(a, B[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction encloseBasis(B) {\n  switch (B.length) {\n    case 1: return encloseBasis1(B[0]);\n    case 2: return encloseBasis2(B[0], B[1]);\n    case 3: return encloseBasis3(B[0], B[1], B[2]);\n  }\n}\n\nfunction encloseBasis1(a) {\n  return {\n    x: a.x,\n    y: a.y,\n    r: a.r\n  };\n}\n\nfunction encloseBasis2(a, b) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x21 = x2 - x1, y21 = y2 - y1, r21 = r2 - r1,\n      l = Math.sqrt(x21 * x21 + y21 * y21);\n  return {\n    x: (x1 + x2 + x21 / l * r21) / 2,\n    y: (y1 + y2 + y21 / l * r21) / 2,\n    r: (l + r1 + r2) / 2\n  };\n}\n\nfunction encloseBasis3(a, b, c) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x3 = c.x, y3 = c.y, r3 = c.r,\n      a2 = x1 - x2,\n      a3 = x1 - x3,\n      b2 = y1 - y2,\n      b3 = y1 - y3,\n      c2 = r2 - r1,\n      c3 = r3 - r1,\n      d1 = x1 * x1 + y1 * y1 - r1 * r1,\n      d2 = d1 - x2 * x2 - y2 * y2 + r2 * r2,\n      d3 = d1 - x3 * x3 - y3 * y3 + r3 * r3,\n      ab = a3 * b2 - a2 * b3,\n      xa = (b2 * d3 - b3 * d2) / (ab * 2) - x1,\n      xb = (b3 * c2 - b2 * c3) / ab,\n      ya = (a3 * d2 - a2 * d3) / (ab * 2) - y1,\n      yb = (a2 * c3 - a3 * c2) / ab,\n      A = xb * xb + yb * yb - 1,\n      B = 2 * (r1 + xa * xb + ya * yb),\n      C = xa * xa + ya * ya - r1 * r1,\n      r = -(A ? (B + Math.sqrt(B * B - 4 * A * C)) / (2 * A) : C / B);\n  return {\n    x: x1 + xa + xb * r,\n    y: y1 + ya + yb * r,\n    r: r\n  };\n}\n","import enclose from \"./enclose\";\n\nfunction place(b, a, c) {\n  var dx = b.x - a.x, x, a2,\n      dy = b.y - a.y, y, b2,\n      d2 = dx * dx + dy * dy;\n  if (d2) {\n    a2 = a.r + c.r, a2 *= a2;\n    b2 = b.r + c.r, b2 *= b2;\n    if (a2 > b2) {\n      x = (d2 + b2 - a2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, b2 / d2 - x * x));\n      c.x = b.x - x * dx - y * dy;\n      c.y = b.y - x * dy + y * dx;\n    } else {\n      x = (d2 + a2 - b2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, a2 / d2 - x * x));\n      c.x = a.x + x * dx - y * dy;\n      c.y = a.y + x * dy + y * dx;\n    }\n  } else {\n    c.x = a.x + c.r;\n    c.y = a.y;\n  }\n}\n\nfunction intersects(a, b) {\n  var dr = a.r + b.r - 1e-6, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction score(node) {\n  var a = node._,\n      b = node.next._,\n      ab = a.r + b.r,\n      dx = (a.x * b.r + b.x * a.r) / ab,\n      dy = (a.y * b.r + b.y * a.r) / ab;\n  return dx * dx + dy * dy;\n}\n\nfunction Node(circle) {\n  this._ = circle;\n  this.next = null;\n  this.previous = null;\n}\n\nexport function packEnclose(circles) {\n  if (!(n = circles.length)) return 0;\n\n  var a, b, c, n, aa, ca, i, j, k, sj, sk;\n\n  // Place the first circle.\n  a = circles[0], a.x = 0, a.y = 0;\n  if (!(n > 1)) return a.r;\n\n  // Place the second circle.\n  b = circles[1], a.x = -b.r, b.x = a.r, b.y = 0;\n  if (!(n > 2)) return a.r + b.r;\n\n  // Place the third circle.\n  place(b, a, c = circles[2]);\n\n  // Initialize the front-chain using the first three circles a, b and c.\n  a = new Node(a), b = new Node(b), c = new Node(c);\n  a.next = c.previous = b;\n  b.next = a.previous = c;\n  c.next = b.previous = a;\n\n  // Attempt to place each remaining circle…\n  pack: for (i = 3; i < n; ++i) {\n    place(a._, b._, c = circles[i]), c = new Node(c);\n\n    // Find the closest intersecting circle on the front-chain, if any.\n    // “Closeness” is determined by linear distance along the front-chain.\n    // “Ahead” or “behind” is likewise determined by linear distance.\n    j = b.next, k = a.previous, sj = b._.r, sk = a._.r;\n    do {\n      if (sj <= sk) {\n        if (intersects(j._, c._)) {\n          b = j, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sj += j._.r, j = j.next;\n      } else {\n        if (intersects(k._, c._)) {\n          a = k, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sk += k._.r, k = k.previous;\n      }\n    } while (j !== k.next);\n\n    // Success! Insert the new circle c between a and b.\n    c.previous = a, c.next = b, a.next = b.previous = b = c;\n\n    // Compute the new closest circle pair to the centroid.\n    aa = score(a);\n    while ((c = c.next) !== b) {\n      if ((ca = score(c)) < aa) {\n        a = c, aa = ca;\n      }\n    }\n    b = a.next;\n  }\n\n  // Compute the enclosing circle of the front chain.\n  a = [b._], c = b; while ((c = c.next) !== b) a.push(c._); c = enclose(a);\n\n  // Translate the circles to put the enclosing circle around the origin.\n  for (i = 0; i < n; ++i) a = circles[i], a.x -= c.x, a.y -= c.y;\n\n  return c.r;\n}\n\nexport default function(circles) {\n  packEnclose(circles);\n  return circles;\n}\n","export function optional(f) {\n  return f == null ? null : required(f);\n}\n\nexport function required(f) {\n  if (typeof f !== \"function\") throw new Error;\n  return f;\n}\n","export function constantZero() {\n  return 0;\n}\n\nexport default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {packEnclose} from \"./siblings\";\nimport {optional} from \"../accessors\";\nimport constant, {constantZero} from \"../constant\";\n\nfunction defaultRadius(d) {\n  return Math.sqrt(d.value);\n}\n\nexport default function() {\n  var radius = null,\n      dx = 1,\n      dy = 1,\n      padding = constantZero;\n\n  function pack(root) {\n    root.x = dx / 2, root.y = dy / 2;\n    if (radius) {\n      root.eachBefore(radiusLeaf(radius))\n          .eachAfter(packChildren(padding, 0.5))\n          .eachBefore(translateChild(1));\n    } else {\n      root.eachBefore(radiusLeaf(defaultRadius))\n          .eachAfter(packChildren(constantZero, 1))\n          .eachAfter(packChildren(padding, root.r / Math.min(dx, dy)))\n          .eachBefore(translateChild(Math.min(dx, dy) / (2 * root.r)));\n    }\n    return root;\n  }\n\n  pack.radius = function(x) {\n    return arguments.length ? (radius = optional(x), pack) : radius;\n  };\n\n  pack.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], pack) : [dx, dy];\n  };\n\n  pack.padding = function(x) {\n    return arguments.length ? (padding = typeof x === \"function\" ? x : constant(+x), pack) : padding;\n  };\n\n  return pack;\n}\n\nfunction radiusLeaf(radius) {\n  return function(node) {\n    if (!node.children) {\n      node.r = Math.max(0, +radius(node) || 0);\n    }\n  };\n}\n\nfunction packChildren(padding, k) {\n  return function(node) {\n    if (children = node.children) {\n      var children,\n          i,\n          n = children.length,\n          r = padding(node) * k || 0,\n          e;\n\n      if (r) for (i = 0; i < n; ++i) children[i].r += r;\n      e = packEnclose(children);\n      if (r) for (i = 0; i < n; ++i) children[i].r -= r;\n      node.r = e + r;\n    }\n  };\n}\n\nfunction translateChild(k) {\n  return function(node) {\n    var parent = node.parent;\n    node.r *= k;\n    if (parent) {\n      node.x = parent.x + k * node.x;\n      node.y = parent.y + k * node.y;\n    }\n  };\n}\n","export default function(node) {\n  node.x0 = Math.round(node.x0);\n  node.y0 = Math.round(node.y0);\n  node.x1 = Math.round(node.x1);\n  node.y1 = Math.round(node.y1);\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (x1 - x0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.y0 = y0, node.y1 = y1;\n    node.x0 = x0, node.x1 = x0 += node.value * k;\n  }\n}\n","import {Node} from \"./hierarchy/index\";\n\nfunction defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\n// function radialSeparation(a, b) {\n//   return (a.parent === b.parent ? 1 : 2) / a.depth;\n// }\n\n// This function is used to traverse the left contour of a subtree (or\n// subforest). It returns the successor of v on this contour. This successor is\n// either given by the leftmost child of v or by the thread of v. The function\n// returns null if and only if v is on the highest level of its subtree.\nfunction nextLeft(v) {\n  var children = v.children;\n  return children ? children[0] : v.t;\n}\n\n// This function works analogously to nextLeft.\nfunction nextRight(v) {\n  var children = v.children;\n  return children ? children[children.length - 1] : v.t;\n}\n\n// Shifts the current subtree rooted at w+. This is done by increasing\n// prelim(w+) and mod(w+) by shift.\nfunction moveSubtree(wm, wp, shift) {\n  var change = shift / (wp.i - wm.i);\n  wp.c -= change;\n  wp.s += shift;\n  wm.c += change;\n  wp.z += shift;\n  wp.m += shift;\n}\n\n// All other shifts, applied to the smaller subtrees between w- and w+, are\n// performed by this function. To prepare the shifts, we have to adjust\n// change(w+), shift(w+), and change(w-).\nfunction executeShifts(v) {\n  var shift = 0,\n      change = 0,\n      children = v.children,\n      i = children.length,\n      w;\n  while (--i >= 0) {\n    w = children[i];\n    w.z += shift;\n    w.m += shift;\n    shift += w.s + (change += w.c);\n  }\n}\n\n// If vi-’s ancestor is a sibling of v, returns vi-’s ancestor. Otherwise,\n// returns the specified (default) ancestor.\nfunction nextAncestor(vim, v, ancestor) {\n  return vim.a.parent === v.parent ? vim.a : ancestor;\n}\n\nfunction TreeNode(node, i) {\n  this._ = node;\n  this.parent = null;\n  this.children = null;\n  this.A = null; // default ancestor\n  this.a = this; // ancestor\n  this.z = 0; // prelim\n  this.m = 0; // mod\n  this.c = 0; // change\n  this.s = 0; // shift\n  this.t = null; // thread\n  this.i = i; // number\n}\n\nTreeNode.prototype = Object.create(Node.prototype);\n\nfunction treeRoot(root) {\n  var tree = new TreeNode(root, 0),\n      node,\n      nodes = [tree],\n      child,\n      children,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if (children = node._.children) {\n      node.children = new Array(n = children.length);\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = node.children[i] = new TreeNode(children[i], i));\n        child.parent = node;\n      }\n    }\n  }\n\n  (tree.parent = new TreeNode(null, 0)).children = [tree];\n  return tree;\n}\n\n// Node-link tree diagram using the Reingold-Tilford \"tidy\" algorithm\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = null;\n\n  function tree(root) {\n    var t = treeRoot(root);\n\n    // Compute the layout using Buchheim et al.’s algorithm.\n    t.eachAfter(firstWalk), t.parent.m = -t.z;\n    t.eachBefore(secondWalk);\n\n    // If a fixed node size is specified, scale x and y.\n    if (nodeSize) root.eachBefore(sizeNode);\n\n    // If a fixed tree size is specified, scale x and y based on the extent.\n    // Compute the left-most, right-most, and depth-most nodes for extents.\n    else {\n      var left = root,\n          right = root,\n          bottom = root;\n      root.eachBefore(function(node) {\n        if (node.x < left.x) left = node;\n        if (node.x > right.x) right = node;\n        if (node.depth > bottom.depth) bottom = node;\n      });\n      var s = left === right ? 1 : separation(left, right) / 2,\n          tx = s - left.x,\n          kx = dx / (right.x + s + tx),\n          ky = dy / (bottom.depth || 1);\n      root.eachBefore(function(node) {\n        node.x = (node.x + tx) * kx;\n        node.y = node.depth * ky;\n      });\n    }\n\n    return root;\n  }\n\n  // Computes a preliminary x-coordinate for v. Before that, FIRST WALK is\n  // applied recursively to the children of v, as well as the function\n  // APPORTION. After spacing out the children by calling EXECUTE SHIFTS, the\n  // node v is placed to the midpoint of its outermost children.\n  function firstWalk(v) {\n    var children = v.children,\n        siblings = v.parent.children,\n        w = v.i ? siblings[v.i - 1] : null;\n    if (children) {\n      executeShifts(v);\n      var midpoint = (children[0].z + children[children.length - 1].z) / 2;\n      if (w) {\n        v.z = w.z + separation(v._, w._);\n        v.m = v.z - midpoint;\n      } else {\n        v.z = midpoint;\n      }\n    } else if (w) {\n      v.z = w.z + separation(v._, w._);\n    }\n    v.parent.A = apportion(v, w, v.parent.A || siblings[0]);\n  }\n\n  // Computes all real x-coordinates by summing up the modifiers recursively.\n  function secondWalk(v) {\n    v._.x = v.z + v.parent.m;\n    v.m += v.parent.m;\n  }\n\n  // The core of the algorithm. Here, a new subtree is combined with the\n  // previous subtrees. Threads are used to traverse the inside and outside\n  // contours of the left and right subtree up to the highest common level. The\n  // vertices used for the traversals are vi+, vi-, vo-, and vo+, where the\n  // superscript o means outside and i means inside, the subscript - means left\n  // subtree and + means right subtree. For summing up the modifiers along the\n  // contour, we use respective variables si+, si-, so-, and so+. Whenever two\n  // nodes of the inside contours conflict, we compute the left one of the\n  // greatest uncommon ancestors using the function ANCESTOR and call MOVE\n  // SUBTREE to shift the subtree and prepare the shifts of smaller subtrees.\n  // Finally, we add a new thread (if necessary).\n  function apportion(v, w, ancestor) {\n    if (w) {\n      var vip = v,\n          vop = v,\n          vim = w,\n          vom = vip.parent.children[0],\n          sip = vip.m,\n          sop = vop.m,\n          sim = vim.m,\n          som = vom.m,\n          shift;\n      while (vim = nextRight(vim), vip = nextLeft(vip), vim && vip) {\n        vom = nextLeft(vom);\n        vop = nextRight(vop);\n        vop.a = v;\n        shift = vim.z + sim - vip.z - sip + separation(vim._, vip._);\n        if (shift > 0) {\n          moveSubtree(nextAncestor(vim, v, ancestor), v, shift);\n          sip += shift;\n          sop += shift;\n        }\n        sim += vim.m;\n        sip += vip.m;\n        som += vom.m;\n        sop += vop.m;\n      }\n      if (vim && !nextRight(vop)) {\n        vop.t = vim;\n        vop.m += sim - sop;\n      }\n      if (vip && !nextLeft(vom)) {\n        vom.t = vip;\n        vom.m += sip - som;\n        ancestor = v;\n      }\n    }\n    return ancestor;\n  }\n\n  function sizeNode(node) {\n    node.x *= dx;\n    node.y = node.depth * dy;\n  }\n\n  tree.separation = function(x) {\n    return arguments.length ? (separation = x, tree) : separation;\n  };\n\n  tree.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], tree) : (nodeSize ? null : [dx, dy]);\n  };\n\n  tree.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], tree) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return tree;\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (y1 - y0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.x0 = x0, node.x1 = x1;\n    node.y0 = y0, node.y1 = y0 += node.value * k;\n  }\n}\n","import treemapDice from \"./dice\";\nimport treemapSlice from \"./slice\";\n\nexport var phi = (1 + Math.sqrt(5)) / 2;\n\nexport function squarifyRatio(ratio, parent, x0, y0, x1, y1) {\n  var rows = [],\n      nodes = parent.children,\n      row,\n      nodeValue,\n      i0 = 0,\n      i1 = 0,\n      n = nodes.length,\n      dx, dy,\n      value = parent.value,\n      sumValue,\n      minValue,\n      maxValue,\n      newRatio,\n      minRatio,\n      alpha,\n      beta;\n\n  while (i0 < n) {\n    dx = x1 - x0, dy = y1 - y0;\n\n    // Find the next non-empty node.\n    do sumValue = nodes[i1++].value; while (!sumValue && i1 < n);\n    minValue = maxValue = sumValue;\n    alpha = Math.max(dy / dx, dx / dy) / (value * ratio);\n    beta = sumValue * sumValue * alpha;\n    minRatio = Math.max(maxValue / beta, beta / minValue);\n\n    // Keep adding nodes while the aspect ratio maintains or improves.\n    for (; i1 < n; ++i1) {\n      sumValue += nodeValue = nodes[i1].value;\n      if (nodeValue < minValue) minValue = nodeValue;\n      if (nodeValue > maxValue) maxValue = nodeValue;\n      beta = sumValue * sumValue * alpha;\n      newRatio = Math.max(maxValue / beta, beta / minValue);\n      if (newRatio > minRatio) { sumValue -= nodeValue; break; }\n      minRatio = newRatio;\n    }\n\n    // Position and record the row orientation.\n    rows.push(row = {value: sumValue, dice: dx < dy, children: nodes.slice(i0, i1)});\n    if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += dy * sumValue / value : y1);\n    else treemapSlice(row, x0, y0, value ? x0 += dx * sumValue / value : x1, y1);\n    value -= sumValue, i0 = i1;\n  }\n\n  return rows;\n}\n\nexport default (function custom(ratio) {\n\n  function squarify(parent, x0, y0, x1, y1) {\n    squarifyRatio(ratio, parent, x0, y0, x1, y1);\n  }\n\n  squarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return squarify;\n})(phi);\n","import roundNode from \"./round\";\nimport squarify from \"./squarify\";\nimport {required} from \"../accessors\";\nimport constant, {constantZero} from \"../constant\";\n\nexport default function() {\n  var tile = squarify,\n      round = false,\n      dx = 1,\n      dy = 1,\n      paddingStack = [0],\n      paddingInner = constantZero,\n      paddingTop = constantZero,\n      paddingRight = constantZero,\n      paddingBottom = constantZero,\n      paddingLeft = constantZero;\n\n  function treemap(root) {\n    root.x0 =\n    root.y0 = 0;\n    root.x1 = dx;\n    root.y1 = dy;\n    root.eachBefore(positionNode);\n    paddingStack = [0];\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(node) {\n    var p = paddingStack[node.depth],\n        x0 = node.x0 + p,\n        y0 = node.y0 + p,\n        x1 = node.x1 - p,\n        y1 = node.y1 - p;\n    if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n    if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n    node.x0 = x0;\n    node.y0 = y0;\n    node.x1 = x1;\n    node.y1 = y1;\n    if (node.children) {\n      p = paddingStack[node.depth + 1] = paddingInner(node) / 2;\n      x0 += paddingLeft(node) - p;\n      y0 += paddingTop(node) - p;\n      x1 -= paddingRight(node) - p;\n      y1 -= paddingBottom(node) - p;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      tile(node, x0, y0, x1, y1);\n    }\n  }\n\n  treemap.round = function(x) {\n    return arguments.length ? (round = !!x, treemap) : round;\n  };\n\n  treemap.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], treemap) : [dx, dy];\n  };\n\n  treemap.tile = function(x) {\n    return arguments.length ? (tile = required(x), treemap) : tile;\n  };\n\n  treemap.padding = function(x) {\n    return arguments.length ? treemap.paddingInner(x).paddingOuter(x) : treemap.paddingInner();\n  };\n\n  treemap.paddingInner = function(x) {\n    return arguments.length ? (paddingInner = typeof x === \"function\" ? x : constant(+x), treemap) : paddingInner;\n  };\n\n  treemap.paddingOuter = function(x) {\n    return arguments.length ? treemap.paddingTop(x).paddingRight(x).paddingBottom(x).paddingLeft(x) : treemap.paddingTop();\n  };\n\n  treemap.paddingTop = function(x) {\n    return arguments.length ? (paddingTop = typeof x === \"function\" ? x : constant(+x), treemap) : paddingTop;\n  };\n\n  treemap.paddingRight = function(x) {\n    return arguments.length ? (paddingRight = typeof x === \"function\" ? x : constant(+x), treemap) : paddingRight;\n  };\n\n  treemap.paddingBottom = function(x) {\n    return arguments.length ? (paddingBottom = typeof x === \"function\" ? x : constant(+x), treemap) : paddingBottom;\n  };\n\n  treemap.paddingLeft = function(x) {\n    return arguments.length ? (paddingLeft = typeof x === \"function\" ? x : constant(+x), treemap) : paddingLeft;\n  };\n\n  return treemap;\n}\n","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n/**\n    @external Viz\n    @see https://github.com/d3plus/d3plus-viz#Viz\n*/\nimport { nest } from \"d3-collection\";\nimport { hierarchy, pack } from \"d3-hierarchy\";\nimport { accessor, assign, configPrep, constant, elem } from \"d3plus-common\";\nimport { Circle } from \"d3plus-shape\";\nimport { Viz } from \"d3plus-viz\";\n\nvar recursionCircles = function recursionCircles(d) {\n  var arr = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n  if (d.values) {\n    d.values.forEach(function (h) {\n      arr.push(h);\n      recursionCircles(h, arr);\n    });\n  } else {\n    arr.push(d);\n  }\n\n  return arr;\n};\n/**\n    @class Pack\n    @extends Viz\n    @desc Uses the [d3 pack layout](https://github.com/d3/d3-hierarchy#pack) to creates Circle Packing chart based on an array of data.\n*/\n\n\nvar Pack =\n/*#__PURE__*/\nfunction (_Viz) {\n  _inherits(Pack, _Viz);\n\n  /**\n      @memberof Pack\n      @desc Invoked when creating a new class instance, and sets any default parameters.\n      @private\n  */\n  function Pack() {\n    var _this;\n\n    _classCallCheck(this, Pack);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Pack).call(this));\n    _this._layoutPadding = 1;\n\n    _this._on.mouseenter = function () {};\n\n    var defaultMouseMoveLegend = _this._on[\"mousemove.legend\"];\n\n    _this._on[\"mousemove.legend\"] = function (d, i) {\n      defaultMouseMoveLegend(d, i);\n\n      var ids = _this._ids(d, i);\n\n      var hoverData = recursionCircles(d);\n\n      _this.hover(function (h) {\n        var hover = Object.keys(h).filter(function (key) {\n          return key !== \"value\";\n        }).every(function (key) {\n          return d[key] && d[key].includes(h[key]);\n        });\n        if (hover) hoverData.push(h);else if (ids.includes(h.key)) hoverData.push.apply(hoverData, _toConsumableArray(recursionCircles(h, [h])));\n        return hoverData.includes(h);\n      });\n    };\n\n    var defaultMouseMoveShape = _this._on[\"mousemove.shape\"];\n\n    _this._on[\"mousemove.shape\"] = function (d, i) {\n      if (d.__d3plusTooltip__) defaultMouseMoveShape(d, i);\n\n      _this.hover(function (h) {\n        return recursionCircles(d, [d]).includes(h);\n      });\n    };\n\n    _this._pack = pack();\n    _this._packOpacity = constant(0.25);\n    _this._shape = constant(\"Circle\");\n    _this._shapeConfig = assign(_this._shapeConfig, {\n      Circle: {\n        label: function label(d) {\n          return d.parent && !d.children ? d.id : false;\n        },\n        labelConfig: {\n          fontResize: true\n        },\n        opacity: function opacity(d) {\n          return d.__d3plusOpacity__;\n        }\n      }\n    });\n\n    _this._sort = function (a, b) {\n      return b.value - a.value;\n    };\n\n    _this._sum = accessor(\"value\");\n    return _this;\n  }\n  /**\n      Extends the draw behavior of the abstract Viz class.\n      @private\n  */\n\n\n  _createClass(Pack, [{\n    key: \"_draw\",\n    value: function _draw(callback) {\n      var _this2 = this;\n\n      _get(_getPrototypeOf(Pack.prototype), \"_draw\", this).call(this, callback);\n\n      var height = this._height - this._margin.top - this._margin.bottom,\n          width = this._width - this._margin.left - this._margin.right;\n      var diameter = Math.min(height, width);\n      var transform = \"translate(\".concat((width - diameter) / 2, \", \").concat((height - diameter) / 2, \")\");\n      var nestedData = nest();\n\n      for (var i = 0; i <= this._drawDepth; i++) {\n        nestedData.key(this._groupBy[i]);\n      }\n\n      nestedData = nestedData.entries(this._filteredData);\n\n      var packData = this._pack.padding(this._layoutPadding).size([diameter, diameter])(hierarchy({\n        key: nestedData.key,\n        values: nestedData\n      }, function (d) {\n        return d.values;\n      }).sum(this._sum).sort(this._sort)).descendants();\n\n      packData.forEach(function (d, i) {\n        d.__d3plus__ = true;\n        d.i = i;\n        d.id = d.parent ? d.parent.data.key : null;\n        d.data.__d3plusOpacity__ = d.height ? _this2._packOpacity(d.data, i) : 1;\n        d.data.__d3plusTooltip__ = !d.height ? true : false;\n      });\n\n      this._shapes.push(new Circle().data(packData).select(elem(\"g.d3plus-Pack\", {\n        parent: this._select,\n        enter: {\n          transform: transform\n        },\n        update: {\n          transform: transform\n        }\n      }).node()).config(configPrep.bind(this)(this._shapeConfig, \"shape\", \"Circle\")).render());\n\n      return this;\n    }\n    /**\n        @memberof Pack\n        @desc If *value* is specified, sets the hover method to the specified function and returns the current class instance.\n        @param {Function} [*value*]\n        @chainable\n     */\n\n  }, {\n    key: \"hover\",\n    value: function hover(_) {\n      this._hover = _;\n\n      this._shapes.forEach(function (s) {\n        return s.hover(_);\n      });\n\n      if (this._legend) this._legendClass.hover(_);\n      return this;\n    }\n    /**\n        @memberof Pack\n        @desc If *value* is specified, sets the opacity accessor to the specified function or number and returns the current class instance. If *value* is not specified, returns the current pack opacity accessor.\n        @param {Function|Number} [*value*]\n    */\n\n  }, {\n    key: \"layoutPadding\",\n    value: function layoutPadding(_) {\n      return arguments.length ? (this._layoutPadding = _, this) : this._layoutPadding;\n    }\n    /**\n        @memberof Pack\n        @desc If *value* is specified, sets the padding accessor to the specified function or number and returns the current class instance. If *value* is not specified, returns the current pack opacity accessor.\n        @param {Function|Number} [*value*]\n    */\n\n  }, {\n    key: \"packOpacity\",\n    value: function packOpacity(_) {\n      return arguments.length ? (this._packOpacity = typeof _ === \"function\" ? _ : constant(_), this) : this._packOpacity;\n    }\n    /**\n        @memberof Pack\n        @desc If *comparator* is specified, sets the sort order for the pack using the specified comparator function. If *comparator* is not specified, returns the current group sort order, which defaults to descending order by the associated input data's numeric value attribute.\n        @param {Array} [*comparator*]\n        @example\n    function comparator(a, b) {\n    return b.value - a.value;\n    }\n    */\n\n  }, {\n    key: \"sort\",\n    value: function sort(_) {\n      return arguments.length ? (this._sort = _, this) : this._sort;\n    }\n    /**\n        @memberof Pack\n        @desc If *value* is specified, sets the sum accessor to the specified function or number and returns the current class instance. If *value* is not specified, returns the current sum accessor.\n        @param {Function|Number} [*value*]\n        @example\n    function sum(d) {\n    return d.sum;\n    }\n    */\n\n  }, {\n    key: \"sum\",\n    value: function sum(_) {\n      return arguments.length ? (this._sum = typeof _ === \"function\" ? _ : accessor(_), this) : this._sum;\n    }\n  }]);\n\n  return Pack;\n}(Viz);\n\nexport { Pack as default };","import { nest } from \"d3-collection\";\n/**\n    @function nest\n    @summary Extends the base behavior of d3.nest to allow for multiple depth levels.\n    @param {Array} *data* The data array to be nested.\n    @param {Array} *keys* An array of key accessors that signify each nest level.\n*/\n\nexport default function (data, keys) {\n  if (!(keys instanceof Array)) keys = [keys];\n  var dataNest = nest();\n\n  for (var i = 0; i < keys.length; i++) {\n    dataNest.key(keys[i]);\n  }\n\n  var nestedData = dataNest.entries(data);\n  return bubble(nestedData);\n}\n/**\n    Bubbles up values that do not nest to the furthest key.\n    @param {Array} *values* The \"values\" of a nest object.\n    @private\n*/\n\nfunction bubble(values) {\n  return values.map(function (d) {\n    if (d.key && d.values) {\n      if (d.values[0].key === \"undefined\") return d.values[0].values[0];else d.values = bubble(d.values);\n    }\n\n    return d;\n  });\n}","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport { extent, min, max } from \"d3-array\";\nimport { hierarchy, tree } from \"d3-hierarchy\";\nimport { scaleLinear } from \"d3-scale\";\nimport { assign, configPrep, constant, elem, merge } from \"d3plus-common\";\nimport { Circle, Path } from \"d3plus-shape\";\nimport { Viz } from \"d3plus-viz\";\nimport { default as nest } from \"./nest\";\n/**\n    @class Tree\n    @extends Viz\n    @desc Uses d3's [tree layout](https://github.com/d3/d3-hierarchy#tree) to create a tidy tree chart based on an array of data.\n*/\n\nvar Tree =\n/*#__PURE__*/\nfunction (_Viz) {\n  _inherits(Tree, _Viz);\n\n  /**\n      @memberof Tree\n      @desc Invoked when creating a new class instance, and sets any default parameters.\n      @private\n  */\n  function Tree() {\n    var _this;\n\n    _classCallCheck(this, Tree);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Tree).call(this));\n    _this._orient = \"vertical\";\n\n    _this._separation = function (a, b) {\n      return a.parent === b.parent ? 1 : 2;\n    };\n\n    _this._shape = constant(\"Circle\");\n    _this._shapeConfig = assign(_this._shapeConfig, {\n      ariaLabel: function ariaLabel(d, i) {\n        return _this._treeData ? \"\".concat(_this._treeData[i].depth, \". \").concat(_this._drawLabel(d, i), \".\") : \"\";\n      },\n      labelConfig: {\n        fontColor: \"#444\"\n      },\n      Path: {\n        fill: \"none\",\n        stroke: \"#ccc\",\n        strokeWidth: 1\n      },\n      r: constant(5),\n      width: constant(10),\n      height: constant(10)\n    });\n    _this._tree = tree();\n    return _this;\n  }\n  /**\n      Extends the draw behavior of the abstract Viz class.\n      @private\n  */\n\n\n  _createClass(Tree, [{\n    key: \"_draw\",\n    value: function _draw(callback) {\n      var _this2 = this;\n\n      _get(_getPrototypeOf(Tree.prototype), \"_draw\", this).call(this, callback);\n\n      var height = this._orient === \"vertical\" ? this._height - this._margin.top - this._margin.bottom : this._width - this._margin.left - this._margin.right,\n          left = this._orient === \"vertical\" ? \"left\" : \"top\",\n          that = this,\n          transform = \"translate(\".concat(this._margin.left, \", \").concat(this._margin.top, \")\"),\n          width = this._orient === \"horizontal\" ? this._height - this._margin.top - this._margin.bottom : this._width - this._margin.left - this._margin.right;\n\n      var treeData = this._treeData = this._tree.separation(this._separation).size([width, height])(hierarchy({\n        key: \"root\",\n        values: nest(this._filteredData, this._groupBy.slice(0, this._drawDepth + 1))\n      }, function (d) {\n        return d.key && d.values ? d.values : null;\n      }).sort(this._sort)).descendants().filter(function (d) {\n        return d.depth <= _this2._groupBy.length && d.parent;\n      });\n      /**\n          Merges the values of a given nest branch.\n          @private\n      */\n\n\n      function flattenBranchData(branch) {\n        return merge(branch.values.map(function (l) {\n          return l.key && l.values ? flattenBranchData(l) : l;\n        }), that._aggs);\n      }\n\n      treeData.forEach(function (d, i) {\n        if (d.data.key && d.data.values) d.data = flattenBranchData(d.data);\n        d.__d3plus__ = true;\n        d.i = i;\n      });\n      var r = this._shapeConfig.r;\n      if (typeof r !== \"function\") r = constant(r);\n      var rBufferRoot = max(treeData, function (d) {\n        return d.depth === 1 ? r(d.data, d.i) : 0;\n      });\n      var rBufferEnd = max(treeData, function (d) {\n        return d.children ? 0 : r(d.data, d.i);\n      });\n      var yExtent = extent(treeData, function (d) {\n        return d.y;\n      });\n      this._labelHeight = min([this._orient === \"vertical\" ? 50 : 100, (yExtent[1] - rBufferRoot - rBufferEnd) / (this._groupBy.length + 1)]);\n      this._labelWidths = nest(treeData, function (d) {\n        return d.depth;\n      }).map(function (d) {\n        return d.values.reduce(function (num, v, i) {\n          var next = i < d.values.length - 1 ? d.values[i + 1].x : width + _this2._margin[left],\n              prev = i ? d.values[i - 1].x : _this2._margin[left];\n          return min([num, next - v.x, v.x - prev]);\n        }, width);\n      });\n      var yScale = scaleLinear().domain(yExtent).range([rBufferRoot + this._labelHeight, height - rBufferEnd - this._labelHeight]);\n      treeData.forEach(function (d) {\n        var val = yScale(d.y);\n\n        if (_this2._orient === \"horizontal\") {\n          d.y = d.x;\n          d.x = val;\n        } else d.y = val;\n      });\n      var elemObject = {\n        parent: this._select,\n        enter: {\n          transform: transform\n        },\n        update: {\n          transform: transform\n        }\n      };\n\n      this._shapes.push(new Path().data(treeData.filter(function (d) {\n        return d.depth > 1;\n      })).select(elem(\"g.d3plus-Tree-Links\", elemObject).node()).config(configPrep.bind(this)(this._shapeConfig, \"shape\", \"Path\")).config({\n        d: function d(_d) {\n          var r = _this2._shapeConfig.r;\n          if (typeof r === \"function\") r = r(_d.data, _d.i);\n          var px = _d.parent.x - _d.x + (_this2._orient === \"vertical\" ? 0 : r),\n              py = _d.parent.y - _d.y + (_this2._orient === \"vertical\" ? r : 0),\n              x = _this2._orient === \"vertical\" ? 0 : -r,\n              y = _this2._orient === \"vertical\" ? -r : 0;\n          return _this2._orient === \"vertical\" ? \"M\".concat(x, \",\").concat(y, \"C\").concat(x, \",\").concat((y + py) / 2, \" \").concat(px, \",\").concat((y + py) / 2, \" \").concat(px, \",\").concat(py) : \"M\".concat(x, \",\").concat(y, \"C\").concat((x + px) / 2, \",\").concat(y, \" \").concat((x + px) / 2, \",\").concat(py, \" \").concat(px, \",\").concat(py);\n        },\n        id: function id(d, i) {\n          return _this2._ids(d, i).join(\"-\");\n        }\n      }).render());\n\n      this._shapes.push(new Circle().data(treeData).select(elem(\"g.d3plus-Tree-Shapes\", elemObject).node()).config(configPrep.bind(this)(this._shapeConfig, \"shape\", \"Circle\")).config({\n        id: function id(d, i) {\n          return _this2._ids(d, i).join(\"-\");\n        },\n        label: function label(d, i) {\n          if (_this2._label) return _this2._label(d.data, i);\n\n          var ids = _this2._ids(d, i).slice(0, d.depth);\n\n          return ids[ids.length - 1];\n        },\n        labelConfig: {\n          textAnchor: function textAnchor(d) {\n            return _this2._orient === \"vertical\" ? \"middle\" : d.data.children && d.data.depth !== _this2._groupBy.length ? \"end\" : \"start\";\n          },\n          verticalAlign: function verticalAlign(d) {\n            return _this2._orient === \"vertical\" ? d.data.depth === 1 ? \"bottom\" : \"top\" : \"middle\";\n          }\n        },\n        hitArea: function hitArea(d, i, s) {\n          var h = _this2._labelHeight,\n              w = _this2._labelWidths[d.depth - 1];\n          return {\n            width: _this2._orient === \"vertical\" ? w : s.r * 2 + w,\n            height: _this2._orient === \"horizontal\" ? h : s.r * 2 + h,\n            x: _this2._orient === \"vertical\" ? -w / 2 : d.children && d.depth !== _this2._groupBy.length ? -(s.r + w) : -s.r,\n            y: _this2._orient === \"horizontal\" ? -h / 2 : d.children && d.depth !== _this2._groupBy.length ? -(s.r + _this2._labelHeight) : -s.r\n          };\n        },\n        labelBounds: function labelBounds(d, i, s) {\n          var _ref;\n\n          var h = _this2._labelHeight,\n              height = _this2._orient === \"vertical\" ? \"height\" : \"width\",\n              w = _this2._labelWidths[d.depth - 1],\n              width = _this2._orient === \"vertical\" ? \"width\" : \"height\",\n              x = _this2._orient === \"vertical\" ? \"x\" : \"y\",\n              y = _this2._orient === \"vertical\" ? \"y\" : \"x\";\n          return _ref = {}, _defineProperty(_ref, width, w), _defineProperty(_ref, height, h), _defineProperty(_ref, x, -w / 2), _defineProperty(_ref, y, d.children && d.depth !== _this2._groupBy.length ? -(s.r + h) : s.r), _ref;\n        }\n      }).render());\n\n      return this;\n    }\n    /**\n        @memberof Tree\n        @desc If *value* is specified, sets the orientation to the specified value. If *value* is not specified, returns the current orientation.\n        @param {String} [*value* = \"vertical\"] Accepts either \"vertical\" or \"horizontal\".\n    */\n\n  }, {\n    key: \"orient\",\n    value: function orient(_) {\n      return arguments.length ? (this._orient = _, this) : this._orient;\n    }\n    /**\n        @memberof Tree\n        @desc If *value* is specified, sets the separation accessor to the specified function. If *value* is not specified, returns the current separation accessor.\n    From the [d3-hierarchy documentation](https://github.com/d3/d3-hierarchy#tree_separation):\n    > The separation accessor is used to separate neighboring nodes. The separation function is passed two nodes a and b, and must return the desired separation. The nodes are typically siblings, though the nodes may be more distantly related if the layout decides to place such nodes adjacent.\n        @param {Function} [*value*]\n        @example\n    function separation(a, b) {\n    return a.parent === b.parent ? 1 : 2;\n    }\n    */\n\n  }, {\n    key: \"separation\",\n    value: function separation(_) {\n      return arguments.length ? (this._separation = _, this) : this._separation;\n    }\n  }]);\n\n  return Tree;\n}(Viz);\n\nexport { Tree as default };","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport { sum } from \"d3-array\";\nimport { nest } from \"d3-collection\";\nimport { hierarchy, treemap, treemapSquarify } from \"d3-hierarchy\";\nimport { accessor, assign, configPrep, constant, elem, merge } from \"d3plus-common\";\nimport { formatAbbreviate } from \"d3plus-format\";\nimport { Rect } from \"d3plus-shape\";\nimport { Viz } from \"d3plus-viz\";\n/**\r\n    @class Treemap\r\n    @extends Viz\r\n    @desc Uses the [d3 treemap layout](https://github.com/mbostock/d3/wiki/Treemap-Layout) to creates SVG rectangles based on an array of data. See [this example](https://d3plus.org/examples/d3plus-hierarchy/getting-started/) for help getting started using the treemap generator.\r\n*/\n\nvar Treemap =\n/*#__PURE__*/\nfunction (_Viz) {\n  _inherits(Treemap, _Viz);\n\n  /**\r\n    @memberof Treemap\r\n    @desc Invoked when creating a new class instance, and sets any default parameters.\r\n    @private\r\n  */\n  function Treemap() {\n    var _this;\n\n    _classCallCheck(this, Treemap);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Treemap).call(this));\n    _this._layoutPadding = 1;\n\n    _this._legendSort = function (a, b) {\n      return _this._sum(b) - _this._sum(a);\n    };\n\n    _this._legendTooltip = assign({}, _this._legendTooltip, {\n      tbody: []\n    });\n    _this._shapeConfig = assign({}, _this._shapeConfig, {\n      ariaLabel: function ariaLabel(d, i) {\n        var rank = _this._rankData ? \"\".concat(_this._rankData.indexOf(d) + 1, \". \") : \"\";\n        return \"\".concat(rank).concat(_this._drawLabel(d, i), \", \").concat(_this._sum(d, i), \".\");\n      },\n      labelConfig: {\n        fontMax: 20,\n        fontMin: 8,\n        fontResize: true,\n        padding: 5\n      }\n    });\n\n    _this._sort = function (a, b) {\n      var aggA = isAggregated(a);\n      var aggB = isAggregated(b);\n      return aggA && !aggB ? 1 : !aggA && aggB ? -1 : b.value - a.value;\n    };\n\n    _this._sum = accessor(\"value\");\n    _this._thresholdKey = _this._sum;\n    _this._tile = treemapSquarify;\n    _this._tooltipConfig = assign({}, _this._tooltipConfig, {\n      tbody: [[function () {\n        return _this._translate(\"Share\");\n      }, function (d, i, x) {\n        return \"\".concat(formatAbbreviate(x.share * 100, _this._locale), \"%\");\n      }]]\n    });\n    _this._treemap = treemap().round(true);\n\n    var isAggregated = function isAggregated(leaf) {\n      return leaf.children && leaf.children.length === 1 && leaf.children[0].data._isAggregation;\n    };\n\n    return _this;\n  }\n  /**\r\n      @memberof Treemap\r\n      @desc Extends the draw behavior of the abstract Viz class.\r\n      @private\r\n  */\n\n\n  _createClass(Treemap, [{\n    key: \"_draw\",\n    value: function _draw(callback) {\n      var _this2 = this;\n\n      _get(_getPrototypeOf(Treemap.prototype), \"_draw\", this).call(this, callback);\n\n      var nestedData = nest();\n\n      for (var i = 0; i <= this._drawDepth; i++) {\n        nestedData.key(this._groupBy[i]);\n      }\n\n      nestedData = nestedData.entries(this._filteredData);\n\n      var tmapData = this._treemap.padding(this._layoutPadding).size([this._width - this._margin.left - this._margin.right, this._height - this._margin.top - this._margin.bottom]).tile(this._tile)(hierarchy({\n        values: nestedData\n      }, function (d) {\n        return d.values;\n      }).sum(this._sum).sort(this._sort));\n\n      var shapeData = [],\n          that = this;\n      /**\r\n          @memberof Treemap\r\n          @desc Flattens and merges treemap data.\r\n          @private\r\n      */\n\n      function extractLayout(children) {\n        for (var _i = 0; _i < children.length; _i++) {\n          var node = children[_i];\n          if (node.depth <= that._drawDepth) extractLayout(node.children);else {\n            var index = node.data.values.length === 1 ? that._filteredData.indexOf(node.data.values[0]) : undefined;\n            node.__d3plus__ = true;\n            node.id = node.data.key;\n            node.i = index > -1 ? index : undefined;\n            node.data = merge(node.data.values);\n            node.x = node.x0 + (node.x1 - node.x0) / 2;\n            node.y = node.y0 + (node.y1 - node.y0) / 2;\n            shapeData.push(node);\n          }\n        }\n      }\n\n      if (tmapData.children) extractLayout(tmapData.children);\n      this._rankData = shapeData.sort(this._sort).map(function (d) {\n        return d.data;\n      });\n      var total = tmapData.value;\n      shapeData.forEach(function (d) {\n        d.share = _this2._sum(d.data, d.i) / total;\n      });\n      var transform = \"translate(\".concat(this._margin.left, \", \").concat(this._margin.top, \")\");\n      var rectConfig = configPrep.bind(this)(this._shapeConfig, \"shape\", \"Rect\");\n      var fontMin = rectConfig.labelConfig.fontMin;\n      var padding = rectConfig.labelConfig.padding;\n\n      this._shapes.push(new Rect().data(shapeData).label(function (d) {\n        return [_this2._drawLabel(d.data, d.i), \"\".concat(formatAbbreviate(d.share * 100, _this2._locale), \"%\")];\n      }).select(elem(\"g.d3plus-Treemap\", {\n        parent: this._select,\n        enter: {\n          transform: transform\n        },\n        update: {\n          transform: transform\n        }\n      }).node()).config({\n        height: function height(d) {\n          return d.y1 - d.y0;\n        },\n        labelBounds: function labelBounds(d, i, s) {\n          var h = s.height;\n          var sh = Math.min(50, (h - padding * 2) * 0.5);\n          if (sh < fontMin) sh = 0;\n          return [{\n            width: s.width,\n            height: h - sh,\n            x: -s.width / 2,\n            y: -h / 2\n          }, {\n            width: s.width,\n            height: sh + padding * 2,\n            x: -s.width / 2,\n            y: h / 2 - sh - padding * 2\n          }];\n        },\n        labelConfig: {\n          textAnchor: function textAnchor(d, i, x) {\n            var line,\n                parent = x;\n\n            while (typeof line === \"undefined\" && parent) {\n              if (typeof parent.l !== \"undefined\") line = parent.l;\n              parent = parent.__d3plusParent__;\n            }\n\n            return line ? \"middle\" : \"start\";\n          },\n          verticalAlign: function verticalAlign(d, i, x) {\n            var line,\n                parent = x;\n\n            while (typeof line === \"undefined\" && parent) {\n              if (typeof parent.l !== \"undefined\") line = parent.l;\n              parent = parent.__d3plusParent__;\n            }\n\n            return line ? \"bottom\" : \"top\";\n          }\n        },\n        width: function width(d) {\n          return d.x1 - d.x0;\n        }\n      }).config(rectConfig).render());\n\n      return this;\n    }\n    /**\r\n     * Applies the threshold algorithm for Treemaps.\r\n     * @param {Array} data The data to process.\r\n     */\n\n  }, {\n    key: \"_thresholdFunction\",\n    value: function _thresholdFunction(data, tree) {\n      var aggs = this._aggs;\n      var drawDepth = this._drawDepth;\n      var groupBy = this._groupBy;\n      var threshold = this._threshold;\n      var thresholdKey = this._thresholdKey;\n\n      if (threshold && thresholdKey) {\n        var finalDataset = data.slice();\n        var totalSum = sum(finalDataset, this._thresholdKey);\n        var n = tree.length;\n\n        while (n--) {\n          var branch = tree[n];\n          thresholdByDepth(finalDataset, totalSum, data, branch, 0);\n        }\n\n        return finalDataset;\n      }\n      /**\r\n       * @memberof Treemap\r\n       * @desc Explores the data tree recursively and merges elements under the indicated threshold.\r\n       * @param {object[]} finalDataset The array of data that will be returned after modifications.\r\n       * @param {number} totalSum The total sum of the values in the initial dataset.\r\n       * @param {object[]} currentDataset The current subset of the dataset to work on.\r\n       * @param {object} branch The branch of the dataset tree to explore.\r\n       * @param {number} depth The depth of the current branch.\r\n       * @private\r\n       */\n\n\n      function thresholdByDepth(finalDataset, totalSum, currentDataset, branch, depth) {\n        if (depth >= drawDepth) return;\n        var currentAccesor = groupBy[depth];\n        var nextDataset = currentDataset.filter(function (item) {\n          return currentAccesor(item) === branch.key;\n        });\n\n        if (depth + 1 === drawDepth) {\n          var removedItems = [];\n          var thresholdPercent = Math.min(1, Math.max(0, threshold(nextDataset)));\n          if (!isFinite(thresholdPercent) || isNaN(thresholdPercent)) return;\n          var thresholdValue = thresholdPercent * totalSum;\n          var _n = nextDataset.length;\n\n          while (_n--) {\n            var item = nextDataset[_n];\n\n            if (thresholdKey(item) < thresholdValue) {\n              var index = finalDataset.indexOf(item);\n              finalDataset.splice(index, 1);\n              removedItems.push(item);\n            }\n          }\n\n          if (removedItems.length > 0) {\n            var mergedItem = merge(removedItems, aggs);\n            mergedItem._isAggregation = true;\n            mergedItem._threshold = thresholdPercent;\n            finalDataset.push(mergedItem);\n          }\n        } else {\n          var leaves = branch.values;\n          var _n2 = leaves.length;\n\n          while (_n2--) {\n            thresholdByDepth(finalDataset, totalSum, nextDataset, leaves[_n2], depth + 1);\n          }\n        }\n      }\n\n      return data;\n    }\n    /**\r\n        @memberof Treemap\r\n        @desc If *value* is specified, sets the inner and outer padding accessor to the specified function or number and returns the current class instance. If *value* is not specified, returns the current padding accessor.\r\n        @param {Function|Number} [*value*]\r\n    */\n\n  }, {\n    key: \"layoutPadding\",\n    value: function layoutPadding(_) {\n      return arguments.length ? (this._layoutPadding = typeof _ === \"function\" ? _ : constant(_), this) : this._layoutPadding;\n    }\n    /**\r\n        @memberof Treemap\r\n        @desc If *comparator* is specified, sets the sort order for the treemap using the specified comparator function. If *comparator* is not specified, returns the current group sort order, which defaults to descending order by the associated input data's numeric value attribute.\r\n        @param {Array} [*comparator*]\r\n        @example\r\n    function comparator(a, b) {\r\n    return b.value - a.value;\r\n    }\r\n    */\n\n  }, {\n    key: \"sort\",\n    value: function sort(_) {\n      return arguments.length ? (this._sort = _, this) : this._sort;\n    }\n    /**\r\n        @memberof Treemap\r\n        @desc If *value* is specified, sets the sum accessor to the specified function or number and returns the current class instance. If *value* is not specified, returns the current sum accessor.\r\n        @param {Function|Number} [*value*]\r\n        @example\r\n    function sum(d) {\r\n    return d.sum;\r\n    }\r\n    */\n\n  }, {\n    key: \"sum\",\n    value: function sum(_) {\n      if (arguments.length) {\n        this._sum = typeof _ === \"function\" ? _ : accessor(_);\n        this._thresholdKey = this._sum;\n        return this;\n      } else return this._sum;\n    }\n    /**\r\n        @memberof Treemap\r\n        @desc If *value* is specified, sets the [tiling method](https://github.com/d3/d3-hierarchy#treemap-tiling) to the specified function and returns the current class instance. If *value* is not specified, returns the current [tiling method](https://github.com/d3/d3-hierarchy#treemap-tiling).\r\n        @param {Function} [*value*]\r\n    */\n\n  }, {\n    key: \"tile\",\n    value: function tile(_) {\n      return arguments.length ? (this._tile = _, this) : this._tile;\n    }\n  }]);\n\n  return Treemap;\n}(Viz);\n\nexport { Treemap as default };","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function() {\n  return (Math.random() - 0.5) * 1e-6;\n}\n","export default function(d) {\n  var x = +this._x.call(null, d),\n      y = +this._y.call(null, d);\n  return add(this.cover(x, y), x, y, d);\n}\n\nfunction add(tree, x, y, d) {\n  if (isNaN(x) || isNaN(y)) return tree; // ignore invalid points\n\n  var parent,\n      node = tree._root,\n      leaf = {data: d},\n      x0 = tree._x0,\n      y0 = tree._y0,\n      x1 = tree._x1,\n      y1 = tree._y1,\n      xm,\n      ym,\n      xp,\n      yp,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return tree._root = leaf, tree;\n\n  // Find the existing leaf for the new point, or add it.\n  while (node.length) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (parent = node, !(node = node[i = bottom << 1 | right])) return parent[i] = leaf, tree;\n  }\n\n  // Is the new point is exactly coincident with the existing point?\n  xp = +tree._x.call(null, node.data);\n  yp = +tree._y.call(null, node.data);\n  if (x === xp && y === yp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n  // Otherwise, split the leaf node until the old and new point are separated.\n  do {\n    parent = parent ? parent[i] = new Array(4) : tree._root = new Array(4);\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n  } while ((i = bottom << 1 | right) === (j = (yp >= ym) << 1 | (xp >= xm)));\n  return parent[j] = node, parent[i] = leaf, tree;\n}\n\nexport function addAll(data) {\n  var d, i, n = data.length,\n      x,\n      y,\n      xz = new Array(n),\n      yz = new Array(n),\n      x0 = Infinity,\n      y0 = Infinity,\n      x1 = -Infinity,\n      y1 = -Infinity;\n\n  // Compute the points and their extent.\n  for (i = 0; i < n; ++i) {\n    if (isNaN(x = +this._x.call(null, d = data[i])) || isNaN(y = +this._y.call(null, d))) continue;\n    xz[i] = x;\n    yz[i] = y;\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n    if (y < y0) y0 = y;\n    if (y > y1) y1 = y;\n  }\n\n  // If there were no (valid) points, abort.\n  if (x0 > x1 || y0 > y1) return this;\n\n  // Expand the tree to cover the new points.\n  this.cover(x0, y0).cover(x1, y1);\n\n  // Add the new points.\n  for (i = 0; i < n; ++i) {\n    add(this, xz[i], yz[i], data[i]);\n  }\n\n  return this;\n}\n","export default function(x, y) {\n  if (isNaN(x = +x) || isNaN(y = +y)) return this; // ignore invalid points\n\n  var x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1;\n\n  // If the quadtree has no extent, initialize them.\n  // Integer extent are necessary so that if we later double the extent,\n  // the existing quadrant boundaries don’t change due to floating point error!\n  if (isNaN(x0)) {\n    x1 = (x0 = Math.floor(x)) + 1;\n    y1 = (y0 = Math.floor(y)) + 1;\n  }\n\n  // Otherwise, double repeatedly to cover.\n  else {\n    var z = x1 - x0,\n        node = this._root,\n        parent,\n        i;\n\n    while (x0 > x || x >= x1 || y0 > y || y >= y1) {\n      i = (y < y0) << 1 | (x < x0);\n      parent = new Array(4), parent[i] = node, node = parent, z *= 2;\n      switch (i) {\n        case 0: x1 = x0 + z, y1 = y0 + z; break;\n        case 1: x0 = x1 - z, y1 = y0 + z; break;\n        case 2: x1 = x0 + z, y0 = y1 - z; break;\n        case 3: x0 = x1 - z, y0 = y1 - z; break;\n      }\n    }\n\n    if (this._root && this._root.length) this._root = node;\n  }\n\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  return this;\n}\n","export default function() {\n  var data = [];\n  this.visit(function(node) {\n    if (!node.length) do data.push(node.data); while (node = node.next)\n  });\n  return data;\n}\n","export default function(_) {\n  return arguments.length\n      ? this.cover(+_[0][0], +_[0][1]).cover(+_[1][0], +_[1][1])\n      : isNaN(this._x0) ? undefined : [[this._x0, this._y0], [this._x1, this._y1]];\n}\n","export default function(node, x0, y0, x1, y1) {\n  this.node = node;\n  this.x0 = x0;\n  this.y0 = y0;\n  this.x1 = x1;\n  this.y1 = y1;\n}\n","import Quad from \"./quad\";\n\nexport default function(x, y, radius) {\n  var data,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1,\n      y1,\n      x2,\n      y2,\n      x3 = this._x1,\n      y3 = this._y1,\n      quads = [],\n      node = this._root,\n      q,\n      i;\n\n  if (node) quads.push(new Quad(node, x0, y0, x3, y3));\n  if (radius == null) radius = Infinity;\n  else {\n    x0 = x - radius, y0 = y - radius;\n    x3 = x + radius, y3 = y + radius;\n    radius *= radius;\n  }\n\n  while (q = quads.pop()) {\n\n    // Stop searching if this quadrant can’t contain a closer node.\n    if (!(node = q.node)\n        || (x1 = q.x0) > x3\n        || (y1 = q.y0) > y3\n        || (x2 = q.x1) < x0\n        || (y2 = q.y1) < y0) continue;\n\n    // Bisect the current quadrant.\n    if (node.length) {\n      var xm = (x1 + x2) / 2,\n          ym = (y1 + y2) / 2;\n\n      quads.push(\n        new Quad(node[3], xm, ym, x2, y2),\n        new Quad(node[2], x1, ym, xm, y2),\n        new Quad(node[1], xm, y1, x2, ym),\n        new Quad(node[0], x1, y1, xm, ym)\n      );\n\n      // Visit the closest quadrant first.\n      if (i = (y >= ym) << 1 | (x >= xm)) {\n        q = quads[quads.length - 1];\n        quads[quads.length - 1] = quads[quads.length - 1 - i];\n        quads[quads.length - 1 - i] = q;\n      }\n    }\n\n    // Visit this point. (Visiting coincident points isn’t necessary!)\n    else {\n      var dx = x - +this._x.call(null, node.data),\n          dy = y - +this._y.call(null, node.data),\n          d2 = dx * dx + dy * dy;\n      if (d2 < radius) {\n        var d = Math.sqrt(radius = d2);\n        x0 = x - d, y0 = y - d;\n        x3 = x + d, y3 = y + d;\n        data = node.data;\n      }\n    }\n  }\n\n  return data;\n}\n","export default function(d) {\n  if (isNaN(x = +this._x.call(null, d)) || isNaN(y = +this._y.call(null, d))) return this; // ignore invalid points\n\n  var parent,\n      node = this._root,\n      retainer,\n      previous,\n      next,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1,\n      x,\n      y,\n      xm,\n      ym,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return this;\n\n  // Find the leaf node for the point.\n  // While descending, also retain the deepest parent with a non-removed sibling.\n  if (node.length) while (true) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (!(parent = node, node = node[i = bottom << 1 | right])) return this;\n    if (!node.length) break;\n    if (parent[(i + 1) & 3] || parent[(i + 2) & 3] || parent[(i + 3) & 3]) retainer = parent, j = i;\n  }\n\n  // Find the point to remove.\n  while (node.data !== d) if (!(previous = node, node = node.next)) return this;\n  if (next = node.next) delete node.next;\n\n  // If there are multiple coincident points, remove just the point.\n  if (previous) return (next ? previous.next = next : delete previous.next), this;\n\n  // If this is the root point, remove it.\n  if (!parent) return this._root = next, this;\n\n  // Remove this leaf.\n  next ? parent[i] = next : delete parent[i];\n\n  // If the parent now contains exactly one leaf, collapse superfluous parents.\n  if ((node = parent[0] || parent[1] || parent[2] || parent[3])\n      && node === (parent[3] || parent[2] || parent[1] || parent[0])\n      && !node.length) {\n    if (retainer) retainer[j] = node;\n    else this._root = node;\n  }\n\n  return this;\n}\n\nexport function removeAll(data) {\n  for (var i = 0, n = data.length; i < n; ++i) this.remove(data[i]);\n  return this;\n}\n","export default function() {\n  return this._root;\n}\n","export default function() {\n  var size = 0;\n  this.visit(function(node) {\n    if (!node.length) do ++size; while (node = node.next)\n  });\n  return size;\n}\n","import Quad from \"./quad\";\n\nexport default function(callback) {\n  var quads = [], q, node = this._root, child, x0, y0, x1, y1;\n  if (node) quads.push(new Quad(node, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    if (!callback(node = q.node, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1) && node.length) {\n      var xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n    }\n  }\n  return this;\n}\n","import Quad from \"./quad\";\n\nexport default function(callback) {\n  var quads = [], next = [], q;\n  if (this._root) quads.push(new Quad(this._root, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    var node = q.node;\n    if (node.length) {\n      var child, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1, xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n    }\n    next.push(q);\n  }\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.y0, q.x1, q.y1);\n  }\n  return this;\n}\n","export function defaultX(d) {\n  return d[0];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._x = _, this) : this._x;\n}\n","export function defaultY(d) {\n  return d[1];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._y = _, this) : this._y;\n}\n","import tree_add, {addAll as tree_addAll} from \"./add\";\nimport tree_cover from \"./cover\";\nimport tree_data from \"./data\";\nimport tree_extent from \"./extent\";\nimport tree_find from \"./find\";\nimport tree_remove, {removeAll as tree_removeAll} from \"./remove\";\nimport tree_root from \"./root\";\nimport tree_size from \"./size\";\nimport tree_visit from \"./visit\";\nimport tree_visitAfter from \"./visitAfter\";\nimport tree_x, {defaultX} from \"./x\";\nimport tree_y, {defaultY} from \"./y\";\n\nexport default function quadtree(nodes, x, y) {\n  var tree = new Quadtree(x == null ? defaultX : x, y == null ? defaultY : y, NaN, NaN, NaN, NaN);\n  return nodes == null ? tree : tree.addAll(nodes);\n}\n\nfunction Quadtree(x, y, x0, y0, x1, y1) {\n  this._x = x;\n  this._y = y;\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  this._root = undefined;\n}\n\nfunction leaf_copy(leaf) {\n  var copy = {data: leaf.data}, next = copy;\n  while (leaf = leaf.next) next = next.next = {data: leaf.data};\n  return copy;\n}\n\nvar treeProto = quadtree.prototype = Quadtree.prototype;\n\ntreeProto.copy = function() {\n  var copy = new Quadtree(this._x, this._y, this._x0, this._y0, this._x1, this._y1),\n      node = this._root,\n      nodes,\n      child;\n\n  if (!node) return copy;\n\n  if (!node.length) return copy._root = leaf_copy(node), copy;\n\n  nodes = [{source: node, target: copy._root = new Array(4)}];\n  while (node = nodes.pop()) {\n    for (var i = 0; i < 4; ++i) {\n      if (child = node.source[i]) {\n        if (child.length) nodes.push({source: child, target: node.target[i] = new Array(4)});\n        else node.target[i] = leaf_copy(child);\n      }\n    }\n  }\n\n  return copy;\n};\n\ntreeProto.add = tree_add;\ntreeProto.addAll = tree_addAll;\ntreeProto.cover = tree_cover;\ntreeProto.data = tree_data;\ntreeProto.extent = tree_extent;\ntreeProto.find = tree_find;\ntreeProto.remove = tree_remove;\ntreeProto.removeAll = tree_removeAll;\ntreeProto.root = tree_root;\ntreeProto.size = tree_size;\ntreeProto.visit = tree_visit;\ntreeProto.visitAfter = tree_visitAfter;\ntreeProto.x = tree_x;\ntreeProto.y = tree_y;\n","import constant from \"./constant\";\nimport jiggle from \"./jiggle\";\nimport {map} from \"d3-collection\";\n\nfunction index(d) {\n  return d.index;\n}\n\nfunction find(nodeById, nodeId) {\n  var node = nodeById.get(nodeId);\n  if (!node) throw new Error(\"missing: \" + nodeId);\n  return node;\n}\n\nexport default function(links) {\n  var id = index,\n      strength = defaultStrength,\n      strengths,\n      distance = constant(30),\n      distances,\n      nodes,\n      count,\n      bias,\n      iterations = 1;\n\n  if (links == null) links = [];\n\n  function defaultStrength(link) {\n    return 1 / Math.min(count[link.source.index], count[link.target.index]);\n  }\n\n  function force(alpha) {\n    for (var k = 0, n = links.length; k < iterations; ++k) {\n      for (var i = 0, link, source, target, x, y, l, b; i < n; ++i) {\n        link = links[i], source = link.source, target = link.target;\n        x = target.x + target.vx - source.x - source.vx || jiggle();\n        y = target.y + target.vy - source.y - source.vy || jiggle();\n        l = Math.sqrt(x * x + y * y);\n        l = (l - distances[i]) / l * alpha * strengths[i];\n        x *= l, y *= l;\n        target.vx -= x * (b = bias[i]);\n        target.vy -= y * b;\n        source.vx += x * (b = 1 - b);\n        source.vy += y * b;\n      }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n\n    var i,\n        n = nodes.length,\n        m = links.length,\n        nodeById = map(nodes, id),\n        link;\n\n    for (i = 0, count = new Array(n); i < m; ++i) {\n      link = links[i], link.index = i;\n      if (typeof link.source !== \"object\") link.source = find(nodeById, link.source);\n      if (typeof link.target !== \"object\") link.target = find(nodeById, link.target);\n      count[link.source.index] = (count[link.source.index] || 0) + 1;\n      count[link.target.index] = (count[link.target.index] || 0) + 1;\n    }\n\n    for (i = 0, bias = new Array(m); i < m; ++i) {\n      link = links[i], bias[i] = count[link.source.index] / (count[link.source.index] + count[link.target.index]);\n    }\n\n    strengths = new Array(m), initializeStrength();\n    distances = new Array(m), initializeDistance();\n  }\n\n  function initializeStrength() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      strengths[i] = +strength(links[i], i, links);\n    }\n  }\n\n  function initializeDistance() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      distances[i] = +distance(links[i], i, links);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.links = function(_) {\n    return arguments.length ? (links = _, initialize(), force) : links;\n  };\n\n  force.id = function(_) {\n    return arguments.length ? (id = _, force) : id;\n  };\n\n  force.iterations = function(_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initializeStrength(), force) : strength;\n  };\n\n  force.distance = function(_) {\n    return arguments.length ? (distance = typeof _ === \"function\" ? _ : constant(+_), initializeDistance(), force) : distance;\n  };\n\n  return force;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {map} from \"d3-collection\";\nimport {timer} from \"d3-timer\";\n\nexport function x(d) {\n  return d.x;\n}\n\nexport function y(d) {\n  return d.y;\n}\n\nvar initialRadius = 10,\n    initialAngle = Math.PI * (3 - Math.sqrt(5));\n\nexport default function(nodes) {\n  var simulation,\n      alpha = 1,\n      alphaMin = 0.001,\n      alphaDecay = 1 - Math.pow(alphaMin, 1 / 300),\n      alphaTarget = 0,\n      velocityDecay = 0.6,\n      forces = map(),\n      stepper = timer(step),\n      event = dispatch(\"tick\", \"end\");\n\n  if (nodes == null) nodes = [];\n\n  function step() {\n    tick();\n    event.call(\"tick\", simulation);\n    if (alpha < alphaMin) {\n      stepper.stop();\n      event.call(\"end\", simulation);\n    }\n  }\n\n  function tick(iterations) {\n    var i, n = nodes.length, node;\n\n    if (iterations === undefined) iterations = 1;\n\n    for (var k = 0; k < iterations; ++k) {\n      alpha += (alphaTarget - alpha) * alphaDecay;\n\n      forces.each(function (force) {\n        force(alpha);\n      });\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        if (node.fx == null) node.x += node.vx *= velocityDecay;\n        else node.x = node.fx, node.vx = 0;\n        if (node.fy == null) node.y += node.vy *= velocityDecay;\n        else node.y = node.fy, node.vy = 0;\n      }\n    }\n\n    return simulation;\n  }\n\n  function initializeNodes() {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.index = i;\n      if (node.fx != null) node.x = node.fx;\n      if (node.fy != null) node.y = node.fy;\n      if (isNaN(node.x) || isNaN(node.y)) {\n        var radius = initialRadius * Math.sqrt(i), angle = i * initialAngle;\n        node.x = radius * Math.cos(angle);\n        node.y = radius * Math.sin(angle);\n      }\n      if (isNaN(node.vx) || isNaN(node.vy)) {\n        node.vx = node.vy = 0;\n      }\n    }\n  }\n\n  function initializeForce(force) {\n    if (force.initialize) force.initialize(nodes);\n    return force;\n  }\n\n  initializeNodes();\n\n  return simulation = {\n    tick: tick,\n\n    restart: function() {\n      return stepper.restart(step), simulation;\n    },\n\n    stop: function() {\n      return stepper.stop(), simulation;\n    },\n\n    nodes: function(_) {\n      return arguments.length ? (nodes = _, initializeNodes(), forces.each(initializeForce), simulation) : nodes;\n    },\n\n    alpha: function(_) {\n      return arguments.length ? (alpha = +_, simulation) : alpha;\n    },\n\n    alphaMin: function(_) {\n      return arguments.length ? (alphaMin = +_, simulation) : alphaMin;\n    },\n\n    alphaDecay: function(_) {\n      return arguments.length ? (alphaDecay = +_, simulation) : +alphaDecay;\n    },\n\n    alphaTarget: function(_) {\n      return arguments.length ? (alphaTarget = +_, simulation) : alphaTarget;\n    },\n\n    velocityDecay: function(_) {\n      return arguments.length ? (velocityDecay = 1 - _, simulation) : 1 - velocityDecay;\n    },\n\n    force: function(name, _) {\n      return arguments.length > 1 ? ((_ == null ? forces.remove(name) : forces.set(name, initializeForce(_))), simulation) : forces.get(name);\n    },\n\n    find: function(x, y, radius) {\n      var i = 0,\n          n = nodes.length,\n          dx,\n          dy,\n          d2,\n          node,\n          closest;\n\n      if (radius == null) radius = Infinity;\n      else radius *= radius;\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        dx = x - node.x;\n        dy = y - node.y;\n        d2 = dx * dx + dy * dy;\n        if (d2 < radius) closest = node, radius = d2;\n      }\n\n      return closest;\n    },\n\n    on: function(name, _) {\n      return arguments.length > 1 ? (event.on(name, _), simulation) : event.on(name);\n    }\n  };\n}\n","import constant from \"./constant\";\nimport jiggle from \"./jiggle\";\nimport {quadtree} from \"d3-quadtree\";\nimport {x, y} from \"./simulation\";\n\nexport default function() {\n  var nodes,\n      node,\n      alpha,\n      strength = constant(-30),\n      strengths,\n      distanceMin2 = 1,\n      distanceMax2 = Infinity,\n      theta2 = 0.81;\n\n  function force(_) {\n    var i, n = nodes.length, tree = quadtree(nodes, x, y).visitAfter(accumulate);\n    for (alpha = _, i = 0; i < n; ++i) node = nodes[i], tree.visit(apply);\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length, node;\n    strengths = new Array(n);\n    for (i = 0; i < n; ++i) node = nodes[i], strengths[node.index] = +strength(node, i, nodes);\n  }\n\n  function accumulate(quad) {\n    var strength = 0, q, c, weight = 0, x, y, i;\n\n    // For internal nodes, accumulate forces from child quadrants.\n    if (quad.length) {\n      for (x = y = i = 0; i < 4; ++i) {\n        if ((q = quad[i]) && (c = Math.abs(q.value))) {\n          strength += q.value, weight += c, x += c * q.x, y += c * q.y;\n        }\n      }\n      quad.x = x / weight;\n      quad.y = y / weight;\n    }\n\n    // For leaf nodes, accumulate forces from coincident quadrants.\n    else {\n      q = quad;\n      q.x = q.data.x;\n      q.y = q.data.y;\n      do strength += strengths[q.data.index];\n      while (q = q.next);\n    }\n\n    quad.value = strength;\n  }\n\n  function apply(quad, x1, _, x2) {\n    if (!quad.value) return true;\n\n    var x = quad.x - node.x,\n        y = quad.y - node.y,\n        w = x2 - x1,\n        l = x * x + y * y;\n\n    // Apply the Barnes-Hut approximation if possible.\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (w * w / theta2 < l) {\n      if (l < distanceMax2) {\n        if (x === 0) x = jiggle(), l += x * x;\n        if (y === 0) y = jiggle(), l += y * y;\n        if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n        node.vx += x * quad.value * alpha / l;\n        node.vy += y * quad.value * alpha / l;\n      }\n      return true;\n    }\n\n    // Otherwise, process points directly.\n    else if (quad.length || l >= distanceMax2) return;\n\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (quad.data !== node || quad.next) {\n      if (x === 0) x = jiggle(), l += x * x;\n      if (y === 0) y = jiggle(), l += y * y;\n      if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n    }\n\n    do if (quad.data !== node) {\n      w = strengths[quad.data.index] * alpha / l;\n      node.vx += x * w;\n      node.vy += y * w;\n    } while (quad = quad.next);\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.distanceMin = function(_) {\n    return arguments.length ? (distanceMin2 = _ * _, force) : Math.sqrt(distanceMin2);\n  };\n\n  force.distanceMax = function(_) {\n    return arguments.length ? (distanceMax2 = _ * _, force) : Math.sqrt(distanceMax2);\n  };\n\n  force.theta = function(_) {\n    return arguments.length ? (theta2 = _ * _, force) : Math.sqrt(theta2);\n  };\n\n  return force;\n}\n","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n/**\n    @external Viz\n    @see https://github.com/d3plus/d3plus-viz#Viz\n*/\nimport { extent, max, mean, min, merge } from \"d3-array\";\nimport { nest } from \"d3-collection\";\nimport { forceLink, forceManyBody, forceSimulation } from \"d3-force\";\nimport { polygonHull } from \"d3-polygon\";\nimport * as scales from \"d3-scale\";\nimport { zoomTransform } from \"d3-zoom\";\nimport { accessor, assign, configPrep, constant, elem } from \"d3plus-common\";\nimport * as shapes from \"d3plus-shape\";\nimport { dataLoad as load, Viz } from \"d3plus-viz\";\n/**\n    @class Network\n    @extends external:Viz\n    @desc Creates a network visualization based on a defined set of nodes and edges. [Click here](http://d3plus.org/examples/d3plus-network/getting-started/) for help getting started using the Network class.\n*/\n\nvar Network =\n/*#__PURE__*/\nfunction (_Viz) {\n  _inherits(Network, _Viz);\n\n  /**\n      @memberof Network\n      @desc Invoked when creating a new class instance, and sets any default parameters.\n      @private\n  */\n  function Network() {\n    var _this;\n\n    _classCallCheck(this, Network);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Network).call(this));\n    _this._links = [];\n    _this._linkSize = constant(1);\n    _this._linkSizeMin = 1;\n    _this._linkSizeScale = \"sqrt\";\n    _this._noDataMessage = false;\n    _this._nodes = [];\n\n    _this._on[\"click.shape\"] = function (d, i) {\n      _this._tooltipClass.data([]).render();\n\n      if (_this._hover && _this._drawDepth >= _this._groupBy.length - 1) {\n        var id = \"\".concat(_this._nodeGroupBy && _this._nodeGroupBy[_this._drawDepth](d, i) ? _this._nodeGroupBy[_this._drawDepth](d, i) : _this._id(d, i));\n\n        if (_this._focus && _this._focus === id) {\n          _this.active(false);\n\n          _this._on.mouseenter.bind(_assertThisInitialized(_this))(d, i);\n\n          _this._focus = undefined;\n\n          _this._zoomToBounds(null);\n        } else {\n          _this.hover(false);\n\n          var links = _this._linkLookup[id],\n              node = _this._nodeLookup[id];\n          var filterIds = [id];\n          var xDomain = [node.x - node.r, node.x + node.r],\n              yDomain = [node.y - node.r, node.y + node.r];\n          links.forEach(function (l) {\n            filterIds.push(l.id);\n            if (l.x - l.r < xDomain[0]) xDomain[0] = l.x - l.r;\n            if (l.x + l.r > xDomain[1]) xDomain[1] = l.x + l.r;\n            if (l.y - l.r < yDomain[0]) yDomain[0] = l.y - l.r;\n            if (l.y + l.r > yDomain[1]) yDomain[1] = l.y + l.r;\n          });\n\n          _this.active(function (h, x) {\n            if (h.source && h.target) return h.source.id === id || h.target.id === id;else return filterIds.includes(\"\".concat(_this._ids(h, x)[_this._drawDepth]));\n          });\n\n          _this._focus = id;\n          var t = zoomTransform(_this._container.node());\n          xDomain = xDomain.map(function (d) {\n            return d * t.k + t.x;\n          });\n          yDomain = yDomain.map(function (d) {\n            return d * t.k + t.y;\n          });\n\n          _this._zoomToBounds([[xDomain[0], yDomain[0]], [xDomain[1], yDomain[1]]]);\n        }\n      }\n    };\n\n    _this._on[\"click.legend\"] = function (d, i) {\n      var ids = _this._id(d);\n\n      var id = _this._ids(d);\n\n      id = id[id.length - 1];\n\n      if (_this._hover && _this._drawDepth >= _this._groupBy.length - 1) {\n        if (_this._focus && _this._focus === ids) {\n          _this.active(false);\n\n          _this._focus = undefined;\n\n          _this._zoomToBounds(null);\n        } else {\n          _this.hover(false);\n\n          var nodes = ids.map(function (id) {\n            return _this._nodeLookup[id];\n          });\n          var filterIds = [\"\".concat(id)];\n          var xDomain = [nodes[0].x - nodes[0].r, nodes[0].x + nodes[0].r],\n              yDomain = [nodes[0].y - nodes[0].r, nodes[0].y + nodes[0].r];\n          nodes.forEach(function (l) {\n            filterIds.push(l.id);\n            if (l.x - l.r < xDomain[0]) xDomain[0] = l.x - l.r;\n            if (l.x + l.r > xDomain[1]) xDomain[1] = l.x + l.r;\n            if (l.y - l.r < yDomain[0]) yDomain[0] = l.y - l.r;\n            if (l.y + l.r > yDomain[1]) yDomain[1] = l.y + l.r;\n          });\n\n          _this.active(function (h, x) {\n            if (h.source && h.target) return filterIds.includes(h.source.id) && filterIds.includes(h.target.id);else {\n              var myIds = _this._ids(h, x);\n\n              return filterIds.includes(\"\".concat(myIds[myIds.length - 1]));\n            }\n          });\n\n          _this._focus = ids;\n          var t = zoomTransform(_this._container.node());\n          xDomain = xDomain.map(function (d) {\n            return d * t.k + t.x;\n          });\n          yDomain = yDomain.map(function (d) {\n            return d * t.k + t.y;\n          });\n\n          _this._zoomToBounds([[xDomain[0], yDomain[0]], [xDomain[1], yDomain[1]]]);\n        }\n\n        _this._on.mouseenter.bind(_assertThisInitialized(_this))(d, i);\n\n        _this._on[\"mousemove.legend\"].bind(_assertThisInitialized(_this))(d, i);\n      }\n    };\n\n    _this._on.mouseenter = function () {};\n\n    _this._on[\"mouseleave.shape\"] = function () {\n      _this.hover(false);\n    };\n\n    var defaultMouseMove = _this._on[\"mousemove.shape\"];\n\n    _this._on[\"mousemove.shape\"] = function (d, i) {\n      defaultMouseMove(d, i);\n      var id = \"\".concat(_this._nodeGroupBy && _this._nodeGroupBy[_this._drawDepth](d, i) ? _this._nodeGroupBy[_this._drawDepth](d, i) : _this._id(d, i)),\n          links = _this._linkLookup[id],\n          node = _this._nodeLookup[id];\n      var filterIds = [id];\n      var xDomain = [node.x - node.r, node.x + node.r],\n          yDomain = [node.y - node.r, node.y + node.r];\n      links.forEach(function (l) {\n        filterIds.push(l.id);\n        if (l.x - l.r < xDomain[0]) xDomain[0] = l.x - l.r;\n        if (l.x + l.r > xDomain[1]) xDomain[1] = l.x + l.r;\n        if (l.y - l.r < yDomain[0]) yDomain[0] = l.y - l.r;\n        if (l.y + l.r > yDomain[1]) yDomain[1] = l.y + l.r;\n      });\n\n      _this.hover(function (h, x) {\n        if (h.source && h.target) return h.source.id === id || h.target.id === id;else return filterIds.includes(\"\".concat(_this._ids(h, x)[_this._drawDepth]));\n      });\n    };\n\n    _this._sizeMin = 5;\n    _this._sizeScale = \"sqrt\";\n    _this._shape = constant(\"Circle\");\n    _this._shapeConfig = assign(_this._shapeConfig, {\n      ariaLabel: function ariaLabel(d, i) {\n        var validSize = _this._size ? \", \".concat(_this._size(d, i)) : \"\";\n        return \"\".concat(_this._drawLabel(d, i)).concat(validSize, \".\");\n      },\n      labelConfig: {\n        duration: 0,\n        fontMin: 1,\n        fontResize: true,\n        labelPadding: 0,\n        textAnchor: \"middle\",\n        verticalAlign: \"middle\"\n      },\n      Path: {\n        fill: \"none\",\n        label: false,\n        stroke: \"#eee\"\n      }\n    });\n    _this._x = accessor(\"x\");\n    _this._y = accessor(\"y\");\n    _this._zoom = true;\n    return _this;\n  }\n  /**\n      Extends the draw behavior of the abstract Viz class.\n      @private\n  */\n\n\n  _createClass(Network, [{\n    key: \"_draw\",\n    value: function _draw(callback) {\n      var _this2 = this;\n\n      _get(_getPrototypeOf(Network.prototype), \"_draw\", this).call(this, callback);\n\n      var height = this._height - this._margin.top - this._margin.bottom,\n          transform = \"translate(\".concat(this._margin.left, \", \").concat(this._margin.top, \")\"),\n          transition = this._transition,\n          width = this._width - this._margin.left - this._margin.right;\n\n      var data = this._filteredData.reduce(function (obj, d, i) {\n        obj[_this2._id(d, i)] = d;\n        return obj;\n      }, {});\n\n      var nodes = this._nodes.reduce(function (obj, d, i) {\n        obj[_this2._nodeGroupBy ? _this2._nodeGroupBy[_this2._drawDepth](d, i) : _this2._id(d, i)] = d;\n        return obj;\n      }, {});\n\n      nodes = Array.from(new Set(Object.keys(data).concat(Object.keys(nodes)))).map(function (id, i) {\n        var d = data[id],\n            n = nodes[id];\n        if (n === undefined) return false;\n        return {\n          __d3plus__: true,\n          data: d || n,\n          i: i,\n          id: id,\n          fx: d !== undefined && _this2._x(d) !== undefined ? _this2._x(d) : _this2._x(n),\n          fy: d !== undefined && _this2._y(d) !== undefined ? _this2._y(d) : _this2._y(n),\n          node: n,\n          r: _this2._size ? d !== undefined && _this2._size(d) !== undefined ? _this2._size(d) : _this2._size(n) : _this2._sizeMin,\n          shape: d !== undefined && _this2._shape(d) !== undefined ? _this2._shape(d) : _this2._shape(n)\n        };\n      }).filter(function (n) {\n        return n;\n      });\n      var nodeLookup = this._nodeLookup = nodes.reduce(function (obj, d) {\n        obj[d.id] = d;\n        return obj;\n      }, {});\n      var nodeIndices = nodes.map(function (n) {\n        return n.node;\n      });\n\n      var links = this._links.map(function (l) {\n        var referenceType = _typeof(l.source);\n\n        return {\n          size: _this2._linkSize(l),\n          source: referenceType === \"number\" ? nodes[nodeIndices.indexOf(_this2._nodes[l.source])] : referenceType === \"string\" ? nodeLookup[l.source] : nodeLookup[l.source.id],\n          target: referenceType === \"number\" ? nodes[nodeIndices.indexOf(_this2._nodes[l.target])] : referenceType === \"string\" ? nodeLookup[l.target] : nodeLookup[l.target.id]\n        };\n      });\n\n      this._linkLookup = links.reduce(function (obj, d) {\n        if (!obj[d.source.id]) obj[d.source.id] = [];\n        obj[d.source.id].push(d.target);\n        if (!obj[d.target.id]) obj[d.target.id] = [];\n        obj[d.target.id].push(d.source);\n        return obj;\n      }, {});\n      var missingCoords = nodes.some(function (n) {\n        return n.fx === undefined || n.fy === undefined;\n      });\n\n      if (missingCoords) {\n        var linkStrength = scales.scaleLinear().domain(extent(links, function (d) {\n          return d.size;\n        })).range([0.1, 0.5]);\n        var simulation = forceSimulation().force(\"link\", forceLink(links).id(function (d) {\n          return d.id;\n        }).distance(1).strength(function (d) {\n          return linkStrength(d.size);\n        }).iterations(4)).force(\"charge\", forceManyBody().strength(-1)).stop();\n        var iterations = 300;\n        var alphaMin = 0.001;\n        var alphaDecay = 1 - Math.pow(alphaMin, 1 / iterations);\n        simulation.velocityDecay(0);\n        simulation.alphaMin(alphaMin);\n        simulation.alphaDecay(alphaDecay);\n        simulation.alphaDecay(0);\n        simulation.nodes(nodes);\n        simulation.tick(iterations).stop();\n        var hull = polygonHull(nodes.map(function (n) {\n          return [n.vx, n.vy];\n        }));\n\n        var _shapes$largestRect = shapes.largestRect(hull),\n            angle = _shapes$largestRect.angle,\n            cx = _shapes$largestRect.cx,\n            cy = _shapes$largestRect.cy;\n\n        nodes.forEach(function (n) {\n          var p = shapes.pointRotate([n.vx, n.vy], -1 * (Math.PI / 180 * angle), [cx, cy]);\n          n.fx = p[0];\n          n.fy = p[1];\n        });\n      }\n\n      var xExtent = extent(nodes.map(function (n) {\n        return n.fx;\n      })),\n          yExtent = extent(nodes.map(function (n) {\n        return n.fy;\n      }));\n      var x = scales.scaleLinear().domain(xExtent).range([0, width]),\n          y = scales.scaleLinear().domain(yExtent).range([0, height]);\n      var nodeRatio = (xExtent[1] - xExtent[0]) / (yExtent[1] - yExtent[0]),\n          screenRatio = width / height;\n\n      if (nodeRatio > screenRatio) {\n        var h = height * screenRatio / nodeRatio;\n        y.range([(height - h) / 2, height - (height - h) / 2]);\n      } else {\n        var w = width * nodeRatio / screenRatio;\n        x.range([(width - w) / 2, width - (width - w) / 2]);\n      }\n\n      nodes.forEach(function (n) {\n        n.x = x(n.fx);\n        n.y = y(n.fy);\n      });\n      var rExtent = extent(nodes.map(function (n) {\n        return n.r;\n      }));\n      var rMax = this._sizeMax || max([1, min(merge(nodes.map(function (n1) {\n        return nodes.map(function (n2) {\n          return n1 === n2 ? null : shapes.pointDistance([n1.x, n1.y], [n2.x, n2.y]);\n        });\n      }))) / 2]);\n      var r = scales[\"scale\".concat(this._sizeScale.charAt(0).toUpperCase()).concat(this._sizeScale.slice(1))]().domain(rExtent).range([rExtent[0] === rExtent[1] ? rMax : min([rMax / 2, this._sizeMin]), rMax]),\n          xDomain = x.domain(),\n          yDomain = y.domain();\n      var xOldSize = xDomain[1] - xDomain[0],\n          yOldSize = yDomain[1] - yDomain[0];\n      nodes.forEach(function (n) {\n        var size = r(n.r);\n        if (xDomain[0] > x.invert(n.x - size)) xDomain[0] = x.invert(n.x - size);\n        if (xDomain[1] < x.invert(n.x + size)) xDomain[1] = x.invert(n.x + size);\n        if (yDomain[0] > y.invert(n.y - size)) yDomain[0] = y.invert(n.y - size);\n        if (yDomain[1] < y.invert(n.y + size)) yDomain[1] = y.invert(n.y + size);\n      });\n      var xNewSize = xDomain[1] - xDomain[0],\n          yNewSize = yDomain[1] - yDomain[0];\n      rMax *= min([xOldSize / xNewSize, yOldSize / yNewSize]);\n      r.range([rExtent[0] === rExtent[1] ? rMax : min([rMax / 2, this._sizeMin]), rMax]);\n      x.domain(xDomain);\n      y.domain(yDomain);\n      nodes.forEach(function (n) {\n        n.x = x(n.fx);\n        n.fx = n.x;\n        n.y = y(n.fy);\n        n.fy = n.y;\n        n.r = r(n.r);\n        n.width = n.r * 2;\n        n.height = n.r * 2;\n      });\n      this._container = this._select.selectAll(\"svg.d3plus-network\").data([0]);\n      this._container = this._container.enter().append(\"svg\").attr(\"class\", \"d3plus-network\").attr(\"opacity\", 0).attr(\"width\", width).attr(\"height\", height).attr(\"x\", this._margin.left).attr(\"y\", this._margin.top).style(\"background-color\", \"transparent\").merge(this._container);\n\n      this._container.transition(this._transition).attr(\"opacity\", 1).attr(\"width\", width).attr(\"height\", height).attr(\"x\", this._margin.left).attr(\"y\", this._margin.top);\n\n      var hitArea = this._container.selectAll(\"rect.d3plus-network-hitArea\").data([0]);\n\n      hitArea.enter().append(\"rect\").attr(\"class\", \"d3plus-network-hitArea\").merge(hitArea).attr(\"width\", width).attr(\"height\", height).attr(\"fill\", \"transparent\").on(\"click\", function () {\n        if (_this2._focus) {\n          _this2.active(false);\n\n          _this2._focus = undefined;\n\n          _this2._zoomToBounds(null);\n        }\n      });\n      this._zoomGroup = this._container.selectAll(\"g.d3plus-network-zoomGroup\").data([0]);\n\n      var parent = this._zoomGroup = this._zoomGroup.enter().append(\"g\").attr(\"class\", \"d3plus-network-zoomGroup\").merge(this._zoomGroup);\n\n      var strokeExtent = extent(links, function (d) {\n        return d.size;\n      });\n\n      if (strokeExtent[0] !== strokeExtent[1]) {\n        var strokeScale = scales[\"scale\".concat(this._linkSizeScale.charAt(0).toUpperCase()).concat(this._linkSizeScale.slice(1))]().domain(strokeExtent).range([this._linkSizeMin, r.range()[0]]);\n        links.forEach(function (link) {\n          link.size = strokeScale(link.size);\n        });\n      }\n\n      var linkConfig = configPrep.bind(this)(this._shapeConfig, \"edge\", \"Path\");\n      delete linkConfig.on;\n\n      this._shapes.push(new shapes.Path().config(linkConfig).strokeWidth(function (d) {\n        return d.size;\n      }).activeStyle({\n        \"stroke-width\": function strokeWidth(d) {\n          return d.size;\n        }\n      }).d(function (d) {\n        return \"M\".concat(d.source.x, \",\").concat(d.source.y, \" \").concat(d.target.x, \",\").concat(d.target.y);\n      }).data(links).select(elem(\"g.d3plus-network-links\", {\n        parent: parent,\n        transition: transition,\n        enter: {\n          transform: transform\n        },\n        update: {\n          transform: transform\n        }\n      }).node()).render());\n\n      var shapeConfig = {\n        label: function label(d) {\n          return nodes.length <= _this2._dataCutoff || _this2._hover && _this2._hover(d) || _this2._active && _this2._active(d) ? _this2._drawLabel(d.data || d.node, d.i) : false;\n        },\n        select: elem(\"g.d3plus-network-nodes\", {\n          parent: parent,\n          transition: transition,\n          enter: {\n            transform: transform\n          },\n          update: {\n            transform: transform\n          }\n        }).node()\n      };\n      nest().key(function (d) {\n        return d.shape;\n      }).entries(nodes).forEach(function (d) {\n        _this2._shapes.push(new shapes[d.key]().config(configPrep.bind(_this2)(_this2._shapeConfig, \"shape\", d.key)).config(shapeConfig).config(shapeConfig[d.key] || {}).data(d.values).render());\n      });\n      return this;\n    }\n    /**\n        @memberof Network\n        @desc If *value* is specified, sets the hover method to the specified function and returns the current class instance.\n        @param {Function} [*value*]\n        @chainable\n     */\n\n  }, {\n    key: \"hover\",\n    value: function hover(_) {\n      this._hover = _;\n\n      if (this._nodes.length < this._dataCutoff) {\n        this._shapes.forEach(function (s) {\n          return s.hover(_);\n        });\n\n        if (this._legend) this._legendClass.hover(_);\n      }\n\n      return this;\n    }\n    /**\n        @memberof Network\n        @desc A predefined *Array* of edges that connect each object passed to the [node](#Network.node) method. The `source` and `target` keys in each link need to map to the nodes in one of three ways:\n    1. The index of the node in the nodes array (as in [this](http://d3plus.org/examples/d3plus-network/getting-started/) example).\n    2. The actual node *Object* itself.\n    3. A *String* value matching the `id` of the node.\n    The value passed should either be an *Array* of data or a *String* representing a filepath or URL to be loaded. An optional formatting function can be passed as a second argument to this method. This custom function will be passed the data that has been loaded, as long as there are no errors. This function should return the final links *Array*.\n        @param {Array|String} *links* = []\n        @param {Function} [*formatter*]\n        @chainable\n    */\n\n  }, {\n    key: \"links\",\n    value: function links(_, f) {\n      if (arguments.length) {\n        var prev = this._queue.find(function (q) {\n          return q[3] === \"links\";\n        });\n\n        var d = [load.bind(this), _, f, \"links\"];\n        if (prev) this._queue[this._queue.indexOf(prev)] = d;else this._queue.push(d);\n        return this;\n      }\n\n      return this._links;\n    }\n    /**\n        @memberof Network\n        @desc Defines the thickness of the links connecting each node. The value provided can be either a pixel Number to be used for all links, or an accessor function that returns a specific data value to be used in an automatically calculated linear scale.\n        @param {Function|Name} [*value* = 1]\n        @chainable\n    */\n\n  }, {\n    key: \"linkSize\",\n    value: function linkSize(_) {\n      return arguments.length ? (this._linkSize = typeof _ === \"function\" ? _ : constant(_), this) : this._linkSize;\n    }\n    /**\n        @memberof Network\n        @desc Defines the minimum pixel stroke width used in link sizing.\n        @param {Number} [*value* = 2]\n        @chainable\n    */\n\n  }, {\n    key: \"linkSizeMin\",\n    value: function linkSizeMin(_) {\n      return arguments.length ? (this._linkSizeMin = _, this) : this._linkSizeMin;\n    }\n    /**\n        @memberof Network\n        @desc Sets the specific type of [continuous d3-scale](https://github.com/d3/d3-scale#continuous-scales) used when calculating the pixel size of links in the network.\n        @param {String} [*value* = \"sqrt\"]\n        @chainable\n    */\n\n  }, {\n    key: \"linkSizeScale\",\n    value: function linkSizeScale(_) {\n      return arguments.length ? (this._linkSizeScale = _, this) : this._linkSizeScale;\n    }\n    /**\n        @memberof Network\n        @desc If *value* is specified, sets the node group accessor(s) to the specified string, function, or array of values and returns the current class instance. This method overrides the default .groupBy() function from being used with the data passed to .nodes(). If *value* is not specified, returns the current node group accessor.\n        @param {String|Function|Array} [*value* = undefined]\n        @chainable\n    */\n\n  }, {\n    key: \"nodeGroupBy\",\n    value: function nodeGroupBy(_) {\n      var _this3 = this;\n\n      if (!arguments.length) return this._nodeGroupBy;\n      if (!(_ instanceof Array)) _ = [_];\n      return this._nodeGroupBy = _.map(function (k) {\n        if (typeof k === \"function\") return k;else {\n          if (!_this3._aggs[k]) {\n            _this3._aggs[k] = function (a) {\n              var v = Array.from(new Set(a));\n              return v.length === 1 ? v[0] : v;\n            };\n          }\n\n          return accessor(k);\n        }\n      }), this;\n    }\n    /**\n        @memberof Network\n        @desc The list of nodes to be used for drawing the network. The value passed should either be an *Array* of data or a *String* representing a filepath or URL to be loaded.\n    Additionally, a custom formatting function can be passed as a second argument to this method. This custom function will be passed the data that has been loaded, as long as there are no errors. This function should return the final node *Array*.\n        @param {Array|String} *nodes* = []\n        @param {Function} [*formatter*]\n        @chainable\n    */\n\n  }, {\n    key: \"nodes\",\n    value: function nodes(_, f) {\n      if (arguments.length) {\n        var prev = this._queue.find(function (q) {\n          return q[3] === \"nodes\";\n        });\n\n        var d = [load.bind(this), _, f, \"nodes\"];\n        if (prev) this._queue[this._queue.indexOf(prev)] = d;else this._queue.push(d);\n        return this;\n      }\n\n      return this._nodes;\n    }\n    /**\n        @memberof Network\n        @desc If *value* is specified, sets the size accessor to the specified function or data key and returns the current class instance. If *value* is not specified, returns the current size accessor.\n        @param {Function|String} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"size\",\n    value: function size(_) {\n      return arguments.length ? (this._size = typeof _ === \"function\" || !_ ? _ : accessor(_), this) : this._size;\n    }\n    /**\n        @memberof Network\n        @desc Defines the maximum pixel radius used in size scaling. By default, the maximum size is determined by half the distance of the two closest nodes.\n        @param {Number} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"sizeMax\",\n    value: function sizeMax(_) {\n      return arguments.length ? (this._sizeMax = _, this) : this._sizeMax;\n    }\n    /**\n        @memberof Network\n        @desc Defines the minimum pixel radius used in size scaling.\n        @param {Number} [*value* = 5]\n        @chainable\n    */\n\n  }, {\n    key: \"sizeMin\",\n    value: function sizeMin(_) {\n      return arguments.length ? (this._sizeMin = _, this) : this._sizeMin;\n    }\n    /**\n        @memberof Network\n        @desc Sets the specific type of [continuous d3-scale](https://github.com/d3/d3-scale#continuous-scales) used when calculating the pixel size of nodes in the network.\n        @param {String} [*value* = \"sqrt\"]\n        @chainable\n    */\n\n  }, {\n    key: \"sizeScale\",\n    value: function sizeScale(_) {\n      return arguments.length ? (this._sizeScale = _, this) : this._sizeScale;\n    }\n    /**\n        @memberof Network\n        @desc If *value* is specified, sets the x accessor to the specified function or string matching a key in the data and returns the current class instance. The data passed to .data() takes priority over the .nodes() data array. If *value* is not specified, returns the current x accessor. By default, the x and y positions are determined dynamically based on default force layout properties.\n        @param {Function|String} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"x\",\n    value: function x(_) {\n      if (arguments.length) {\n        if (typeof _ === \"function\") this._x = _;else {\n          this._x = accessor(_);\n          if (!this._aggs[_]) this._aggs[_] = function (a) {\n            return mean(a);\n          };\n        }\n        return this;\n      } else return this._x;\n    }\n    /**\n        @memberof Network\n        @desc If *value* is specified, sets the y accessor to the specified function or string matching a key in the data and returns the current class instance. The data passed to .data() takes priority over the .nodes() data array. If *value* is not specified, returns the current y accessor. By default, the x and y positions are determined dynamically based on default force layout properties.\n        @param {Function|String} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"y\",\n    value: function y(_) {\n      if (arguments.length) {\n        if (typeof _ === \"function\") this._y = _;else {\n          this._y = accessor(_);\n          if (!this._aggs[_]) this._aggs[_] = function (a) {\n            return mean(a);\n          };\n        }\n        return this;\n      } else return this._y;\n    }\n  }]);\n\n  return Network;\n}(Viz);\n\nexport { Network as default };","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n/**\n    @external Viz\n    @see https://github.com/d3plus/d3plus-viz#Viz\n*/\nimport { extent, max, min } from \"d3-array\";\nimport { nest } from \"d3-collection\";\nimport * as scales from \"d3-scale\";\nimport { accessor, assign, configPrep, constant, elem } from \"d3plus-common\";\nimport { colorLegible } from \"d3plus-color\";\nimport * as shapes from \"d3plus-shape\";\nimport { dataLoad as load, Viz } from \"d3plus-viz\";\n/**\n    @class Rings\n    @extends external:Viz\n    @desc Creates a ring visualization based on a defined set of nodes and edges. [Click here](http://d3plus.org/examples/d3plus-network/simple-rings/) for help getting started using the Rings class.\n*/\n\nvar Rings =\n/*#__PURE__*/\nfunction (_Viz) {\n  _inherits(Rings, _Viz);\n\n  /**\n      @memberof Rings\n      @desc Invoked when creating a new class instance, and sets any default parameters.\n      @private\n  */\n  function Rings() {\n    var _this;\n\n    _classCallCheck(this, Rings);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Rings).call(this));\n    _this._links = [];\n    _this._linkSize = constant(1);\n    _this._linkSizeMin = 1;\n    _this._linkSizeScale = \"sqrt\";\n    _this._noDataMessage = false;\n    _this._nodes = [];\n\n    _this._on.mouseenter = function () {};\n\n    _this._on[\"mouseleave.shape\"] = function () {\n      _this.hover(false);\n    };\n\n    var defaultMouseMove = _this._on[\"mousemove.shape\"];\n\n    _this._on[\"mousemove.shape\"] = function (d, i) {\n      defaultMouseMove(d, i);\n\n      if (_this._focus && _this._focus === d.id) {\n        _this.hover(false);\n\n        _this._on.mouseenter.bind(_assertThisInitialized(_this))(d, i);\n\n        _this._focus = undefined;\n      } else {\n        var id = _this._nodeGroupBy && _this._nodeGroupBy[_this._drawDepth](d, i) ? _this._nodeGroupBy[_this._drawDepth](d, i) : _this._id(d, i),\n            links = _this._linkLookup[id],\n            node = _this._nodeLookup[id];\n        var filterIds = [node.id];\n        var xDomain = [node.x - node.r, node.x + node.r],\n            yDomain = [node.y - node.r, node.y + node.r];\n        links.forEach(function (l) {\n          filterIds.push(l.id);\n          if (l.x - l.r < xDomain[0]) xDomain[0] = l.x - l.r;\n          if (l.x + l.r > xDomain[1]) xDomain[1] = l.x + l.r;\n          if (l.y - l.r < yDomain[0]) yDomain[0] = l.y - l.r;\n          if (l.y + l.r > yDomain[1]) yDomain[1] = l.y + l.r;\n        });\n\n        _this.hover(function (h, x) {\n          if (h.source && h.target) return h.source.id === node.id || h.target.id === node.id;else return filterIds.includes(_this._ids(h, x)[_this._drawDepth]);\n        });\n      }\n    };\n\n    _this._on[\"click.shape\"] = function (d) {\n      _this._center = d.id;\n\n      _this._draw();\n    };\n\n    _this._sizeMin = 5;\n    _this._sizeScale = \"sqrt\";\n    _this._shape = constant(\"Circle\");\n    _this._shapeConfig = assign(_this._shapeConfig, {\n      ariaLabel: function ariaLabel(d, i) {\n        var validSize = _this._size ? \", \".concat(_this._size(d, i)) : \"\";\n        return \"\".concat(_this._drawLabel(d, i)).concat(validSize, \".\");\n      },\n      labelConfig: {\n        duration: 0,\n        fontMin: 1,\n        fontResize: true,\n        labelPadding: 0,\n        textAnchor: \"middle\",\n        verticalAlign: \"middle\"\n      },\n      Path: {\n        fill: \"none\",\n        label: false,\n        stroke: \"#eee\",\n        strokeWidth: 1\n      }\n    });\n    return _this;\n  }\n  /**\n      Extends the draw behavior of the abstract Viz class.\n      @private\n  */\n\n\n  _createClass(Rings, [{\n    key: \"_draw\",\n    value: function _draw(callback) {\n      var _this2 = this;\n\n      _get(_getPrototypeOf(Rings.prototype), \"_draw\", this).call(this, callback);\n\n      var data = this._filteredData.reduce(function (obj, d, i) {\n        obj[_this2._id(d, i)] = d;\n        return obj;\n      }, {});\n\n      var nodes = this._nodes;\n\n      if (!this._nodes.length && this._links.length) {\n        var nodeIds = Array.from(new Set(this._links.reduce(function (ids, link) {\n          return ids.concat([link.source, link.target]);\n        }, [])));\n        nodes = nodeIds.map(function (node) {\n          return _typeof(node) === \"object\" ? node : {\n            id: node\n          };\n        });\n      }\n\n      nodes = nodes.reduce(function (obj, d, i) {\n        obj[_this2._nodeGroupBy ? _this2._nodeGroupBy[_this2._drawDepth](d, i) : _this2._id(d, i)] = d;\n        return obj;\n      }, {});\n      nodes = Array.from(new Set(Object.keys(data).concat(Object.keys(nodes)))).map(function (id, i) {\n        var d = data[id],\n            n = nodes[id];\n        if (n === undefined) return false;\n        return {\n          __d3plus__: true,\n          data: d || n,\n          i: i,\n          id: id,\n          node: n,\n          shape: d !== undefined && _this2._shape(d) !== undefined ? _this2._shape(d) : _this2._shape(n)\n        };\n      }).filter(function (n) {\n        return n;\n      });\n      var nodeLookup = this._nodeLookup = nodes.reduce(function (obj, d) {\n        obj[d.id] = d;\n        return obj;\n      }, {});\n\n      var links = this._links.map(function (link) {\n        var check = [\"source\", \"target\"];\n        var edge = check.reduce(function (result, check) {\n          result[check] = typeof link[check] === \"number\" ? nodes[link[check]] : nodeLookup[link[check].id || link[check]];\n          return result;\n        }, {});\n        edge.size = _this2._linkSize(link);\n        return edge;\n      });\n\n      var linkMap = links.reduce(function (map, link) {\n        if (!map[link.source.id]) {\n          map[link.source.id] = [];\n        }\n\n        map[link.source.id].push(link);\n\n        if (!map[link.target.id]) {\n          map[link.target.id] = [];\n        }\n\n        map[link.target.id].push(link);\n        return map;\n      }, {});\n      var height = this._height - this._margin.top - this._margin.bottom,\n          transform = \"translate(\".concat(this._margin.left, \", \").concat(this._margin.top, \")\"),\n          transition = this._transition,\n          width = this._width - this._margin.left - this._margin.right;\n      var edges = [],\n          radius = min([height, width]) / 2,\n          ringWidth = radius / 3;\n      var primaryRing = ringWidth,\n          secondaryRing = ringWidth * 2;\n      var center = nodeLookup[this._center];\n      center.x = width / 2;\n      center.y = height / 2;\n      center.r = this._sizeMin ? max([this._sizeMin, primaryRing * .65]) : this._sizeMax ? min([this._sizeMax, primaryRing * .65]) : primaryRing * .65;\n      var claimed = [center],\n          primaries = [];\n\n      linkMap[this._center].forEach(function (edge) {\n        var node = edge.source.id === _this2._center ? edge.target : edge.source;\n        node.edges = linkMap[node.id].filter(function (link) {\n          return link.source.id !== _this2._center || link.target.id !== _this2._center;\n        });\n        node.edge = edge;\n        claimed.push(node);\n        primaries.push(node);\n      });\n\n      primaries.sort(function (a, b) {\n        return a.edges.length - b.edges.length;\n      });\n      var secondaries = [];\n      var totalEndNodes = 0;\n      primaries.forEach(function (p) {\n        var primaryId = p.id;\n        p.edges = p.edges.filter(function (edge) {\n          return !claimed.includes(edge.source) && edge.target.id === primaryId || !claimed.includes(edge.target) && edge.source.id === primaryId;\n        });\n        totalEndNodes += p.edges.length || 1;\n        p.edges.forEach(function (edge) {\n          var source = edge.source,\n              target = edge.target;\n          var claim = target.id === primaryId ? source : target;\n          claimed.push(claim);\n        });\n      });\n      var tau = Math.PI * 2;\n      var offset = 0;\n      primaries.forEach(function (p, i) {\n        var children = p.edges.length || 1;\n        var space = tau / totalEndNodes * children;\n\n        if (i === 0) {\n          offset -= space / 2;\n        }\n\n        var angle = offset + space / 2 - tau / 4;\n        p.radians = angle;\n        p.x = width / 2 + primaryRing * Math.cos(angle);\n        p.y = height / 2 + primaryRing * Math.sin(angle);\n        offset += space;\n        p.edges.forEach(function (edge, i) {\n          var node = edge.source.id === p.id ? edge.target : edge.source;\n          var s = tau / totalEndNodes;\n          var a = angle - s * children / 2 + s / 2 + s * i;\n          node.radians = a;\n          node.x = width / 2 + secondaryRing * Math.cos(a);\n          node.y = height / 2 + secondaryRing * Math.sin(a);\n          secondaries.push(node);\n        });\n      });\n      var primaryDistance = ringWidth / 2;\n      var secondaryDistance = ringWidth / 4;\n      var primaryMax = primaryDistance / 2 - 4;\n\n      if (primaryDistance / 2 - 4 < 8) {\n        primaryMax = min([primaryDistance / 2, 8]);\n      }\n\n      var secondaryMax = secondaryDistance / 2 - 4;\n\n      if (secondaryDistance / 2 - 4 < 4) {\n        secondaryMax = min([secondaryDistance / 2, 4]);\n      }\n\n      if (secondaryMax > ringWidth / 10) {\n        secondaryMax = ringWidth / 10;\n      }\n\n      if (secondaryMax > primaryMax && secondaryMax > 10) {\n        secondaryMax = primaryMax * .75;\n      }\n\n      if (primaryMax > secondaryMax * 1.5) {\n        primaryMax = secondaryMax * 1.5;\n      }\n\n      primaryMax = Math.floor(primaryMax);\n      secondaryMax = Math.floor(secondaryMax);\n      var radiusFn;\n\n      if (this._size) {\n        var domain = extent(data, function (d) {\n          return d.size;\n        });\n\n        if (domain[0] === domain[1]) {\n          domain[0] = 0;\n        }\n\n        radiusFn = scales.scaleLinear().domain(domain).rangeRound([3, min([primaryMax, secondaryMax])]);\n        var val = center.size;\n        center.r = radiusFn(val);\n      } else {\n        radiusFn = scales.scaleLinear().domain([1, 2]).rangeRound([primaryMax, secondaryMax]);\n      }\n\n      secondaries.forEach(function (s) {\n        s.ring = 2;\n        var val = _this2._size ? s.size : 2;\n        s.r = _this2._sizeMin ? max([_this2._sizeMin, radiusFn(val)]) : _this2._sizeMax ? min([_this2._sizeMax, radiusFn(val)]) : radiusFn(val);\n      });\n      primaries.forEach(function (p) {\n        p.ring = 1;\n        var val = _this2._size ? p.size : 1;\n        p.r = _this2._sizeMin ? max([_this2._sizeMin, radiusFn(val)]) : _this2._sizeMax ? min([_this2._sizeMax, radiusFn(val)]) : radiusFn(val);\n      });\n      nodes = [center].concat(primaries).concat(secondaries);\n      primaries.forEach(function (p) {\n        var check = [\"source\", \"target\"];\n        var edge = p.edge;\n        check.forEach(function (node) {\n          edge[node] = nodes.find(function (n) {\n            return n.id === edge[node].id;\n          });\n        });\n        edges.push(edge);\n        linkMap[p.id].forEach(function (edge) {\n          var node = edge.source.id === p.id ? edge.target : edge.source;\n\n          if (node.id !== center.id) {\n            var target = secondaries.find(function (s) {\n              return s.id === node.id;\n            });\n\n            if (!target) {\n              target = primaries.find(function (s) {\n                return s.id === node.id;\n              });\n            }\n\n            if (target) {\n              edge.spline = true;\n              var centerX = width / 2;\n              var centerY = height / 2;\n              var middleRing = primaryRing + (secondaryRing - primaryRing) * 0.5;\n              var _check = [\"source\", \"target\"];\n\n              _check.forEach(function (node, i) {\n                edge[\"\".concat(node, \"X\")] = edge[node].x + Math.cos(edge[node].ring === 2 ? edge[node].radians + Math.PI : edge[node].radians) * edge[node].r;\n                edge[\"\".concat(node, \"Y\")] = edge[node].y + Math.sin(edge[node].ring === 2 ? edge[node].radians + Math.PI : edge[node].radians) * edge[node].r;\n                edge[\"\".concat(node, \"BisectX\")] = centerX + middleRing * Math.cos(edge[node].radians);\n                edge[\"\".concat(node, \"BisectY\")] = centerY + middleRing * Math.sin(edge[node].radians);\n                edge[node] = nodes.find(function (n) {\n                  return n.id === edge[node].id;\n                });\n                if (edge[node].edges === undefined) edge[node].edges = {};\n                var oppId = i === 0 ? edge.target.id : edge.source.id;\n\n                if (edge[node].id === p.id) {\n                  edge[node].edges[oppId] = {\n                    angle: p.radians + Math.PI,\n                    radius: ringWidth / 2\n                  };\n                } else {\n                  edge[node].edges[oppId] = {\n                    angle: target.radians,\n                    radius: ringWidth / 2\n                  };\n                }\n              });\n\n              edges.push(edge);\n            }\n          }\n        });\n      });\n      nodes.forEach(function (node) {\n        if (node.id !== _this2._center) {\n          var fontSize = _this2._shapeConfig.labelConfig.fontSize && _this2._shapeConfig.labelConfig.fontSize(node) || 11;\n          var lineHeight = fontSize * 1.4;\n\n          var _height = lineHeight * 2;\n\n          var padding = 5;\n\n          var _width = ringWidth - node.r;\n\n          var angle = node.radians * (180 / Math.PI);\n          var x = node.r + padding;\n          var textAnchor = \"start\";\n\n          if (angle < -90 || angle > 90) {\n            x = -node.r - _width - padding;\n            textAnchor = \"end\";\n            angle += 180;\n          }\n\n          node.labelBounds = {\n            x: x,\n            y: -lineHeight / 2,\n            width: _width,\n            height: _height\n          };\n          node.rotate = angle;\n          node.textAnchor = textAnchor;\n        } else {\n          node.labelBounds = {\n            x: -primaryRing / 2,\n            y: -primaryRing / 2,\n            width: primaryRing,\n            height: primaryRing\n          };\n        }\n      });\n      this._linkLookup = links.reduce(function (obj, d) {\n        if (!obj[d.source.id]) obj[d.source.id] = [];\n        obj[d.source.id].push(d.target);\n        if (!obj[d.target.id]) obj[d.target.id] = [];\n        obj[d.target.id].push(d.source);\n        return obj;\n      }, {});\n      var strokeExtent = extent(links, function (d) {\n        return d.size;\n      });\n\n      if (strokeExtent[0] !== strokeExtent[1]) {\n        var _radius = min(nodes, function (d) {\n          return d.r;\n        });\n\n        var strokeScale = scales[\"scale\".concat(this._linkSizeScale.charAt(0).toUpperCase()).concat(this._linkSizeScale.slice(1))]().domain(strokeExtent).range([this._linkSizeMin, _radius]);\n        links.forEach(function (link) {\n          link.size = strokeScale(link.size);\n        });\n      }\n\n      var linkConfig = configPrep.bind(this)(this._shapeConfig, \"edge\", \"Path\");\n      delete linkConfig.on;\n\n      this._shapes.push(new shapes.Path().config(linkConfig).strokeWidth(function (d) {\n        return d.size;\n      }).id(function (d) {\n        return \"\".concat(d.source.id, \"_\").concat(d.target.id);\n      }).d(function (d) {\n        return d.spline ? \"M\".concat(d.sourceX, \",\").concat(d.sourceY, \"C\").concat(d.sourceBisectX, \",\").concat(d.sourceBisectY, \" \").concat(d.targetBisectX, \",\").concat(d.targetBisectY, \" \").concat(d.targetX, \",\").concat(d.targetY) : \"M\".concat(d.source.x, \",\").concat(d.source.y, \" \").concat(d.target.x, \",\").concat(d.target.y);\n      }).data(edges).select(elem(\"g.d3plus-rings-links\", {\n        parent: this._select,\n        transition: transition,\n        enter: {\n          transform: transform\n        },\n        update: {\n          transform: transform\n        }\n      }).node()).render());\n\n      var that = this;\n      var shapeConfig = {\n        label: function label(d) {\n          return nodes.length <= _this2._dataCutoff || _this2._hover && _this2._hover(d) || _this2._active && _this2._active(d) ? _this2._drawLabel(d.data || d.node, d.i) : false;\n        },\n        labelBounds: function labelBounds(d) {\n          return d.labelBounds;\n        },\n        labelConfig: {\n          fontColor: function fontColor(d) {\n            return d.id === _this2._center ? configPrep.bind(that)(that._shapeConfig, \"shape\", d.key).labelConfig.fontColor(d) : colorLegible(configPrep.bind(that)(that._shapeConfig, \"shape\", d.key).fill(d));\n          },\n          fontResize: function fontResize(d) {\n            return d.id === _this2._center;\n          },\n          padding: 0,\n          textAnchor: function textAnchor(d) {\n            return nodeLookup[d.id].textAnchor || configPrep.bind(that)(that._shapeConfig, \"shape\", d.key).labelConfig.textAnchor;\n          },\n          verticalAlign: function verticalAlign(d) {\n            return d.id === _this2._center ? \"middle\" : \"top\";\n          }\n        },\n        rotate: function rotate(d) {\n          return nodeLookup[d.id].rotate || 0;\n        },\n        select: elem(\"g.d3plus-rings-nodes\", {\n          parent: this._select,\n          transition: transition,\n          enter: {\n            transform: transform\n          },\n          update: {\n            transform: transform\n          }\n        }).node()\n      };\n      nest().key(function (d) {\n        return d.shape;\n      }).entries(nodes).forEach(function (d) {\n        _this2._shapes.push(new shapes[d.key]().config(configPrep.bind(_this2)(_this2._shapeConfig, \"shape\", d.key)).config(shapeConfig).data(d.values).render());\n      });\n      return this;\n    }\n    /**\n     @memberof Rings\n     @desc Sets the center node to be the node with the given id.\n     @param {String}\n     @chainable\n     */\n\n  }, {\n    key: \"center\",\n    value: function center(_) {\n      return arguments.length ? (this._center = _, this) : this._center;\n    }\n    /**\n        @memberof Rings\n        @desc If *value* is specified, sets the hover method to the specified function and returns the current class instance.\n        @param {Function} [*value*]\n        @chainable\n     */\n\n  }, {\n    key: \"hover\",\n    value: function hover(_) {\n      this._hover = _;\n\n      this._shapes.forEach(function (s) {\n        return s.hover(_);\n      });\n\n      if (this._legend) this._legendClass.hover(_);\n      return this;\n    }\n    /**\n        @memberof Rings\n        @desc A predefined *Array* of edges that connect each object passed to the [node](#Rings.node) method. The `source` and `target` keys in each link need to map to the nodes in one of three ways:\n    1. The index of the node in the nodes array (as in [this](http://d3plus.org/examples/d3plus-network/getting-started/) example).\n    2. The actual node *Object* itself.\n    3. A *String* value matching the `id` of the node.\n    The value passed should either be an *Array* of data or a *String* representing a filepath or URL to be loaded. An optional formatting function can be passed as a second argument to this method. This custom function will be passed the data that has been loaded, as long as there are no errors. This function should return the final links *Array*.\n        @param {Array|String} *links* = []\n        @param {Function} [*formatter*]\n        @chainable\n    */\n\n  }, {\n    key: \"links\",\n    value: function links(_, f) {\n      if (arguments.length) {\n        var prev = this._queue.find(function (q) {\n          return q[3] === \"links\";\n        });\n\n        var d = [load.bind(this), _, f, \"links\"];\n        if (prev) this._queue[this._queue.indexOf(prev)] = d;else this._queue.push(d);\n        return this;\n      }\n\n      return this._links;\n    }\n    /**\n        @memberof Network\n        @desc Defines the thickness of the links connecting each node. The value provided can be either a pixel Number to be used for all links, or an accessor function that returns a specific data value to be used in an automatically calculated linear scale.\n        @param {Function|Name} [*value* = 1]\n        @chainable\n    */\n\n  }, {\n    key: \"linkSize\",\n    value: function linkSize(_) {\n      return arguments.length ? (this._linkSize = typeof _ === \"function\" ? _ : constant(_), this) : this._linkSize;\n    }\n    /**\n        @memberof Network\n        @desc Defines the minimum pixel stroke width used in link sizing.\n        @param {Number} [*value* = 2]\n        @chainable\n    */\n\n  }, {\n    key: \"linkSizeMin\",\n    value: function linkSizeMin(_) {\n      return arguments.length ? (this._linkSizeMin = _, this) : this._linkSizeMin;\n    }\n    /**\n        @memberof Network\n        @desc Sets the specific type of [continuous d3-scale](https://github.com/d3/d3-scale#continuous-scales) used when calculating the pixel size of links in the network.\n        @param {String} [*value* = \"sqrt\"]\n        @chainable\n    */\n\n  }, {\n    key: \"linkSizeScale\",\n    value: function linkSizeScale(_) {\n      return arguments.length ? (this._linkSizeScale = _, this) : this._linkSizeScale;\n    }\n    /**\n        @memberof Rings\n        @desc If *value* is specified, sets the node group accessor(s) to the specified string, function, or array of values and returns the current class instance. This method overrides the default .groupBy() function from being used with the data passed to .nodes(). If *value* is not specified, returns the current node group accessor.\n        @param {String|Function|Array} [*value* = undefined]\n        @chainable\n    */\n\n  }, {\n    key: \"nodeGroupBy\",\n    value: function nodeGroupBy(_) {\n      var _this3 = this;\n\n      if (!arguments.length) return this._nodeGroupBy;\n      if (!(_ instanceof Array)) _ = [_];\n      return this._nodeGroupBy = _.map(function (k) {\n        if (typeof k === \"function\") return k;else {\n          if (!_this3._aggs[k]) {\n            _this3._aggs[k] = function (a) {\n              var v = Array.from(new Set(a));\n              return v.length === 1 ? v[0] : v;\n            };\n          }\n\n          return accessor(k);\n        }\n      }), this;\n    }\n    /**\n        @memberof Rings\n        @desc The list of nodes to be used for drawing the rings network. The value passed should either be an *Array* of data or a *String* representing a filepath or URL to be loaded.\n    Additionally, a custom formatting function can be passed as a second argument to this method. This custom function will be passed the data that has been loaded, as long as there are no errors. This function should return the final node *Array*.\n        @param {Array|String} *nodes* = []\n        @param {Function} [*formatter*]\n        @chainable\n    */\n\n  }, {\n    key: \"nodes\",\n    value: function nodes(_, f) {\n      if (arguments.length) {\n        var prev = this._queue.find(function (q) {\n          return q[3] === \"nodes\";\n        });\n\n        var d = [load.bind(this), _, f, \"nodes\"];\n        if (prev) this._queue[this._queue.indexOf(prev)] = d;else this._queue.push(d);\n        return this;\n      }\n\n      return this._nodes;\n    }\n    /**\n        @memberof Rings\n        @desc If *value* is specified, sets the size accessor to the specified function or data key and returns the current class instance. If *value* is not specified, returns the current size accessor.\n        @param {Function|String} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"size\",\n    value: function size(_) {\n      return arguments.length ? (this._size = typeof _ === \"function\" || !_ ? _ : accessor(_), this) : this._size;\n    }\n    /**\n        @memberof Rings\n        @desc If *value* is specified, sets the size scale maximum to the specified number and returns the current class instance. If *value* is not specified, returns the current size scale maximum. By default, the maximum size is determined by half the distance of the two closest nodes.\n        @param {Number} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"sizeMax\",\n    value: function sizeMax(_) {\n      return arguments.length ? (this._sizeMax = _, this) : this._sizeMax;\n    }\n    /**\n        @memberof Rings\n        @desc If *value* is specified, sets the size scale minimum to the specified number and returns the current class instance. If *value* is not specified, returns the current size scale minimum.\n        @param {Number} [*value* = 5]\n        @chainable\n    */\n\n  }, {\n    key: \"sizeMin\",\n    value: function sizeMin(_) {\n      return arguments.length ? (this._sizeMin = _, this) : this._sizeMin;\n    }\n    /**\n        @memberof Rings\n        @desc If *value* is specified, sets the size scale to the specified string and returns the current class instance. If *value* is not specified, returns the current size scale.\n        @param {String} [*value* = \"sqrt\"]\n        @chainable\n    */\n\n  }, {\n    key: \"sizeScale\",\n    value: function sizeScale(_) {\n      return arguments.length ? (this._sizeScale = _, this) : this._sizeScale;\n    }\n  }]);\n\n  return Rings;\n}(Viz);\n\nexport { Rings as default };","import {min} from \"d3-array\";\n\nfunction targetDepth(d) {\n  return d.target.depth;\n}\n\nexport function left(node) {\n  return node.depth;\n}\n\nexport function right(node, n) {\n  return n - 1 - node.height;\n}\n\nexport function justify(node, n) {\n  return node.sourceLinks.length ? node.depth : n - 1;\n}\n\nexport function center(node) {\n  return node.targetLinks.length ? node.depth\n      : node.sourceLinks.length ? min(node.sourceLinks, targetDepth) - 1\n      : 0;\n}\n","export default function constant(x) {\n  return function() {\n    return x;\n  };\n}\n","import {ascending, min, sum} from \"d3-array\";\nimport {map, nest} from \"d3-collection\";\nimport {justify} from \"./align\";\nimport constant from \"./constant\";\n\nfunction ascendingSourceBreadth(a, b) {\n  return ascendingBreadth(a.source, b.source) || a.index - b.index;\n}\n\nfunction ascendingTargetBreadth(a, b) {\n  return ascendingBreadth(a.target, b.target) || a.index - b.index;\n}\n\nfunction ascendingBreadth(a, b) {\n  return a.y0 - b.y0;\n}\n\nfunction value(d) {\n  return d.value;\n}\n\nfunction nodeCenter(node) {\n  return (node.y0 + node.y1) / 2;\n}\n\nfunction weightedSource(link) {\n  return nodeCenter(link.source) * link.value;\n}\n\nfunction weightedTarget(link) {\n  return nodeCenter(link.target) * link.value;\n}\n\nfunction defaultId(d) {\n  return d.index;\n}\n\nfunction defaultNodes(graph) {\n  return graph.nodes;\n}\n\nfunction defaultLinks(graph) {\n  return graph.links;\n}\n\nfunction find(nodeById, id) {\n  var node = nodeById.get(id);\n  if (!node) throw new Error(\"missing: \" + id);\n  return node;\n}\n\nexport default function() {\n  var x0 = 0, y0 = 0, x1 = 1, y1 = 1, // extent\n      dx = 24, // nodeWidth\n      py = 8, // nodePadding\n      id = defaultId,\n      align = justify,\n      nodes = defaultNodes,\n      links = defaultLinks,\n      iterations = 32;\n\n  function sankey() {\n    var graph = {nodes: nodes.apply(null, arguments), links: links.apply(null, arguments)};\n    computeNodeLinks(graph);\n    computeNodeValues(graph);\n    computeNodeDepths(graph);\n    computeNodeBreadths(graph, iterations);\n    computeLinkBreadths(graph);\n    return graph;\n  }\n\n  sankey.update = function(graph) {\n    computeLinkBreadths(graph);\n    return graph;\n  };\n\n  sankey.nodeId = function(_) {\n    return arguments.length ? (id = typeof _ === \"function\" ? _ : constant(_), sankey) : id;\n  };\n\n  sankey.nodeAlign = function(_) {\n    return arguments.length ? (align = typeof _ === \"function\" ? _ : constant(_), sankey) : align;\n  };\n\n  sankey.nodeWidth = function(_) {\n    return arguments.length ? (dx = +_, sankey) : dx;\n  };\n\n  sankey.nodePadding = function(_) {\n    return arguments.length ? (py = +_, sankey) : py;\n  };\n\n  sankey.nodes = function(_) {\n    return arguments.length ? (nodes = typeof _ === \"function\" ? _ : constant(_), sankey) : nodes;\n  };\n\n  sankey.links = function(_) {\n    return arguments.length ? (links = typeof _ === \"function\" ? _ : constant(_), sankey) : links;\n  };\n\n  sankey.size = function(_) {\n    return arguments.length ? (x0 = y0 = 0, x1 = +_[0], y1 = +_[1], sankey) : [x1 - x0, y1 - y0];\n  };\n\n  sankey.extent = function(_) {\n    return arguments.length ? (x0 = +_[0][0], x1 = +_[1][0], y0 = +_[0][1], y1 = +_[1][1], sankey) : [[x0, y0], [x1, y1]];\n  };\n\n  sankey.iterations = function(_) {\n    return arguments.length ? (iterations = +_, sankey) : iterations;\n  };\n\n  // Populate the sourceLinks and targetLinks for each node.\n  // Also, if the source and target are not objects, assume they are indices.\n  function computeNodeLinks(graph) {\n    graph.nodes.forEach(function(node, i) {\n      node.index = i;\n      node.sourceLinks = [];\n      node.targetLinks = [];\n    });\n    var nodeById = map(graph.nodes, id);\n    graph.links.forEach(function(link, i) {\n      link.index = i;\n      var source = link.source, target = link.target;\n      if (typeof source !== \"object\") source = link.source = find(nodeById, source);\n      if (typeof target !== \"object\") target = link.target = find(nodeById, target);\n      source.sourceLinks.push(link);\n      target.targetLinks.push(link);\n    });\n  }\n\n  // Compute the value (size) of each node by summing the associated links.\n  function computeNodeValues(graph) {\n    graph.nodes.forEach(function(node) {\n      node.value = Math.max(\n        sum(node.sourceLinks, value),\n        sum(node.targetLinks, value)\n      );\n    });\n  }\n\n  // Iteratively assign the depth (x-position) for each node.\n  // Nodes are assigned the maximum depth of incoming neighbors plus one;\n  // nodes with no incoming links are assigned depth zero, while\n  // nodes with no outgoing links are assigned the maximum depth.\n  function computeNodeDepths(graph) {\n    var nodes, next, x;\n\n    for (nodes = graph.nodes, next = [], x = 0; nodes.length; ++x, nodes = next, next = []) {\n      nodes.forEach(function(node) {\n        node.depth = x;\n        node.sourceLinks.forEach(function(link) {\n          if (next.indexOf(link.target) < 0) {\n            next.push(link.target);\n          }\n        });\n      });\n    }\n\n    for (nodes = graph.nodes, next = [], x = 0; nodes.length; ++x, nodes = next, next = []) {\n      nodes.forEach(function(node) {\n        node.height = x;\n        node.targetLinks.forEach(function(link) {\n          if (next.indexOf(link.source) < 0) {\n            next.push(link.source);\n          }\n        });\n      });\n    }\n\n    var kx = (x1 - x0 - dx) / (x - 1);\n    graph.nodes.forEach(function(node) {\n      node.x1 = (node.x0 = x0 + Math.max(0, Math.min(x - 1, Math.floor(align.call(null, node, x)))) * kx) + dx;\n    });\n  }\n\n  function computeNodeBreadths(graph) {\n    var columns = nest()\n        .key(function(d) { return d.x0; })\n        .sortKeys(ascending)\n        .entries(graph.nodes)\n        .map(function(d) { return d.values; });\n\n    //\n    initializeNodeBreadth();\n    resolveCollisions();\n    for (var alpha = 1, n = iterations; n > 0; --n) {\n      relaxRightToLeft(alpha *= 0.99);\n      resolveCollisions();\n      relaxLeftToRight(alpha);\n      resolveCollisions();\n    }\n\n    function initializeNodeBreadth() {\n      var ky = min(columns, function(nodes) {\n        return (y1 - y0 - (nodes.length - 1) * py) / sum(nodes, value);\n      });\n\n      columns.forEach(function(nodes) {\n        nodes.forEach(function(node, i) {\n          node.y1 = (node.y0 = i) + node.value * ky;\n        });\n      });\n\n      graph.links.forEach(function(link) {\n        link.width = link.value * ky;\n      });\n    }\n\n    function relaxLeftToRight(alpha) {\n      columns.forEach(function(nodes) {\n        nodes.forEach(function(node) {\n          if (node.targetLinks.length) {\n            var dy = (sum(node.targetLinks, weightedSource) / sum(node.targetLinks, value) - nodeCenter(node)) * alpha;\n            node.y0 += dy, node.y1 += dy;\n          }\n        });\n      });\n    }\n\n    function relaxRightToLeft(alpha) {\n      columns.slice().reverse().forEach(function(nodes) {\n        nodes.forEach(function(node) {\n          if (node.sourceLinks.length) {\n            var dy = (sum(node.sourceLinks, weightedTarget) / sum(node.sourceLinks, value) - nodeCenter(node)) * alpha;\n            node.y0 += dy, node.y1 += dy;\n          }\n        });\n      });\n    }\n\n    function resolveCollisions() {\n      columns.forEach(function(nodes) {\n        var node,\n            dy,\n            y = y0,\n            n = nodes.length,\n            i;\n\n        // Push any overlapping nodes down.\n        nodes.sort(ascendingBreadth);\n        for (i = 0; i < n; ++i) {\n          node = nodes[i];\n          dy = y - node.y0;\n          if (dy > 0) node.y0 += dy, node.y1 += dy;\n          y = node.y1 + py;\n        }\n\n        // If the bottommost node goes outside the bounds, push it back up.\n        dy = y - py - y1;\n        if (dy > 0) {\n          y = (node.y0 -= dy), node.y1 -= dy;\n\n          // Push any overlapping nodes back up.\n          for (i = n - 2; i >= 0; --i) {\n            node = nodes[i];\n            dy = node.y1 + py - y;\n            if (dy > 0) node.y0 -= dy, node.y1 -= dy;\n            y = node.y0;\n          }\n        }\n      });\n    }\n  }\n\n  function computeLinkBreadths(graph) {\n    graph.nodes.forEach(function(node) {\n      node.sourceLinks.sort(ascendingTargetBreadth);\n      node.targetLinks.sort(ascendingSourceBreadth);\n    });\n    graph.nodes.forEach(function(node) {\n      var y0 = node.y0, y1 = y0;\n      node.sourceLinks.forEach(function(link) {\n        link.y0 = y0 + link.width / 2, y0 += link.width;\n      });\n      node.targetLinks.forEach(function(link) {\n        link.y1 = y1 + link.width / 2, y1 += link.width;\n      });\n    });\n  }\n\n  return sankey;\n}\n","import {linkHorizontal} from \"d3-shape\";\n\nfunction horizontalSource(d) {\n  return [d.source.x1, d.y0];\n}\n\nfunction horizontalTarget(d) {\n  return [d.target.x0, d.y1];\n}\n\nexport default function() {\n  return linkHorizontal()\n      .source(horizontalSource)\n      .target(horizontalTarget);\n}\n","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n/**\n    @external Viz\n    @see https://github.com/d3plus/d3plus-viz#Viz\n*/\nimport { nest } from \"d3-collection\";\nimport { sankey, sankeyCenter, sankeyJustify, sankeyLeft, sankeyLinkHorizontal, sankeyRight } from \"d3-sankey\";\nvar sankeyAligns = {\n  center: sankeyCenter,\n  justify: sankeyJustify,\n  left: sankeyLeft,\n  right: sankeyRight\n};\nimport { accessor, assign, configPrep, constant, elem } from \"d3plus-common\";\nimport { Path } from \"d3plus-shape\";\nimport * as shapes from \"d3plus-shape\";\nimport { dataLoad as load, Viz } from \"d3plus-viz\";\n/**\n    @class Sankey\n    @extends external:Viz\n    @desc Creates a sankey visualization based on a defined set of nodes and links. [Click here](http://d3plus.org/examples/d3plus-network/sankey-diagram/) for help getting started using the Sankey class.\n*/\n\nvar Sankey =\n/*#__PURE__*/\nfunction (_Viz) {\n  _inherits(Sankey, _Viz);\n\n  /**\n      @memberof Sankey\n      @desc Invoked when creating a new class instance, and sets any default parameters.\n      @private\n  */\n  function Sankey() {\n    var _this;\n\n    _classCallCheck(this, Sankey);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Sankey).call(this));\n    _this._nodeId = accessor(\"id\");\n    _this._links = accessor(\"links\");\n    _this._linksSource = \"source\";\n    _this._linksTarget = \"target\";\n    _this._noDataMessage = false;\n    _this._nodes = accessor(\"nodes\");\n    _this._nodeAlign = sankeyAligns.justify;\n    _this._nodePadding = 8;\n    _this._nodeWidth = 30;\n\n    _this._on.mouseenter = function () {};\n\n    _this._on[\"mouseleave.shape\"] = function () {\n      _this.hover(false);\n    };\n\n    var defaultMouseMove = _this._on[\"mousemove.shape\"];\n\n    _this._on[\"mousemove.shape\"] = function (d, i) {\n      defaultMouseMove(d, i);\n\n      if (_this._focus && _this._focus === d.id) {\n        _this.hover(false);\n\n        _this._on.mouseenter.bind(_assertThisInitialized(_this))(d, i);\n\n        _this._focus = undefined;\n      } else {\n        var id = _this._nodeId(d, i),\n            node = _this._nodeLookup[id],\n            nodeLookup = Object.keys(_this._nodeLookup).reduce(function (all, item) {\n          all[_this._nodeLookup[item]] = !isNaN(item) ? parseInt(item, 10) : item;\n          return all;\n        }, {});\n\n        var links = _this._linkLookup[node];\n        var filterIds = [id];\n        links.forEach(function (l) {\n          filterIds.push(nodeLookup[l]);\n        });\n\n        _this.hover(function (h, x) {\n          if (h.source && h.target) {\n            return h.source.id === id || h.target.id === id;\n          } else {\n            return filterIds.includes(_this._nodeId(h, x));\n          }\n        });\n      }\n    };\n\n    _this._path = sankeyLinkHorizontal();\n    _this._sankey = sankey();\n    _this._shape = constant(\"Rect\");\n    _this._shapeConfig = assign(_this._shapeConfig, {\n      Path: {\n        fill: \"none\",\n        hoverStyle: {\n          \"stroke-width\": function strokeWidth(d) {\n            return Math.max(1, Math.abs(d.source.y1 - d.source.y0) * (d.value / d.source.value) - 2);\n          }\n        },\n        label: false,\n        stroke: \"#DBDBDB\",\n        strokeOpacity: 0.5,\n        strokeWidth: function strokeWidth(d) {\n          return Math.max(1, Math.abs(d.source.y1 - d.source.y0) * (d.value / d.source.value) - 2);\n        }\n      },\n      Rect: {}\n    });\n    _this._value = constant(1);\n    return _this;\n  }\n  /**\n      Extends the draw behavior of the abstract Viz class.\n      @private\n  */\n\n\n  _createClass(Sankey, [{\n    key: \"_draw\",\n    value: function _draw(callback) {\n      var _this2 = this;\n\n      _get(_getPrototypeOf(Sankey.prototype), \"_draw\", this).call(this, callback);\n\n      var height = this._height - this._margin.top - this._margin.bottom,\n          width = this._width - this._margin.left - this._margin.right;\n\n      var _nodes = Array.isArray(this._nodes) ? this._nodes : this._links.reduce(function (all, d) {\n        if (!all.includes(d[_this2._linksSource])) all.push(d[_this2._linksSource]);\n        if (!all.includes(d[_this2._linksTarget])) all.push(d[_this2._linksTarget]);\n        return all;\n      }, []).map(function (id) {\n        return {\n          id: id\n        };\n      });\n\n      var nodes = _nodes.map(function (n, i) {\n        return {\n          __d3plus__: true,\n          data: n,\n          i: i,\n          id: _this2._nodeId(n, i),\n          node: n,\n          shape: \"Rect\"\n        };\n      });\n\n      var nodeLookup = this._nodeLookup = nodes.reduce(function (obj, d, i) {\n        obj[d.id] = i;\n        return obj;\n      }, {});\n\n      var links = this._links.map(function (link, i) {\n        var check = [_this2._linksSource, _this2._linksTarget];\n        var linkLookup = check.reduce(function (result, item) {\n          result[item] = nodeLookup[link[item]];\n          return result;\n        }, {});\n        return {\n          source: linkLookup[_this2._linksSource],\n          target: linkLookup[_this2._linksTarget],\n          value: _this2._value(link, i)\n        };\n      });\n\n      this._linkLookup = links.reduce(function (obj, d) {\n        if (!obj[d.source]) obj[d.source] = [];\n        obj[d.source].push(d.target);\n        if (!obj[d.target]) obj[d.target] = [];\n        obj[d.target].push(d.source);\n        return obj;\n      }, {});\n      var transform = \"translate(\".concat(this._margin.left, \", \").concat(this._margin.top, \")\");\n\n      this._sankey.nodeAlign(this._nodeAlign).nodePadding(this._nodePadding).nodeWidth(this._nodeWidth).nodes(nodes).links(links).size([width, height])();\n\n      this._shapes.push(new Path().config(this._shapeConfig.Path).data(links).d(this._path).select(elem(\"g.d3plus-Links\", {\n        parent: this._select,\n        enter: {\n          transform: transform\n        },\n        update: {\n          transform: transform\n        }\n      }).node()).render());\n\n      nest().key(function (d) {\n        return d.shape;\n      }).entries(nodes).forEach(function (d) {\n        _this2._shapes.push(new shapes[d.key]().data(d.values).height(function (d) {\n          return d.y1 - d.y0;\n        }).width(function (d) {\n          return d.x1 - d.x0;\n        }).x(function (d) {\n          return (d.x1 + d.x0) / 2;\n        }).y(function (d) {\n          return (d.y1 + d.y0) / 2;\n        }).select(elem(\"g.d3plus-sankey-nodes\", {\n          parent: _this2._select,\n          enter: {\n            transform: transform\n          },\n          update: {\n            transform: transform\n          }\n        }).node()).config(configPrep.bind(_this2)(_this2._shapeConfig, \"shape\", d.key)).render());\n      });\n      return this;\n    }\n    /**\n        @memberof Sankey\n        @desc If *value* is specified, sets the hover method to the specified function and returns the current class instance.\n        @param {Function} [*value*]\n        @chainable\n     */\n\n  }, {\n    key: \"hover\",\n    value: function hover(_) {\n      this._hover = _;\n\n      this._shapes.forEach(function (s) {\n        return s.hover(_);\n      });\n\n      if (this._legend) this._legendClass.hover(_);\n      return this;\n    }\n    /**\n        @memberof Sankey\n        @desc A predefined *Array* of edges that connect each object passed to the [node](#Sankey.node) method. The `source` and `target` keys in each link need to map to the nodes in one of one way:\n    1. A *String* value matching the `id` of the node.\n    The value passed should be an *Array* of data. An optional formatting function can be passed as a second argument to this method. This custom function will be passed the data that has been loaded, as long as there are no errors. This function should return the final links *Array*.\n        @param {Array} *links* = []\n        @chainable\n    */\n\n  }, {\n    key: \"links\",\n    value: function links(_, f) {\n      if (arguments.length) {\n        var prev = this._queue.find(function (q) {\n          return q[3] === \"links\";\n        });\n\n        var d = [load.bind(this), _, f, \"links\"];\n        if (prev) this._queue[this._queue.indexOf(prev)] = d;else this._queue.push(d);\n        return this;\n      }\n\n      return this._links;\n    }\n    /**\n        @memberof Sankey\n        @desc The key inside of each link Object that references the source node.\n        @param {String} [*value* = \"source\"]\n        @chainable\n    */\n\n  }, {\n    key: \"linksSource\",\n    value: function linksSource(_) {\n      return arguments.length ? (this._linksSource = _, this) : this._linksSource;\n    }\n    /**\n        @memberof Sankey\n        @desc The key inside of each link Object that references the target node.\n        @param {String} [*value* = \"target\"]\n        @chainable\n    */\n\n  }, {\n    key: \"linksTarget\",\n    value: function linksTarget(_) {\n      return arguments.length ? (this._linksTarget = _, this) : this._linksTarget;\n    }\n    /**\n        @memberof Sankey\n        @desc Sets the nodeAlign property of the sankey layout, which can either be \"left\", \"right\", \"center\", or \"justify\".\n        @param {Function|String} [*value* = \"justify\"]\n        @chainable\n    */\n\n  }, {\n    key: \"nodeAlign\",\n    value: function nodeAlign(_) {\n      return arguments.length ? (this._nodeAlign = typeof _ === \"function\" ? _ : sankeyAligns[_], this) : this._nodeAlign;\n    }\n    /**\n        @memberof Sankey\n        @desc If *value* is specified, sets the node id accessor(s) to the specified array of values and returns the current class instance. If *value* is not specified, returns the current node group accessor.\n        @param {String} [*value* = \"id\"]\n        @chainable\n    */\n\n  }, {\n    key: \"nodeId\",\n    value: function nodeId(_) {\n      return arguments.length ? (this._nodeId = typeof _ === \"function\" ? _ : accessor(_), this) : this._nodeId;\n    }\n    /**\n        @memberof Sankey\n        @desc The list of nodes to be used for drawing the network. The value passed must be an *Array* of data.\n    Additionally, a custom formatting function can be passed as a second argument to this method. This custom function will be passed the data that has been loaded, as long as there are no errors. This function should return the final node *Array*.\n        @param {Array} *nodes* = []\n        @chainable\n    */\n\n  }, {\n    key: \"nodes\",\n    value: function nodes(_, f) {\n      if (arguments.length) {\n        var prev = this._queue.find(function (q) {\n          return q[3] === \"nodes\";\n        });\n\n        var d = [load.bind(this), _, f, \"nodes\"];\n        if (prev) this._queue[this._queue.indexOf(prev)] = d;else this._queue.push(d);\n        return this;\n      }\n\n      return this._nodes;\n    }\n    /**\n        @memberof Sankey\n        @desc If *value* is specified, sets the padding of the node and returns the current class instance. If *value* is not specified, returns the current nodePadding. By default, the nodePadding size is 8.\n        @param {Number} [*value* = 8]\n        @chainable\n    */\n\n  }, {\n    key: \"nodePadding\",\n    value: function nodePadding(_) {\n      return arguments.length ? (this._nodePadding = _, this) : this._nodePadding;\n    }\n    /**\n        @memberof Sankey\n        @desc If *value* is specified, sets the width of the node and returns the current class instance. If *value* is not specified, returns the current nodeWidth. By default, the nodeWidth size is 30.\n        @param {Number} [*value* = 30]\n        @chainable\n    */\n\n  }, {\n    key: \"nodeWidth\",\n    value: function nodeWidth(_) {\n      return arguments.length ? (this._nodeWidth = _, this) : this._nodeWidth;\n    }\n    /**\n        @memberof Sankey\n        @desc If *value* is specified, sets the width of the links and returns the current class instance. If *value* is not specified, returns the current value accessor.\n        @param {Function|Number} *value*\n        @example\n    function value(d) {\n    return d.value;\n    }\n    */\n\n  }, {\n    key: \"value\",\n    value: function value(_) {\n      return arguments.length ? (this._value = typeof _ === \"function\" ? _ : accessor(_), this) : this._value;\n    }\n  }]);\n\n  return Sankey;\n}(Viz);\n\nexport { Sankey as default };","/**\n * Adds left/right padding to a point or time scale.\n * @private\n */\nexport default (function (scale, data, discrete) {\n  if (scale.padding) scale.padding(0.5);else {\n    var closest = data.map(function (d) {\n      return d[discrete];\n    }).reduce(function (acc, curr, i, arr) {\n      if (!i) return acc;\n      var prev = arr[i - 1];\n      if (!acc || curr - prev < acc) return curr - prev;else return acc;\n    }, 0);\n    var domain = scale.domain().slice();\n    if (discrete === \"y\") domain.reverse();\n    domain[0] = new Date(+domain[0] - closest / 2);\n    domain[1] = new Date(+domain[1] + closest / 2);\n    if (discrete === \"y\") domain.reverse();\n    scale.domain(domain);\n  }\n});","import { max, min, sum } from \"d3-array\";\nimport { nest } from \"d3-collection\";\nimport discreteBuffer from \"./discreteBuffer\";\n/**\n    Adds a buffer to either side of the non-discrete axis.\n    @param {Array} data\n    @param {D3Scale} x\n    @param {D3Scale} y\n    @param {Object} [config]\n    @param {Number} [buffer = 10]\n    @private\n*/\n\nexport default function (_ref) {\n  var _this = this;\n\n  var data = _ref.data,\n      x = _ref.x,\n      y = _ref.y,\n      x2 = _ref.x2,\n      y2 = _ref.y2,\n      _ref$buffer = _ref.buffer,\n      buffer = _ref$buffer === void 0 ? 10 : _ref$buffer;\n  var xKey = x2 ? \"x2\" : \"x\";\n  var yKey = y2 ? \"y2\" : \"y\";\n  var oppScale = this._discrete === \"x\" ? y : x;\n  var oppDomain = oppScale.domain().slice();\n  var isDiscreteX = this._discrete === \"x\";\n  if (isDiscreteX) oppDomain.reverse();\n  var negVals, posVals;\n\n  if (this._stacked) {\n    var groupedData = nest().key(function (d) {\n      return d[_this._discrete];\n    }).entries(data).map(function (d) {\n      return d.values.map(function (x) {\n        return x[isDiscreteX ? yKey : xKey];\n      });\n    });\n    posVals = groupedData.map(function (arr) {\n      return sum(arr.filter(function (d) {\n        return d > 0;\n      }));\n    });\n    negVals = groupedData.map(function (arr) {\n      return sum(arr.filter(function (d) {\n        return d < 0;\n      }));\n    });\n  } else {\n    posVals = data.map(function (d) {\n      return d[isDiscreteX ? yKey : xKey];\n    });\n    negVals = posVals;\n  }\n\n  var bMax = oppScale(max(posVals));\n  if (isDiscreteX ? bMax < oppScale(0) : bMax > oppScale(0)) bMax += isDiscreteX ? -buffer : buffer;\n  bMax = oppScale.invert(bMax);\n  var bMin = oppScale(min(negVals));\n  if (isDiscreteX ? bMin > oppScale(0) : bMin < oppScale(0)) bMin += isDiscreteX ? buffer : -buffer;\n  bMin = oppScale.invert(bMin);\n  if (bMax > oppDomain[1]) oppDomain[1] = bMax;\n  if (bMin < oppDomain[0]) oppDomain[0] = bMin;\n  if (isDiscreteX) oppDomain.reverse();\n  oppScale.domain(oppDomain);\n  discreteBuffer(isDiscreteX ? x : y, data, this._discrete);\n  return [x, y];\n}","import { max, min, sum } from \"d3-array\";\nimport { nest } from \"d3-collection\";\nimport discreteBuffer from \"./discreteBuffer\";\n/**\n    Adds a buffer to either side of the non-discrete axis.\n    @param {Array} data\n    @param {D3Scale} x\n    @param {D3Scale} y\n    @param {Object} [config]\n    @param {Number} [buffer = 10]\n    @private\n*/\n\nexport default function (_ref) {\n  var _this = this;\n\n  var data = _ref.data,\n      x = _ref.x,\n      y = _ref.y,\n      x2 = _ref.x2,\n      y2 = _ref.y2,\n      _ref$buffer = _ref.buffer,\n      buffer = _ref$buffer === void 0 ? 10 : _ref$buffer;\n  var xKey = x2 ? \"x2\" : \"x\";\n  var yKey = y2 ? \"y2\" : \"y\";\n  var oppScale = this._discrete === \"x\" ? y : x;\n  var oppDomain = oppScale.domain().slice();\n  var isDiscreteX = this._discrete === \"x\";\n  if (isDiscreteX) oppDomain.reverse();\n  var negVals, posVals;\n\n  if (this._stacked) {\n    var groupedData = nest().key(function (d) {\n      return d[_this._discrete];\n    }).entries(data).map(function (d) {\n      return d.values.map(function (x) {\n        return x[isDiscreteX ? yKey : xKey];\n      });\n    });\n    posVals = groupedData.map(function (arr) {\n      return sum(arr.filter(function (d) {\n        return d > 0;\n      }));\n    });\n    negVals = groupedData.map(function (arr) {\n      return sum(arr.filter(function (d) {\n        return d < 0;\n      }));\n    });\n  } else {\n    posVals = data.map(function (d) {\n      return d[isDiscreteX ? yKey : xKey];\n    });\n    negVals = posVals;\n  }\n\n  var bMax = oppScale(max(posVals));\n  bMax += isDiscreteX ? -buffer : buffer;\n  bMax = oppScale.invert(bMax);\n  var bMin = oppScale(min(negVals));\n  bMin += isDiscreteX ? buffer : -buffer;\n  bMin = oppScale.invert(bMin);\n  if (bMax > oppDomain[1]) oppDomain[1] = bMax;\n  if (bMin < oppDomain[0]) oppDomain[0] = bMin;\n  if (isDiscreteX) oppDomain.reverse();\n  oppScale.domain(oppDomain);\n  discreteBuffer(isDiscreteX ? x : y, data, this._discrete);\n  return [x, y];\n}","import discreteBuffer from \"./discreteBuffer\";\n/**\n    Adds a buffer to either side of the non-discrete axis.\n    @param {Array} data\n    @param {D3Scale} x\n    @param {D3Scale} y\n    @param {Object} [config]\n    @param {Number} [buffer] Defaults to the radius of the largest Circle.\n    @private\n*/\n\nexport default function (_ref) {\n  var data = _ref.data,\n      x = _ref.x,\n      y = _ref.y,\n      x2 = _ref.x2,\n      y2 = _ref.y2,\n      config = _ref.config,\n      buffer = _ref.buffer;\n  var xKey = x2 ? \"x2\" : \"x\";\n  var yKey = y2 ? \"y2\" : \"y\";\n  var xD = x.domain().slice(),\n      yD = y.domain().slice();\n  var xR = x.range(),\n      yR = y.range();\n  if (!x.invert && x.padding) discreteBuffer(x, data, this._discrete);\n  if (!y.invert && y.padding) discreteBuffer(y, data, this._discrete);\n  data.forEach(function (d) {\n    var s = buffer ? buffer : config.r(d.data, d.i) * 2;\n\n    if (x.invert && x(d[xKey]) - xR[0] < s) {\n      var v = x.invert(x(d[xKey]) - s);\n      if (v < xD[0]) xD[0] = v;\n    }\n\n    if (x.invert && xR[1] - x(d[xKey]) < s) {\n      var _v = x.invert(x(d[xKey]) + s);\n\n      if (_v > xD[1]) xD[1] = _v;\n    }\n\n    if (y.invert && y(d[yKey]) - yR[0] < s) {\n      var _v2 = y.invert(y(d[yKey]) - s);\n\n      if (_v2 > yD[0]) yD[0] = _v2;\n    }\n\n    if (y.invert && yR[1] - y(d[yKey]) < s) {\n      var _v3 = y.invert(y(d[yKey]) + s);\n\n      if (_v3 < yD[1]) yD[1] = _v3;\n    }\n  });\n  x.domain(xD).range(xR);\n  y.domain(yD).range(yR);\n  return [x, y];\n}","import { max } from \"d3-array\";\n/**\n    Adds a buffer to either side of the non-discrete axis.\n    @param {Array} data\n    @param {D3Scale} x\n    @param {D3Scale} y\n    @param {Object} [config]\n    @param {Number} [buffer] Defaults to the radius of the largest Circle.\n    @private\n*/\n\nexport default function (_ref) {\n  var _this = this;\n\n  var data = _ref.data,\n      x = _ref.x,\n      y = _ref.y,\n      x2 = _ref.x2,\n      y2 = _ref.y2;\n  var xKey = x2 ? \"x2\" : \"x\";\n  var yKey = y2 ? \"y2\" : \"y\";\n  var s = this._discrete === \"x\" ? y : x;\n  var d = s.domain().slice();\n  if (this._discrete === \"x\") d.reverse();\n  var vals = data.map(function (d) {\n    return d[_this._discrete === \"x\" ? yKey : xKey];\n  });\n  var b = s.invert(s(max(vals)) + (this._discrete === \"x\" ? -10 : 10));\n  if (b > d[1]) d[1] = b;\n  if (this._discrete === \"x\") d.reverse();\n  s.domain(d);\n  return [x, y];\n}","import discreteBuffer from \"./discreteBuffer\";\n/**\n    Adds a buffer to either side of the non-discrete axis.\n    @param {Array} data\n    @param {D3Scale} x\n    @param {D3Scale} y\n    @param {Object} [config]\n    @param {Number} [buffer] Defaults to the radius of the largest Circle.\n    @private\n*/\n\nexport default function (_ref) {\n  var data = _ref.data,\n      x = _ref.x,\n      y = _ref.y,\n      x2 = _ref.x2,\n      y2 = _ref.y2,\n      config = _ref.config;\n  var xKey = x2 ? \"x2\" : \"x\";\n  var yKey = y2 ? \"y2\" : \"y\";\n  var xD = x.domain().slice(),\n      yD = y.domain().slice();\n  var xR = x.range(),\n      yR = y.range();\n  if (!x.invert && x.padding) discreteBuffer(x, data, this._discrete);\n  if (!y.invert && y.padding) discreteBuffer(y, data, this._discrete);\n  data.forEach(function (d) {\n    var h = config.height(d.data, d.i),\n        w = config.width(d.data, d.i);\n\n    if (x.invert && x(d[xKey]) - xR[0] < w) {\n      var v = x.invert(x(d[xKey]) - w);\n      if (v < xD[0]) xD[0] = v;\n    }\n\n    if (x.invert && xR[1] - x(d[xKey]) < w) {\n      var _v = x.invert(x(d[xKey]) + w);\n\n      if (_v > xD[1]) xD[1] = _v;\n    }\n\n    if (y.invert && y(d[yKey]) - yR[0] < h) {\n      var _v2 = y.invert(y(d[yKey]) - h);\n\n      if (_v2 > yD[0]) yD[0] = _v2;\n    }\n\n    if (y.invert && yR[1] - y(d[yKey]) < h) {\n      var _v3 = y.invert(y(d[yKey]) + h);\n\n      if (_v3 < yD[1]) yD[1] = _v3;\n    }\n  });\n  x.domain(xD);\n  y.domain(yD);\n  return [x, y];\n}","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n/* eslint no-cond-assign: 0 */\nimport { extent, max, merge, min, range, sum } from \"d3-array\";\nimport { nest } from \"d3-collection\";\nimport * as scales from \"d3-scale\";\nimport * as d3Shape from \"d3-shape\";\nimport { AxisBottom, AxisLeft, AxisRight, AxisTop, date } from \"d3plus-axis\";\nimport { colorAssign } from \"d3plus-color\";\nimport { accessor, assign, configPrep, constant, elem } from \"d3plus-common\";\nimport * as shapes from \"d3plus-shape\";\nimport { Viz } from \"d3plus-viz\";\nimport { default as BarBuffer } from \"./buffers/Bar.js\";\nimport { default as BoxBuffer } from \"./buffers/Box.js\";\nimport { default as CircleBuffer } from \"./buffers/Circle.js\";\nimport { default as LineBuffer } from \"./buffers/Line.js\";\nimport { default as RectBuffer } from \"./buffers/Rect.js\";\n/**\n    @desc Logic for determining default sizes of shapes using the sizeScaleD3 internal function.\n    @private\n*/\n\nfunction defaultSize(d) {\n  return this._sizeScaleD3(this._size ? this._size(d) : null);\n}\n/**\n    @desc Logic for determining stackOrder ascending using groups.\n    @private\n*/\n\n\nfunction stackOrderAscending(series) {\n  var sums = series.map(stackSum);\n  var keys = series.map(function (d) {\n    return d.key.split(\"_\")[0];\n  });\n  return d3Shape.stackOrderNone(series).sort(function (a, b) {\n    return keys[b].localeCompare(keys[a]) || sums[a] - sums[b];\n  });\n}\n/**\n    @desc Logic for determining stackOrder descending using groups.\n    @private\n*/\n\n\nfunction stackOrderDescending(series) {\n  return stackOrderAscending(series).reverse();\n}\n/**\n    @desc Logic for determining default sum of shapes using the stackSum function used in d3Shape.\n    @private\n*/\n\n\nfunction stackSum(series) {\n  var i = -1,\n      s = 0,\n      v;\n  var n = series.length;\n\n  while (++i < n) {\n    if (v = +series[i][1]) s += v;\n  }\n\n  return s;\n}\n/**\n    @class Plot\n    @extends Viz\n    @desc Creates an x/y plot based on an array of data.\n*/\n\n\nvar Plot =\n/*#__PURE__*/\nfunction (_Viz) {\n  _inherits(Plot, _Viz);\n\n  /**\n      @memberof Plot\n      @desc Invoked when creating a new class instance, and sets any default parameters.\n      @private\n  */\n  function Plot() {\n    var _this;\n\n    _classCallCheck(this, Plot);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Plot).call(this));\n    _this._annotations = [];\n    _this._backgroundConfig = {\n      duration: 0,\n      fill: \"transparent\"\n    };\n    _this._barPadding = 0;\n    _this._buffer = {\n      Bar: BarBuffer,\n      Box: BoxBuffer,\n      Circle: CircleBuffer,\n      Line: LineBuffer,\n      Rect: RectBuffer\n    };\n    _this._confidenceConfig = {\n      fillOpacity: constant(0.5)\n    };\n    _this._discreteCutoff = 100;\n    _this._groupPadding = 5;\n    _this._shape = constant(\"Circle\");\n    _this._shapeConfig = assign(_this._shapeConfig, {\n      Area: {\n        label: function label(d, i) {\n          return _this._stacked ? _this._drawLabel(d, i) : false;\n        },\n        labelConfig: {\n          fontResize: true\n        }\n      },\n      ariaLabel: function ariaLabel(d, i) {\n        var ariaLabelStr = \"\";\n        if (d.nested) ariaLabelStr = \"\".concat(_this._drawLabel(d.data, d.i));else {\n          ariaLabelStr = \"\".concat(_this._drawLabel(d, i));\n          if (_this._x(d, i) !== undefined) ariaLabelStr += \", x: \".concat(_this._x(d, i));\n          if (_this._y(d, i) !== undefined) ariaLabelStr += \", y: \".concat(_this._y(d, i));\n          if (_this._x2(d, i) !== undefined) ariaLabelStr += \", x2: \".concat(_this._x2(d, i));\n          if (_this._y2(d, i) !== undefined) ariaLabelStr += \", y2: \".concat(_this._y2(d, i));\n        }\n        return \"\".concat(ariaLabelStr, \".\");\n      },\n      Bar: {\n        labelConfig: {\n          textAnchor: function textAnchor() {\n            return _this._discrete === \"x\" ? \"middle\" : \"end\";\n          },\n          verticalAlign: function verticalAlign() {\n            return _this._discrete === \"x\" ? \"top\" : \"middle\";\n          }\n        }\n      },\n      Circle: {\n        r: defaultSize.bind(_assertThisInitialized(_this))\n      },\n      Line: {\n        fill: constant(\"none\"),\n        label: false,\n        stroke: function stroke(d, i) {\n          return colorAssign(_this._id(d, i));\n        },\n        strokeWidth: constant(1)\n      },\n      Rect: {\n        height: function height(d) {\n          return defaultSize.bind(_assertThisInitialized(_this))(d) * 2;\n        },\n        width: function width(d) {\n          return defaultSize.bind(_assertThisInitialized(_this))(d) * 2;\n        }\n      }\n    });\n    _this._shapeOrder = [\"Area\", \"Path\", \"Bar\", \"Box\", \"Line\", \"Rect\", \"Circle\"];\n\n    _this._shapeSort = function (a, b) {\n      return _this._shapeOrder.indexOf(a) - _this._shapeOrder.indexOf(b);\n    };\n\n    _this._sizeMax = 20;\n    _this._sizeMin = 5;\n    _this._sizeScale = \"sqrt\";\n    _this._stackOffset = d3Shape.stackOffsetDiverging;\n    _this._stackOrder = stackOrderDescending;\n    _this._timelineConfig = assign(_this._timelineConfig, {\n      brushing: true\n    });\n    _this._x = accessor(\"x\");\n    _this._xAxis = new AxisBottom().align(\"end\");\n    _this._xTest = new AxisBottom().align(\"end\").gridSize(0);\n    _this._xConfig = {};\n    _this._xCutoff = 150;\n    _this._x2 = accessor(\"x2\");\n    _this._x2Axis = new AxisTop().align(\"start\");\n    _this._x2Test = new AxisTop().align(\"start\").gridSize(0);\n    _this._x2Config = {\n      padding: 0\n    };\n    _this._y = accessor(\"y\");\n    _this._yAxis = new AxisLeft().align(\"start\");\n    _this._yTest = new AxisLeft().align(\"start\").gridSize(0);\n    _this._yConfig = {\n      gridConfig: {\n        stroke: function stroke(d) {\n          var domain = _this._yAxis.domain();\n\n          return domain[domain.length - 1] === d.id ? \"transparent\" : \"#ccc\";\n        }\n      }\n    };\n    _this._yCutoff = 150;\n    _this._y2 = accessor(\"y2\");\n    _this._y2Axis = new AxisRight().align(\"end\");\n    _this._y2Test = new AxisLeft().align(\"end\").gridSize(0);\n    _this._y2Config = {};\n    return _this;\n  }\n  /**\n      Extends the draw behavior of the abstract Viz class.\n      @private\n  */\n\n\n  _createClass(Plot, [{\n    key: \"_draw\",\n    value: function _draw(callback) {\n      var _this2 = this;\n\n      if (!this._filteredData.length) return this;\n\n      var stackGroup = function stackGroup(d, i) {\n        return _this2._stacked ? \"\".concat(_this2._groupBy.length > 1 ? _this2._ids(d, i).slice(0, -1).join(\"_\") : \"group\") : \"\".concat(_this2._ids(d, i).join(\"_\"));\n      };\n\n      var data = this._filteredData.map(function (d, i) {\n        return {\n          __d3plus__: true,\n          data: d,\n          group: stackGroup(d, i),\n          i: i,\n          hci: _this2._confidence && _this2._confidence[1] && _this2._confidence[1](d, i),\n          id: _this2._ids(d, i).slice(0, _this2._drawDepth + 1).join(\"_\"),\n          lci: _this2._confidence && _this2._confidence[0] && _this2._confidence[0](d, i),\n          shape: _this2._shape(d, i),\n          x: _this2._x(d, i),\n          x2: _this2._x2(d, i),\n          y: _this2._y(d, i),\n          y2: _this2._y2(d, i)\n        };\n      });\n\n      this._formattedData = data;\n\n      if (this._size) {\n        var rExtent = extent(data, function (d) {\n          return _this2._size(d.data);\n        });\n\n        this._sizeScaleD3 = function () {\n          return _this2._sizeMin;\n        };\n\n        this._sizeScaleD3 = scales[\"scale\".concat(this._sizeScale.charAt(0).toUpperCase()).concat(this._sizeScale.slice(1))]().domain(rExtent).range([rExtent[0] === rExtent[1] ? this._sizeMax : min([this._sizeMax / 2, this._sizeMin]), this._sizeMax]);\n      } else {\n        this._sizeScaleD3 = function () {\n          return _this2._sizeMin;\n        };\n      }\n\n      var x2Exists = data.some(function (d) {\n        return d.x2 !== undefined;\n      }),\n          y2Exists = data.some(function (d) {\n        return d.y2 !== undefined;\n      });\n      var height = this._height - this._margin.top - this._margin.bottom,\n          opp = this._discrete ? this._discrete === \"x\" ? \"y\" : \"x\" : undefined,\n          opp2 = this._discrete ? this._discrete === \"x\" ? \"y2\" : \"x2\" : undefined,\n          opps = [opp, opp2].filter(function (d) {\n        return d;\n      }),\n          parent = this._select,\n          transition = this._transition,\n          width = this._width - this._margin.left - this._margin.right;\n\n      var x2Time = this._time && data[0].x2 === this._time(data[0].data, data[0].i),\n          xTime = this._time && data[0].x === this._time(data[0].data, data[0].i),\n          y2Time = this._time && data[0].y2 === this._time(data[0].data, data[0].i),\n          yTime = this._time && data[0].y === this._time(data[0].data, data[0].i);\n\n      for (var i = 0; i < data.length; i++) {\n        var d = data[i];\n        if (xTime) d.x = date(d.x);\n        if (x2Time) d.x2 = date(d.x2);\n        if (yTime) d.y = date(d.y);\n        if (y2Time) d.y2 = date(d.y2);\n        d.discrete = d.shape === \"Bar\" ? \"\".concat(d[this._discrete], \"_\").concat(d.group) : \"\".concat(d[this._discrete]);\n      }\n\n      var discreteKeys, domains, stackData, stackKeys;\n\n      if (this._stacked) {\n        var _domains;\n\n        var groupValues = nest().key(function (d) {\n          return d.group;\n        }).entries(data).reduce(function (obj, d) {\n          if (!obj[d.key]) obj[d.key] = 0;\n          obj[d.key] += sum(d.values, function (dd) {\n            return dd[opp];\n          });\n          return obj;\n        }, {});\n        data = data.sort(function (a, b) {\n          if (_this2[\"_\".concat(_this2._discrete, \"Sort\")]) return _this2[\"_\".concat(_this2._discrete, \"Sort\")](a.data, b.data);\n          var a1 = a[_this2._discrete],\n              b1 = b[_this2._discrete];\n          if (a1 - b1 !== 0) return a1 - b1;\n          if (a.group !== b.group) return groupValues[b.group] - groupValues[a.group];\n          return b[opp] - a[opp];\n        });\n        discreteKeys = Array.from(new Set(data.map(function (d) {\n          return d.discrete;\n        })));\n        stackKeys = Array.from(new Set(data.map(function (d) {\n          return d.id;\n        })));\n        stackData = nest().key(function (d) {\n          return d.discrete;\n        }).entries(data).map(function (d) {\n          return d.values;\n        });\n        stackData.forEach(function (g) {\n          var ids = Array.from(new Set(g.map(function (d) {\n            return d.id;\n          })));\n\n          if (ids.length < stackKeys.length) {\n            stackKeys.forEach(function (k) {\n              if (!ids.includes(k)) {\n                var _d = data.filter(function (d) {\n                  return d.id === k;\n                })[0];\n\n                if (_d.shape === \"Area\") {\n                  var _fillerPoint;\n\n                  var group = stackGroup(_d.data, _d.i);\n                  var fillerPoint = (_fillerPoint = {\n                    __d3plus__: true,\n                    data: _d.data,\n                    discrete: _d.shape === \"Bar\" ? \"\".concat(g[0][_this2._discrete], \"_\").concat(group) : \"\".concat(g[0][_this2._discrete]),\n                    group: group,\n                    id: k,\n                    shape: _d.shape\n                  }, _defineProperty(_fillerPoint, _this2._discrete, g[0][_this2._discrete]), _defineProperty(_fillerPoint, opp, 0), _fillerPoint);\n                  data.push(fillerPoint);\n                }\n              }\n            });\n          }\n        });\n\n        if (this[\"_\".concat(this._discrete, \"Sort\")]) {\n          data.sort(function (a, b) {\n            return _this2[\"_\".concat(_this2._discrete, \"Sort\")](a.data, b.data);\n          });\n        } else {\n          data.sort(function (a, b) {\n            return a[_this2._discrete] - b[_this2._discrete];\n          });\n        }\n\n        var order = this._stackOrder;\n        if (order instanceof Array) stackKeys.sort(function (a, b) {\n          return order.indexOf(a) - order.indexOf(b);\n        });else if (order === d3Shape.stackOrderNone) stackKeys.sort(function (a, b) {\n          return a.localeCompare(b);\n        });\n        stackData = d3Shape.stack().keys(stackKeys).offset(this._stackOffset).order(order instanceof Array ? d3Shape.stackOrderNone : order).value(function (group, key) {\n          var d = group.filter(function (g) {\n            return g.id === key;\n          });\n          return d.length ? d[0][opp] : 0;\n        })(stackData);\n        domains = (_domains = {}, _defineProperty(_domains, this._discrete, extent(data, function (d) {\n          return d[_this2._discrete];\n        })), _defineProperty(_domains, opp, [min(stackData.map(function (g) {\n          return min(g.map(function (p) {\n            return p[0];\n          }));\n        })), max(stackData.map(function (g) {\n          return max(g.map(function (p) {\n            return p[1];\n          }));\n        }))]), _domains);\n      } else {\n        var xData = this._discrete === \"x\" ? data.map(function (d) {\n          return d.x;\n        }) : data.map(function (d) {\n          return d.x;\n        }).concat(this._confidence && this._confidence[0] ? data.map(function (d) {\n          return d.lci;\n        }) : []).concat(this._confidence && this._confidence[1] ? data.map(function (d) {\n          return d.hci;\n        }) : []);\n        var x2Data = this._discrete === \"x\" ? data.map(function (d) {\n          return d.x2;\n        }) : data.map(function (d) {\n          return d.x2;\n        }).concat(this._confidence && this._confidence[0] ? data.map(function (d) {\n          return d.lci;\n        }) : []).concat(this._confidence && this._confidence[1] ? data.map(function (d) {\n          return d.hci;\n        }) : []);\n        var yData = this._discrete === \"y\" ? data.map(function (d) {\n          return d.y;\n        }) : data.map(function (d) {\n          return d.y;\n        }).concat(this._confidence && this._confidence[0] ? data.map(function (d) {\n          return d.lci;\n        }) : []).concat(this._confidence && this._confidence[1] ? data.map(function (d) {\n          return d.hci;\n        }) : []);\n        var y2Data = this._discrete === \"y\" ? data.map(function (d) {\n          return d.y2;\n        }) : data.map(function (d) {\n          return d.y2;\n        }).concat(this._confidence && this._confidence[0] ? data.map(function (d) {\n          return d.lci;\n        }) : []).concat(this._confidence && this._confidence[1] ? data.map(function (d) {\n          return d.hci;\n        }) : []);\n\n        if (this[\"_\".concat(this._discrete, \"Sort\")]) {\n          data.sort(function (a, b) {\n            return _this2[\"_\".concat(_this2._discrete, \"Sort\")](a.data, b.data);\n          });\n        } else {\n          data.sort(function (a, b) {\n            return a[_this2._discrete] - b[_this2._discrete];\n          });\n        }\n\n        domains = {\n          x: this._xSort ? Array.from(new Set(data.filter(function (d) {\n            return d.x;\n          }).sort(function (a, b) {\n            return _this2._xSort(a.data, b.data);\n          }).map(function (d) {\n            return d.x;\n          }))) : extent(xData, function (d) {\n            return d;\n          }),\n          x2: this._x2Sort ? Array.from(new Set(data.filter(function (d) {\n            return d.x2;\n          }).sort(function (a, b) {\n            return _this2._x2Sort(a.data, b.data);\n          }).map(function (d) {\n            return d.x2;\n          }))) : extent(x2Data, function (d) {\n            return d;\n          }),\n          y: this._ySort ? Array.from(new Set(data.filter(function (d) {\n            return d.y;\n          }).sort(function (a, b) {\n            return _this2._ySort(a.data, b.data);\n          }).map(function (d) {\n            return d.y;\n          }))) : extent(yData, function (d) {\n            return d;\n          }),\n          y2: this._y2Sort ? Array.from(new Set(data.filter(function (d) {\n            return d.y2;\n          }).sort(function (a, b) {\n            return _this2._y2Sort(a.data, b.data);\n          }).map(function (d) {\n            return d.y2;\n          }))) : extent(y2Data, function (d) {\n            return d;\n          })\n        };\n      }\n\n      var xDomain = this._xDomain ? this._xDomain.slice() : domains.x,\n          xScale = this._xSort ? \"Point\" : \"Linear\";\n      if (xDomain[0] === void 0) xDomain[0] = domains.x[0];\n      if (xDomain[1] === void 0) xDomain[1] = domains.x[1];\n\n      if (xTime) {\n        xDomain = xDomain.map(date);\n        xScale = \"Time\";\n      } else if (this._discrete === \"x\") {\n        xDomain = Array.from(new Set(data.filter(function (d) {\n          return d.x;\n        }).sort(function (a, b) {\n          return _this2._xSort ? _this2._xSort(a.data, b.data) : a.x - b.x;\n        }).map(function (d) {\n          return d.x;\n        })));\n        xScale = \"Point\";\n      }\n\n      var x2Domain = this._x2Domain ? this._x2Domain.slice() : domains.x2,\n          x2Scale = this._x2Sort ? \"Point\" : \"Linear\";\n      if (x2Domain && x2Domain[0] === void 0) x2Domain[0] = domains.x2[0];\n      if (x2Domain && x2Domain[1] === void 0) x2Domain[1] = domains.x2[1];\n\n      if (x2Time) {\n        x2Domain = x2Domain.map(date);\n        x2Scale = \"Time\";\n      } else if (this._discrete === \"x\") {\n        x2Domain = Array.from(new Set(data.filter(function (d) {\n          return d.x2;\n        }).sort(function (a, b) {\n          return _this2._x2Sort ? _this2._x2Sort(a.data, b.data) : a.x2 - b.x2;\n        }).map(function (d) {\n          return d.x2;\n        })));\n        x2Scale = \"Point\";\n      }\n\n      var yDomain = this._yDomain ? this._yDomain.slice() : domains.y,\n          yScale = this._ySort ? \"Point\" : \"Linear\";\n      if (yDomain[0] === void 0) yDomain[0] = domains.y[0];\n      if (yDomain[1] === void 0) yDomain[1] = domains.y[1];\n      var y2Domain = this._y2Domain ? this._y2Domain.slice() : domains.y2,\n          y2Scale = this._y2Sort ? \"Point\" : \"Linear\";\n      if (y2Domain && y2Domain[0] === void 0) y2Domain[0] = domains.y2[0];\n      if (y2Domain && y2Domain[1] === void 0) y2Domain[1] = domains.y2[1];\n\n      if (yTime) {\n        yDomain = yDomain.map(date);\n        yScale = \"Time\";\n      } else if (this._discrete === \"y\") {\n        yDomain = Array.from(new Set(data.sort(function (a, b) {\n          return _this2._ySort ? _this2._ySort(a.data, b.data) : a.y - b.y;\n        }).map(function (d) {\n          return d.y;\n        })));\n        yScale = \"Point\";\n        y2Domain = Array.from(new Set(data.sort(function (a, b) {\n          return _this2._y2Sort ? _this2._y2Sort(a.data, b.data) : a.y2 - b.y2;\n        }).map(function (d) {\n          return d.y2;\n        })));\n        y2Scale = \"Point\";\n      }\n\n      if (y2Time) {\n        y2Domain = y2Domain.map(date);\n        y2Scale = \"Time\";\n      }\n\n      domains = {\n        x: xDomain,\n        x2: x2Domain || xDomain,\n        y: yDomain,\n        y2: y2Domain || yDomain\n      };\n      opps.forEach(function (opp) {\n        if (_this2[\"_\".concat(opp, \"Config\")].domain) {\n          var _d2 = _this2[\"_\".concat(opp, \"Config\")].domain;\n\n          if (_this2._discrete === \"x\") _d2.reverse();\n          domains[opp] = _d2;\n        } else if (opp && _this2._baseline !== void 0) {\n          var b = _this2._baseline;\n          if (domains[opp] && domains[opp][0] > b) domains[opp][0] = b;else if (domains[opp] && domains[opp][1] < b) domains[opp][1] = b;\n        }\n      });\n\n      var _x2 = scales[\"scale\".concat(xScale)]().domain(domains.x).range(range(0, width + 1, width / (domains.x.length - 1))),\n          x2 = scales[\"scale\".concat(x2Scale)]().domain(domains.x2).range(range(0, width + 1, width / (domains.x2.length - 1))),\n          _y2 = scales[\"scale\".concat(yScale)]().domain(domains.y.reverse()).range(range(0, height + 1, height / (domains.y.length - 1))),\n          y2 = scales[\"scale\".concat(y2Scale)]().domain(domains.y2.reverse()).range(range(0, height + 1, height / (domains.y2.length - 1)));\n\n      var shapeData = nest().key(function (d) {\n        return d.shape;\n      }).entries(data).sort(function (a, b) {\n        return _this2._shapeSort(a.key, b.key);\n      });\n      var oppScale = this._discrete === \"x\" ? yScale : xScale;\n\n      if (this._xConfig.scale !== \"log\" && this._yConfig.scale !== \"log\" && oppScale !== \"Point\") {\n        shapeData.forEach(function (d) {\n          if (_this2._buffer[d.key]) {\n            var res = _this2._buffer[d.key].bind(_this2)({\n              data: d.values,\n              x: _x2,\n              y: _y2,\n              config: _this2._shapeConfig[d.key]\n            });\n\n            if (_this2._xConfig.scale !== \"log\") _x2 = res[0];\n            if (_this2._yConfig.scale !== \"log\") _y2 = res[1];\n\n            var res2 = _this2._buffer[d.key].bind(_this2)({\n              data: d.values,\n              x: x2,\n              y: y2,\n              x2: true,\n              y2: true,\n              config: _this2._shapeConfig[d.key]\n            });\n\n            if (_this2._x2Config.scale !== \"log\") x2 = res2[0];\n            if (_this2._y2Config.scale !== \"log\") y2 = res2[1];\n          }\n        });\n      }\n\n      xDomain = _x2.domain();\n      x2Domain = x2.domain();\n      yDomain = _y2.domain();\n      y2Domain = y2.domain();\n      var defaultConfig = {\n        barConfig: {\n          \"stroke-width\": 0\n        },\n        gridSize: 0,\n        labels: [],\n        title: false,\n        tickSize: 0\n      };\n      var defaultX2Config = x2Exists ? {} : defaultConfig;\n      var defaultY2Config = y2Exists ? {} : defaultConfig;\n      var showX = this._discrete === \"x\" && this._width > this._discreteCutoff || this._width > this._xCutoff;\n      var showY = this._discrete === \"y\" && this._height > this._discreteCutoff || this._height > this._yCutoff;\n      var yC = {\n        gridConfig: {\n          stroke: !this._discrete || this._discrete === \"x\" ? this._yTest.gridConfig().stroke : \"transparent\"\n        },\n        locale: this._locale,\n        scalePadding: _y2.padding ? _y2.padding() : 0\n      };\n\n      if (!showX) {\n        yC.barConfig = {\n          stroke: \"transparent\"\n        };\n        yC.tickSize = 0;\n        yC.shapeConfig = {\n          labelBounds: function labelBounds(d, i) {\n            var _d$labelBounds = d.labelBounds,\n                width = _d$labelBounds.width,\n                y = _d$labelBounds.y;\n            var height = _this2._height / 2;\n            var x = i ? -height : 0;\n            return {\n              x: x,\n              y: y,\n              width: width,\n              height: height\n            };\n          },\n          labelConfig: {\n            padding: 0,\n            rotate: 0,\n            verticalAlign: function verticalAlign(d) {\n              return d.id === yTicks[0] ? \"top\" : \"bottom\";\n            }\n          },\n          labelRotation: false\n        };\n      }\n\n      var testGroup = elem(\"g.d3plus-plot-test\", {\n        enter: {\n          opacity: 0\n        },\n        parent: this._select\n      }),\n          x2Ticks = this._discrete === \"x\" && !x2Time ? domains.x2 : undefined,\n          xTicks = !showY ? extent(domains.x) : this._discrete === \"x\" && !xTime ? domains.x : undefined,\n          y2Ticks = this._discrete === \"y\" && !y2Time ? domains.y2 : undefined,\n          yTicks = !showX ? extent(domains.y) : this._discrete === \"y\" && !yTime ? domains.y : undefined;\n\n      if (showY) {\n        this._yTest.domain(yDomain).height(height).maxSize(width / 2).range([undefined, undefined]).scale(yScale.toLowerCase()).select(testGroup.node()).ticks(yTicks).width(width).config(yC).config(this._yConfig).render();\n      }\n\n      var yBounds = this._yTest.outerBounds();\n\n      var yWidth = yBounds.width ? yBounds.width + this._yTest.padding() : undefined;\n\n      if (y2Exists) {\n        this._y2Test.domain(y2Domain).height(height).range([undefined, undefined]).scale(y2Scale.toLowerCase()).select(testGroup.node()).ticks(y2Ticks).width(width).config(yC).config(defaultY2Config).config(this._y2Config).render();\n      }\n\n      var y2Bounds = this._y2Test.outerBounds();\n\n      var y2Width = y2Bounds.width ? y2Bounds.width + this._y2Test.padding() : undefined;\n      var xC = {\n        gridConfig: {\n          stroke: !this._discrete || this._discrete === \"y\" ? this._xTest.gridConfig().stroke : \"transparent\"\n        },\n        locale: this._locale,\n        scalePadding: _x2.padding ? _x2.padding() : 0\n      };\n\n      if (!showY) {\n        xC.barConfig = {\n          stroke: \"transparent\"\n        };\n        xC.tickSize = 0;\n        xC.shapeConfig = {\n          labelBounds: function labelBounds(d, i) {\n            var _d$labelBounds2 = d.labelBounds,\n                height = _d$labelBounds2.height,\n                y = _d$labelBounds2.y;\n            var width = _this2._width / 2;\n            var x = i ? -width : 0;\n            return {\n              x: x,\n              y: y,\n              width: width,\n              height: height\n            };\n          },\n          labelConfig: {\n            padding: 0,\n            rotate: 0,\n            textAnchor: function textAnchor(d) {\n              return d.id === xTicks[0] ? \"start\" : \"end\";\n            }\n          },\n          labelRotation: false\n        };\n      }\n\n      if (showX) {\n        this._xTest.domain(xDomain).height(height).maxSize(height / 2).range([undefined, undefined]).scale(xScale.toLowerCase()).select(testGroup.node()).ticks(xTicks).width(width).config(xC).config(this._xConfig).render();\n      }\n\n      if (x2Exists) {\n        this._x2Test.domain(x2Domain).height(height).range([undefined, undefined]).scale(x2Scale.toLowerCase()).select(testGroup.node()).ticks(x2Ticks).width(width).config(xC).tickSize(0).config(defaultX2Config).config(this._x2Config).render();\n      }\n\n      var xTestRange = this._xTest._getRange();\n\n      var x2TestRange = this._x2Test._getRange();\n\n      var x2Bounds = this._x2Test.outerBounds();\n\n      var x2Height = x2Exists ? x2Bounds.height + this._x2Test.padding() : 0;\n      var xOffsetLeft = max([yWidth, xTestRange[0], x2TestRange[0]]);\n\n      if (showX) {\n        this._xTest.range([xOffsetLeft, undefined]).render();\n      }\n\n      var topOffset = showY ? this._yTest.shapeConfig().labelConfig.fontSize() / 2 : 0;\n      var xOffsetRight = max([y2Width, width - xTestRange[1], width - x2TestRange[1]]);\n\n      var xBounds = this._xTest.outerBounds();\n\n      var xHeight = xBounds.height + (showY ? this._xTest.padding() : 0);\n      this._padding.left += xOffsetLeft;\n      this._padding.right += xOffsetRight;\n      this._padding.bottom += xHeight;\n      this._padding.top += x2Height + topOffset;\n\n      _get(_getPrototypeOf(Plot.prototype), \"_draw\", this).call(this, callback);\n\n      var horizontalMargin = this._margin.left + this._margin.right;\n      var verticalMargin = this._margin.top + this._margin.bottom;\n      var yRange = [x2Height, height - (xHeight + topOffset + verticalMargin)];\n\n      if (showY) {\n        this._yTest.domain(yDomain).height(height).maxSize(width / 2).range(yRange).scale(yScale.toLowerCase()).select(testGroup.node()).ticks(yTicks).width(width).config(yC).config(this._yConfig).render();\n      }\n\n      yBounds = this._yTest.outerBounds();\n      yWidth = yBounds.width ? yBounds.width + this._yTest.padding() : undefined;\n      xOffsetLeft = max([yWidth, xTestRange[0], x2TestRange[0]]);\n\n      if (y2Exists) {\n        this._y2Test.config(yC).domain(y2Domain).gridSize(0).height(height).range(yRange).scale(y2Scale.toLowerCase()).select(testGroup.node()).width(width - max([0, xOffsetRight - y2Width])).title(false).config(this._y2Config).config(defaultY2Config).render();\n      }\n\n      y2Bounds = this._y2Test.outerBounds();\n      y2Width = y2Bounds.width ? y2Bounds.width + this._y2Test.padding() : undefined;\n      xOffsetRight = max([0, y2Width, width - xTestRange[1], width - x2TestRange[1]]);\n      var xRange = [xOffsetLeft, width - (xOffsetRight + horizontalMargin)];\n      var rectGroup = elem(\"g.d3plus-plot-background\", {\n        parent: parent,\n        transition: transition\n      });\n      var transform = \"translate(\".concat(this._margin.left, \", \").concat(this._margin.top + x2Height + topOffset, \")\");\n      var x2Transform = \"translate(\".concat(this._margin.left, \", \").concat(this._margin.top + topOffset, \")\");\n      var xGroup = showX && elem(\"g.d3plus-plot-x-axis\", {\n        parent: parent,\n        transition: transition,\n        enter: {\n          transform: transform\n        },\n        update: {\n          transform: transform\n        }\n      });\n      var x2Group = x2Exists && elem(\"g.d3plus-plot-x2-axis\", {\n        parent: parent,\n        transition: transition,\n        enter: {\n          transform: x2Transform\n        },\n        update: {\n          transform: x2Transform\n        }\n      });\n      var xTrans = xOffsetLeft > yWidth ? xOffsetLeft - yWidth : 0;\n      var yTransform = \"translate(\".concat(this._margin.left + xTrans, \", \").concat(this._margin.top + topOffset, \")\");\n      var yGroup = showY && elem(\"g.d3plus-plot-y-axis\", {\n        parent: parent,\n        transition: transition,\n        enter: {\n          transform: yTransform\n        },\n        update: {\n          transform: yTransform\n        }\n      });\n      var y2Transform = \"translate(-\".concat(this._margin.right, \", \").concat(this._margin.top + topOffset, \")\");\n      var y2Group = y2Exists && elem(\"g.d3plus-plot-y2-axis\", {\n        parent: parent,\n        transition: transition,\n        enter: {\n          transform: y2Transform\n        },\n        update: {\n          transform: y2Transform\n        }\n      });\n\n      this._xAxis.domain(xDomain).height(height - (x2Height + topOffset + verticalMargin)).maxSize(height / 2).range(xRange).scale(xScale.toLowerCase()).select(showX ? xGroup.node() : undefined).ticks(xTicks).width(width).config(xC).config(this._xConfig).render();\n\n      if (x2Exists) {\n        this._x2Axis.domain(x2Domain).height(height - (xHeight + topOffset + verticalMargin)).range(xRange).scale(x2Scale.toLowerCase()).select(x2Group.node()).ticks(x2Ticks).width(width).config(xC).config(defaultX2Config).config(this._x2Config).render();\n      }\n\n      _x2 = function x(d, _x) {\n        if (_x === \"x2\") {\n          if (_this2._x2Config.scale === \"log\" && d === 0) d = x2Domain[0] < 0 ? -1 : 1;\n          return _this2._x2Axis._getPosition.bind(_this2._x2Axis)(d);\n        } else {\n          if (_this2._xConfig.scale === \"log\" && d === 0) d = xDomain[0] < 0 ? -1 : 1;\n          return _this2._xAxis._getPosition.bind(_this2._xAxis)(d);\n        }\n      };\n\n      yRange = [this._xAxis.outerBounds().y + x2Height, height - (xHeight + topOffset + verticalMargin)];\n\n      this._yAxis.domain(yDomain).height(height).maxSize(width / 2).range(yRange).scale(yScale.toLowerCase()).select(showY ? yGroup.node() : undefined).ticks(yTicks).width(xRange[xRange.length - 1]).config(yC).config(this._yConfig).render();\n\n      if (y2Exists) {\n        this._y2Axis.config(yC).domain(y2Exists ? y2Domain : yDomain).gridSize(0).height(height).range(yRange).scale(y2Exists ? y2Scale.toLowerCase() : yScale.toLowerCase()).select(y2Group.node()).width(width - max([0, xOffsetRight - y2Width])).title(false).config(this._y2Config).config(defaultY2Config).render();\n      }\n\n      _y2 = function y(d, _y) {\n        if (_y === \"y2\") {\n          if (_this2._y2Config.scale === \"log\" && d === 0) d = y2Domain[0] < 0 ? -1 : 1;\n          return _this2._y2Axis._getPosition.bind(_this2._y2Axis)(d) - x2Height;\n        } else {\n          if (_this2._yConfig.scale === \"log\" && d === 0) d = yDomain[0] < 0 ? -1 : 1;\n          return _this2._yAxis._getPosition.bind(_this2._yAxis)(d) - x2Height;\n        }\n      };\n\n      new shapes.Rect().data([{}]).select(rectGroup.node()).x(xRange[0] + (xRange[1] - xRange[0]) / 2).width(xRange[1] - xRange[0]).y(this._margin.top + topOffset + yRange[0] + (yRange[1] - yRange[0]) / 2).height(yRange[1] - yRange[0]).config(this._backgroundConfig).render();\n      var annotationGroup = elem(\"g.d3plus-plot-annotations\", {\n        parent: parent,\n        transition: transition,\n        enter: {\n          transform: transform\n        },\n        update: {\n          transform: transform\n        }\n      }).node();\n\n      this._annotations.forEach(function (annotation) {\n        new shapes[annotation.shape]().config(annotation).config({\n          x: function x(d) {\n            return d.x2 ? _x2(d.x2, \"x2\") : _x2(d.x);\n          },\n          x0: _this2._discrete === \"x\" ? function (d) {\n            return d.x2 ? _x2(d.x2, \"x2\") : _x2(d.x);\n          } : _x2(domains.x[0]),\n          x1: _this2._discrete === \"x\" ? null : function (d) {\n            return d.x2 ? _x2(d.x2, \"x2\") : _x2(d.x);\n          },\n          y: function y(d) {\n            return d.y2 ? _y2(d.y2, \"y2\") : _y2(d.y);\n          },\n          y0: _this2._discrete === \"y\" ? function (d) {\n            return d.y2 ? _y2(d.y2, \"y2\") : _y2(d.y);\n          } : _y2(domains.y[1]) - yOffset,\n          y1: _this2._discrete === \"y\" ? null : function (d) {\n            return d.y2 ? _y2(d.y2, \"y2\") : _y2(d.y) - yOffset;\n          }\n        }).select(annotationGroup).render();\n      });\n\n      var yOffset = this._xAxis.barConfig()[\"stroke-width\"];\n\n      if (yOffset) yOffset /= 2;\n      var shapeConfig = {\n        duration: this._duration,\n        label: function label(d) {\n          return _this2._drawLabel(d.data, d.i);\n        },\n        select: elem(\"g.d3plus-plot-shapes\", {\n          parent: parent,\n          transition: transition,\n          enter: {\n            transform: transform\n          },\n          update: {\n            transform: transform\n          }\n        }).node(),\n        x: function x(d) {\n          return d.x2 ? _x2(d.x2, \"x2\") : _x2(d.x);\n        },\n        x0: this._discrete === \"x\" ? function (d) {\n          return d.x2 ? _x2(d.x2, \"x2\") : _x2(d.x);\n        } : _x2(domains.x[0]),\n        x1: this._discrete === \"x\" ? null : function (d) {\n          return d.x2 ? _x2(d.x2, \"x2\") : _x2(d.x);\n        },\n        y: function y(d) {\n          return d.y2 ? _y2(d.y2, \"y2\") : _y2(d.y);\n        },\n        y0: this._discrete === \"y\" ? function (d) {\n          return d.y2 ? _y2(d.y2, \"y2\") : _y2(d.y);\n        } : _y2(domains.y[1]) - yOffset,\n        y1: this._discrete === \"y\" ? null : function (d) {\n          return d.y2 ? _y2(d.y2, \"y2\") : _y2(d.y) - yOffset;\n        }\n      };\n\n      if (this._stacked) {\n        var scale = opp === \"x\" ? _x2 : _y2;\n\n        shapeConfig[\"\".concat(opp)] = shapeConfig[\"\".concat(opp, \"0\")] = function (d) {\n          var dataIndex = stackKeys.indexOf(d.id),\n              discreteIndex = discreteKeys.indexOf(d.discrete);\n          return dataIndex >= 0 ? scale(stackData[dataIndex][discreteIndex][0]) : scale(domains[opp][opp === \"x\" ? 0 : 1]);\n        };\n\n        shapeConfig[\"\".concat(opp, \"1\")] = function (d) {\n          var dataIndex = stackKeys.indexOf(d.id),\n              discreteIndex = discreteKeys.indexOf(d.discrete);\n          return dataIndex >= 0 ? scale(stackData[dataIndex][discreteIndex][1]) : scale(domains[opp][opp === \"x\" ? 0 : 1]);\n        };\n      }\n\n      var events = Object.keys(this._on);\n      shapeData.forEach(function (d) {\n        var s = new shapes[d.key]().config(shapeConfig).data(d.values);\n\n        if (d.key === \"Bar\") {\n          var space;\n\n          var _scale = _this2._discrete === \"x\" ? _x2 : _y2;\n\n          var scaleType = _this2._discrete === \"x\" ? xScale : yScale;\n          var vals = _this2._discrete === \"x\" ? xDomain : yDomain;\n\n          var _range = _this2._discrete === \"x\" ? xRange : yRange;\n\n          if (scaleType !== \"Point\" && vals.length === 2) {\n            space = (_scale(d.values[_this2._discrete === \"x\" ? 0 : d.values.length - 1][_this2._discrete]) - _scale(vals[0])) * 2;\n          } else if (vals.length > 1) space = _scale(vals[1]) - _scale(vals[0]);else space = _range[_range.length - 1] - _range[0];\n\n          if (_this2._groupPadding < space) space -= _this2._groupPadding;\n          var barSize = space || 1;\n          var groups = nest().key(function (d) {\n            return d[_this2._discrete];\n          }).key(function (d) {\n            return d.group;\n          }).entries(d.values);\n          var ids = merge(groups.map(function (d) {\n            return d.values.map(function (v) {\n              return v.key;\n            });\n          }));\n          var uniqueIds = Array.from(new Set(ids));\n\n          if (max(groups.map(function (d) {\n            return d.values.length;\n          })) === 1) {\n            s[_this2._discrete](function (d, i) {\n              return shapeConfig[_this2._discrete](d, i);\n            });\n          } else {\n            barSize = (barSize - _this2._barPadding * uniqueIds.length - 1) / uniqueIds.length;\n            var offset = space / 2 - barSize / 2;\n            var xMod = scales.scaleLinear().domain([0, uniqueIds.length - 1]).range([-offset, offset]);\n\n            s[_this2._discrete](function (d, i) {\n              return shapeConfig[_this2._discrete](d, i) + xMod(uniqueIds.indexOf(d.group));\n            });\n          }\n\n          s.width(barSize);\n          s.height(barSize);\n        } else if (d.key === \"Line\") {\n          s.duration(width * 1.5);\n\n          if (_this2._confidence) {\n            var areaConfig = Object.assign({}, shapeConfig);\n            var key = _this2._discrete === \"x\" ? \"y\" : \"x\";\n            var scaleFunction = _this2._discrete === \"x\" ? _y2 : _x2;\n\n            areaConfig[\"\".concat(key, \"0\")] = function (d) {\n              return scaleFunction(_this2._confidence[0] ? d.lci : d[key]);\n            };\n\n            areaConfig[\"\".concat(key, \"1\")] = function (d) {\n              return scaleFunction(_this2._confidence[1] ? d.hci : d[key]);\n            };\n\n            var area = new shapes.Area().config(areaConfig).data(d.values);\n            var confidenceConfig = Object.assign(_this2._shapeConfig, _this2._confidenceConfig);\n            area.config(configPrep.bind(_this2)(confidenceConfig, \"shape\", \"Area\")).render();\n\n            _this2._shapes.push(area);\n          }\n        }\n\n        var classEvents = events.filter(function (e) {\n          return e.includes(\".\".concat(d.key));\n        }),\n            globalEvents = events.filter(function (e) {\n          return !e.includes(\".\");\n        }),\n            shapeEvents = events.filter(function (e) {\n          return e.includes(\".shape\");\n        });\n\n        var _loop = function _loop(e) {\n          s.on(globalEvents[e], function (d) {\n            return _this2._on[globalEvents[e]](d.data, d.i);\n          });\n        };\n\n        for (var e = 0; e < globalEvents.length; e++) {\n          _loop(e);\n        }\n\n        var _loop2 = function _loop2(e) {\n          s.on(shapeEvents[e], function (d) {\n            return _this2._on[shapeEvents[e]](d.data, d.i);\n          });\n        };\n\n        for (var e = 0; e < shapeEvents.length; e++) {\n          _loop2(e);\n        }\n\n        var _loop3 = function _loop3(e) {\n          s.on(classEvents[e], function (d) {\n            return _this2._on[classEvents[e]](d.data, d.i);\n          });\n        };\n\n        for (var e = 0; e < classEvents.length; e++) {\n          _loop3(e);\n        }\n\n        var userConfig = configPrep.bind(_this2)(_this2._shapeConfig, \"shape\", d.key);\n        if (_this2._shapeConfig.duration === undefined) delete userConfig.duration;\n        s.config(userConfig).render();\n\n        _this2._shapes.push(s);\n      });\n      return this;\n    }\n    /**\n        @memberof Plot\n        @desc Allows drawing custom shapes to be used as annotations in the provided x/y plot. This method accepts custom config objects for the [Shape](http://d3plus.org/docs/#Shape) class, either a single config object or an array of config objects. Each config object requires an additional parameter, the \"shape\", which denotes which [Shape](http://d3plus.org/docs/#Shape) sub-class to use ([Rect](http://d3plus.org/docs/#Rect), [Line](http://d3plus.org/docs/#Line), etc). Annotations will be drawn underneath the data to be displayed.\n        @param {Array|Object} *annotations* = []\n        @chainable\n    */\n\n  }, {\n    key: \"annotations\",\n    value: function annotations(_) {\n      return arguments.length ? (this._annotations = _ instanceof Array ? _ : [_], this) : this._annotations;\n    }\n    /**\n         @memberof Plot\n         @desc A d3plus-shape configuration Object used for styling the background rectangle of the inner x/y plot (behind all of the shapes and gridlines).\n         @param {Object} [*value*]\n         @chainable\n     */\n\n  }, {\n    key: \"backgroundConfig\",\n    value: function backgroundConfig(_) {\n      return arguments.length ? (this._backgroundConfig = assign(this._backgroundConfig, _), this) : this._backgroundConfig;\n    }\n    /**\n        @memberof Plot\n        @desc Sets the pixel space between each bar in a group of bars.\n        @param {Number} *value* = 0\n        @chainable\n    */\n\n  }, {\n    key: \"barPadding\",\n    value: function barPadding(_) {\n      return arguments.length ? (this._barPadding = _, this) : this._barPadding;\n    }\n    /**\n        @memberof Plot\n        @desc Sets the baseline for the x/y plot. If *value* is not specified, returns the current baseline.\n        @param {Number} *value*\n        @chainable\n    */\n\n  }, {\n    key: \"baseline\",\n    value: function baseline(_) {\n      return arguments.length ? (this._baseline = _, this) : this._baseline;\n    }\n    /**\n         @memberof Plot\n         @desc Sets the confidence to the specified array of lower and upper bounds.\n         @param {String[]|Function[]} *value*\n         @chainable\n         @example <caption>Can be called with accessor functions or static keys:</caption>\n         var data = {id: \"alpha\", value: 10, lci: 9, hci: 11};\n         ...\n         // Accessor functions\n         .confidence([function(d) { return d.lci }, function(d) { return d.hci }])\n          // Or static keys\n         .confidence([\"lci\", \"hci\"])\n     */\n\n  }, {\n    key: \"confidence\",\n    value: function confidence(_) {\n      if (arguments.length && _ instanceof Array) {\n        this._confidence = [];\n        var lower = _[0];\n        this._confidence[0] = typeof lower === \"function\" || !lower ? lower : accessor(lower);\n        var upper = _[1];\n        this._confidence[1] = typeof upper === \"function\" || !upper ? upper : accessor(upper);\n        return this;\n      } else return this._confidence;\n    }\n    /**\n         @memberof Plot\n         @desc If *value* is specified, sets the config method for each shape rendered as a confidence interval and returns the current class instance.\n         @param {Object} [*value*]\n         @chainable\n     */\n\n  }, {\n    key: \"confidenceConfig\",\n    value: function confidenceConfig(_) {\n      return arguments.length ? (this._confidenceConfig = assign(this._confidenceConfig, _), this) : this._confidenceConfig;\n    }\n    /**\n        @memberof Plot\n        @desc Sets the discrete axis to the specified string. If *value* is not specified, returns the current discrete axis.\n        @param {String} *value*\n        @chainable\n    */\n\n  }, {\n    key: \"discrete\",\n    value: function discrete(_) {\n      return arguments.length ? (this._discrete = _, this) : this._discrete;\n    }\n    /**\n        @memberof Plot\n        @desc When the width or height of the chart is less than or equal to this pixel value, the discrete axis will not be shown. This helps produce slick sparklines. Set this value to `0` to disable the behavior entirely.\n        @param {Number} *value*\n        @chainable\n    */\n\n  }, {\n    key: \"discreteCutoff\",\n    value: function discreteCutoff(_) {\n      return arguments.length ? (this._discreteCutoff = _, this) : this._discreteCutoff;\n    }\n    /**\n        @memberof Plot\n        @desc Sets the pixel space between groups of bars.\n        @param {Number} [*value* = 5]\n        @chainable\n    */\n\n  }, {\n    key: \"groupPadding\",\n    value: function groupPadding(_) {\n      return arguments.length ? (this._groupPadding = _, this) : this._groupPadding;\n    }\n    /**\n        @memberof Plot\n        @desc A JavaScript [sort comparator function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort) that receives each shape Class (ie. \"Circle\", \"Line\", etc) as it's comparator arguments. Shapes are drawn in groups based on their type, so you are defining the layering order for all shapes of said type.\n        @param {Function} *value*\n        @chainable\n    */\n\n  }, {\n    key: \"shapeSort\",\n    value: function shapeSort(_) {\n      return arguments.length ? (this._shapeSort = _, this) : this._shapeSort;\n    }\n    /**\n        @memberof Plot\n        @desc Sets the size of bubbles to the given Number, data key, or function.\n        @param {Function|Number|String} *value* = 10\n        @chainable\n    */\n\n  }, {\n    key: \"size\",\n    value: function size(_) {\n      return arguments.length ? (this._size = typeof _ === \"function\" || !_ ? _ : accessor(_), this) : this._size;\n    }\n    /**\n        @memberof Plot\n        @desc Sets the size scale maximum to the specified number.\n        @param {Number} *value* = 20\n        @chainable\n    */\n\n  }, {\n    key: \"sizeMax\",\n    value: function sizeMax(_) {\n      return arguments.length ? (this._sizeMax = _, this) : this._sizeMax;\n    }\n    /**\n        @memberof Plot\n        @desc Sets the size scale minimum to the specified number.\n        @param {Number} *value* = 5\n        @chainable\n    */\n\n  }, {\n    key: \"sizeMin\",\n    value: function sizeMin(_) {\n      return arguments.length ? (this._sizeMin = _, this) : this._sizeMin;\n    }\n    /**\n        @memberof Plot\n        @desc Sets the size scale to the specified string.\n        @param {String} *value* = \"sqrt\"\n        @chainable\n    */\n\n  }, {\n    key: \"sizeScale\",\n    value: function sizeScale(_) {\n      return arguments.length ? (this._sizeScale = _, this) : this._sizeScale;\n    }\n    /**\n        @memberof Plot\n        @desc If *value* is specified, toggles shape stacking. If *value* is not specified, returns the current stack value.\n        @param {Boolean} *value* = false\n        @chainable\n    */\n\n  }, {\n    key: \"stacked\",\n    value: function stacked(_) {\n      return arguments.length ? (this._stacked = _, this) : this._stacked;\n    }\n    /**\n        @memberof Plot\n        @desc Sets the stack offset. If *value* is not specified, returns the current stack offset function.\n        @param {Function|String} *value* = \"descending\"\n        @chainable\n    */\n\n  }, {\n    key: \"stackOffset\",\n    value: function stackOffset(_) {\n      return arguments.length ? (this._stackOffset = typeof _ === \"function\" ? _ : d3Shape[\"stackOffset\".concat(_.charAt(0).toUpperCase() + _.slice(1))], this) : this._stackOffset;\n    }\n    /**\n        @memberof Plot\n        @desc Sets the stack order. If *value* is not specified, returns the current stack order function.\n        @param {Function|String|Array} *value* = \"none\"\n        @chainable\n    */\n\n  }, {\n    key: \"stackOrder\",\n    value: function stackOrder(_) {\n      if (arguments.length) {\n        if (typeof _ === \"string\") this._stackOrder = _ === \"ascending\" ? stackOrderAscending : _ === \"descending\" ? stackOrderDescending : d3Shape[\"stackOrder\".concat(_.charAt(0).toUpperCase() + _.slice(1))];else this._stackOrder = _;\n        return this;\n      } else return this._stackOrder;\n    }\n    /**\n        @memberof Plot\n        @desc Sets the x accessor to the specified function or number. If *value* is not specified, returns the current x accessor.\n        @param {Function|Number} *value*\n        @chainable\n    */\n\n  }, {\n    key: \"x\",\n    value: function x(_) {\n      if (arguments.length) {\n        if (typeof _ === \"function\") this._x = _;else {\n          this._x = accessor(_);\n\n          if (!this._aggs[_] && this._discrete === \"x\") {\n            this._aggs[_] = function (a) {\n              var v = Array.from(new Set(a));\n              return v.length === 1 ? v[0] : v;\n            };\n          }\n        }\n        return this;\n      } else return this._x;\n    }\n    /**\n         @memberof Plot\n         @desc Sets the x2 accessor to the specified function or number. If *value* is not specified, returns the current x2 accessor.\n         @param {Function|Number} *value*\n         @chainable\n     */\n\n  }, {\n    key: \"x2\",\n    value: function x2(_) {\n      if (arguments.length) {\n        if (typeof _ === \"function\") this._x2 = _;else {\n          this._x2 = accessor(_);\n\n          if (!this._aggs[_] && this._discrete === \"x\") {\n            this._aggs[_] = function (a) {\n              var v = Array.from(new Set(a));\n              return v.length === 1 ? v[0] : v;\n            };\n          }\n        }\n        return this;\n      } else return this._x2;\n    }\n    /**\n        @memberof Plot\n        @desc Sets the config method for the x-axis. If *value* is not specified, returns the current x-axis configuration.\n        @param {Object} *value*\n        @chainable\n    */\n\n  }, {\n    key: \"xConfig\",\n    value: function xConfig(_) {\n      return arguments.length ? (this._xConfig = assign(this._xConfig, _), this) : this._xConfig;\n    }\n    /**\n        @memberof Plot\n        @desc When the width of the chart is less than or equal to this pixel value, and the x-axis is not the discrete axis, it will not be shown. This helps produce slick sparklines. Set this value to `0` to disable the behavior entirely.\n        @param {Number} *value*\n        @chainable\n    */\n\n  }, {\n    key: \"xCutoff\",\n    value: function xCutoff(_) {\n      return arguments.length ? (this._xCutoff = _, this) : this._xCutoff;\n    }\n    /**\n        @memberof Plot\n        @desc Sets the config method for the secondary x-axis. If *value* is not specified, returns the current secondary x-axis configuration.\n        @param {Object} *value*\n        @chainable\n    */\n\n  }, {\n    key: \"x2Config\",\n    value: function x2Config(_) {\n      return arguments.length ? (this._x2Config = assign(this._x2Config, _), this) : this._x2Config;\n    }\n    /**\n        @memberof Plot\n        @desc Sets the x domain to the specified array. If *value* is not specified, returns the current x domain. Additionally, if either value of the array is undefined, it will be calculated from the data.\n        @param {Array} *value*\n        @chainable\n    */\n\n  }, {\n    key: \"xDomain\",\n    value: function xDomain(_) {\n      return arguments.length ? (this._xDomain = _, this) : this._xDomain;\n    }\n    /**\n         @memberof Plot\n         @desc Sets the x2 domain to the specified array. If *value* is not specified, returns the current x2 domain. Additionally, if either value of the array is undefined, it will be calculated from the data.\n         @param {Array} *value*\n         @chainable\n     */\n\n  }, {\n    key: \"x2Domain\",\n    value: function x2Domain(_) {\n      return arguments.length ? (this._x2Domain = _, this) : this._x2Domain;\n    }\n    /**\n        @memberof Plot\n        @desc Defines a custom sorting comparitor function to be used for discrete x axes.\n        @param {Function} *value*\n        @chainable\n    */\n\n  }, {\n    key: \"xSort\",\n    value: function xSort(_) {\n      return arguments.length ? (this._xSort = _, this) : this._xSort;\n    }\n    /**\n         @memberof Plot\n         @desc Defines a custom sorting comparitor function to be used for discrete x2 axes.\n         @param {Function} *value*\n         @chainable\n     */\n\n  }, {\n    key: \"x2Sort\",\n    value: function x2Sort(_) {\n      return arguments.length ? (this._x2Sort = _, this) : this._x2Sort;\n    }\n    /**\n        @memberof Plot\n        @desc Sets the y accessor to the specified function or number. If *value* is not specified, returns the current y accessor.\n        @param {Function|Number} *value*\n        @chainable\n    */\n\n  }, {\n    key: \"y\",\n    value: function y(_) {\n      if (arguments.length) {\n        if (typeof _ === \"function\") this._y = _;else {\n          this._y = accessor(_);\n\n          if (!this._aggs[_] && this._discrete === \"y\") {\n            this._aggs[_] = function (a) {\n              var v = Array.from(new Set(a));\n              return v.length === 1 ? v[0] : v;\n            };\n          }\n        }\n        return this;\n      } else return this._y;\n    }\n    /**\n         @memberof Plot\n         @desc Sets the y2 accessor to the specified function or number. If *value* is not specified, returns the current y2 accessor.\n         @param {Function|Number} *value*\n         @chainable\n     */\n\n  }, {\n    key: \"y2\",\n    value: function y2(_) {\n      if (arguments.length) {\n        if (typeof _ === \"function\") this._y2 = _;else {\n          this._y2 = accessor(_);\n\n          if (!this._aggs[_] && this._discrete === \"y2\") {\n            this._aggs[_] = function (a) {\n              var v = Array.from(new Set(a));\n              return v.length === 1 ? v[0] : v;\n            };\n          }\n        }\n        return this;\n      } else return this._y2;\n    }\n    /**\n        @memberof Plot\n        @desc Sets the config method for the y-axis. If *value* is not specified, returns the current y-axis configuration.\n    *Note:* If a \"domain\" array is passed to the y-axis config, it will be reversed.\n        @param {Object} *value*\n        @chainable\n    */\n\n  }, {\n    key: \"yConfig\",\n    value: function yConfig(_) {\n      if (arguments.length) {\n        if (_.domain) _.domain = _.domain.slice().reverse();\n        this._yConfig = assign(this._yConfig, _);\n        return this;\n      }\n\n      return this._yConfig;\n    }\n    /**\n        @memberof Plot\n        @desc When the height of the chart is less than or equal to this pixel value, and the y-axis is not the discrete axis, it will not be shown. This helps produce slick sparklines. Set this value to `0` to disable the behavior entirely.\n        @param {Number} *value*\n        @chainable\n    */\n\n  }, {\n    key: \"yCutoff\",\n    value: function yCutoff(_) {\n      return arguments.length ? (this._yCutoff = _, this) : this._yCutoff;\n    }\n    /**\n        @memberof Plot\n        @desc Sets the config method for the secondary y-axis. If *value* is not specified, returns the current secondary y-axis configuration.\n        @param {Object} *value*\n        @chainable\n    */\n\n  }, {\n    key: \"y2Config\",\n    value: function y2Config(_) {\n      return arguments.length ? (this._y2Config = assign(this._y2Config, _), this) : this._y2Config;\n    }\n    /**\n        @memberof Plot\n        @desc Sets the y domain to the specified array. If *value* is not specified, returns the current y domain. Additionally, if either value of the array is undefined, it will be calculated from the data.\n        @param {Array} *value*\n        @chainable\n    */\n\n  }, {\n    key: \"yDomain\",\n    value: function yDomain(_) {\n      return arguments.length ? (this._yDomain = _, this) : this._yDomain;\n    }\n    /**\n         @memberof Plot\n         @desc Sets the y2 domain to the specified array. If *value* is not specified, returns the current y2 domain. Additionally, if either value of the array is undefined, it will be calculated from the data.\n         @param {Array} *value*\n         @chainable\n     */\n\n  }, {\n    key: \"y2Domain\",\n    value: function y2Domain(_) {\n      return arguments.length ? (this._y2Domain = _, this) : this._y2Domain;\n    }\n    /**\n        @memberof Plot\n        @desc Defines a custom sorting comparitor function to be used for discrete y axes.\n        @param {Function} *value*\n        @chainable\n    */\n\n  }, {\n    key: \"ySort\",\n    value: function ySort(_) {\n      return arguments.length ? (this._ySort = _, this) : this._ySort;\n    }\n    /**\n         @memberof Plot\n         @desc Defines a custom sorting comparitor function to be used for discrete y2 axes.\n         @param {Function} *value*\n         @chainable\n     */\n\n  }, {\n    key: \"y2Sort\",\n    value: function y2Sort(_) {\n      return arguments.length ? (this._y2Sort = _, this) : this._y2Sort;\n    }\n  }]);\n\n  return Plot;\n}(Viz);\n\nexport { Plot as default };","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport { constant } from \"d3plus-common\";\nimport { default as Plot } from \"./Plot\";\n/**\n    @class AreaPlot\n    @extends Plot\n    @desc Creates an area plot based on an array of data.\n    @example <caption>the equivalent of calling:</caption>\nnew d3plus.Plot()\n  .baseline(0)\n  .discrete(\"x\")\n  .shape(\"Area\")\n*/\n\nvar AreaPlot =\n/*#__PURE__*/\nfunction (_Plot) {\n  _inherits(AreaPlot, _Plot);\n\n  /**\n      @memberof AreaPlot\n      @desc Invoked when creating a new class instance, and overrides any default parameters inherited from Plot.\n      @private\n  */\n  function AreaPlot() {\n    var _this;\n\n    _classCallCheck(this, AreaPlot);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AreaPlot).call(this));\n    _this._baseline = 0;\n    _this._discrete = \"x\";\n    _this._shape = constant(\"Area\");\n\n    _this.x(\"x\");\n\n    return _this;\n  }\n\n  return AreaPlot;\n}(Plot);\n\nexport { AreaPlot as default };","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport { constant } from \"d3plus-common\";\nimport { default as Plot } from \"./Plot\";\n/**\n    @class BarChart\n    @extends Plot\n    @desc Creates a bar chart based on an array of data.\n    @example <caption>the equivalent of calling:</caption>\nnew d3plus.Plot()\n  .baseline(0)\n  .discrete(\"x\")\n  .shape(\"Bar\")\n*/\n\nvar BarChart =\n/*#__PURE__*/\nfunction (_Plot) {\n  _inherits(BarChart, _Plot);\n\n  /**\n      @memberof BarChart\n      @desc Invoked when creating a new class instance, and overrides any default parameters inherited from Plot.\n      @private\n  */\n  function BarChart() {\n    var _this;\n\n    _classCallCheck(this, BarChart);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(BarChart).call(this));\n    _this._baseline = 0;\n    _this._discrete = \"x\";\n    _this._shape = constant(\"Bar\");\n\n    _this.x(\"x\");\n\n    return _this;\n  }\n\n  return BarChart;\n}(Plot);\n\nexport { BarChart as default };","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport { constant } from \"d3plus-common\";\nimport { default as Plot } from \"./Plot\";\n/**\n    @class LinePlot\n    @extends Plot\n    @desc Creates a line plot based on an array of data.\n    @example <caption>the equivalent of calling:</caption>\nnew d3plus.Plot()\n  .discrete(\"x\")\n  .shape(\"Line\")\n*/\n\nvar LinePlot =\n/*#__PURE__*/\nfunction (_Plot) {\n  _inherits(LinePlot, _Plot);\n\n  /**\n      @memberof LinePlot\n      @desc Invoked when creating a new class instance, and overrides any default parameters inherited from Plot.\n      @private\n  */\n  function LinePlot() {\n    var _this;\n\n    _classCallCheck(this, LinePlot);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(LinePlot).call(this));\n    _this._discrete = \"x\";\n    _this._shape = constant(\"Line\");\n\n    _this.x(\"x\");\n\n    return _this;\n  }\n\n  return LinePlot;\n}(Plot);\n\nexport { LinePlot as default };","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport { default as AreaPlot } from \"./AreaPlot\";\n/**\n    @class StackedArea\n    @extends Area\n    @desc Creates a stacked area plot based on an array of data.\n    @example <caption>the equivalent of calling:</caption>\nnew d3plus.AreaPlot()\n  .stacked(true)\n*/\n\nvar StackedArea =\n/*#__PURE__*/\nfunction (_AreaPlot) {\n  _inherits(StackedArea, _AreaPlot);\n\n  /**\n      @memberof StackedArea\n      @desc Invoked when creating a new class instance, and overrides any default parameters inherited from Plot.\n      @private\n  */\n  function StackedArea() {\n    var _this;\n\n    _classCallCheck(this, StackedArea);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(StackedArea).call(this));\n    _this._stacked = true;\n    return _this;\n  }\n\n  return StackedArea;\n}(AreaPlot);\n\nexport { StackedArea as default };","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n/**\n    @external Viz\n    @see https://github.com/d3plus/d3plus-viz#Viz\n*/\nimport { min, max, range } from \"d3-array\";\nimport { nest } from \"d3-collection\";\nimport { scalePoint } from \"d3-scale\";\nimport { Axis, date } from \"d3plus-axis\";\nimport { accessor, assign, configPrep, elem } from \"d3plus-common\";\nimport { Rect } from \"d3plus-shape\";\nimport { Viz } from \"d3plus-viz\";\n/**\n    @class Priestley\n    @extends external:Viz\n    @desc Creates a priestley timeline based on an array of data.\n*/\n\nvar Priestley =\n/*#__PURE__*/\nfunction (_Viz) {\n  _inherits(Priestley, _Viz);\n\n  /**\n      @memberof Priestley\n      @desc Invoked when creating a new class instance, and sets any default parameters.\n      @private\n  */\n  function Priestley() {\n    var _this;\n\n    _classCallCheck(this, Priestley);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Priestley).call(this));\n    _this._axis = new Axis().align(\"end\").orient(\"bottom\");\n    _this._axisConfig = {\n      scale: \"time\"\n    };\n    _this._axisTest = new Axis().align(\"end\").gridSize(0).orient(\"bottom\");\n\n    _this.end(\"end\");\n\n    _this._shapeConfig = assign({}, _this._shapeConfig, {\n      ariaLabel: function ariaLabel(d, i) {\n        return \"\".concat(_this._drawLabel(d, i), \", \").concat(_this._start(d, i), \" - \").concat(_this._end(d, i), \".\");\n      }\n    });\n\n    _this.start(\"start\");\n\n    return _this;\n  }\n  /**\n      @memberof Priestley\n      @desc Extends the render behavior of the abstract Viz class.\n      @private\n  */\n\n\n  _createClass(Priestley, [{\n    key: \"render\",\n    value: function render(callback) {\n      var _this2 = this;\n\n      _get(_getPrototypeOf(Priestley.prototype), \"render\", this).call(this, callback);\n\n      if (!this._filteredData) return this;\n\n      var data = this._filteredData.map(function (data, i) {\n        return {\n          __d3plus__: true,\n          data: data,\n          end: _this2._axisConfig.scale === \"time\" ? date(_this2._end(data, i)) : _this2._end(data, i),\n          i: i,\n          id: _this2._id(data, i),\n          start: _this2._axisConfig.scale === \"time\" ? date(_this2._start(data, i)) : _this2._start(data, i)\n        };\n      }).filter(function (d) {\n        return d.end - d.start > 0;\n      }).sort(function (a, b) {\n        return a.start - b.start;\n      });\n\n      var nestedData;\n\n      if (this._groupBy.length > 1 && this._drawDepth > 0) {\n        var dataNest = nest();\n\n        var _loop = function _loop(i) {\n          dataNest.key(function (d) {\n            return _this2._groupBy[i](d.data, d.i);\n          });\n        };\n\n        for (var i = 0; i < this._drawDepth; i++) {\n          _loop(i);\n        }\n\n        nestedData = dataNest.entries(data);\n      } else nestedData = [{\n        values: data\n      }];\n\n      var maxLane = 0;\n      nestedData.forEach(function (g) {\n        var track = [];\n        g.values.forEach(function (d) {\n          track = track.map(function (t) {\n            return t <= d.start ? false : t;\n          });\n          var i = track.indexOf(false);\n\n          if (i < 0) {\n            d.lane = maxLane + track.length;\n            track.push(d.end);\n          } else {\n            track[i] = d.end;\n            d.lane = maxLane + i;\n          }\n        });\n        maxLane += track.length;\n      });\n      var axisConfig = {\n        domain: [min(data, function (d) {\n          return d.start;\n        }) || 0, max(data, function (d) {\n          return d.end;\n        }) || 0],\n        height: this._height - this._margin.top - this._margin.bottom,\n        width: this._width - this._margin.left - this._margin.right\n      };\n      var transform = \"translate(\".concat(this._margin.left, \", \").concat(this._margin.top, \")\");\n\n      this._axisTest.config(axisConfig).config(this._axisConfig).select(elem(\"g.d3plus-priestley-axis-test\", {\n        parent: this._select,\n        enter: {\n          opacity: 0\n        }\n      }).node()).render();\n\n      this._axis.config(axisConfig).config(this._axisConfig).select(elem(\"g.d3plus-priestley-axis\", {\n        parent: this._select,\n        enter: {\n          transform: transform\n        },\n        update: {\n          transform: transform\n        }\n      }).node()).render();\n\n      var axisPad = this._axisTest._padding;\n      var xScale = this._axis._d3Scale;\n      var yScale = scalePoint().domain(range(0, maxLane, 1)).padding(0.5).rangeRound([this._height - this._margin.bottom - this._axisTest.outerBounds().height - axisPad, this._margin.top + axisPad]);\n      var step = yScale.step();\n\n      this._shapes.push(new Rect().data(data).duration(this._duration).height(step >= this._padding * 2 ? step - this._padding : step > 2 ? step - 2 : step).label(function (d, i) {\n        return _this2._drawLabel(d.data, i);\n      }).select(elem(\"g.d3plus-priestley-shapes\", {\n        parent: this._select\n      }).node()).width(function (d) {\n        var w = Math.abs(xScale(d.end) - xScale(d.start));\n        return w > 2 ? w - 2 : w;\n      }).x(function (d) {\n        return xScale(d.start) + (xScale(d.end) - xScale(d.start)) / 2;\n      }).y(function (d) {\n        return yScale(d.lane);\n      }).config(configPrep.bind(this)(this._shapeConfig, \"shape\", \"Rect\")).render());\n\n      return this;\n    }\n    /**\n        @memberof Priestley\n        @desc If *value* is specified, sets the config method for the axis and returns the current class instance. If *value* is not specified, returns the current axis configuration.\n        @param {Object} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"axisConfig\",\n    value: function axisConfig(_) {\n      return arguments.length ? (this._axisConfig = assign(this._axisConfig, _), this) : this._axisConfig;\n    }\n    /**\n        @memberof Priestley\n        @desc If *value* is specified, sets the end accessor to the specified function or key and returns the current class instance. If *value* is not specified, returns the current end accessor.\n        @param {Function|String} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"end\",\n    value: function end(_) {\n      if (arguments.length) {\n        if (typeof _ === \"function\") this._end = _;else {\n          this._end = accessor(_);\n          if (!this._aggs[_]) this._aggs[_] = function (a) {\n            return max(a);\n          };\n        }\n        return this;\n      } else return this._end;\n    }\n    /**\n        @memberof Priestley\n        @desc If *value* is specified, sets the start accessor to the specified function or key and returns the current class instance. If *value* is not specified, returns the current start accessor.\n        @param {Function|String} [*value*]\n        @chainable\n    */\n\n  }, {\n    key: \"start\",\n    value: function start(_) {\n      if (arguments.length) {\n        if (typeof _ === \"function\") this._start = _;else {\n          this._start = accessor(_);\n          if (!this._aggs[_]) this._aggs[_] = function (a) {\n            return min(a);\n          };\n        }\n        return this;\n      } else return this._start;\n    }\n  }]);\n\n  return Priestley;\n}(Viz);\n\nexport { Priestley as default };"],"names":["version","a","b","NaN","compare","length","ascendingComparator","left","x","lo","hi","mid","right","f","d","ascending","ascendingBisect","bisector","bisectRight","values","valueof","n","i","value","min","max","start","stop","step","arguments","Math","ceil","range","Array","e10","sqrt","e5","e2","count","reverse","ticks","tickIncrement","isFinite","floor","power","log","LN10","error","pow","tickStep","step0","abs","step1","p","number","i0","value0","value1","m","sum","isNaN","arrays","j","merged","array","t0","Date","t1","newInterval","floori","offseti","field","interval","date","round","d0","d1","offset","previous","push","filter","test","setTime","end","every","millisecond","k","durationSecond","durationMinute","durationHour","durationDay","durationWeek","second","getMilliseconds","getUTCSeconds","minute","getSeconds","getMinutes","hour","getHours","day","setHours","setDate","getDate","getTimezoneOffset","weekday","getDay","sunday","monday","tuesday","wednesday","thursday","friday","saturday","month","setMonth","getMonth","getFullYear","year","setFullYear","utcMinute","setUTCSeconds","getUTCMinutes","utcHour","setUTCMinutes","getUTCHours","utcDay","setUTCHours","setUTCDate","getUTCDate","utcWeekday","getUTCDay","utcSunday","utcMonday","utcTuesday","utcWednesday","utcThursday","utcFriday","utcSaturday","utcMonth","setUTCMonth","getUTCMonth","getUTCFullYear","utcYear","setUTCFullYear","localDate","y","H","M","S","L","utcDate","UTC","newYear","formatLocale","locale","locale_dateTime","dateTime","locale_date","locale_time","time","locale_periods","periods","locale_weekdays","days","locale_shortWeekdays","shortDays","locale_months","months","locale_shortMonths","shortMonths","periodRe","formatRe","periodLookup","formatLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formats","formatShortWeekday","formatWeekday","formatShortMonth","formatMonth","formatDayOfMonth","formatMicroseconds","formatHour24","formatHour12","formatDayOfYear","formatMilliseconds","formatMonthNumber","formatMinutes","formatPeriod","formatUnixTimestamp","formatUnixTimestampSeconds","formatSeconds","formatWeekdayNumberMonday","formatWeekNumberSunday","formatWeekNumberISO","formatWeekdayNumberSunday","formatWeekNumberMonday","formatYear","formatFullYear","formatZone","formatLiteralPercent","utcFormats","formatUTCShortWeekday","formatUTCWeekday","formatUTCShortMonth","formatUTCMonth","formatUTCDayOfMonth","formatUTCMicroseconds","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","formatUTCMonthNumber","formatUTCMinutes","formatUTCPeriod","formatUTCSeconds","formatUTCWeekdayNumberMonday","formatUTCWeekNumberSunday","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCFullYear","formatUTCZone","parses","parseShortWeekday","parseWeekday","parseShortMonth","parseMonth","parseLocaleDateTime","parseDayOfMonth","parseMicroseconds","parseHour24","parseDayOfYear","parseMilliseconds","parseMonthNumber","parseMinutes","parsePeriod","parseUnixTimestamp","parseUnixTimestampSeconds","parseSeconds","parseWeekdayNumberMonday","parseWeekNumberSunday","parseWeekNumberISO","parseWeekdayNumberSunday","parseWeekNumberMonday","parseLocaleDate","parseLocaleTime","parseYear","parseFullYear","parseZone","parseLiteralPercent","newFormat","X","c","specifier","string","pad","format","charCodeAt","slice","pads","charAt","join","newParse","newDate","parseSpecifier","week","Q","V","w","timeMonday","timeDay","u","W","U","Z","parse","exec","toLowerCase","toString","utcFormat","utcParse","numberRe","percentRe","requoteRe","fill","width","sign","requote","s","replace","names","RegExp","map","timeYear","timeSunday","timeThursday","z","getUTCMilliseconds","dow","timeFormat","timeParse","defaultLocale","definition","isoSpecifier","formatIsoNative","toISOString","formatIso","prototype","parseIsoNative","parseIso","initRange","domain","initInterpolator","interpolator","prefix","Map","constructor","has","key","get","set","remove","property","clear","keys","entries","size","empty","each","object","isArray","o","sortKeys","sortValues","rollup","nest","apply","depth","createResult","setResult","sort","keyValue","valuesByKey","result","sortKey","v","createObject","setObject","createMap","setMap","order","Set","proto","add","implicit","name","ordinal","index","unknown","scale","_","call","copy","band","undefined","ordinalRange","bandwidth","paddingInner","paddingOuter","align","rescale","sequence","rangeRound","padding","pointish","point","factory","extend","parent","Object","create","Color","darker","brighter","reI","reN","reP","reHex","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","define","color","channels","assign","displayable","rgb","hex","color_formatHex","formatHex","formatHsl","color_formatHsl","formatRgb","color_formatRgb","hslConvert","l","trim","parseInt","rgbn","Rgb","rgba","hsla","hasOwnProperty","r","g","rgbConvert","opacity","rgb_formatHex","rgb_formatRgb","h","Hsl","hsl","m2","m1","hsl2rgb","linear","t","exponential","gamma","nogamma","constant","rgbGamma","colorRgb","nb","na","reA","reB","source","zero","one","bi","lastIndex","am","bm","bs","q","valueOf","degrees","PI","identity","translateX","translateY","rotate","skewX","scaleX","scaleY","e","atan2","atan","cssNode","cssRoot","cssView","svgNode","parseCss","document","createElement","documentElement","defaultView","style","transform","getComputedStyle","appendChild","getPropertyValue","removeChild","split","decompose","parseSvg","createElementNS","setAttribute","baseVal","consolidate","matrix","interpolateTransform","pxComma","pxParen","degParen","pop","translate","xa","ya","xb","yb","interpolateTransformCss","interpolateTransformSvg","rho","SQRT2","rho2","rho4","epsilon2","cosh","exp","sinh","tanh","p0","p1","ux0","uy0","w0","ux1","uy1","w1","dx","dy","d2","b0","b1","r0","r1","coshr0","duration","unit","normalize","clamper","bimap","interpolate","polymap","bisect","target","clamp","transformer","interpolateValue","untransform","piecewise","output","input","invert","interpolateNumber","interpolateRound","continuous","toExponential","indexOf","coefficient","formatDecimal","grouping","thousands","substring","numerals","re","formatSpecifier","match","Error","FormatSpecifier","symbol","comma","precision","type","out","i1","prefixExponent","exponent","toFixed","toPrecision","formatRounded","formatPrefixAuto","toUpperCase","prefixes","group","formatGroup","Number","currencyPrefix","currency","currencySuffix","decimal","formatNumerals","String","percent","minus","nan","formatTypes","suffix","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","formatTrim","Infinity","formatPrefix","precisionPrefix","precisionRound","precisionFixed","linearish","tickFormat","nice","x0","x1","transformLog","transformExp","transformLogn","transformExpn","pow10","powp","base","E","logp","log10","log2","reflect","loggish","logs","pows","transformSymlog","log1p","transformSymexp","expm1","symlogish","symlog","transformPow","transformSqrt","transformSquare","powish","quantile","thresholds","threshold","invertExtent","quantiles","quantize","durationMonth","durationYear","calendar","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","tickIntervals","tickInterval","timeMonth","timeWeek","timeHour","timeMinute","timeSecond","timeMillisecond","utcWeek","utcSecond","utcMillisecond","k10","sequential","sequentialLog","sequentialSymlog","sequentialPow","sequentialSqrt","sequentialQuantile","x2","t2","k21","diverging","divergingLog","divergingSymlog","divergingPow","divergingSqrt","xhtml","svg","xlink","xml","xmlns","namespaces","space","local","creatorInherit","ownerDocument","uri","namespaceURI","creatorFixed","fullname","namespace","none","selector","querySelector","select","groups","_groups","subgroups","subgroup","node","subnode","__data__","Selection","_parents","querySelectorAll","selectorAll","parents","matches","matcher","update","_enter","sparse","EnterNode","datum","_next","_parent","child","insertBefore","next","keyPrefix","bindIndex","enter","exit","data","groupLength","dataLength","bindKey","nodeByKeyValue","keyValues","bind","enterGroup","updateGroup","exitGroup","_exit","onenter","onupdate","onexit","append","merge","selection","groups0","groups1","m0","merges","group0","group1","compareDocumentPosition","parentNode","compareNode","sortgroups","sortgroup","callback","nodes","attrRemove","removeAttribute","attrRemoveNS","removeAttributeNS","attrConstant","attrConstantNS","setAttributeNS","attrFunction","attrFunctionNS","getAttributeNS","getAttribute","styleRemove","removeProperty","styleConstant","priority","setProperty","styleFunction","styleValue","propertyRemove","propertyConstant","propertyFunction","classArray","classList","ClassList","_node","_names","splice","contains","classedAdd","list","classedRemove","classedTrue","classedFalse","classedFunction","textRemove","textContent","textConstant","textFunction","htmlRemove","innerHTML","htmlConstant","htmlFunction","raise","nextSibling","lower","previousSibling","firstChild","creator","constantNull","before","selection_cloneShallow","cloneNode","selection_cloneDeep","deep","filterEvents","event","element","mouseenter","mouseleave","filterContextListener","listener","contextListener","related","relatedTarget","event1","event0","parseTypenames","typenames","onRemove","typename","on","__on","removeEventListener","capture","onAdd","wrap","addEventListener","customEvent","that","args","sourceEvent","dispatchEvent","params","window","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","root","selection_select","selectAll","selection_selectAll","selection_filter","selection_data","selection_enter","selection_exit","selection_join","selection_merge","selection_order","selection_sort","selection_call","selection_nodes","selection_node","selection_size","selection_empty","selection_each","attr","selection_attr","selection_style","selection_property","classed","selection_classed","text","selection_text","html","selection_html","selection_raise","selection_lower","selection_append","insert","selection_insert","selection_remove","clone","selection_clone","selection_datum","selection_on","dispatch","selection_dispatch","current","ownerSVGElement","createSVGPoint","clientX","clientY","matrixTransform","getScreenCTM","inverse","rect","getBoundingClientRect","clientLeft","top","clientTop","changedTouches","touches","identifier","touch","noop","Dispatch","types","T","concat","frame","timeout","pokeDelay","taskHead","taskTail","clockLast","clockNow","clockSkew","clock","performance","now","setFrame","requestAnimationFrame","setTimeout","clearNow","Timer","_call","_time","timer","restart","delay","TypeError","sleep","timerFlush","wake","nap","poke","clearTimeout","clearInterval","setInterval","elapsed","emptyOn","emptyTween","CREATED","SCHEDULED","STARTING","STARTED","RUNNING","ENDING","ENDED","id","timing","schedules","__transition","tween","ease","state","init","schedule","self","tick","active","interrupt","tweenRemove","tween0","tween1","tweenFunction","_id","tweenValue","transition","interpolateRgb","interpolateString","string00","string1","interpolate0","string0","string10","attrTween","attrInterpolate","attrInterpolateNS","attrTweenNS","_value","delayFunction","delayConstant","durationFunction","durationConstant","easeConstant","Transition","_name","onFunction","on0","on1","sit","removeFunction","children","inherit","styleNull","styleMaybeRemove","listener0","styleTween","styleInterpolate","id0","id1","newId","Promise","resolve","reject","cancel","selection_prototype","transition_select","transition_selectAll","transition_filter","transition_merge","transition_selection","transition_transition","transition_on","transition_attr","transition_attrTween","transition_style","transition_styleTween","transition_text","transition_remove","transition_tween","transition_delay","transition_duration","transition_ease","transition_end","cubicInOut","defaultTiming","easeCubicInOut","selection_interrupt","selection_transition","def","_typeof","obj","Symbol","_typeof2","iterator","item","Element","validObject","_arguments","_loop","forEach","prop","isObject","_defineProperty","defineProperty","enumerable","configurable","writable","locales","isoKeys","iso","lcid","isoLanguage","find","language","location","_locales$push","tag","defaultLocales","ar","ca","da","en","ko","pa","pt","sv","random","esES","_classCallCheck","instance","Constructor","_defineProperties","props","descriptor","_createClass","protoProps","staticProps","nestedReset","defaults","nestedKey","startsWith","defaultValue","RESET","BaseClass","_this","_locale","_on","_translate","dictionary","dictionaries","_uuid","uuid","config","_configDefault","__proto__","includes","_k","_v","_config","_k2","findLocale","arr","reduce","prev","curr","configPrep","_shapeConfig","newConfig","_duration","wrapFunction","func","__d3plus__","__d3plusParent__","feature","parseEvents","newObj","arrayEval","keyEval","condition","className","elem","attrize","objectMerge","objects","aggs","availableKeys","unique","newObject","sides","acc","direction","parseFloat","body","separator","suffixes","delimiters","formatSuffix","parseSuffixes","negative","localeConfig","d3plusFormatLocale","val","num","_char","Image","_height","accessor","_pointerEvents","_select","_url","_width","_x","_y","render","innerWidth","innerHeight","images","_data","image","link","fullAddress","hostname","img","src","crossOrigin","onload","canvas","height","context","getContext","drawImage","toDataURL","pointerEvents","url","c1","c2","o1","o2","dark","light","missing","off","scaleOrdinal","getColor","yiq","pi","tau","epsilon","tauEpsilon","Path","_x0","_y0","_x1","_y1","path","moveTo","closePath","lineTo","quadraticCurveTo","y1","bezierCurveTo","y2","arcTo","y0","x21","y21","x01","y01","l01_2","x20","y20","l21_2","l20_2","l21","l01","acos","t01","t21","arc","a0","a1","ccw","cos","sin","cw","halfPi","asin","arcInnerRadius","innerRadius","arcOuterRadius","outerRadius","arcStartAngle","startAngle","arcEndAngle","endAngle","arcPadAngle","padAngle","intersect","x3","y3","x10","y10","x32","y32","cornerTangents","rc","ox","oy","x11","y11","x00","y00","D","cx0","cy0","cx1","cy1","dx0","dy0","dx1","dy1","cx","cy","cornerRadius","padRadius","buffer","a01","a11","a00","a10","da0","da1","ap","rp","rc0","rc1","oc","ax","ay","bx","by","kc","lc","centroid","Linear","_context","areaStart","_line","areaEnd","lineStart","_point","lineEnd","pointX","pointY","defined","curve","curveLinear","line","defined0","area","x0z","y0z","arealine","lineX0","lineY0","lineY1","lineX1","descending","pie","arcs","curveRadialLinear","curveRadial","Radial","_curve","radial","lineRadial","angle","radius","lineStartAngle","lineEndAngle","lineInnerRadius","lineOuterRadius","linkSource","linkTarget","argv","curveHorizontal","curveVertical","pointRadial","p2","p3","linkHorizontal","linkVertical","linkRadial","draw","tan30","tan30_2","ka","kr","kx","ky","sqrt3","symbols","circle","cross","diamond","square","star","triangle","wye","Basis","BasisClosed","_x2","_x3","_x4","_y2","_y3","_y4","BasisOpen","Bundle","beta","_basis","_beta","custom","bundle","Cardinal","tension","cardinal","CardinalClosed","_x5","_y5","CardinalOpen","_l01_a","_l01_2a","_l12_a","_l12_2a","_l23_a","_l23_2a","CatmullRom","alpha","_alpha","x23","y23","catmullRom","CatmullRomClosed","CatmullRomOpen","LinearClosed","slope3","h0","h1","s0","s1","slope2","MonotoneX","_t0","MonotoneY","ReflectContext","monotoneX","monotoneY","Natural","px","controlPoints","py","Step","_t","stepBefore","stepAfter","series","stackValue","orderNone","offsetNone","stack","kz","sz","oz","ki","si","sij","yp","yn","s2","sij0","sij1","s3","sk","skj0","skj1","peaks","peak","vi","vj","sums","appearance","bottom","tops","bottoms","htmlDecode","doc","DOMParser","parseFromString","font","measureText","str","trimLeft","trimRight","checked","dejavu","macos","monospace","proportional","fontExists","textWidth","fam","JSON","stringify","diacritics","ret","splitChars","prefixChars","suffixChars","burmeseRange","japaneseRange","chineseRange","laoRange","noSpaceRange","splitWords","noSpaceLanguage","splitAllChars","combiningMarks","sentence","fontFamily","fontSize","fontWeight","lineHeight","maxLines","overflow","defaultSplit","textWrap","words","textProg","truncated","widthProg","lineData","sizes","measure","word","wordWidth","lines","widths","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","_getPrototypeOf","setPrototypeOf","getPrototypeOf","_inherits","subClass","superClass","_setPrototypeOf","defaultHtmlLookup","em","strong","TextBox","_BaseClass","_ariaHidden","_delay","_ellipsis","_fontColor","_fontFamily","_fontMax","_fontMin","_fontOpacity","_fontResize","_fontSize","_fontWeight","_html","_lineHeight","_maxLines","_overflow","_padding","_rotate","_rotateAnchor","_split","textSplit","_text","_textAnchor","_verticalAlign","_this2","boxes","resize","lHRatio","fS","lH","wrapResults","parseSides","wrapper","fMax","fMin","vA","checkSize","truncate","areaMod","boxArea","maxWidth","textArea","areaRatio","widthRatio","sizeRatio","heightMax","tH","yP","aH","fC","fF","fO","fW","tA","rotateAnchor","strip","rtl","detectRTL","textStyle","texts","events","ariaHidden","ellipsis","fontColor","fontMax","fontMin","fontOpacity","fontResize","textAnchor","verticalAlign","lowercase","uppercase","smalls","bigs","biglow","stripped","bigindex","substr","pointDistanceSquared","Shape","tagName","_activeOpacity","_activeStyle","stroke","_fill","_stroke","strokeWidth","_strokeWidth","_ariaLabel","_backgroundImage","_backgroundImageClass","_fillOpacity","_hoverOpacity","_hoverStyle","_label","_labelClass","_labelConfig","colorContrast","_opacity","_role","_rx","_ry","_scale","_shapeRendering","_strokeDasharray","_strokeLinecap","_strokeOpacity","_tagName","_vectorEffect","_aes","_applyEvents","handler","nested","cursor","mouse","pointDistance","_updateStyle","styleLogic","styleObject","_applyStyle","_applyTransform","_this3","__d3plusShape__","_nestWrapper","method","_renderActive","_group","_active","_activeGroup","_hover","_renderHover","_hoverGroup","_renderImage","_this4","imageData","_update","aes","_renderLabels","_this5","labelData","labels","_labelBounds","bounds","labelConfig","_this6","_transition","_dataFilter","_sort","enterUpdate","enterUpdateRender","hitAreas","_hitArea","isLine","_path","paths","_defined","hitEnter","hitUpdates","activeOpacity","activeStyle","ariaLabel","backgroundImage","fillOpacity","hover","hoverStyle","hoverOpacity","hitArea","label","labelBounds","role","rx","ry","shapeRendering","strokeDasharray","strokeLinecap","strokeOpacity","vectorEffect","decasteljau","points","decasteljauRecurse","newPoints","pointsToCommand","command","splitCurveAsPoints","segmentCount","segments","remainingCurve","tIncrement","tRelative","splitCurve","commandStart","commandEnd","commandTokenRegex","typeMap","C","A","arrayOfLength","commandToString","convertToSameType","aCommand","bCommand","conversionMap","readFromBKeys","aConverted","bKey","bValue","aValue","splitSegment","copyCommand","commandsToExtend","referenceCommands","excludeSegment","numSegmentsToExtend","numReferenceSegments","segmentRatio","countPointsPerSegment","accum","insertIndex","addToPriorSegment","extended","lastCommandCopies","unshift","makeCommands","tokens","commands","commandArgs","interpolatePath","aCommands","bCommands","nullInterpolator","numPointsToExtend","interpolatedCommands","addZ","pathInterpolator","interpolatedCommand","arg","interpolatedString","polygon","lexicographicOrder","computeUpperHullIndexes","indexes","sortedPoints","flippedPoints","upperIndexes","lowerIndexes","skipLeft","skipRight","hull","inside","q1","q2","eps","dx2","dy2","denom","cross1","cross2","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","_arr","_n","_d","_e","_i","_s","done","err","_p","lineIntersection","segmentBoxContains","polyA","polyB","iA","nA","nB","bA","aA","iB","bB","aB","segmentsIntersect","polygonContains","poly","origin","_origin","_origin2","shiftedOrigin","idx","minSqDistLeft","MAX_VALUE","minSqDistRight","closestPointLeft","closestPointRight","sqDist","cosAlpha","sinAlpha","xshifted","yshifted","pointRotate","getSqSegDist","simplifyRadialDist","sqTolerance","prevPoint","len","simplifyDPStep","first","last","simplified","maxSqDist","simplifyDouglasPeucker","tolerance","highestQuality","aspectRatioStep","angleStep","polyCache","options","verbose","console","cache","maxAspectRatio","minAspectRatio","minHeight","minWidth","nTries","angles","aspectRatios","aspectRatio","origins","cacheString","polygonArea","_extent","extent","_extent2","minx","maxx","_extent3","_extent4","miny","maxy","simplify","_extent5","_extent6","_extent7","_extent8","boxWidth","boxHeight","widthStep","polygonCentroid","rndX","rndY","rndPoint","maxArea","maxRect","ai","angleRad","origOrigin","_polygonRayCast","polygonRayCast","_polygonRayCast2","p1W","p2W","_polygonRayCast3","_polygonRayCast4","p1H","p2H","modifOrigins","_i2","_polygonRayCast5","_polygonRayCast6","_p1W","_p2W","minSqDistW","_polygonRayCast7","_polygonRayCast8","_p1H","_p2H","minSqDistH","maxHeight","aRatios","aRatio","rectPoly","polygonRotate","insidePoly","polygonInside","areaFraction","_get","receiver","Reflect","_superPropBase","desc","getOwnPropertyDescriptor","Area","_Shape","largestRect","points1","points2","areas","xR","yR","exitPath","Bar","_getX","_getY","_getWidth","_getHeight","_applyPosition","Circle","_r","Rect","Line","calculateStrokeDashArray","initialLength","getTotalLength","strokeArray","newStrokeArray","strokeLength","initialStrokeArray","shapes","Whisker","_endpoint","_endpointConfig","_length","_lineConfig","_orient","orient","endpointX","endpointY","whiskerData","dataObj","endpoint","_whiskerEndpoint","shapeData","shapeName","endPoint","endpointConfig","lineConfig","Box","_medianConfig","_outlier","_outlierConfig","_rectConfig","_rectWidth","_whiskerConfig","_whiskerMode","outlierData","filteredData","median","third","mode","lowerLimit","upperLimit","rectLength","eachValue","outlier","_box","_median","topLength","bottomLength","topY","bottomY","topX","bottomX","_whisker","medianConfig","outlierConfig","rectConfig","rectWidth","whiskerConfig","whiskerMode","distance","shape","diagonal","_tan","segmentLength","regex","shapeEdgePoint","path2polygon","dayFormat","strFormat","_year","_date","_date2","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","iter","from","arr2","Axis","_align","_barConfig","_domain","_gridConfig","_gridLog","_labelOffset","_outerBounds","_paddingInner","_paddingOuter","_rotateLabels","_scalePadding","_shape","_tickSize","_tickSpecifier","_tickSuffix","_tickUnit","_timeLocale","_titleClass","_titleConfig","_barPosition","bar","_this$_position","_position","opposite","_getDomain","_margin","position","x1mod","_d3Scale","x2mod","_getPosition","_d3ScaleNegative","_getRange","_getTicks","tickScale","scales","negativeRange","positiveRange","_size","_gridPosition","_this$_position2","_lastScale","xDiff","xPos","_this$_outerBounds","timeLocale","timeFormatDefaultLocale","_this$_position3","horizontal","clipId","flip","rangeOuter","tickValue","tickGet","margin","setScale","newRange","_range","minRange","maxRange","sizeInner","buckets","d3Range","_buckets","scaleTicks","d3Ticks","_ticks","_labels","_buckets2","percentScale","leftPercentage","_min","pixels","_availableTicks","closest","_visibleTicks","calculateSpace","diff","prevPosition","textData","prevSpace","nextPosition","nextSpace","_tickFormat","suff","formatAbbreviate","_title","_this$_titleConfig","titleWrap","hBuff","wBuff","calculateLabelSize","_maxSize","res","_labelRotation","some","spillover","compPosition","halfSpace","spill","labelHeight","globalOffset","tBuff","_gridSize","grid","_grid","labelOnly","rotated","tickData","_tickConfig","td","labelOffset","labelWidth","yPos","tickConfig","dupe","barConfig","gridConfig","gridLog","gridSize","labelRotation","maxSize","opps","outerBounds","scalePadding","shapeConfig","tickSize","tickSpecifier","tickSuffix","title","titleConfig","AxisBottom","_Axis","AxisLeft","AxisRight","AxisTop","Adder","reset","temp","adder","bv","av","quarterPi","radians","haversin","streamGeometry","geometry","stream","streamGeometryType","streamObjectType","Feature","FeatureCollection","features","Sphere","sphere","Point","coordinates","MultiPoint","LineString","streamLine","MultiLineString","Polygon","streamPolygon","MultiPolygon","GeometryCollection","geometries","closed","coordinate","polygonStart","polygonEnd","areaRingSum","areaSum","lambda00","phi00","lambda0","cosPhi0","sinPhi0","areaStream","areaRingStart","areaRingEnd","areaRing","areaPointFirst","areaPoint","lambda","phi","dLambda","sdLambda","adLambda","cosPhi","sinPhi","spherical","cartesian","cartesianDot","cartesianCross","cartesianAddInPlace","cartesianScale","vector","cartesianNormalizeInPlace","phi0","lambda1","phi1","lambda2","deltaSum","ranges","boundsStream","boundsPoint","boundsLineStart","boundsLineEnd","boundsRingPoint","boundsRingStart","boundsRingEnd","linePoint","normal","equatorial","inflection","delta","lambdai","phii","antimeridian","rangeCompare","rangeContains","deltaMax","W0","W1","X0","Y0","Z0","X1","Y1","Z1","X2","Y2","Z2","z0","centroidStream","centroidPoint","centroidLineStart","centroidLineEnd","centroidRingStart","centroidRingEnd","centroidPointCartesian","centroidLinePointFirst","centroidLinePoint","centroidRingPointFirst","centroidRingPoint","cz","compose","rotationIdentity","rotateRadians","deltaLambda","deltaPhi","deltaGamma","rotationLambda","rotationPhiGamma","forwardRotationLambda","rotation","cosDeltaPhi","sinDeltaPhi","cosDeltaGamma","sinDeltaGamma","forward","circleStream","cosRadius","sinRadius","circleRadius","center","ring","rejoin","shift","Intersection","other","entry","compareIntersection","startInside","subject","clip","segment","pointEqual","isSubject","longitude","winding","point0","sinPhi1","cosPhi1","point1","absDelta","intersection","phiArc","pointVisible","clipLine","sink","ringBuffer","clipBuffer","ringSink","polygonStarted","pointRing","ringStart","ringEnd","clipRejoin","pointLine","clean","ringSegments","validSegment","clipAntimeridianLine","clipAntimeridianInterpolate","sign0","sign1","clipAntimeridianIntersect","sinLambda0Lambda1","to","cr","smallRadius","notHemisphere","visible","c0","v0","v00","point2","code","two","pb","n1","n2","n2n2","n1n2","determinant","n1xn2","B","uu","polar","meridian","clipMax","clipMin","clipRectangle","corner","comparePoint","cb","activeStream","bufferStream","x__","y__","v__","x_","y_","v_","clipStream","cleanInside","cacheStream","lengthSum","lengthStream","lengthLineStart","lengthPointFirst","lengthLineEnd","lengthPoint","cosDelta","sinDelta","containsObjectType","containsGeometry","containsGeometryType","containsPoint","containsLine","containsPolygon","ao","bo","ab","ringRadians","pointRadians","graticuleX","graticuleY","graticule","DX","DY","Y","outline","extentMinor","extentMajor","stepMinor","stepMajor","graticule10","sy0","sy1","kx0","ky0","kx1","ky1","centroidPointFirstLine","centroidPointLine","centroidPointFirstRing","centroidPointRing","PathContext","_radius","pointRadius","lengthRing","PathString","_string","_circle","projection","projectionStream","contextStream","pathArea","pathMeasure","pathBounds","pathCentroid","methods","TransformStream","fit","fitBounds","clipExtent","geoStream","fitExtent","fitSize","fitWidth","fitHeight","maxDepth","cosMinDistance","project","delta2","resample","resampleNone","resampleLineTo","phi2","dz","b00","c00","resampleStream","ringPoint","transformRadians","transformRotate","scaleTranslate","scaleTranslateRotate","ci","fi","projectionMutator","projectAt","theta","preclip","clipAntimeridian","postclip","projectResample","projectTransform","projectRotateTransform","clipAngle","clipCircle","recenter","conicProjection","parallels","cylindricalEqualAreaRaw","conicEqualAreaRaw","r0y","conicEqualArea","multiplex","streams","lower48","albers","lower48Point","alaska","alaskaPoint","hawaii","hawaiiPoint","pointStream","albersUsa","azimuthalRaw","azimuthalInvert","sc","cc","azimuthalEqualAreaRaw","cxcy","azimuthalEquidistantRaw","mercatorRaw","mercatorProjection","reclip","tany","conicConformalRaw","fy","equirectangularRaw","conicEquidistantRaw","gy","nx","A1","A2","A3","A4","iterations","equalEarthRaw","l2","l6","fpy","gnomonicRaw","tx","ty","sx","sy","reflectX","reflectY","naturalEarth1Raw","phi4","orthographicRaw","stereographicRaw","transverseMercatorRaw","zoomDelta","tile","LN2","tiles","cols","rows","topology","bbox","properties","transformPoint","json","headers","header","request","mimeType","xhr","XMLHttpRequest","user","password","response","responseType","XDomainRequest","onerror","ontimeout","respond","onreadystatechange","readyState","status","hasResponse","onprogress","send","post","open","setRequestHeader","overrideMimeType","fixCallback","abort","responseText","defaultMimeType","EOL","EOF","QUOTE","NEWLINE","RETURN","objectConverter","columns","Function","customConverter","row","inferColumns","columnSet","column","formatDate","hours","minutes","seconds","milliseconds","delimiter","reFormat","DELIMITER","convert","parseRows","N","I","eof","eol","token","preformatBody","formatValue","formatBody","formatRows","formatRow","csv","dsv","csvParse","tsv","tsvParse","responseOf","formatter","parser","fold","_cache","_lrucache","preventDefault","stopImmediatePropagation","view","noevent","__noselect","MozUserSelect","yesdrag","noclick","nopropagation","MODE_DRAG","MODE_SPACE","MODE_HANDLE","MODE_CENTER","number1","number2","toucher","handles","xy","XY","cursors","overlay","nw","ne","se","sw","flipX","flipY","signsX","signsY","defaultFilter","ctrlKey","button","defaultExtent","hasAttribute","viewBox","defaultTouchable","navigator","maxTouchPoints","__brush","brushX","brush","dim","touchable","listeners","handleSize","touchending","initialize","handle","redraw","started","touchmoved","touchended","move","emitter","beforestart","emit","selection0","selection1","Emitter","starting","BrushEvent","metaKey","altKey","signX","signY","n0","e0","e1","moving","shifting","shiftKey","lockX","lockY","pointer","moved","ended","keydowned","keyupped","dragDisable","dragEnable","keyCode","keyModifiers","noabort","Queue","_error","_tasks","_waiting","_ended","_start","queue","defer","results","maybeNotify","awaitAll","concurrency","ZoomEvent","Transform","applyX","applyY","invertX","invertY","rescaleX","rescaleY","__zoom","SVGElement","clientWidth","clientHeight","defaultTransform","defaultWheelDelta","deltaY","deltaMode","defaultConstrain","translateExtent","constrain","wheelDelta","scaleExtent","interpolateZoom","touchstarting","touchDelay","wheelDelay","clickDistance2","zoom","wheeled","mousedowned","dblclicked","touchstarted","collection","gesture","scaleBy","scaleTo","k0","k1","translateBy","translateTo","__zooming","Gesture","taps","touch0","touch1","wheel","wheelidled","mousemoved","mouseupped","l0","l1","dp","dl","clickDistance","module","this","undef","LRUCache","capacity","_LRUCacheState","CacheState","lruEntry","hash","refresh","linkedList","LRUEntry","parseFn","head","removeAll","info","staleKey","popStale","stale","MAX_SAFE_INTEGER","LinkedList","nextEntry","prevEntry","Button","_buttonStyle","_container","container","stylize","buttonStyle","Radio","_labelStyle","_legendStyle","_options","_radioStyle","radios","_checked","legend","_legend","labelStyle","legendStyle","radioStyle","Select","_optionStyle","_selectStyle","selected","_selected","optionStyle","selectStyle","numericSort","uniqueCountSorted","lastSeenValue","uniqueValueCount","makeMatrix","ssq","sumsOfSquares","sji","muji","fillMatrixColumn","iMin","iMax","cluster","backtrackMatrix","jlow","jhigh","sjlowi","ssqjlow","ssqj","fillMatrices","nValues","shiftedValue","nClusters","sorted","uniqueCount","clusterRight","clusters","clusterLeft","Legend","_direction","_lineData","_shapes","dd","shapeHeight","shapeWidth","shapeR","_rowWidth","prevWords","ld","_titleHeight","_fetchConfig","_rowHeight","availableHeight","_titleWidth","lh","og","spaceNeeded","availableWidth","newRows","_wrapLines","wrappable","_ret","_wrapRows","rowWidth","xOffset","yOffset","baseConfig","ColorScale","_axisClass","_axisConfig","_axisTest","_bucketAxis","_color","_legendClass","_legendConfig","_rectClass","colors","colorLighter","jenks","ckmeans","tickSet","_colorScale","scaleThreshold","scaleLinear","_this$_rectClass$data","axisConfig","axisBounds","groupOffset","axisScale","scaleRange","defs","defsEnter","stops","bucketWidth","legendConfig","middle","bucketAxis","Timeline","_buttonBehaviorCurrent","_brushing","_brushFilter","_buttonAlign","_buttonBehavior","_buttonPadding","_buttonHeight","_handleConfig","_handleSize","_selectionConfig","_ticksWidth","getTime","_snapping","_brushBrush","offsetX","_updateDomain","_brushGroup","_brush","_updateBrushLimit","_brushStyle","_selection","_brushEnd","_brushStart","timelineHeight","brushOverlay","brushSelection","brushHandle","yTransform","_marginLeft","diffs","single","buttonWidth","d3Scale","scaleTime","maxLabel","buttonMargin","marginRight","latest","buttonPadding","brushing","brushFilter","buttonAlign","buttonBehavior","buttonHeight","handleConfig","selectionConfig","snapping","isBrowser","longerTimeoutBrowsers","timeoutDuration","userAgent","microtaskDebounce","fn","called","then","taskDebounce","scheduled","supportsMicroTasks","debounce","isFunction","functionToCheck","getType","getStyleComputedProperty","nodeType","css","getParentNode","nodeName","host","getScrollParent","_getStyleComputedProp","overflowX","overflowY","isIE11","MSInputMethodContext","documentMode","isIE10","isIE","getOffsetParent","noOffsetParent","offsetParent","nextElementSibling","isOffsetContainer","firstElementChild","getRoot","findCommonOffsetParent","element1","element2","Node","DOCUMENT_POSITION_FOLLOWING","createRange","setStart","setEnd","commonAncestorContainer","element1root","getScroll","side","upperSide","scrollingElement","includeScroll","subtract","scrollTop","scrollLeft","modifier","getBordersSize","styles","axis","sideA","sideB","getSize","computedStyle","getWindowSizes","classCallCheck","createClass","defineProperties","_extends","getClientRect","offsets","horizScrollbar","offsetWidth","vertScrollbar","offsetHeight","getOffsetRectRelativeToArbitraryNode","fixedPosition","isHTML","childrenRect","parentRect","scrollParent","borderTopWidth","borderLeftWidth","marginTop","marginLeft","getViewportOffsetRectRelativeToArtbitraryNode","excludeScroll","relativeOffset","isFixed","getFixedPositionOffsetParent","parentElement","el","getBoundaries","popper","reference","boundariesElement","boundaries","boundariesNode","_getWindowSizes","isPaddingNumber","getArea","_ref","computeAutoPlacement","placement","refRect","rects","sortedAreas","filteredAreas","_ref2","computedPlacement","variation","getReferenceOffsets","commonOffsetParent","getOuterSizes","marginBottom","getOppositePlacement","matched","getPopperOffsets","referenceOffsets","popperRect","popperOffsets","isHoriz","mainSide","secondarySide","measurement","secondaryMeasurement","check","findIndex","cur","runModifiers","modifiers","ends","modifiersToRun","warn","enabled","isDestroyed","arrowStyles","attributes","flipped","positionFixed","originalPlacement","isCreated","onCreate","onUpdate","isModifierEnabled","modifierName","getSupportedPropertyName","upperProp","toCheck","destroy","willChange","disableEventListeners","removeOnDestroy","getWindow","attachToScrollParents","scrollParents","isBody","passive","setupEventListeners","updateBound","scrollElement","eventsEnabled","enableEventListeners","scheduleUpdate","removeEventListeners","cancelAnimationFrame","isNumeric","setStyles","setAttributes","applyStyle","arrowElement","applyStyleOnLoad","modifierOptions","getRoundedOffsets","shouldRound","_data$offsets","noRound","referenceWidth","popperWidth","isVertical","isVariation","sameWidthParity","bothOddWidth","horizontalToInteger","verticalToInteger","isFirefox","computeStyle","legacyGpuAccelerationOption","gpuAcceleration","offsetParentRect","devicePixelRatio","prefixedProperty","invertTop","invertLeft","arrow","isModifierRequired","requestingName","requestedName","requesting","isRequired","_requesting","requested","_data$offsets$arrow","sideCapitalized","altSide","opSide","arrowElementSize","popperMarginSide","popperBorderSide","sideValue","getOppositeVariation","placements","validPlacements","clockwise","counter","BEHAVIORS","FLIP","CLOCKWISE","COUNTERCLOCKWISE","placementOpposite","flipOrder","behavior","refOffsets","overlapsRef","overflowsLeft","overflowsRight","overflowsTop","overflowsBottom","overflowsBoundaries","flippedVariationByRef","flipVariations","flippedVariationByContent","flipVariationsByContent","flippedVariation","keepTogether","toValue","parseOffset","basePlacement","useHeight","fragments","frag","divider","search","splitRegex","ops","op","mergeWithPrevious","index2","preventOverflow","transformProp","popperStyles","primary","escapeWithReference","secondary","shiftvariation","shiftOffsets","hide","bound","inner","subtractLength","onLoad","Defaults","Popper","jquery","update$$1","destroy$$1","enableEventListeners$$1","disableEventListeners$$1","Utils","global","PopperUtils","Tooltip","_arrow","_arrowStyle","_background","_body","_bodyStyle","_border","_borderRadius","_className","_footer","_footerStyle","_offset","_popperClasses","_prefix","_tableStyle","_tbody","_tbodyStyle","_thead","_theadStyle","_titleStyle","_trStyle","tooltips","divElement","cat","div","cellContent","boxStyles","box","tableEnter","table","tableHead","th","tableBody","tr","trEnter","trUpdate","tooltip","getElementById","arrowHeight","arrowDistance","referenceObject","arrowStyle","background","bodyStyle","border","borderRadius","footer","footerStyle","tableStyle","tbody","tbodyStyle","thead","theadStyle","titleStyle","trStyle","Message","_isVisible","_ref$duration","mask","_ref2$container","_ref2$duration","_ref2$html","_ref2$mask","_ref2$style","_history","backGroup","_backClass","_backConfig","_colorScalePosition","wide","_colorScalePadding","_colorScaleMaxSize","showColorScale","scaleGroup","_colorScaleConfig","scaleData","_colorScaleClass","scaleBounds","require","exports","_dereq_","freeExports","freeModule","freeGlobal","punycode","maxInt","tMin","tMax","skew","damp","initialBias","initialN","regexPunycode","regexNonASCII","regexSeparators","errors","baseMinusTMin","stringFromCharCode","fromCharCode","RangeError","mapDomain","parts","encoded","ucs2decode","extra","ucs2encode","basicToDigit","codePoint","digitToBasic","digit","flag","adapt","numPoints","firstTime","decode","inputLength","bias","basic","oldi","baseMinusT","lastIndexOf","encode","handledCPCount","basicLength","currentValue","handledCPCountPlusOne","qMinusT","toUnicode","toASCII","restoreOwnerScroll","pageXOffset","pageYOffset","scrollTo","cloneCanvasContents","clonedCanvas","putImageData","getImageData","javascriptEnabled","createTextNode","nodeValue","_scrollTop","_scrollLeft","initNode","containerDocument","visibility","scrolling","documentClone","contentWindow","childNodes","scrollY","scrollX","write","replaceChild","adoptNode","close","fromArray","namedColor","hex6","hex3","darken","amount","isTransparent","isBlack","_hex3","_hex6","_rgb","_rgba","isColor","Support","CanvasRenderer","ImageLoader","NodeParser","NodeContainer","utils","createWindowClone","loadUrlDocument","getBounds","html2canvasNodeAttribute","html2canvasCloneIndex","html2canvas","nodeList","logging","async","allowTaint","removeContainer","imageTimeout","renderer","strict","proxy","absoluteUrl","renderWindow","renderDocument","onrendered","html2canvasExport","windowWidth","windowHeight","html2canvasIndex","attributeName","clonedWindow","oncloneHandler","onclone","support","imageLoader","documentWidth","documentHeight","ready","crop","cleanupContainer","croppedCanvas","scrollWidth","scrollHeight","href","smallImage","DummyImageContainer","promise","complete","Font","family","span","sampleText","baseline","offsetTop","lineWidth","FontMetrics","getMetrics","FrameContainer","sameOrigin","proxyLoad","URL","GradientContainer","colorStops","TYPES","LINEAR","RADIAL","REGEXP_COLORSTOP","ImageContainer","cors","tainted","ProxyImageContainer","SVGContainer","SVGNodeContainer","LinearGradientContainer","WebkitGradientContainer","getOrigin","findImages","imageNodes","addImage","loadImage","findBackgroundImage","parseBackgroundImages","hasImageBackground","newImage","imageExists","isSVG","isSameOrigin","useCORS","isInline","protocol","port","getPromise","dummy","found","fetch","all","race","hasDirection","REGEXP_DIRECTION","ratio","colorStop","colorStopMatch","logger","parseBackgrounds","offsetBounds","borders","backgroundClip","computedStyles","backgroundImages","transformData","transformMatrix","isPseudoElement","cloneTo","getOpacity","cssFloat","assignStack","isElementVisible","TEXT_NODE","attribute","prefixedCss","cssInt","weight","parseClip","CLIP","cssList","isPercentage","parseBackgroundSize","targetRatio","currentRatio","parseBackgroundPosition","backgroundSize","parseBackgroundRepeat","parseTextShadows","textShadow","shadows","TEXT_SHADOW_PROPERTY","TEXT_SHADOW_VALUES","offsetY","blur","parseTransform","hasTransform","parseBounds","removePx","asFloat","parseTransformMatrix","parseMatrix","MATRIX_PROPERTY","getValue","selectionValue","placeholder","option","selectedIndex","matrix3d","TextContainer","PseudoElementContainer","StackingContext","renderQueue","rectangle","canvasBackground","visibile","createPseudoHideStyles","disableAnimations","flatten","getChildren","getPseudoElements","fontMetrics","calculateOverflowClips","isElement","createStackingContexts","sortStackingContexts","paint","renderIndex","asyncRenderer","appendToDOM","parseBorders","cssClip","hasParentClip","cleanDOM","isTextNode","asyncTimer","createStyles","PSEUDO_HIDE_ELEMENT_CLASS_BEFORE","PSEUDO_HIDE_ELEMENT_CLASS_AFTER","hidePseudoElements","ELEMENT_NODE","getPseudoElement","after","toCamelCase","content","display","stripQuotes","isImage","pseudoNode","pseudoContainer","parentContainer","renderableNode","nonIgnoredElement","newStackingContext","hasOwnStacking","parentStack","getParentStack","contexts","isRootElement","hasOpacity","isPositionedForStacking","isBodyWithTransparentRoot","isPositioned","zIndex0","isInlineBlock","isFloating","zIndexSort","parseTextBounds","textList","rangeBounds","getRangeBounds","replacementNode","splitText","getWrapperBounds","backupText","ClearTransform","negativeZindex","negativeZIndex","descendantElements","descendantNonFloats","not","nonInlineNonPositionedDescendants","inlineLevel","nonPositionedFloats","inFlow","stackLevel0","hasText","positiveZindex","positiveZIndex","isStackingContext","ctx","restore","paintText","paintNode","setOpacity","save","setTransform","paintCheckbox","paintRadio","paintElement","renderBackground","getWidth","renderBorders","imgContainer","renderImage","imageContainer","paintFormValue","borderPoints","calculateCurvePoints","calculateBorders","circleStroke","message","applyTextTransform","characters","ucs2","letterRendering","noLetterSpacing","hasUnicode","getWords","character","fontShadow","clearShadow","renderTextDecoration","metrics","borderColorTransforms","inset","nodeBounds","getBorderRadiusData","colorTransform","parseBackgroundClip","borderSide","bw","bh","drawSide","c3","c4","topLeftOuter","topLeftInner","topRightOuter","topRightInner","bottomRightOuter","bottomRightInner","bottomLeftOuter","bottomLeftInner","borderArgs","parseCorner","getCurvePoints","r2","kappa","xm","ym","topLeft","bezierCurve","topRight","bottomRight","bottomLeft","tlh","tlv","trh","trv","brh","brv","blh","blv","topWidth","rightHeight","bottomWidth","leftHeight","subdivide","startControl","endControl","lerp","bc","cd","abbc","bccd","dest","curveTo","curveToReversed","borderData","radius1","radius2","outer1","inner1","outer2","inner2","corner1","corner2","asInt","zIndex","nodeContainer","onWordBoundary","isWordBoundary","characterCode","XHR","decode64","Proxy","proxyUrl","supportsCORS","createCallback","createProxyUrl","jsonp","proxyCount","ProxyURL","supportsCORSImage","cleanup","encodeURIComponent","documentFromHTML","implementation","createHTMLDocument","ee","getHideClass","Renderer","paddingLeft","paddingTop","paddingRight","paddingBottom","renderBackgroundColor","renderBackgroundImage","renderBorder","drawShape","renderBackgroundRepeating","gradientImage","renderBackgroundGradient","repeat","backgroundRepeatShape","renderBackgroundRepeat","taintCtx","textBaseline","variables","setFillStyle","fillStyle","fillRect","beginPath","strokeColor","strokeStyle","taints","sh","dw","dh","hasEntries","variant","setVariable","globalAlpha","fillText","backgroundPosition","borderLeft","borderTop","createPattern","resizeImage","gradient","createLinearGradient","addColorStop","ownStacking","testRangeBounds","testCORS","testSVG","testElement","rangeHeight","selectNode","hasFabric","inlineFormatting","fabric","loadSVGFromString","createCanvas","removeContentType","StaticCanvas","lowerCanvasEl","setWidth","setHeight","util","groupSVGElements","renderAll","atob","_native","XMLSerializer","serializeToString","parseSVGDocument","capitalize","base64","chars","encoded1","encoded2","encoded3","encoded4","byte1","byte2","byte3","clientRect","offsetLeft","whitespace","prefix_i","block","numParen","quote","appendResult","statusText","color_string","ok","simple_colors","feldspar","lightslateblue","violetred","color_defs","example","process","bits","processor","toRGB","toRGBA","toHex","getHelpXML","examples","list_item","list_color","RGBColor","example_div","cssText","list_item_value","mul_table","shg_table","yi","yw","r_sum","g_sum","b_sum","a_sum","r_out_sum","g_out_sum","b_out_sum","a_out_sum","r_in_sum","g_in_sum","b_in_sum","a_in_sum","pr","pg","rbs","widthMinus1","heightMinus1","radiusPlus1","sumFactor","stackStart","BlurStack","stackEnd","stackIn","stackOut","mul_sum","shg_sum","nameStartChar","nameChar","tagNamePattern","S_TAG","S_ATTR","S_ATTR_SPACE","S_EQ","S_ATTR_NOQUOT_VALUE","S_ATTR_END","S_TAG_SPACE","S_TAG_CLOSE","XMLReader","defaultNSMap","entityMap","domBuilder","startDocument","_copy","errorHandler","endDocument","defaultNSMapCopy","fixedFromCharCode","surrogate1","surrogate2","entityReplacer","appendText","xt","locator","linePattern","lineNumber","columnNumber","parseStack","currentNSMap","closeMap","tagStart","currentElement","localNSMap","endMatch","endIgnoreCaseMach","endElement","localName","endPrefixMapping","fatalError","parseInstruction","parseDCC","ElementAttributes","parseElementStartPart","fixSelfClosed","nbsp","warning","locator2","copyLocator","appendElement","parseHtmlSpecialContent","attrName","setTagName","qName","nsp","nsPrefix","startPrefixMapping","ns","startElement","elStartEnd","elEndStart","pos","comment","startCDATA","endCDATA","matchs","pubid","sysid","lastMatch","startDTD","endDTD","processingInstruction","getLocalName","getLocator","getQName","getURI","_set_proto_","thiz","buf","reg","Class","Super","ppt","htmlns","NodeType","ATTRIBUTE_NODE","CDATA_SECTION_NODE","ENTITY_REFERENCE_NODE","ENTITY_NODE","PROCESSING_INSTRUCTION_NODE","COMMENT_NODE","DOCUMENT_NODE","DOCUMENT_TYPE_NODE","DOCUMENT_FRAGMENT_NODE","NOTATION_NODE","ExceptionCode","ExceptionMessage","INDEX_SIZE_ERR","DOMSTRING_SIZE_ERR","HIERARCHY_REQUEST_ERR","WRONG_DOCUMENT_ERR","INVALID_CHARACTER_ERR","NO_DATA_ALLOWED_ERR","NO_MODIFICATION_ALLOWED_ERR","NOT_FOUND_ERR","NOT_SUPPORTED_ERR","INUSE_ATTRIBUTE_ERR","INVALID_STATE_ERR","SYNTAX_ERR","INVALID_MODIFICATION_ERR","NAMESPACE_ERR","INVALID_ACCESS_ERR","DOMException","captureStackTrace","NodeList","nodeFilter","LiveNodeList","_refresh","_updateLiveList","inc","_inc","ls","__set__","NamedNodeMap","_findNodeIndex","_addNamedNode","newAttr","oldAttr","ownerElement","_onRemoveAttribute","_onAddAttribute","_removeNamedNode","getNamedItem","setNamedItem","_ownerElement","setNamedItemNS","getNamedItemNS","removeNamedItem","removeNamedItemNS","DOMImplementation","_features","hasFeature","versions","createDocument","qualifiedName","doctype","Document","createDocumentType","publicId","systemId","DocumentType","lastChild","newChild","refChild","_insertBefore","oldChild","_removeChild","hasChildNodes","appendData","isSupported","hasAttributes","lookupPrefix","_nsMap","lookupNamespaceURI","isDefaultNamespace","_xmlEncoder","_visitNode","_onUpdateChild","cs","nextChild","cp","newFirst","newLast","pre","_appendSingleChild","importNode","importedNode","rtv","attrs","createDocumentFragment","DocumentFragment","Text","createComment","Comment","createCDATASection","CDATASection","createProcessingInstruction","ProcessingInstruction","createAttribute","Attr","specified","createEntityReference","EntityReference","pl","createAttributeNS","getAttributeNode","setAttributeNode","removeAttributeNode","setAttributeNodeNS","old","getAttributeNodeNS","hasAttributeNS","getElementsByTagName","getElementsByTagNameNS","CharacterData","substringData","insertData","replaceData","deleteData","newText","newNode","Notation","Entity","isHtml","nodeSerializeToString","refNode","visibleNamespaces","needNamespaceDefine","startVisibleNamespaces","sub","internalSubset","node2","attrs2","getTextContent","$$length","sax","DOMHandler","setDocumentLocator","buildErrorHandler","errorImpl","isCallback","build","msg","_locator","cdata","documentURI","ins","ignorableWhitespace","ch","_toString","charNode","skippedEntity","comm","impl","dt","java","lang","hander","require$$0","require$$1","canvg","opts","svgTags","svgTag","loadXmlDoc","loadXml","load","getMatchesSelector","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","jQuery","Zepto","$","is","Sizzle","getSelectorSpecificity","typeCount","attributeRegex","idRegex","classRegex","pseudoElementRegex","pseudoClassWithBracketsRegex","pseudoClassRegex","elementRegex","findMatch","CanvasRenderingContext2D","drawSvg","cOpts","ignoreMouse","ignoreAnimation","ignoreDimensions","ignoreClear","scaleWidth","scaleHeight","FRAMERATE","MAX_VIRTUAL_PIXELS","uniqueId","UniqueId","Definitions","Styles","StylesSpecificity","Animations","Images","ViewPort","viewPorts","Clear","SetCurrent","RemoveCurrent","Current","ComputeSize","ImagesLoaded","loaded","compressSpaces","ajax","AJAX","ActiveXObject","parseXml","Windows","Data","Xml","xmlDoc","Dom","XmlDocument","settings","XmlLoadSettings","prohibitDtd","loadXML","Property","hasValue","numValue","valueOrDefault","numValueOrDefault","addOpacity","opacityProp","newValue","getDefinition","isUrlDefinition","getFillStyleDefinition","createGradient","getHrefAttribute","getDPI","viewPort","getEM","Parse","toPixels","getUnits","processPercent","toMilliseconds","toRadians","textBaselineMapping","toTextBaseline","Variants","Weights","CreateFont","fontStyle","fontVariant","ff","ToNumberArray","angleTo","applyTransform","xp","CreatePoint","CreatePath","BoundingBox","addPoint","addX","addY","addBoundingBox","bb","addQuadraticCurve","p0x","p0y","p1x","p1y","p2x","p2y","cp1x","cp1y","cp2x","cp2y","addBezierCurve","p3x","p3y","b2ac","isPointInBox","Type","unapply","applyToPoint","det","SkewBase","skewY","transforms","transformType","AspectRatio","desiredWidth","desiredHeight","minX","minY","refX","refY","meetOrSlice","scaleMin","scaleMax","EmptyProperty","ElementBase","stylesSpecificity","createIfNotExists","skipAncestors","ps","setContext","renderChildren","clearContext","addChild","childNode","CreateElement","addStylesFromStyleDefinition","specificity","existingSpecificity","captureTextNodes","tspan","RenderedElementBase","fs","newLineWidth","lineCap","lineJoin","miterLimit","gaps","setLineDash","webkitLineDash","mozDash","lineDashOffset","webkitLineDashOffset","mozDashOffset","PathElementBase","Mouse","checkPath","markers","getMarkers","marker","getBoundingBox","baseClearContext","baseSetContext","ellipse","KAPPA","getPoints","polyline","basePath","PathParser","previousCommand","control","isEnd","isCommandOrEnd","isRelativeCommand","getToken","getScalar","nextCommand","getPoint","makeAbsolute","getAsControlPoint","getAsCurrentPoint","getReflectedControlPoint","addMarker","priorTo","addMarkerAngle","getMarkerPoints","getMarkerAngles","pp","newP","cntrl","xAxisRotation","largeArcFlag","sweepFlag","currp","cpp","centp","ad","dir","ah","halfWay","pattern","tempSvg","cctx","baseRender","GradientBase","getGradient","gradientUnits","attributesToInherit","inheritStopContainer","stopsContainer","attributeToInherit","parentOpacityProp","addParentOpacity","rootView","tempCtx","linearGradient","radialGradient","fx","createRadialGradient","stopColor","AnimateBase","begin","maxDuration","getProperty","attributeType","initialValue","initialUnits","removed","calcValue","frozen","animationFrozen","animationFrozenValue","updated","progress","lb","ub","animate","animateColor","animateTransform","horizAdvX","isRTL","isArabic","fontFace","missingGlyph","glyphs","arabicForm","unicode","fontface","ascent","descent","unitsPerEm","missingglyph","glyph","getText","getAnchorDelta","renderChild","startI","measureTextRecursive","textParent","TextElementBase","getGlyph","customFont","lw","strokeText","textToMeasure","tref","baseRenderChildren","checkBoundingBox","onclick","onmousemove","isSvg","cssDefs","cssDef","cssClasses","cssProps","cssClass","srcs","urlStart","urlEnd","fonts","use","oldParent","cMask","maskCtx","globalCompositeOperation","clipPath","oldBeginPath","oldClosePath","efd","extraFilterDistance","feMorphology","feComposite","feColorMatrix","m3","imGet","imSet","mi","srcData","clearRect","feGaussianBlur","blurRadius","stackblur","canvasRGBA","MISSING","dom","mapXY","isFirstRender","cWidth","cHeight","xRatio","yRatio","waitingForImages","intervalID","needUpdate","hasEvents","runEvents","run","eventElements","isPointInPath","transparent","letterSpacing","defaultOptions","exclude","canvgOptions","_translate$1$replace$","_translate$1$replace$2","IE","layerX","layerY","layers","checkRender","trans","_tag","_this$getBoundingClie","wholeText","_elem","svgPresets","canvas2","ctx2","himg","tempCanvas","tempContext","htmlPresets","_elem2","_parseTransform","_parseTransform2","checkChildren","_elem3","_parseTransform3","_parseTransform4","defFill","defTag","_parseTransform5","_parseTransform6","_scale2","checkStatus","allDone","finish","_i3","layer","outer","outerHTML","Uint8Array","HTMLCanvasElement","canvas_proto","is_base64_regex","to_data_url","base64_ranks","decode_base64","outptr","rank","toBlob","toBlobHD","mozGetAsFile","msToBlob","dataURI","header_end","is_base64","blob","Blob","fake","encoding","decodeURIComponent","toDataURLHD","saveAs","get_URL","webkitURL","save_link","can_use_save_link","click","MouseEvent","is_safari","HTMLElement","safari","is_chrome_ios","throw_outside","ex","setImmediate","force_saveable_type","arbitrary_revoke_timeout","revoke","file","revoker","revokeObjectURL","filesaver","event_types","auto_bom","FileSaver","no_auto_bom","force","object_url","dispatch_all","fs_error","FileReader","reader","onloadend","popup","DONE","readAsDataURL","INIT","createObjectURL","opened","download","FS_proto","msSaveOrOpenBlob","WRITING","onwritestart","onwrite","onabort","onwriteend","filename","renderOptions","dom2canvas","formTypes","_controlPadding","controls","_controls","_downloadButton","_downloadPosition","_detectResize","detectResize","saveElement","_downloadConfig","foreign","_loop2","_loop3","_controlCache","_controlConfig","legendLabel","_drawLabel","legendBounds","_legendPosition","_legendPadding","legendGroup","legendData","leaves","_aggs","_legendSort","hidden","_hidden","_solo","_legendCutoff","_hiddenColor","_hiddenOpacity","setTimeFilter","_timelineSelection","timeFilter","ms","timelinePossible","_timeline","_timelinePadding","timelineGroup","timeline","_timelineClass","_timelineConfig","_titlePadding","getBBox","total","_total","_totalPadding","_totalClass","_totalFormat","_totalConfig","_elementSize","_val","pageX","pageY","_drawDepth","_groupBy","filterGroup","filterId","_tooltip","_tooltipClass","_depth","_filter","hiddenIndex","soloIndex","flattenIds","levels","level","oldArray","filterIds","_ids","ids","tooltipData","tooltipDatum","_tooltipConfig","_legendTooltip","stopPropagation","_zoomGroup","_zoomHeight","_zoomWidth","_zoomBehavior","_zoomMax","zoomed","_zoomToBounds","zoomToBounds","_zoom","controlEnter","zoomMath","_zoomFactor","_zoomControlStyle","_zoomControlStyleActive","zoomEvents","_zoomControlStyleHover","_zoomBrush","_zoomBrushHandleSize","brushStart","brushBrush","brushEnd","brushGroup","_renderTiles","zoomTransform","_zoomScroll","_zoomPan","factor","translate0","_this$_zoomBehavior$t","xMod","yMod","_zoomPadding","brushStyle","_zoomBrushSelectionStyle","_zoomBrushHandleStyle","defaultPadding","listify","Viz","controlTest","_dataCutoff","_detectResizeDelay","_detectVisible","_detectVisibleInterval","localeCompare","_loadingHTML","_loadingMessage","lrucache","_messageClass","_messageMask","_messageStyle","_noDataHTML","_noDataMessage","clickShape","clickLegend","mousemoveShape","mousemoveLegend","_queue","_scrollContainer","_c","colorAssign","_svgDesc","_svgTitle","_threshold","_thresholdKey","_thresholdName","_preDraw","_isAggregation","ll","_timeFilter","dates","_discrete","latestTime","_filteredData","_legendData","flatData","dataNest","tree","_thresholdFunction","uniqueIds","_userHover","_userDuration","_draw","drawLegend","drawColorScale","drawBack","drawTitle","drawTotal","drawTimeline","drawControls","setSVGSize","_getSize","_getSize2","_autoWidth","_autoHeight","inViewport","svgTitle","svgTitleEnter","svgDesc","svgDescEnter","_visiblePoll","_resizePoll","_scrollPoll","svgTable","svgTableEnter","cells","zoomControls","touchstartBody","backConfig","colorScale","colorScaleConfig","colorScalePadding","colorScalePosition","colorScaleMaxSize","controlConfig","controlPadding","dataCutoff","detectResizeDelay","detectVisible","detectVisibleInterval","discrete","downloadButton","downloadConfig","downloadPosition","groupBy","hiddenColor","hiddenOpacity","hoverFunction","arrayMerge","activeData","activeIds","legendCutoff","legendTooltip","legendPadding","legendPosition","legendSort","loadingHTML","loadingMessage","messageMask","messageStyle","noDataHTML","noDataMessage","scrollContainer","thresholdKey","thresholdName","timelineConfig","timelinePadding","titlePadding","tooltipConfig","totalConfig","totalFormat","totalPadding","zoomBrushHandleSize","zoomBrushHandleStyle","zoomBrushSelectionStyle","zoomControlStyle","zoomControlStyleActive","zoomControlStyleHover","zoomFactor","zoomMax","zoomPan","zoomPadding","zoomScroll","topo2feature","topo","Geomap","_Viz","_fitObject","_ocean","_pointSize","_pointSizeMax","_pointSizeMin","_pointSizeScale","_projection","d3Geo","_projectionPadding","validColorScale","_coordData","_topojsonFill","_tiles","_tileGen","_tileUrl","_topojson","_topojsonFilter","_topojsonId","_zoomSet","tileData","_tileGroup","ocean","pathGroup","coordData","_topojsonKey","pointData","pathData","topoData","fitData","_fitKey","_extentBounds","_fitFilter","reduced","distances","distCutoff","dist","pointGroup","circles","classEvents","globalEvents","shapeEvents","_e2","fitFilter","fitKey","fitObject","pointSize","pointSizeMax","pointSizeMin","projectionPadding","tileUrl","topojson","topojsonFill","topojsonFilter","topojsonKey","topojsonId","Pie","_pieData","_innerRadius","_padPixel","_pie","pieData","_padAngle","arcData","padPixel","Donut","_Pie","eachAfter","eachBefore","ancestor","leastCommonAncestor","aNodes","ancestors","bNodes","links","hierarchy","valued","childs","defaultChildren","computeHeight","node_copy","copyData","node_count","node_each","node_eachAfter","node_eachBefore","node_sum","node_sort","node_path","node_ancestors","descendants","node_descendants","node_leaves","node_links","shuffle","enclosesWeak","encloseBasis","extendBasis","enclosesWeakAll","enclosesNot","encloseBasis2","encloseBasis3","dr","encloseBasis1","r21","r3","a2","a3","b2","b3","d3","place","intersects","score","packEnclose","aa","sj","pack","enclose","optional","required","constantZero","defaultRadius","radiusLeaf","packChildren","translateChild","defaultSeparation","nextLeft","nextRight","moveSubtree","wm","wp","change","executeShifts","nextAncestor","vim","TreeNode","treeRoot","separation","nodeSize","firstWalk","secondWalk","sizeNode","siblings","midpoint","apportion","vip","vop","vom","sip","sop","sim","som","squarifyRatio","sumValue","minValue","maxValue","newRatio","minRatio","dice","treemapDice","treemapSlice","squarify","paddingStack","treemap","positionNode","roundNode","recursionCircles","Pack","_layoutPadding","defaultMouseMoveLegend","hoverData","defaultMouseMoveShape","__d3plusTooltip__","_pack","_packOpacity","__d3plusOpacity__","_sum","diameter","nestedData","packData","layoutPadding","packOpacity","bubble","Tree","_separation","_treeData","_tree","treeData","flattenBranchData","branch","rBufferRoot","rBufferEnd","yExtent","_labelHeight","_labelWidths","yScale","elemObject","Treemap","_rankData","aggA","isAggregated","aggB","_tile","treemapSquarify","share","_treemap","leaf","tmapData","extractLayout","drawDepth","finalDataset","totalSum","thresholdByDepth","currentDataset","currentAccesor","nextDataset","removedItems","thresholdPercent","thresholdValue","mergedItem","_n2","cover","_root","addAll","xz","yz","visit","quads","Quad","retainer","defaultX","defaultY","quadtree","Quadtree","leaf_copy","treeProto","tree_add","tree_addAll","tree_cover","tree_data","tree_extent","tree_find","tree_remove","tree_removeAll","tree_root","tree_size","tree_visit","visitAfter","tree_visitAfter","tree_x","tree_y","nodeById","nodeId","strength","defaultStrength","strengths","vx","jiggle","vy","initializeStrength","initializeDistance","initialRadius","initialAngle","simulation","alphaMin","alphaDecay","alphaTarget","velocityDecay","forces","stepper","initializeNodes","initializeForce","distanceMin2","distanceMax2","theta2","accumulate","quad","distanceMin","distanceMax","Network","_links","_linkSize","_linkSizeMin","_linkSizeScale","_nodes","_nodeGroupBy","_focus","_linkLookup","_nodeLookup","xDomain","yDomain","myIds","defaultMouseMove","_sizeMin","_sizeScale","validSize","labelPadding","nodeLookup","nodeIndices","referenceType","missingCoords","linkStrength","forceSimulation","forceLink","forceManyBody","polygonHull","_shapes$largestRect","xExtent","nodeRatio","screenRatio","rExtent","rMax","_sizeMax","xOldSize","yOldSize","xNewSize","yNewSize","strokeExtent","strokeScale","linkConfig","linkSize","linkSizeMin","linkSizeScale","nodeGroupBy","sizeMax","sizeMin","sizeScale","mean","Rings","_center","nodeIds","edge","linkMap","edges","ringWidth","primaryRing","secondaryRing","claimed","primaries","secondaries","totalEndNodes","primaryId","claim","primaryDistance","secondaryDistance","primaryMax","secondaryMax","radiusFn","spline","centerX","centerY","middleRing","_check","oppId","sourceX","sourceY","sourceBisectX","sourceBisectY","targetBisectX","targetBisectY","targetX","targetY","colorLegible","targetDepth","justify","sourceLinks","targetLinks","ascendingSourceBreadth","ascendingBreadth","ascendingTargetBreadth","nodeCenter","weightedSource","weightedTarget","defaultId","defaultNodes","graph","defaultLinks","sankey","computeNodeLinks","computeNodeValues","computeNodeDepths","computeNodeBreadths","computeLinkBreadths","nodeAlign","nodeWidth","nodePadding","initializeNodeBreadth","resolveCollisions","relaxRightToLeft","relaxLeftToRight","horizontalSource","horizontalTarget","sankeyAligns","sankeyCenter","sankeyJustify","sankeyLeft","sankeyRight","Sankey","_nodeId","_linksSource","_linksTarget","_nodeAlign","_nodePadding","_nodeWidth","sankeyLinkHorizontal","_sankey","linkLookup","linksSource","linksTarget","_ref$buffer","xKey","yKey","oppScale","oppDomain","isDiscreteX","negVals","posVals","_stacked","groupedData","bMax","bMin","discreteBuffer","xD","yD","_v2","_v3","vals","defaultSize","_sizeScaleD3","stackOrderAscending","stackSum","d3Shape","stackOrderDescending","Plot","_annotations","_backgroundConfig","_barPadding","_buffer","BarBuffer","BoxBuffer","CircleBuffer","LineBuffer","RectBuffer","_confidenceConfig","_discreteCutoff","_groupPadding","ariaLabelStr","_shapeOrder","_shapeSort","_stackOffset","_stackOrder","_xAxis","_xTest","_xConfig","_xCutoff","_x2Axis","_x2Test","_x2Config","_yAxis","_yTest","_yConfig","_yCutoff","_y2Axis","_y2Test","_y2Config","stackGroup","hci","_confidence","lci","_formattedData","x2Exists","y2Exists","opp","opp2","x2Time","xTime","y2Time","yTime","discreteKeys","domains","stackData","stackKeys","_domains","groupValues","_fillerPoint","fillerPoint","xData","x2Data","yData","y2Data","_xSort","_x2Sort","_ySort","_y2Sort","_xDomain","xScale","x2Domain","_x2Domain","x2Scale","_yDomain","y2Domain","_y2Domain","y2Scale","_d2","_baseline","res2","defaultConfig","defaultX2Config","defaultY2Config","showX","showY","yC","_d$labelBounds","yTicks","testGroup","x2Ticks","xTicks","y2Ticks","yBounds","yWidth","y2Bounds","y2Width","xC","_d$labelBounds2","xTestRange","x2TestRange","x2Bounds","x2Height","xOffsetLeft","topOffset","xOffsetRight","xBounds","xHeight","horizontalMargin","verticalMargin","yRange","xRange","rectGroup","x2Transform","xGroup","x2Group","xTrans","yGroup","y2Transform","y2Group","annotationGroup","annotation","dataIndex","discreteIndex","scaleType","barSize","areaConfig","scaleFunction","confidenceConfig","userConfig","annotations","backgroundConfig","barPadding","confidence","upper","discreteCutoff","groupPadding","shapeSort","stacked","stackOffset","stackOrder","xConfig","xCutoff","x2Config","xSort","x2Sort","yConfig","yCutoff","y2Config","ySort","y2Sort","AreaPlot","_Plot","BarChart","LinePlot","StackedArea","_AreaPlot","Priestley","_axis","_end","maxLane","track","lane","axisPad","scalePoint"],"mappings":"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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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"}